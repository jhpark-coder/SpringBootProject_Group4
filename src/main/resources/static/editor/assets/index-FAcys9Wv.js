(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var fg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function qE(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var s0={exports:{}},Ih={},a0={exports:{}},an={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eb;function i_(){if(Eb)return an;Eb=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function w(H){return H===null||typeof H!="object"?null:(H=v&&H[v]||H["@@iterator"],typeof H=="function"?H:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,C={};function k(H,ce,Te){this.props=H,this.context=ce,this.refs=C,this.updater=Te||x}k.prototype.isReactComponent={},k.prototype.setState=function(H,ce){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ce,"setState")},k.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function S(){}S.prototype=k.prototype;function R(H,ce,Te){this.props=H,this.context=ce,this.refs=C,this.updater=Te||x}var N=R.prototype=new S;N.constructor=R,E(N,k.prototype),N.isPureReactComponent=!0;var T=Array.isArray,D=Object.prototype.hasOwnProperty,_={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function z(H,ce,Te){var $e,Ve={},Qe=null,ut=null;if(ce!=null)for($e in ce.ref!==void 0&&(ut=ce.ref),ce.key!==void 0&&(Qe=""+ce.key),ce)D.call(ce,$e)&&!L.hasOwnProperty($e)&&(Ve[$e]=ce[$e]);var ke=arguments.length-2;if(ke===1)Ve.children=Te;else if(1<ke){for(var Be=Array(ke),qe=0;qe<ke;qe++)Be[qe]=arguments[qe+2];Ve.children=Be}if(H&&H.defaultProps)for($e in ke=H.defaultProps,ke)Ve[$e]===void 0&&(Ve[$e]=ke[$e]);return{$$typeof:n,type:H,key:Qe,ref:ut,props:Ve,_owner:_.current}}function W(H,ce){return{$$typeof:n,type:H.type,key:ce,ref:H.ref,props:H.props,_owner:H._owner}}function se(H){return typeof H=="object"&&H!==null&&H.$$typeof===n}function xe(H){var ce={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(Te){return ce[Te]})}var ye=/\/+/g;function Ce(H,ce){return typeof H=="object"&&H!==null&&H.key!=null?xe(""+H.key):ce.toString(36)}function Ee(H,ce,Te,$e,Ve){var Qe=typeof H;(Qe==="undefined"||Qe==="boolean")&&(H=null);var ut=!1;if(H===null)ut=!0;else switch(Qe){case"string":case"number":ut=!0;break;case"object":switch(H.$$typeof){case n:case e:ut=!0}}if(ut)return ut=H,Ve=Ve(ut),H=$e===""?"."+Ce(ut,0):$e,T(Ve)?(Te="",H!=null&&(Te=H.replace(ye,"$&/")+"/"),Ee(Ve,ce,Te,"",function(qe){return qe})):Ve!=null&&(se(Ve)&&(Ve=W(Ve,Te+(!Ve.key||ut&&ut.key===Ve.key?"":(""+Ve.key).replace(ye,"$&/")+"/")+H)),ce.push(Ve)),1;if(ut=0,$e=$e===""?".":$e+":",T(H))for(var ke=0;ke<H.length;ke++){Qe=H[ke];var Be=$e+Ce(Qe,ke);ut+=Ee(Qe,ce,Te,Be,Ve)}else if(Be=w(H),typeof Be=="function")for(H=Be.call(H),ke=0;!(Qe=H.next()).done;)Qe=Qe.value,Be=$e+Ce(Qe,ke++),ut+=Ee(Qe,ce,Te,Be,Ve);else if(Qe==="object")throw ce=String(H),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.");return ut}function ue(H,ce,Te){if(H==null)return H;var $e=[],Ve=0;return Ee(H,$e,"","",function(Qe){return ce.call(Te,Qe,Ve++)}),$e}function de(H){if(H._status===-1){var ce=H._result;ce=ce(),ce.then(function(Te){(H._status===0||H._status===-1)&&(H._status=1,H._result=Te)},function(Te){(H._status===0||H._status===-1)&&(H._status=2,H._result=Te)}),H._status===-1&&(H._status=0,H._result=ce)}if(H._status===1)return H._result.default;throw H._result}var V={current:null},F={transition:null},pe={ReactCurrentDispatcher:V,ReactCurrentBatchConfig:F,ReactCurrentOwner:_};function he(){throw Error("act(...) is not supported in production builds of React.")}return an.Children={map:ue,forEach:function(H,ce,Te){ue(H,function(){ce.apply(this,arguments)},Te)},count:function(H){var ce=0;return ue(H,function(){ce++}),ce},toArray:function(H){return ue(H,function(ce){return ce})||[]},only:function(H){if(!se(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},an.Component=k,an.Fragment=t,an.Profiler=i,an.PureComponent=R,an.StrictMode=r,an.Suspense=f,an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,an.act=he,an.cloneElement=function(H,ce,Te){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var $e=E({},H.props),Ve=H.key,Qe=H.ref,ut=H._owner;if(ce!=null){if(ce.ref!==void 0&&(Qe=ce.ref,ut=_.current),ce.key!==void 0&&(Ve=""+ce.key),H.type&&H.type.defaultProps)var ke=H.type.defaultProps;for(Be in ce)D.call(ce,Be)&&!L.hasOwnProperty(Be)&&($e[Be]=ce[Be]===void 0&&ke!==void 0?ke[Be]:ce[Be])}var Be=arguments.length-2;if(Be===1)$e.children=Te;else if(1<Be){ke=Array(Be);for(var qe=0;qe<Be;qe++)ke[qe]=arguments[qe+2];$e.children=ke}return{$$typeof:n,type:H.type,key:Ve,ref:Qe,props:$e,_owner:ut}},an.createContext=function(H){return H={$$typeof:a,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:o,_context:H},H.Consumer=H},an.createElement=z,an.createFactory=function(H){var ce=z.bind(null,H);return ce.type=H,ce},an.createRef=function(){return{current:null}},an.forwardRef=function(H){return{$$typeof:c,render:H}},an.isValidElement=se,an.lazy=function(H){return{$$typeof:m,_payload:{_status:-1,_result:H},_init:de}},an.memo=function(H,ce){return{$$typeof:p,type:H,compare:ce===void 0?null:ce}},an.startTransition=function(H){var ce=F.transition;F.transition={};try{H()}finally{F.transition=ce}},an.unstable_act=he,an.useCallback=function(H,ce){return V.current.useCallback(H,ce)},an.useContext=function(H){return V.current.useContext(H)},an.useDebugValue=function(){},an.useDeferredValue=function(H){return V.current.useDeferredValue(H)},an.useEffect=function(H,ce){return V.current.useEffect(H,ce)},an.useId=function(){return V.current.useId()},an.useImperativeHandle=function(H,ce,Te){return V.current.useImperativeHandle(H,ce,Te)},an.useInsertionEffect=function(H,ce){return V.current.useInsertionEffect(H,ce)},an.useLayoutEffect=function(H,ce){return V.current.useLayoutEffect(H,ce)},an.useMemo=function(H,ce){return V.current.useMemo(H,ce)},an.useReducer=function(H,ce,Te){return V.current.useReducer(H,ce,Te)},an.useRef=function(H){return V.current.useRef(H)},an.useState=function(H){return V.current.useState(H)},an.useSyncExternalStore=function(H,ce,Te){return V.current.useSyncExternalStore(H,ce,Te)},an.useTransition=function(){return V.current.useTransition()},an.version="18.3.1",an}var kb;function Qi(){return kb||(kb=1,a0.exports=i_()),a0.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cb;function o_(){if(Cb)return Ih;Cb=1;var n=Qi(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(c,f,p){var m,v={},w=null,x=null;p!==void 0&&(w=""+p),f.key!==void 0&&(w=""+f.key),f.ref!==void 0&&(x=f.ref);for(m in f)r.call(f,m)&&!o.hasOwnProperty(m)&&(v[m]=f[m]);if(c&&c.defaultProps)for(m in f=c.defaultProps,f)v[m]===void 0&&(v[m]=f[m]);return{$$typeof:e,type:c,key:w,ref:x,props:v,_owner:i.current}}return Ih.Fragment=t,Ih.jsx=a,Ih.jsxs=a,Ih}var Mb;function s_(){return Mb||(Mb=1,s0.exports=o_()),s0.exports}var P=s_(),K=Qi();const dr=Fp(K);var dg={},l0={exports:{}},Gi={},u0={exports:{}},c0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ob;function a_(){return Ob||(Ob=1,function(n){function e(F,pe){var he=F.length;F.push(pe);e:for(;0<he;){var H=he-1>>>1,ce=F[H];if(0<i(ce,pe))F[H]=pe,F[he]=ce,he=H;else break e}}function t(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var pe=F[0],he=F.pop();if(he!==pe){F[0]=he;e:for(var H=0,ce=F.length,Te=ce>>>1;H<Te;){var $e=2*(H+1)-1,Ve=F[$e],Qe=$e+1,ut=F[Qe];if(0>i(Ve,he))Qe<ce&&0>i(ut,Ve)?(F[H]=ut,F[Qe]=he,H=Qe):(F[H]=Ve,F[$e]=he,H=$e);else if(Qe<ce&&0>i(ut,he))F[H]=ut,F[Qe]=he,H=Qe;else break e}}return pe}function i(F,pe){var he=F.sortIndex-pe.sortIndex;return he!==0?he:F.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var a=Date,c=a.now();n.unstable_now=function(){return a.now()-c}}var f=[],p=[],m=1,v=null,w=3,x=!1,E=!1,C=!1,k=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(F){for(var pe=t(p);pe!==null;){if(pe.callback===null)r(p);else if(pe.startTime<=F)r(p),pe.sortIndex=pe.expirationTime,e(f,pe);else break;pe=t(p)}}function T(F){if(C=!1,N(F),!E)if(t(f)!==null)E=!0,de(D);else{var pe=t(p);pe!==null&&V(T,pe.startTime-F)}}function D(F,pe){E=!1,C&&(C=!1,S(z),z=-1),x=!0;var he=w;try{for(N(pe),v=t(f);v!==null&&(!(v.expirationTime>pe)||F&&!xe());){var H=v.callback;if(typeof H=="function"){v.callback=null,w=v.priorityLevel;var ce=H(v.expirationTime<=pe);pe=n.unstable_now(),typeof ce=="function"?v.callback=ce:v===t(f)&&r(f),N(pe)}else r(f);v=t(f)}if(v!==null)var Te=!0;else{var $e=t(p);$e!==null&&V(T,$e.startTime-pe),Te=!1}return Te}finally{v=null,w=he,x=!1}}var _=!1,L=null,z=-1,W=5,se=-1;function xe(){return!(n.unstable_now()-se<W)}function ye(){if(L!==null){var F=n.unstable_now();se=F;var pe=!0;try{pe=L(!0,F)}finally{pe?Ce():(_=!1,L=null)}}else _=!1}var Ce;if(typeof R=="function")Ce=function(){R(ye)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,ue=Ee.port2;Ee.port1.onmessage=ye,Ce=function(){ue.postMessage(null)}}else Ce=function(){k(ye,0)};function de(F){L=F,_||(_=!0,Ce())}function V(F,pe){z=k(function(){F(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){E||x||(E=!0,de(D))},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(F){switch(w){case 1:case 2:case 3:var pe=3;break;default:pe=w}var he=w;w=pe;try{return F()}finally{w=he}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,pe){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var he=w;w=F;try{return pe()}finally{w=he}},n.unstable_scheduleCallback=function(F,pe,he){var H=n.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?H+he:H):he=H,F){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=he+ce,F={id:m++,callback:pe,priorityLevel:F,startTime:he,expirationTime:ce,sortIndex:-1},he>H?(F.sortIndex=he,e(p,F),t(f)===null&&F===t(p)&&(C?(S(z),z=-1):C=!0,V(T,he-H))):(F.sortIndex=ce,e(f,F),E||x||(E=!0,de(D))),F},n.unstable_shouldYield=xe,n.unstable_wrapCallback=function(F){var pe=w;return function(){var he=w;w=pe;try{return F.apply(this,arguments)}finally{w=he}}}}(c0)),c0}var Rb;function l_(){return Rb||(Rb=1,u0.exports=a_()),u0.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tb;function u_(){if(Tb)return Gi;Tb=1;var n=Qi(),e=l_();function t(s){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+s,h=1;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,l){a(s,l),a(s+"Capture",l)}function a(s,l){for(i[s]=l,s=0;s<l.length;s++)r.add(l[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function w(s){return f.call(v,s)?!0:f.call(m,s)?!1:p.test(s)?v[s]=!0:(m[s]=!0,!1)}function x(s,l,h,g){if(h!==null&&h.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:h!==null?!h.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function E(s,l,h,g){if(l===null||typeof l>"u"||x(s,l,h,g))return!0;if(g)return!1;if(h!==null)switch(h.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function C(s,l,h,g,b,M,I){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=b,this.mustUseProperty=h,this.propertyName=s,this.type=l,this.sanitizeURL=M,this.removeEmptyString=I}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){k[s]=new C(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var l=s[0];k[l]=new C(l,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){k[s]=new C(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){k[s]=new C(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){k[s]=new C(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){k[s]=new C(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){k[s]=new C(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){k[s]=new C(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){k[s]=new C(s,5,!1,s.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function R(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var l=s.replace(S,R);k[l]=new C(l,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var l=s.replace(S,R);k[l]=new C(l,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var l=s.replace(S,R);k[l]=new C(l,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){k[s]=new C(s,1,!1,s.toLowerCase(),null,!1,!1)}),k.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){k[s]=new C(s,1,!1,s.toLowerCase(),null,!0,!0)});function N(s,l,h,g){var b=k.hasOwnProperty(l)?k[l]:null;(b!==null?b.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(E(l,h,b,g)&&(h=null),g||b===null?w(l)&&(h===null?s.removeAttribute(l):s.setAttribute(l,""+h)):b.mustUseProperty?s[b.propertyName]=h===null?b.type===3?!1:"":h:(l=b.attributeName,g=b.attributeNamespace,h===null?s.removeAttribute(l):(b=b.type,h=b===3||b===4&&h===!0?"":""+h,g?s.setAttributeNS(g,l,h):s.setAttribute(l,h))))}var T=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),_=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),se=Symbol.for("react.provider"),xe=Symbol.for("react.context"),ye=Symbol.for("react.forward_ref"),Ce=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),ue=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),V=Symbol.for("react.offscreen"),F=Symbol.iterator;function pe(s){return s===null||typeof s!="object"?null:(s=F&&s[F]||s["@@iterator"],typeof s=="function"?s:null)}var he=Object.assign,H;function ce(s){if(H===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);H=l&&l[1]||""}return`
`+H+s}var Te=!1;function $e(s,l){if(!s||Te)return"";Te=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(ge){var g=ge}Reflect.construct(s,[],l)}else{try{l.call()}catch(ge){g=ge}s.call(l.prototype)}else{try{throw Error()}catch(ge){g=ge}s()}}catch(ge){if(ge&&g&&typeof ge.stack=="string"){for(var b=ge.stack.split(`
`),M=g.stack.split(`
`),I=b.length-1,$=M.length-1;1<=I&&0<=$&&b[I]!==M[$];)$--;for(;1<=I&&0<=$;I--,$--)if(b[I]!==M[$]){if(I!==1||$!==1)do if(I--,$--,0>$||b[I]!==M[$]){var X=`
`+b[I].replace(" at new "," at ");return s.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",s.displayName)),X}while(1<=I&&0<=$);break}}}finally{Te=!1,Error.prepareStackTrace=h}return(s=s?s.displayName||s.name:"")?ce(s):""}function Ve(s){switch(s.tag){case 5:return ce(s.type);case 16:return ce("Lazy");case 13:return ce("Suspense");case 19:return ce("SuspenseList");case 0:case 2:case 15:return s=$e(s.type,!1),s;case 11:return s=$e(s.type.render,!1),s;case 1:return s=$e(s.type,!0),s;default:return""}}function Qe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case L:return"Fragment";case _:return"Portal";case W:return"Profiler";case z:return"StrictMode";case Ce:return"Suspense";case Ee:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case xe:return(s.displayName||"Context")+".Consumer";case se:return(s._context.displayName||"Context")+".Provider";case ye:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ue:return l=s.displayName||null,l!==null?l:Qe(s.type)||"Memo";case de:l=s._payload,s=s._init;try{return Qe(s(l))}catch{}}return null}function ut(s){var l=s.type;switch(s.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=l.render,s=s.displayName||s.name||"",l.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qe(l);case 8:return l===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function ke(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Be(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function qe(s){var l=Be(s)?"checked":"value",h=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),g=""+s[l];if(!s.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var b=h.get,M=h.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return b.call(this)},set:function(I){g=""+I,M.call(this,I)}}),Object.defineProperty(s,l,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(I){g=""+I},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function Y(s){s._valueTracker||(s._valueTracker=qe(s))}function U(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var h=l.getValue(),g="";return s&&(g=Be(s)?s.checked?"true":"false":s.value),s=g,s!==h?(l.setValue(s),!0):!1}function ne(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function ie(s,l){var h=l.checked;return he({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??s._wrapperState.initialChecked})}function Fe(s,l){var h=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;h=ke(l.value!=null?l.value:h),s._wrapperState={initialChecked:g,initialValue:h,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Oe(s,l){l=l.checked,l!=null&&N(s,"checked",l,!1)}function Ge(s,l){Oe(s,l);var h=ke(l.value),g=l.type;if(h!=null)g==="number"?(h===0&&s.value===""||s.value!=h)&&(s.value=""+h):s.value!==""+h&&(s.value=""+h);else if(g==="submit"||g==="reset"){s.removeAttribute("value");return}l.hasOwnProperty("value")?_e(s,l.type,h):l.hasOwnProperty("defaultValue")&&_e(s,l.type,ke(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(s.defaultChecked=!!l.defaultChecked)}function Je(s,l,h){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+s._wrapperState.initialValue,h||l===s.value||(s.value=l),s.defaultValue=l}h=s.name,h!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,h!==""&&(s.name=h)}function _e(s,l,h){(l!=="number"||ne(s.ownerDocument)!==s)&&(h==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+h&&(s.defaultValue=""+h))}var ct=Array.isArray;function Xe(s,l,h,g){if(s=s.options,l){l={};for(var b=0;b<h.length;b++)l["$"+h[b]]=!0;for(h=0;h<s.length;h++)b=l.hasOwnProperty("$"+s[h].value),s[h].selected!==b&&(s[h].selected=b),b&&g&&(s[h].defaultSelected=!0)}else{for(h=""+ke(h),l=null,b=0;b<s.length;b++){if(s[b].value===h){s[b].selected=!0,g&&(s[b].defaultSelected=!0);return}l!==null||s[b].disabled||(l=s[b])}l!==null&&(l.selected=!0)}}function ft(s,l){if(l.dangerouslySetInnerHTML!=null)throw Error(t(91));return he({},l,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function _t(s,l){var h=l.value;if(h==null){if(h=l.children,l=l.defaultValue,h!=null){if(l!=null)throw Error(t(92));if(ct(h)){if(1<h.length)throw Error(t(93));h=h[0]}l=h}l==null&&(l=""),h=l}s._wrapperState={initialValue:ke(h)}}function Qt(s,l){var h=ke(l.value),g=ke(l.defaultValue);h!=null&&(h=""+h,h!==s.value&&(s.value=h),l.defaultValue==null&&s.defaultValue!==h&&(s.defaultValue=h)),g!=null&&(s.defaultValue=""+g)}function Cn(s){var l=s.textContent;l===s._wrapperState.initialValue&&l!==""&&l!==null&&(s.value=l)}function vn(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ae(s,l){return s==null||s==="http://www.w3.org/1999/xhtml"?vn(l):s==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var We,Ct=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,h,g,b){MSApp.execUnsafeLocalFunction(function(){return s(l,h,g,b)})}:s}(function(s,l){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=l;else{for(We=We||document.createElement("div"),We.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=We.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;l.firstChild;)s.appendChild(l.firstChild)}});function Ft(s,l){if(l){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=l;return}}s.textContent=l}var Zt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yn=["Webkit","ms","Moz","O"];Object.keys(Zt).forEach(function(s){Yn.forEach(function(l){l=l+s.charAt(0).toUpperCase()+s.substring(1),Zt[l]=Zt[s]})});function mi(s,l,h){return l==null||typeof l=="boolean"||l===""?"":h||typeof l!="number"||l===0||Zt.hasOwnProperty(s)&&Zt[s]?(""+l).trim():l+"px"}function ve(s,l){s=s.style;for(var h in l)if(l.hasOwnProperty(h)){var g=h.indexOf("--")===0,b=mi(h,l[h],g);h==="float"&&(h="cssFloat"),g?s.setProperty(h,b):s[h]=b}}var ot=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function St(s,l){if(l){if(ot[s]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(t(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(t(61))}if(l.style!=null&&typeof l.style!="object")throw Error(t(62))}}function $t(s,l){if(s.indexOf("-")===-1)return typeof l.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bt=null;function Mn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var qn=null,sr=null,Vr=null;function Xn(s){if(s=Dr(s)){if(typeof qn!="function")throw Error(t(280));var l=s.stateNode;l&&(l=Vc(l),qn(s.stateNode,s.type,l))}}function J(s){sr?Vr?Vr.push(s):Vr=[s]:sr=s}function we(){if(sr){var s=sr,l=Vr;if(Vr=sr=null,Xn(s),l)for(s=0;s<l.length;s++)Xn(l[s])}}function Ue(s,l){return s(l)}function Mt(){}var G=!1;function ee(s,l,h){if(G)return s(l,h);G=!0;try{return Ue(s,l,h)}finally{G=!1,(sr!==null||Vr!==null)&&(Mt(),we())}}function Z(s,l){var h=s.stateNode;if(h===null)return null;var g=Vc(h);if(g===null)return null;h=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(t(231,l,typeof h));return h}var ae=!1;if(c)try{var be={};Object.defineProperty(be,"passive",{get:function(){ae=!0}}),window.addEventListener("test",be,be),window.removeEventListener("test",be,be)}catch{ae=!1}function Ye(s,l,h,g,b,M,I,$,X){var ge=Array.prototype.slice.call(arguments,3);try{l.apply(h,ge)}catch(Pe){this.onError(Pe)}}var Ze=!1,et=null,pt=!1,vt=null,Lt={onError:function(s){Ze=!0,et=s}};function xt(s,l,h,g,b,M,I,$,X){Ze=!1,et=null,Ye.apply(Lt,arguments)}function jt(s,l,h,g,b,M,I,$,X){if(xt.apply(this,arguments),Ze){if(Ze){var ge=et;Ze=!1,et=null}else throw Error(t(198));pt||(pt=!0,vt=ge)}}function rn(s){var l=s,h=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(h=l.return),s=l.return;while(s)}return l.tag===3?h:null}function Tn(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function $n(s){if(rn(s)!==s)throw Error(t(188))}function Qn(s){var l=s.alternate;if(!l){if(l=rn(s),l===null)throw Error(t(188));return l!==s?null:s}for(var h=s,g=l;;){var b=h.return;if(b===null)break;var M=b.alternate;if(M===null){if(g=b.return,g!==null){h=g;continue}break}if(b.child===M.child){for(M=b.child;M;){if(M===h)return $n(b),s;if(M===g)return $n(b),l;M=M.sibling}throw Error(t(188))}if(h.return!==g.return)h=b,g=M;else{for(var I=!1,$=b.child;$;){if($===h){I=!0,h=b,g=M;break}if($===g){I=!0,g=b,h=M;break}$=$.sibling}if(!I){for($=M.child;$;){if($===h){I=!0,h=M,g=b;break}if($===g){I=!0,g=M,h=b;break}$=$.sibling}if(!I)throw Error(t(189))}}if(h.alternate!==g)throw Error(t(190))}if(h.tag!==3)throw Error(t(188));return h.stateNode.current===h?s:l}function en(s){return s=Qn(s),s!==null?xo(s):null}function xo(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var l=xo(s);if(l!==null)return l;s=s.sibling}return null}var _i=e.unstable_scheduleCallback,br=e.unstable_cancelCallback,Zn=e.unstable_shouldYield,bo=e.unstable_requestPaint,hn=e.unstable_now,oa=e.unstable_getCurrentPriorityLevel,gi=e.unstable_ImmediatePriority,Ni=e.unstable_UserBlockingPriority,on=e.unstable_NormalPriority,De=e.unstable_LowPriority,at=e.unstable_IdlePriority,It=null,Wt=null;function Ut(s){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(It,s,void 0,(s.current.flags&128)===128)}catch{}}var wn=Math.clz32?Math.clz32:_r,ri=Math.log,Yo=Math.LN2;function _r(s){return s>>>=0,s===0?32:31-(ri(s)/Yo|0)|0}var Sr=64,sa=4194304;function Xo(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function So(s,l){var h=s.pendingLanes;if(h===0)return 0;var g=0,b=s.suspendedLanes,M=s.pingedLanes,I=h&268435455;if(I!==0){var $=I&~b;$!==0?g=Xo($):(M&=I,M!==0&&(g=Xo(M)))}else I=h&~b,I!==0?g=Xo(I):M!==0&&(g=Xo(M));if(g===0)return 0;if(l!==0&&l!==g&&(l&b)===0&&(b=g&-g,M=l&-l,b>=M||b===16&&(M&4194240)!==0))return l;if((g&4)!==0&&(g|=h&16),l=s.entangledLanes,l!==0)for(s=s.entanglements,l&=g;0<l;)h=31-wn(l),b=1<<h,g|=s[h],l&=~b;return g}function bc(s,l){switch(s){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xd(s,l){for(var h=s.suspendedLanes,g=s.pingedLanes,b=s.expirationTimes,M=s.pendingLanes;0<M;){var I=31-wn(M),$=1<<I,X=b[I];X===-1?(($&h)===0||($&g)!==0)&&(b[I]=bc($,l)):X<=l&&(s.expiredLanes|=$),M&=~$}}function Ka(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function su(){var s=Sr;return Sr<<=1,(Sr&4194240)===0&&(Sr=64),s}function Eo(s){for(var l=[],h=0;31>h;h++)l.push(s);return l}function bs(s,l,h){s.pendingLanes|=l,l!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,l=31-wn(l),s[l]=h}function yi(s,l){var h=s.pendingLanes&~l;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=l,s.mutableReadLanes&=l,s.entangledLanes&=l,l=s.entanglements;var g=s.eventTimes;for(s=s.expirationTimes;0<h;){var b=31-wn(h),M=1<<b;l[b]=0,g[b]=-1,s[b]=-1,h&=~M}}function aa(s,l){var h=s.entangledLanes|=l;for(s=s.entanglements;h;){var g=31-wn(h),b=1<<g;b&l|s[g]&l&&(s[g]|=l),h&=~b}}var ln=0;function Rt(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Ja,Un,bn,Ss,Zi,Es=!1,Qo=[],Ke=null,lt=null,Nt=null,sn=new Map,Wn=new Map,pr=[],bd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(s,l){switch(s){case"focusin":case"focusout":Ke=null;break;case"dragenter":case"dragleave":lt=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":sn.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wn.delete(l.pointerId)}}function la(s,l,h,g,b,M){return s===null||s.nativeEvent!==M?(s={blockedOn:l,domEventName:h,eventSystemFlags:g,nativeEvent:M,targetContainers:[b]},l!==null&&(l=Dr(l),l!==null&&Un(l)),s):(s.eventSystemFlags|=g,l=s.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),s)}function fv(s,l,h,g,b){switch(l){case"focusin":return Ke=la(Ke,s,l,h,g,b),!0;case"dragenter":return lt=la(lt,s,l,h,g,b),!0;case"mouseover":return Nt=la(Nt,s,l,h,g,b),!0;case"pointerover":var M=b.pointerId;return sn.set(M,la(sn.get(M)||null,s,l,h,g,b)),!0;case"gotpointercapture":return M=b.pointerId,Wn.set(M,la(Wn.get(M)||null,s,l,h,g,b)),!0}return!1}function Xp(s){var l=Oo(s.target);if(l!==null){var h=rn(l);if(h!==null){if(l=h.tag,l===13){if(l=Tn(h),l!==null){s.blockedOn=l,Zi(s.priority,function(){bn(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ec(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var h=Mc(s.domEventName,s.eventSystemFlags,l[0],s.nativeEvent);if(h===null){h=s.nativeEvent;var g=new h.constructor(h.type,h);Bt=g,h.target.dispatchEvent(g),Bt=null}else return l=Dr(h),l!==null&&Un(l),s.blockedOn=h,!1;l.shift()}return!0}function Qp(s,l,h){Ec(s)&&h.delete(l)}function dv(){Es=!1,Ke!==null&&Ec(Ke)&&(Ke=null),lt!==null&&Ec(lt)&&(lt=null),Nt!==null&&Ec(Nt)&&(Nt=null),sn.forEach(Qp),Wn.forEach(Qp)}function Sn(s,l){s.blockedOn===l&&(s.blockedOn=null,Es||(Es=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,dv)))}function xn(s){function l(b){return Sn(b,s)}if(0<Qo.length){Sn(Qo[0],s);for(var h=1;h<Qo.length;h++){var g=Qo[h];g.blockedOn===s&&(g.blockedOn=null)}}for(Ke!==null&&Sn(Ke,s),lt!==null&&Sn(lt,s),Nt!==null&&Sn(Nt,s),sn.forEach(l),Wn.forEach(l),h=0;h<pr.length;h++)g=pr[h],g.blockedOn===s&&(g.blockedOn=null);for(;0<pr.length&&(h=pr[0],h.blockedOn===null);)Xp(h),h.blockedOn===null&&pr.shift()}var Ya=T.ReactCurrentBatchConfig,kc=!0;function hv(s,l,h,g){var b=ln,M=Ya.transition;Ya.transition=null;try{ln=1,Sd(s,l,h,g)}finally{ln=b,Ya.transition=M}}function pv(s,l,h,g){var b=ln,M=Ya.transition;Ya.transition=null;try{ln=4,Sd(s,l,h,g)}finally{ln=b,Ya.transition=M}}function Sd(s,l,h,g){if(kc){var b=Mc(s,l,h,g);if(b===null)jd(s,l,g,Cc,h),Sc(s,g);else if(fv(b,s,l,h,g))g.stopPropagation();else if(Sc(s,g),l&4&&-1<bd.indexOf(s)){for(;b!==null;){var M=Dr(b);if(M!==null&&Ja(M),M=Mc(s,l,h,g),M===null&&jd(s,l,g,Cc,h),M===b)break;b=M}b!==null&&g.stopPropagation()}else jd(s,l,g,null,h)}}var Cc=null;function Mc(s,l,h,g){if(Cc=null,s=Mn(g),s=Oo(s),s!==null)if(l=rn(s),l===null)s=null;else if(h=l.tag,h===13){if(s=Tn(l),s!==null)return s;s=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null);return Cc=s,null}function Zp(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oa()){case gi:return 1;case Ni:return 4;case on:case De:return 16;case at:return 536870912;default:return 16}default:return 16}}var Ln=null,au=null,ko=null;function Ed(){if(ko)return ko;var s,l=au,h=l.length,g,b="value"in Ln?Ln.value:Ln.textContent,M=b.length;for(s=0;s<h&&l[s]===b[s];s++);var I=h-s;for(g=1;g<=I&&l[h-g]===b[M-g];g++);return ko=b.slice(s,1<g?1-g:void 0)}function Xa(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function qr(){return!0}function kd(){return!1}function ii(s){function l(h,g,b,M,I){this._reactName=h,this._targetInst=b,this.type=g,this.nativeEvent=M,this.target=I,this.currentTarget=null;for(var $ in s)s.hasOwnProperty($)&&(h=s[$],this[$]=h?h(M):M[$]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?qr:kd,this.isPropagationStopped=kd,this}return he(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=qr)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=qr)},persist:function(){},isPersistent:qr}),l}var ua={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oc=ii(ua),Qa=he({},ua,{view:0,detail:0}),em=ii(Qa),Gr,Cd,Nr,Rc=he({},Qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_d,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Nr&&(Nr&&s.type==="mousemove"?(Gr=s.screenX-Nr.screenX,Cd=s.screenY-Nr.screenY):Cd=Gr=0,Nr=s),Gr)},movementY:function(s){return"movementY"in s?s.movementY:Cd}}),Md=ii(Rc),ks=he({},Rc,{dataTransfer:0}),Tc=ii(ks),Od=he({},Qa,{relatedTarget:0}),On=ii(Od),Cs=he({},ua,{animationName:0,elapsedTime:0,pseudoElement:0}),Rd=ii(Cs),mv=he({},ua,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Td=ii(mv),gv=he({},ua,{data:0}),tm=ii(gv),yv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_c={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Za(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=_c[s])?!!l[s]:!1}function _d(){return Za}var rm=he({},Qa,{key:function(s){if(s.key){var l=yv[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=Xa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?nm[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_d,charCode:function(s){return s.type==="keypress"?Xa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Xa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),im=ii(rm),Nd=he({},Rc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nc=ii(Nd),om=he({},Qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_d}),vv=ii(om),Ad=he({},ua,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dd=ii(Ad),wv=he({},Rc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),sm=ii(wv),vi=[9,13,27,32],lu=c&&"CompositionEvent"in window,Zo=null;c&&"documentMode"in document&&(Zo=document.documentMode);var am=c&&"TextEvent"in window&&!Zo,Pd=c&&(!lu||Zo&&8<Zo&&11>=Zo),lm=" ",um=!1;function cm(s,l){switch(s){case"keyup":return vi.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fm(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var el=!1;function tl(s,l){switch(s){case"compositionend":return fm(l);case"keypress":return l.which!==32?null:(um=!0,lm);case"textInput":return s=l.data,s===lm&&um?null:s;default:return null}}function xv(s,l){if(el)return s==="compositionend"||!lu&&cm(s,l)?(s=Ed(),ko=au=Ln=null,el=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Pd&&l.locale!=="ko"?null:l.data;default:return null}}var bv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ac(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!bv[s.type]:l==="textarea"}function Ld(s,l,h,g){J(g),l=Hc(l,"onChange"),0<l.length&&(h=new Oc("onChange","change",null,h,g),s.push({event:h,listeners:l}))}var Ai=null,Ms=null;function Sv(s){vm(s,0)}function Dc(s){var l=Vt(s);if(U(l))return s}function Ev(s,l){if(s==="change")return l}var ca=!1;if(c){var wi;if(c){var Pc="oninput"in document;if(!Pc){var dm=document.createElement("div");dm.setAttribute("oninput","return;"),Pc=typeof dm.oninput=="function"}wi=Pc}else wi=!1;ca=wi&&(!document.documentMode||9<document.documentMode)}function hm(){Ai&&(Ai.detachEvent("onpropertychange",pm),Ms=Ai=null)}function pm(s){if(s.propertyName==="value"&&Dc(Ms)){var l=[];Ld(l,Ms,s,Mn(s)),ee(Sv,l)}}function kv(s,l,h){s==="focusin"?(hm(),Ai=l,Ms=h,Ai.attachEvent("onpropertychange",pm)):s==="focusout"&&hm()}function Cv(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Dc(Ms)}function nl(s,l){if(s==="click")return Dc(l)}function re(s,l){if(s==="input"||s==="change")return Dc(l)}function Se(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var me=typeof Object.is=="function"?Object.is:Se;function nt(s,l){if(me(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var h=Object.keys(s),g=Object.keys(l);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var b=h[g];if(!f.call(l,b)||!me(s[b],l[b]))return!1}return!0}function zt(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function pn(s,l){var h=zt(s);s=0;for(var g;h;){if(h.nodeType===3){if(g=s+h.textContent.length,s<=l&&g>=l)return{node:h,offset:l-s};s=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=zt(h)}}function er(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?er(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function En(){for(var s=window,l=ne();l instanceof s.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)s=l.contentWindow;else break;l=ne(s.document)}return l}function uu(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}function Mv(s){var l=En(),h=s.focusedElem,g=s.selectionRange;if(l!==h&&h&&h.ownerDocument&&er(h.ownerDocument.documentElement,h)){if(g!==null&&uu(h)){if(l=g.start,s=g.end,s===void 0&&(s=l),"selectionStart"in h)h.selectionStart=l,h.selectionEnd=Math.min(s,h.value.length);else if(s=(l=h.ownerDocument||document)&&l.defaultView||window,s.getSelection){s=s.getSelection();var b=h.textContent.length,M=Math.min(g.start,b);g=g.end===void 0?M:Math.min(g.end,b),!s.extend&&M>g&&(b=g,g=M,M=b),b=pn(h,M);var I=pn(h,g);b&&I&&(s.rangeCount!==1||s.anchorNode!==b.node||s.anchorOffset!==b.offset||s.focusNode!==I.node||s.focusOffset!==I.offset)&&(l=l.createRange(),l.setStart(b.node,b.offset),s.removeAllRanges(),M>g?(s.addRange(l),s.extend(I.node,I.offset)):(l.setEnd(I.node,I.offset),s.addRange(l)))}}for(l=[],s=h;s=s.parentNode;)s.nodeType===1&&l.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<l.length;h++)s=l[h],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Di=c&&"documentMode"in document&&11>=document.documentMode,es=null,Id=null,Co=null,rl=!1;function cu(s,l,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;rl||es==null||es!==ne(g)||(g=es,"selectionStart"in g&&uu(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Co&&nt(Co,g)||(Co=g,g=Hc(Id,"onSelect"),0<g.length&&(l=new Oc("onSelect","select",null,l,h),s.push({event:l,listeners:g}),l.target=es)))}function mn(s,l){var h={};return h[s.toLowerCase()]=l.toLowerCase(),h["Webkit"+s]="webkit"+l,h["Moz"+s]="moz"+l,h}var il={animationend:mn("Animation","AnimationEnd"),animationiteration:mn("Animation","AnimationIteration"),animationstart:mn("Animation","AnimationStart"),transitionend:mn("Transition","TransitionEnd")},Lc={},fu={};c&&(fu=document.createElement("div").style,"AnimationEvent"in window||(delete il.animationend.animation,delete il.animationiteration.animation,delete il.animationstart.animation),"TransitionEvent"in window||delete il.transitionend.transition);function Ic(s){if(Lc[s])return Lc[s];if(!il[s])return s;var l=il[s],h;for(h in l)if(l.hasOwnProperty(h)&&h in fu)return Lc[s]=l[h];return s}var mm=Ic("animationend"),gm=Ic("animationiteration"),du=Ic("animationstart"),ts=Ic("transitionend"),hu=new Map,zd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function eo(s,l){hu.set(s,l),o(l,[s])}for(var zc=0;zc<zd.length;zc++){var Bc=zd[zc],jc=Bc.toLowerCase(),ym=Bc[0].toUpperCase()+Bc.slice(1);eo(jc,"on"+ym)}eo(mm,"onAnimationEnd"),eo(gm,"onAnimationIteration"),eo(du,"onAnimationStart"),eo("dblclick","onDoubleClick"),eo("focusin","onFocus"),eo("focusout","onBlur"),eo(ts,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ns="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fa=new Set("cancel close invalid load scroll toggle".split(" ").concat(ns));function pu(s,l,h){var g=s.type||"unknown-event";s.currentTarget=h,jt(g,l,void 0,s),s.currentTarget=null}function vm(s,l){l=(l&4)!==0;for(var h=0;h<s.length;h++){var g=s[h],b=g.event;g=g.listeners;e:{var M=void 0;if(l)for(var I=g.length-1;0<=I;I--){var $=g[I],X=$.instance,ge=$.currentTarget;if($=$.listener,X!==M&&b.isPropagationStopped())break e;pu(b,$,ge),M=X}else for(I=0;I<g.length;I++){if($=g[I],X=$.instance,ge=$.currentTarget,$=$.listener,X!==M&&b.isPropagationStopped())break e;pu(b,$,ge),M=X}}}if(pt)throw s=vt,pt=!1,vt=null,s}function _n(s,l){var h=l[Wc];h===void 0&&(h=l[Wc]=new Set);var g=s+"__bubble";h.has(g)||(Fc(l,s,2,!1),h.add(g))}function Bd(s,l,h){var g=0;l&&(g|=4),Fc(h,s,g,l)}var da="_reactListening"+Math.random().toString(36).slice(2);function Os(s){if(!s[da]){s[da]=!0,r.forEach(function(h){h!=="selectionchange"&&(fa.has(h)||Bd(h,!1,s),Bd(h,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[da]||(l[da]=!0,Bd("selectionchange",!1,l))}}function Fc(s,l,h,g){switch(Zp(l)){case 1:var b=hv;break;case 4:b=pv;break;default:b=Sd}h=b.bind(null,l,h,s),b=void 0,!ae||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),g?b!==void 0?s.addEventListener(l,h,{capture:!0,passive:b}):s.addEventListener(l,h,!0):b!==void 0?s.addEventListener(l,h,{passive:b}):s.addEventListener(l,h,!1)}function jd(s,l,h,g,b){var M=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var I=g.tag;if(I===3||I===4){var $=g.stateNode.containerInfo;if($===b||$.nodeType===8&&$.parentNode===b)break;if(I===4)for(I=g.return;I!==null;){var X=I.tag;if((X===3||X===4)&&(X=I.stateNode.containerInfo,X===b||X.nodeType===8&&X.parentNode===b))return;I=I.return}for(;$!==null;){if(I=Oo($),I===null)return;if(X=I.tag,X===5||X===6){g=M=I;continue e}$=$.parentNode}}g=g.return}ee(function(){var ge=M,Pe=Mn(h),Ie=[];e:{var Ne=hu.get(s);if(Ne!==void 0){var rt=Oc,dt=s;switch(s){case"keypress":if(Xa(h)===0)break e;case"keydown":case"keyup":rt=im;break;case"focusin":dt="focus",rt=On;break;case"focusout":dt="blur",rt=On;break;case"beforeblur":case"afterblur":rt=On;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=Md;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=Tc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=vv;break;case mm:case gm:case du:rt=Rd;break;case ts:rt=Dd;break;case"scroll":rt=em;break;case"wheel":rt=sm;break;case"copy":case"cut":case"paste":rt=Td;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=Nc}var ht=(l&4)!==0,Kn=!ht&&s==="scroll",le=ht?Ne!==null?Ne+"Capture":null:Ne;ht=[];for(var te=ge,fe;te!==null;){fe=te;var je=fe.stateNode;if(fe.tag===5&&je!==null&&(fe=je,le!==null&&(je=Z(te,le),je!=null&&ht.push(ol(te,je,fe)))),Kn)break;te=te.return}0<ht.length&&(Ne=new rt(Ne,dt,null,h,Pe),Ie.push({event:Ne,listeners:ht}))}}if((l&7)===0){e:{if(Ne=s==="mouseover"||s==="pointerover",rt=s==="mouseout"||s==="pointerout",Ne&&h!==Bt&&(dt=h.relatedTarget||h.fromElement)&&(Oo(dt)||dt[xi]))break e;if((rt||Ne)&&(Ne=Pe.window===Pe?Pe:(Ne=Pe.ownerDocument)?Ne.defaultView||Ne.parentWindow:window,rt?(dt=h.relatedTarget||h.toElement,rt=ge,dt=dt?Oo(dt):null,dt!==null&&(Kn=rn(dt),dt!==Kn||dt.tag!==5&&dt.tag!==6)&&(dt=null)):(rt=null,dt=ge),rt!==dt)){if(ht=Md,je="onMouseLeave",le="onMouseEnter",te="mouse",(s==="pointerout"||s==="pointerover")&&(ht=Nc,je="onPointerLeave",le="onPointerEnter",te="pointer"),Kn=rt==null?Ne:Vt(rt),fe=dt==null?Ne:Vt(dt),Ne=new ht(je,te+"leave",rt,h,Pe),Ne.target=Kn,Ne.relatedTarget=fe,je=null,Oo(Pe)===ge&&(ht=new ht(le,te+"enter",dt,h,Pe),ht.target=fe,ht.relatedTarget=Kn,je=ht),Kn=je,rt&&dt)t:{for(ht=rt,le=dt,te=0,fe=ht;fe;fe=sl(fe))te++;for(fe=0,je=le;je;je=sl(je))fe++;for(;0<te-fe;)ht=sl(ht),te--;for(;0<fe-te;)le=sl(le),fe--;for(;te--;){if(ht===le||le!==null&&ht===le.alternate)break t;ht=sl(ht),le=sl(le)}ht=null}else ht=null;rt!==null&&tr(Ie,Ne,rt,ht,!1),dt!==null&&Kn!==null&&tr(Ie,Kn,dt,ht,!0)}}e:{if(Ne=ge?Vt(ge):window,rt=Ne.nodeName&&Ne.nodeName.toLowerCase(),rt==="select"||rt==="input"&&Ne.type==="file")var wt=Ev;else if(Ac(Ne))if(ca)wt=re;else{wt=Cv;var Ot=kv}else(rt=Ne.nodeName)&&rt.toLowerCase()==="input"&&(Ne.type==="checkbox"||Ne.type==="radio")&&(wt=nl);if(wt&&(wt=wt(s,ge))){Ld(Ie,wt,h,Pe);break e}Ot&&Ot(s,Ne,ge),s==="focusout"&&(Ot=Ne._wrapperState)&&Ot.controlled&&Ne.type==="number"&&_e(Ne,"number",Ne.value)}switch(Ot=ge?Vt(ge):window,s){case"focusin":(Ac(Ot)||Ot.contentEditable==="true")&&(es=Ot,Id=ge,Co=null);break;case"focusout":Co=Id=es=null;break;case"mousedown":rl=!0;break;case"contextmenu":case"mouseup":case"dragend":rl=!1,cu(Ie,h,Pe);break;case"selectionchange":if(Di)break;case"keydown":case"keyup":cu(Ie,h,Pe)}var Et;if(lu)e:{switch(s){case"compositionstart":var At="onCompositionStart";break e;case"compositionend":At="onCompositionEnd";break e;case"compositionupdate":At="onCompositionUpdate";break e}At=void 0}else el?cm(s,h)&&(At="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(At="onCompositionStart");At&&(Pd&&h.locale!=="ko"&&(el||At!=="onCompositionStart"?At==="onCompositionEnd"&&el&&(Et=Ed()):(Ln=Pe,au="value"in Ln?Ln.value:Ln.textContent,el=!0)),Ot=Hc(ge,At),0<Ot.length&&(At=new tm(At,s,null,h,Pe),Ie.push({event:At,listeners:Ot}),Et?At.data=Et:(Et=fm(h),Et!==null&&(At.data=Et)))),(Et=am?tl(s,h):xv(s,h))&&(ge=Hc(ge,"onBeforeInput"),0<ge.length&&(Pe=new tm("onBeforeInput","beforeinput",null,h,Pe),Ie.push({event:Pe,listeners:ge}),Pe.data=Et))}vm(Ie,l)})}function ol(s,l,h){return{instance:s,listener:l,currentTarget:h}}function Hc(s,l){for(var h=l+"Capture",g=[];s!==null;){var b=s,M=b.stateNode;b.tag===5&&M!==null&&(b=M,M=Z(s,h),M!=null&&g.unshift(ol(s,M,b)),M=Z(s,l),M!=null&&g.push(ol(s,M,b))),s=s.return}return g}function sl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function tr(s,l,h,g,b){for(var M=l._reactName,I=[];h!==null&&h!==g;){var $=h,X=$.alternate,ge=$.stateNode;if(X!==null&&X===g)break;$.tag===5&&ge!==null&&($=ge,b?(X=Z(h,M),X!=null&&I.unshift(ol(h,X,$))):b||(X=Z(h,M),X!=null&&I.push(ol(h,X,$)))),h=h.return}I.length!==0&&s.push({event:l,listeners:I})}var Ar=/\r\n?/g,Ov=/\u0000|\uFFFD/g;function wm(s){return(typeof s=="string"?s:""+s).replace(Ar,`
`).replace(Ov,"")}function mu(s,l,h){if(l=wm(l),wm(s)!==l&&h)throw Error(t(425))}function $c(){}var gu=null,ha=null;function yu(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Rs=typeof setTimeout=="function"?setTimeout:void 0,vu=typeof clearTimeout=="function"?clearTimeout:void 0,al=typeof Promise=="function"?Promise:void 0,Uc=typeof queueMicrotask=="function"?queueMicrotask:typeof al<"u"?function(s){return al.resolve(null).then(s).catch(ll)}:Rs;function ll(s){setTimeout(function(){throw s})}function Fd(s,l){var h=l,g=0;do{var b=h.nextSibling;if(s.removeChild(h),b&&b.nodeType===8)if(h=b.data,h==="/$"){if(g===0){s.removeChild(b),xn(l);return}g--}else h!=="$"&&h!=="$?"&&h!=="$!"||g++;h=b}while(h);xn(l)}function Ts(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return s}function xm(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return s;l--}else h==="/$"&&l++}s=s.previousSibling}return null}var ul=Math.random().toString(36).slice(2),Mo="__reactFiber$"+ul,_s="__reactProps$"+ul,xi="__reactContainer$"+ul,Wc="__reactEvents$"+ul,B="__reactListeners$"+ul,cl="__reactHandles$"+ul;function Oo(s){var l=s[Mo];if(l)return l;for(var h=s.parentNode;h;){if(l=h[xi]||h[Mo]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(s=xm(s);s!==null;){if(h=s[Mo])return h;s=xm(s)}return l}s=h,h=s.parentNode}return null}function Dr(s){return s=s[Mo]||s[xi],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Vt(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Vc(s){return s[_s]||null}var Hd=[],fl=-1;function oi(s){return{current:s}}function Nn(s){0>fl||(s.current=Hd[fl],Hd[fl]=null,fl--)}function Rn(s,l){fl++,Hd[fl]=s.current,s.current=l}var Ns={},Pr=oi(Ns),si=oi(!1),Kr=Ns;function dl(s,l){var h=s.type.contextTypes;if(!h)return Ns;var g=s.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var b={},M;for(M in h)b[M]=l[M];return g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=l,s.__reactInternalMemoizedMaskedChildContext=b),b}function ai(s){return s=s.childContextTypes,s!=null}function qc(){Nn(si),Nn(Pr)}function bm(s,l,h){if(Pr.current!==Ns)throw Error(t(168));Rn(Pr,l),Rn(si,h)}function Sm(s,l,h){var g=s.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return h;g=g.getChildContext();for(var b in g)if(!(b in l))throw Error(t(108,ut(s)||"Unknown",b));return he({},h,g)}function Pi(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ns,Kr=Pr.current,Rn(Pr,s),Rn(si,si.current),!0}function Em(s,l,h){var g=s.stateNode;if(!g)throw Error(t(169));h?(s=Sm(s,l,Kr),g.__reactInternalMemoizedMergedChildContext=s,Nn(si),Nn(Pr),Rn(Pr,s)):Nn(si),Rn(si,h)}var rs=null,Gc=!1,$d=!1;function km(s){rs===null?rs=[s]:rs.push(s)}function pa(s){Gc=!0,km(s)}function As(){if(!$d&&rs!==null){$d=!0;var s=0,l=ln;try{var h=rs;for(ln=1;s<h.length;s++){var g=h[s];do g=g(!0);while(g!==null)}rs=null,Gc=!1}catch(b){throw rs!==null&&(rs=rs.slice(s+1)),_i(gi,As),b}finally{ln=l,$d=!1}}return null}var hl=[],Lr=0,Kc=null,Jc=0,Li=[],Ii=0,ma=null,Ro=1,To="";function ga(s,l){hl[Lr++]=Jc,hl[Lr++]=Kc,Kc=s,Jc=l}function Cm(s,l,h){Li[Ii++]=Ro,Li[Ii++]=To,Li[Ii++]=ma,ma=s;var g=Ro;s=To;var b=32-wn(g)-1;g&=~(1<<b),h+=1;var M=32-wn(l)+b;if(30<M){var I=b-b%5;M=(g&(1<<I)-1).toString(32),g>>=I,b-=I,Ro=1<<32-wn(l)+b|h<<b|g,To=M+s}else Ro=1<<M|h<<b|g,To=s}function wu(s){s.return!==null&&(ga(s,1),Cm(s,1,0))}function ya(s){for(;s===Kc;)Kc=hl[--Lr],hl[Lr]=null,Jc=hl[--Lr],hl[Lr]=null;for(;s===ma;)ma=Li[--Ii],Li[Ii]=null,To=Li[--Ii],Li[Ii]=null,Ro=Li[--Ii],Li[Ii]=null}var Ir=null,bi=null,An=!1,to=null;function _o(s,l){var h=Ui(5,null,null,0);h.elementType="DELETED",h.stateNode=l,h.return=s,l=s.deletions,l===null?(s.deletions=[h],s.flags|=16):l.push(h)}function Yc(s,l){switch(s.tag){case 5:var h=s.type;return l=l.nodeType!==1||h.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(s.stateNode=l,Ir=s,bi=Ts(l.firstChild),!0):!1;case 6:return l=s.pendingProps===""||l.nodeType!==3?null:l,l!==null?(s.stateNode=l,Ir=s,bi=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(h=ma!==null?{id:Ro,overflow:To}:null,s.memoizedState={dehydrated:l,treeContext:h,retryLane:1073741824},h=Ui(18,null,null,0),h.stateNode=l,h.return=s,s.child=h,Ir=s,bi=null,!0):!1;default:return!1}}function is(s){return(s.mode&1)!==0&&(s.flags&128)===0}function li(s){if(An){var l=bi;if(l){var h=l;if(!Yc(s,l)){if(is(s))throw Error(t(418));l=Ts(h.nextSibling);var g=Ir;l&&Yc(s,l)?_o(g,h):(s.flags=s.flags&-4097|2,An=!1,Ir=s)}}else{if(is(s))throw Error(t(418));s.flags=s.flags&-4097|2,An=!1,Ir=s}}}function Mm(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Ir=s}function xu(s){if(s!==Ir)return!1;if(!An)return Mm(s),An=!0,!1;var l;if((l=s.tag!==3)&&!(l=s.tag!==5)&&(l=s.type,l=l!=="head"&&l!=="body"&&!yu(s.type,s.memoizedProps)),l&&(l=bi)){if(is(s))throw Ud(),Error(t(418));for(;l;)_o(s,l),l=Ts(l.nextSibling)}if(Mm(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8){var h=s.data;if(h==="/$"){if(l===0){bi=Ts(s.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++}s=s.nextSibling}bi=null}}else bi=Ir?Ts(s.stateNode.nextSibling):null;return!0}function Ud(){for(var s=bi;s;)s=Ts(s.nextSibling)}function No(){bi=Ir=null,An=!1}function Ao(s){to===null?to=[s]:to.push(s)}var Om=T.ReactCurrentBatchConfig;function bu(s,l,h){if(s=h.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(t(309));var g=h.stateNode}if(!g)throw Error(t(147,s));var b=g,M=""+s;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===M?l.ref:(l=function(I){var $=b.refs;I===null?delete $[M]:$[M]=I},l._stringRef=M,l)}if(typeof s!="string")throw Error(t(284));if(!h._owner)throw Error(t(290,s))}return s}function va(s,l){throw s=Object.prototype.toString.call(l),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s))}function Rm(s){var l=s._init;return l(s._payload)}function Wd(s){function l(le,te){if(s){var fe=le.deletions;fe===null?(le.deletions=[te],le.flags|=16):fe.push(te)}}function h(le,te){if(!s)return null;for(;te!==null;)l(le,te),te=te.sibling;return null}function g(le,te){for(le=new Map;te!==null;)te.key!==null?le.set(te.key,te):le.set(te.index,te),te=te.sibling;return le}function b(le,te){return le=lo(le,te),le.index=0,le.sibling=null,le}function M(le,te,fe){return le.index=fe,s?(fe=le.alternate,fe!==null?(fe=fe.index,fe<te?(le.flags|=2,te):fe):(le.flags|=2,te)):(le.flags|=1048576,te)}function I(le){return s&&le.alternate===null&&(le.flags|=2),le}function $(le,te,fe,je){return te===null||te.tag!==6?(te=_h(fe,le.mode,je),te.return=le,te):(te=b(te,fe),te.return=le,te)}function X(le,te,fe,je){var wt=fe.type;return wt===L?Pe(le,te,fe.props.children,je,fe.key):te!==null&&(te.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===de&&Rm(wt)===te.type)?(je=b(te,fe.props),je.ref=bu(le,te,fe),je.return=le,je):(je=Af(fe.type,fe.key,fe.props,null,le.mode,je),je.ref=bu(le,te,fe),je.return=le,je)}function ge(le,te,fe,je){return te===null||te.tag!==4||te.stateNode.containerInfo!==fe.containerInfo||te.stateNode.implementation!==fe.implementation?(te=Nh(fe,le.mode,je),te.return=le,te):(te=b(te,fe.children||[]),te.return=le,te)}function Pe(le,te,fe,je,wt){return te===null||te.tag!==7?(te=Ta(fe,le.mode,je,wt),te.return=le,te):(te=b(te,fe),te.return=le,te)}function Ie(le,te,fe){if(typeof te=="string"&&te!==""||typeof te=="number")return te=_h(""+te,le.mode,fe),te.return=le,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case D:return fe=Af(te.type,te.key,te.props,null,le.mode,fe),fe.ref=bu(le,null,te),fe.return=le,fe;case _:return te=Nh(te,le.mode,fe),te.return=le,te;case de:var je=te._init;return Ie(le,je(te._payload),fe)}if(ct(te)||pe(te))return te=Ta(te,le.mode,fe,null),te.return=le,te;va(le,te)}return null}function Ne(le,te,fe,je){var wt=te!==null?te.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number")return wt!==null?null:$(le,te,""+fe,je);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case D:return fe.key===wt?X(le,te,fe,je):null;case _:return fe.key===wt?ge(le,te,fe,je):null;case de:return wt=fe._init,Ne(le,te,wt(fe._payload),je)}if(ct(fe)||pe(fe))return wt!==null?null:Pe(le,te,fe,je,null);va(le,fe)}return null}function rt(le,te,fe,je,wt){if(typeof je=="string"&&je!==""||typeof je=="number")return le=le.get(fe)||null,$(te,le,""+je,wt);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case D:return le=le.get(je.key===null?fe:je.key)||null,X(te,le,je,wt);case _:return le=le.get(je.key===null?fe:je.key)||null,ge(te,le,je,wt);case de:var Ot=je._init;return rt(le,te,fe,Ot(je._payload),wt)}if(ct(je)||pe(je))return le=le.get(fe)||null,Pe(te,le,je,wt,null);va(te,je)}return null}function dt(le,te,fe,je){for(var wt=null,Ot=null,Et=te,At=te=0,yr=null;Et!==null&&At<fe.length;At++){Et.index>At?(yr=Et,Et=null):yr=Et.sibling;var gn=Ne(le,Et,fe[At],je);if(gn===null){Et===null&&(Et=yr);break}s&&Et&&gn.alternate===null&&l(le,Et),te=M(gn,te,At),Ot===null?wt=gn:Ot.sibling=gn,Ot=gn,Et=yr}if(At===fe.length)return h(le,Et),An&&ga(le,At),wt;if(Et===null){for(;At<fe.length;At++)Et=Ie(le,fe[At],je),Et!==null&&(te=M(Et,te,At),Ot===null?wt=Et:Ot.sibling=Et,Ot=Et);return An&&ga(le,At),wt}for(Et=g(le,Et);At<fe.length;At++)yr=rt(Et,le,At,fe[At],je),yr!==null&&(s&&yr.alternate!==null&&Et.delete(yr.key===null?At:yr.key),te=M(yr,te,At),Ot===null?wt=yr:Ot.sibling=yr,Ot=yr);return s&&Et.forEach(function(Ws){return l(le,Ws)}),An&&ga(le,At),wt}function ht(le,te,fe,je){var wt=pe(fe);if(typeof wt!="function")throw Error(t(150));if(fe=wt.call(fe),fe==null)throw Error(t(151));for(var Ot=wt=null,Et=te,At=te=0,yr=null,gn=fe.next();Et!==null&&!gn.done;At++,gn=fe.next()){Et.index>At?(yr=Et,Et=null):yr=Et.sibling;var Ws=Ne(le,Et,gn.value,je);if(Ws===null){Et===null&&(Et=yr);break}s&&Et&&Ws.alternate===null&&l(le,Et),te=M(Ws,te,At),Ot===null?wt=Ws:Ot.sibling=Ws,Ot=Ws,Et=yr}if(gn.done)return h(le,Et),An&&ga(le,At),wt;if(Et===null){for(;!gn.done;At++,gn=fe.next())gn=Ie(le,gn.value,je),gn!==null&&(te=M(gn,te,At),Ot===null?wt=gn:Ot.sibling=gn,Ot=gn);return An&&ga(le,At),wt}for(Et=g(le,Et);!gn.done;At++,gn=fe.next())gn=rt(Et,le,At,gn.value,je),gn!==null&&(s&&gn.alternate!==null&&Et.delete(gn.key===null?At:gn.key),te=M(gn,te,At),Ot===null?wt=gn:Ot.sibling=gn,Ot=gn);return s&&Et.forEach(function(Kv){return l(le,Kv)}),An&&ga(le,At),wt}function Kn(le,te,fe,je){if(typeof fe=="object"&&fe!==null&&fe.type===L&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case D:e:{for(var wt=fe.key,Ot=te;Ot!==null;){if(Ot.key===wt){if(wt=fe.type,wt===L){if(Ot.tag===7){h(le,Ot.sibling),te=b(Ot,fe.props.children),te.return=le,le=te;break e}}else if(Ot.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===de&&Rm(wt)===Ot.type){h(le,Ot.sibling),te=b(Ot,fe.props),te.ref=bu(le,Ot,fe),te.return=le,le=te;break e}h(le,Ot);break}else l(le,Ot);Ot=Ot.sibling}fe.type===L?(te=Ta(fe.props.children,le.mode,je,fe.key),te.return=le,le=te):(je=Af(fe.type,fe.key,fe.props,null,le.mode,je),je.ref=bu(le,te,fe),je.return=le,le=je)}return I(le);case _:e:{for(Ot=fe.key;te!==null;){if(te.key===Ot)if(te.tag===4&&te.stateNode.containerInfo===fe.containerInfo&&te.stateNode.implementation===fe.implementation){h(le,te.sibling),te=b(te,fe.children||[]),te.return=le,le=te;break e}else{h(le,te);break}else l(le,te);te=te.sibling}te=Nh(fe,le.mode,je),te.return=le,le=te}return I(le);case de:return Ot=fe._init,Kn(le,te,Ot(fe._payload),je)}if(ct(fe))return dt(le,te,fe,je);if(pe(fe))return ht(le,te,fe,je);va(le,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"?(fe=""+fe,te!==null&&te.tag===6?(h(le,te.sibling),te=b(te,fe),te.return=le,le=te):(h(le,te),te=_h(fe,le.mode,je),te.return=le,le=te),I(le)):h(le,te)}return Kn}var Vn=Wd(!0),Xc=Wd(!1),Su=oi(null),Si=null,Ds=null,pl=null;function ss(){pl=Ds=Si=null}function Qc(s){var l=Su.current;Nn(Su),s._currentValue=l}function Er(s,l,h){for(;s!==null;){var g=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),s===h)break;s=s.return}}function Ps(s,l){Si=s,pl=Ds=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&l)!==0&&(Yr=!0),s.firstContext=null)}function zi(s){var l=s._currentValue;if(pl!==s)if(s={context:s,memoizedValue:l,next:null},Ds===null){if(Si===null)throw Error(t(308));Ds=s,Si.dependencies={lanes:0,firstContext:s}}else Ds=Ds.next=s;return l}var wa=null;function Vd(s){wa===null?wa=[s]:wa.push(s)}function Zc(s,l,h,g){var b=l.interleaved;return b===null?(h.next=h,Vd(l)):(h.next=b.next,b.next=h),l.interleaved=h,as(s,g)}function as(s,l){s.lanes|=l;var h=s.alternate;for(h!==null&&(h.lanes|=l),h=s,s=s.return;s!==null;)s.childLanes|=l,h=s.alternate,h!==null&&(h.childLanes|=l),h=s,s=s.return;return h.tag===3?h.stateNode:null}var Bi=!1;function ef(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tm(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ls(s,l){return{eventTime:s,lane:l,tag:0,payload:null,callback:null,next:null}}function ji(s,l,h){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(fn&2)!==0){var b=g.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),g.pending=l,as(s,h)}return b=g.interleaved,b===null?(l.next=l,Vd(g)):(l.next=b.next,b.next=l),g.interleaved=l,as(s,h)}function tf(s,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194240)!==0)){var g=l.lanes;g&=s.pendingLanes,h|=g,l.lanes=h,aa(s,h)}}function _m(s,l){var h=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var b=null,M=null;if(h=h.firstBaseUpdate,h!==null){do{var I={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};M===null?b=M=I:M=M.next=I,h=h.next}while(h!==null);M===null?b=M=l:M=M.next=l}else b=M=l;h={baseState:g.baseState,firstBaseUpdate:b,lastBaseUpdate:M,shared:g.shared,effects:g.effects},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=l:s.next=l,h.lastBaseUpdate=l}function ml(s,l,h,g){var b=s.updateQueue;Bi=!1;var M=b.firstBaseUpdate,I=b.lastBaseUpdate,$=b.shared.pending;if($!==null){b.shared.pending=null;var X=$,ge=X.next;X.next=null,I===null?M=ge:I.next=ge,I=X;var Pe=s.alternate;Pe!==null&&(Pe=Pe.updateQueue,$=Pe.lastBaseUpdate,$!==I&&($===null?Pe.firstBaseUpdate=ge:$.next=ge,Pe.lastBaseUpdate=X))}if(M!==null){var Ie=b.baseState;I=0,Pe=ge=X=null,$=M;do{var Ne=$.lane,rt=$.eventTime;if((g&Ne)===Ne){Pe!==null&&(Pe=Pe.next={eventTime:rt,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var dt=s,ht=$;switch(Ne=l,rt=h,ht.tag){case 1:if(dt=ht.payload,typeof dt=="function"){Ie=dt.call(rt,Ie,Ne);break e}Ie=dt;break e;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=ht.payload,Ne=typeof dt=="function"?dt.call(rt,Ie,Ne):dt,Ne==null)break e;Ie=he({},Ie,Ne);break e;case 2:Bi=!0}}$.callback!==null&&$.lane!==0&&(s.flags|=64,Ne=b.effects,Ne===null?b.effects=[$]:Ne.push($))}else rt={eventTime:rt,lane:Ne,tag:$.tag,payload:$.payload,callback:$.callback,next:null},Pe===null?(ge=Pe=rt,X=Ie):Pe=Pe.next=rt,I|=Ne;if($=$.next,$===null){if($=b.shared.pending,$===null)break;Ne=$,$=Ne.next,Ne.next=null,b.lastBaseUpdate=Ne,b.shared.pending=null}}while(!0);if(Pe===null&&(X=Ie),b.baseState=X,b.firstBaseUpdate=ge,b.lastBaseUpdate=Pe,l=b.shared.interleaved,l!==null){b=l;do I|=b.lane,b=b.next;while(b!==l)}else M===null&&(b.shared.lanes=0);js|=I,s.lanes=I,s.memoizedState=Ie}}function qd(s,l,h){if(s=l.effects,l.effects=null,s!==null)for(l=0;l<s.length;l++){var g=s[l],b=g.callback;if(b!==null){if(g.callback=null,g=h,typeof b!="function")throw Error(t(191,b));b.call(g)}}}var Eu={},Do=oi(Eu),ku=oi(Eu),gl=oi(Eu);function us(s){if(s===Eu)throw Error(t(174));return s}function Gd(s,l){switch(Rn(gl,l),Rn(ku,s),Rn(Do,Eu),s=l.nodeType,s){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Ae(null,"");break;default:s=s===8?l.parentNode:l,l=s.namespaceURI||null,s=s.tagName,l=Ae(l,s)}Nn(Do),Rn(Do,l)}function Ls(){Nn(Do),Nn(ku),Nn(gl)}function Kd(s){us(gl.current);var l=us(Do.current),h=Ae(l,s.type);l!==h&&(Rn(ku,s),Rn(Do,h))}function nf(s){ku.current===s&&(Nn(Do),Nn(ku))}var In=oi(0);function xa(s){for(var l=s;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Jd=[];function rf(){for(var s=0;s<Jd.length;s++)Jd[s]._workInProgressVersionPrimary=null;Jd.length=0}var Cu=T.ReactCurrentDispatcher,Yd=T.ReactCurrentBatchConfig,Is=0,jn=null,Gn=null,ar=null,yl=!1,Mu=!1,ba=0,Gt=0;function zr(){throw Error(t(321))}function Xd(s,l){if(l===null)return!1;for(var h=0;h<l.length&&h<s.length;h++)if(!me(s[h],l[h]))return!1;return!0}function Sa(s,l,h,g,b,M){if(Is=M,jn=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Cu.current=s===null||s.memoizedState===null?Tv:ff,s=h(g,b),Mu){M=0;do{if(Mu=!1,ba=0,25<=M)throw Error(t(301));M+=1,ar=Gn=null,l.updateQueue=null,Cu.current=bl,s=h(g,b)}while(Mu)}if(Cu.current=cf,l=Gn!==null&&Gn.next!==null,Is=0,ar=Gn=jn=null,yl=!1,l)throw Error(t(300));return s}function of(){var s=ba!==0;return ba=0,s}function Po(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?jn.memoizedState=ar=s:ar=ar.next=s,ar}function Fi(){if(Gn===null){var s=jn.alternate;s=s!==null?s.memoizedState:null}else s=Gn.next;var l=ar===null?jn.memoizedState:ar.next;if(l!==null)ar=l,Gn=s;else{if(s===null)throw Error(t(310));Gn=s,s={memoizedState:Gn.memoizedState,baseState:Gn.baseState,baseQueue:Gn.baseQueue,queue:Gn.queue,next:null},ar===null?jn.memoizedState=ar=s:ar=ar.next=s}return ar}function Br(s,l){return typeof l=="function"?l(s):l}function Qd(s){var l=Fi(),h=l.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=s;var g=Gn,b=g.baseQueue,M=h.pending;if(M!==null){if(b!==null){var I=b.next;b.next=M.next,M.next=I}g.baseQueue=b=M,h.pending=null}if(b!==null){M=b.next,g=g.baseState;var $=I=null,X=null,ge=M;do{var Pe=ge.lane;if((Is&Pe)===Pe)X!==null&&(X=X.next={lane:0,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null}),g=ge.hasEagerState?ge.eagerState:s(g,ge.action);else{var Ie={lane:Pe,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null};X===null?($=X=Ie,I=g):X=X.next=Ie,jn.lanes|=Pe,js|=Pe}ge=ge.next}while(ge!==null&&ge!==M);X===null?I=g:X.next=$,me(g,l.memoizedState)||(Yr=!0),l.memoizedState=g,l.baseState=I,l.baseQueue=X,h.lastRenderedState=g}if(s=h.interleaved,s!==null){b=s;do M=b.lane,jn.lanes|=M,js|=M,b=b.next;while(b!==s)}else b===null&&(h.lanes=0);return[l.memoizedState,h.dispatch]}function vl(s){var l=Fi(),h=l.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=s;var g=h.dispatch,b=h.pending,M=l.memoizedState;if(b!==null){h.pending=null;var I=b=b.next;do M=s(M,I.action),I=I.next;while(I!==b);me(M,l.memoizedState)||(Yr=!0),l.memoizedState=M,l.baseQueue===null&&(l.baseState=M),h.lastRenderedState=M}return[M,g]}function sf(){}function Zd(s,l){var h=jn,g=Fi(),b=l(),M=!me(g.memoizedState,b);if(M&&(g.memoizedState=b,Yr=!0),g=g.queue,Lo(cs.bind(null,h,g,s),[s]),g.getSnapshot!==l||M||ar!==null&&ar.memoizedState.tag&1){if(h.flags|=2048,wl(9,ui.bind(null,h,g,b,l),void 0,null),gr===null)throw Error(t(349));(Is&30)!==0||eh(h,l,b)}return b}function eh(s,l,h){s.flags|=16384,s={getSnapshot:l,value:h},l=jn.updateQueue,l===null?(l={lastEffect:null,stores:null},jn.updateQueue=l,l.stores=[s]):(h=l.stores,h===null?l.stores=[s]:h.push(s))}function ui(s,l,h,g){l.value=h,l.getSnapshot=g,af(l)&&th(s)}function cs(s,l,h){return h(function(){af(l)&&th(s)})}function af(s){var l=s.getSnapshot;s=s.value;try{var h=l();return!me(s,h)}catch{return!0}}function th(s){var l=as(s,1);l!==null&&ao(l,s,1,-1)}function Ou(s){var l=Po();return typeof s=="function"&&(s=s()),l.memoizedState=l.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Br,lastRenderedState:s},l.queue=s,s=s.dispatch=Im.bind(null,jn,s),[l.memoizedState,s]}function wl(s,l,h,g){return s={tag:s,create:l,destroy:h,deps:g,next:null},l=jn.updateQueue,l===null?(l={lastEffect:null,stores:null},jn.updateQueue=l,l.lastEffect=s.next=s):(h=l.lastEffect,h===null?l.lastEffect=s.next=s:(g=h.next,h.next=s,s.next=g,l.lastEffect=s)),s}function lf(){return Fi().memoizedState}function Ru(s,l,h,g){var b=Po();jn.flags|=s,b.memoizedState=wl(1|l,h,void 0,g===void 0?null:g)}function xl(s,l,h,g){var b=Fi();g=g===void 0?null:g;var M=void 0;if(Gn!==null){var I=Gn.memoizedState;if(M=I.destroy,g!==null&&Xd(g,I.deps)){b.memoizedState=wl(l,h,M,g);return}}jn.flags|=s,b.memoizedState=wl(1|l,h,M,g)}function uf(s,l){return Ru(8390656,8,s,l)}function Lo(s,l){return xl(2048,8,s,l)}function Nm(s,l){return xl(4,2,s,l)}function fs(s,l){return xl(4,4,s,l)}function nh(s,l){if(typeof l=="function")return s=s(),l(s),function(){l(null)};if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function rh(s,l,h){return h=h!=null?h.concat([s]):null,xl(4,4,nh.bind(null,l,s),h)}function Tu(){}function Am(s,l){var h=Fi();l=l===void 0?null:l;var g=h.memoizedState;return g!==null&&l!==null&&Xd(l,g[1])?g[0]:(h.memoizedState=[s,l],s)}function Dm(s,l){var h=Fi();l=l===void 0?null:l;var g=h.memoizedState;return g!==null&&l!==null&&Xd(l,g[1])?g[0]:(s=s(),h.memoizedState=[s,l],s)}function Pm(s,l,h){return(Is&21)===0?(s.baseState&&(s.baseState=!1,Yr=!0),s.memoizedState=h):(me(h,l)||(h=su(),jn.lanes|=h,js|=h,s.baseState=!0),l)}function Lm(s,l){var h=ln;ln=h!==0&&4>h?h:4,s(!0);var g=Yd.transition;Yd.transition={};try{s(!1),l()}finally{ln=h,Yd.transition=g}}function ih(){return Fi().memoizedState}function Rv(s,l,h){var g=$s(s);if(h={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null},oh(s))Jr(l,h);else if(h=Zc(s,l,h,g),h!==null){var b=Zr();ao(h,s,g,b),no(h,l,g)}}function Im(s,l,h){var g=$s(s),b={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null};if(oh(s))Jr(l,b);else{var M=s.alternate;if(s.lanes===0&&(M===null||M.lanes===0)&&(M=l.lastRenderedReducer,M!==null))try{var I=l.lastRenderedState,$=M(I,h);if(b.hasEagerState=!0,b.eagerState=$,me($,I)){var X=l.interleaved;X===null?(b.next=b,Vd(l)):(b.next=X.next,X.next=b),l.interleaved=b;return}}catch{}finally{}h=Zc(s,l,b,g),h!==null&&(b=Zr(),ao(h,s,g,b),no(h,l,g))}}function oh(s){var l=s.alternate;return s===jn||l!==null&&l===jn}function Jr(s,l){Mu=yl=!0;var h=s.pending;h===null?l.next=l:(l.next=h.next,h.next=l),s.pending=l}function no(s,l,h){if((h&4194240)!==0){var g=l.lanes;g&=s.pendingLanes,h|=g,l.lanes=h,aa(s,h)}}var cf={readContext:zi,useCallback:zr,useContext:zr,useEffect:zr,useImperativeHandle:zr,useInsertionEffect:zr,useLayoutEffect:zr,useMemo:zr,useReducer:zr,useRef:zr,useState:zr,useDebugValue:zr,useDeferredValue:zr,useTransition:zr,useMutableSource:zr,useSyncExternalStore:zr,useId:zr,unstable_isNewReconciler:!1},Tv={readContext:zi,useCallback:function(s,l){return Po().memoizedState=[s,l===void 0?null:l],s},useContext:zi,useEffect:uf,useImperativeHandle:function(s,l,h){return h=h!=null?h.concat([s]):null,Ru(4194308,4,nh.bind(null,l,s),h)},useLayoutEffect:function(s,l){return Ru(4194308,4,s,l)},useInsertionEffect:function(s,l){return Ru(4,2,s,l)},useMemo:function(s,l){var h=Po();return l=l===void 0?null:l,s=s(),h.memoizedState=[s,l],s},useReducer:function(s,l,h){var g=Po();return l=h!==void 0?h(l):l,g.memoizedState=g.baseState=l,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:l},g.queue=s,s=s.dispatch=Rv.bind(null,jn,s),[g.memoizedState,s]},useRef:function(s){var l=Po();return s={current:s},l.memoizedState=s},useState:Ou,useDebugValue:Tu,useDeferredValue:function(s){return Po().memoizedState=s},useTransition:function(){var s=Ou(!1),l=s[0];return s=Lm.bind(null,s[1]),Po().memoizedState=s,[l,s]},useMutableSource:function(){},useSyncExternalStore:function(s,l,h){var g=jn,b=Po();if(An){if(h===void 0)throw Error(t(407));h=h()}else{if(h=l(),gr===null)throw Error(t(349));(Is&30)!==0||eh(g,l,h)}b.memoizedState=h;var M={value:h,getSnapshot:l};return b.queue=M,uf(cs.bind(null,g,M,s),[s]),g.flags|=2048,wl(9,ui.bind(null,g,M,h,l),void 0,null),h},useId:function(){var s=Po(),l=gr.identifierPrefix;if(An){var h=To,g=Ro;h=(g&~(1<<32-wn(g)-1)).toString(32)+h,l=":"+l+"R"+h,h=ba++,0<h&&(l+="H"+h.toString(32)),l+=":"}else h=Gt++,l=":"+l+"r"+h.toString(32)+":";return s.memoizedState=l},unstable_isNewReconciler:!1},ff={readContext:zi,useCallback:Am,useContext:zi,useEffect:Lo,useImperativeHandle:rh,useInsertionEffect:Nm,useLayoutEffect:fs,useMemo:Dm,useReducer:Qd,useRef:lf,useState:function(){return Qd(Br)},useDebugValue:Tu,useDeferredValue:function(s){var l=Fi();return Pm(l,Gn.memoizedState,s)},useTransition:function(){var s=Qd(Br)[0],l=Fi().memoizedState;return[s,l]},useMutableSource:sf,useSyncExternalStore:Zd,useId:ih,unstable_isNewReconciler:!1},bl={readContext:zi,useCallback:Am,useContext:zi,useEffect:Lo,useImperativeHandle:rh,useInsertionEffect:Nm,useLayoutEffect:fs,useMemo:Dm,useReducer:vl,useRef:lf,useState:function(){return vl(Br)},useDebugValue:Tu,useDeferredValue:function(s){var l=Fi();return Gn===null?l.memoizedState=s:Pm(l,Gn.memoizedState,s)},useTransition:function(){var s=vl(Br)[0],l=Fi().memoizedState;return[s,l]},useMutableSource:sf,useSyncExternalStore:Zd,useId:ih,unstable_isNewReconciler:!1};function Hi(s,l){if(s&&s.defaultProps){l=he({},l),s=s.defaultProps;for(var h in s)l[h]===void 0&&(l[h]=s[h]);return l}return l}function df(s,l,h,g){l=s.memoizedState,h=h(g,l),h=h==null?l:he({},l,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var hf={isMounted:function(s){return(s=s._reactInternals)?rn(s)===s:!1},enqueueSetState:function(s,l,h){s=s._reactInternals;var g=Zr(),b=$s(s),M=ls(g,b);M.payload=l,h!=null&&(M.callback=h),l=ji(s,M,b),l!==null&&(ao(l,s,b,g),tf(l,s,b))},enqueueReplaceState:function(s,l,h){s=s._reactInternals;var g=Zr(),b=$s(s),M=ls(g,b);M.tag=1,M.payload=l,h!=null&&(M.callback=h),l=ji(s,M,b),l!==null&&(ao(l,s,b,g),tf(l,s,b))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var h=Zr(),g=$s(s),b=ls(h,g);b.tag=2,l!=null&&(b.callback=l),l=ji(s,b,g),l!==null&&(ao(l,s,g,h),tf(l,s,g))}};function sh(s,l,h,g,b,M,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,M,I):l.prototype&&l.prototype.isPureReactComponent?!nt(h,g)||!nt(b,M):!0}function Ea(s,l,h){var g=!1,b=Ns,M=l.contextType;return typeof M=="object"&&M!==null?M=zi(M):(b=ai(l)?Kr:Pr.current,g=l.contextTypes,M=(g=g!=null)?dl(s,b):Ns),l=new l(h,M),s.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=hf,s.stateNode=l,l._reactInternals=s,g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=b,s.__reactInternalMemoizedMaskedChildContext=M),l}function Sl(s,l,h,g){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,g),l.state!==s&&hf.enqueueReplaceState(l,l.state,null)}function ah(s,l,h,g){var b=s.stateNode;b.props=h,b.state=s.memoizedState,b.refs={},ef(s);var M=l.contextType;typeof M=="object"&&M!==null?b.context=zi(M):(M=ai(l)?Kr:Pr.current,b.context=dl(s,M)),b.state=s.memoizedState,M=l.getDerivedStateFromProps,typeof M=="function"&&(df(s,l,M,h),b.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(l=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),l!==b.state&&hf.enqueueReplaceState(b,b.state,null),ml(s,h,b,g),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308)}function ka(s,l){try{var h="",g=l;do h+=Ve(g),g=g.return;while(g);var b=h}catch(M){b=`
Error generating stack: `+M.message+`
`+M.stack}return{value:s,source:l,stack:b,digest:null}}function pf(s,l,h){return{value:s,source:null,stack:h??null,digest:l??null}}function El(s,l){try{console.error(l.value)}catch(h){setTimeout(function(){throw h})}}var zm=typeof WeakMap=="function"?WeakMap:Map;function _u(s,l,h){h=ls(-1,h),h.tag=3,h.payload={element:null};var g=l.value;return h.callback=function(){Cf||(Cf=!0,Eh=g),El(s,l)},h}function mf(s,l,h){h=ls(-1,h),h.tag=3;var g=s.type.getDerivedStateFromError;if(typeof g=="function"){var b=l.value;h.payload=function(){return g(b)},h.callback=function(){El(s,l)}}var M=s.stateNode;return M!==null&&typeof M.componentDidCatch=="function"&&(h.callback=function(){El(s,l),typeof g!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var I=l.stack;this.componentDidCatch(l.value,{componentStack:I!==null?I:""})}),h}function Nu(s,l,h){var g=s.pingCache;if(g===null){g=s.pingCache=new zm;var b=new Set;g.set(l,b)}else b=g.get(l),b===void 0&&(b=new Set,g.set(l,b));b.has(h)||(b.add(h),s=zv.bind(null,s,l,h),l.then(s,s))}function Bm(s){do{var l;if((l=s.tag===13)&&(l=s.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return s;s=s.return}while(s!==null);return null}function lh(s,l,h,g,b){return(s.mode&1)===0?(s===l?s.flags|=65536:(s.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(l=ls(-1,1),l.tag=2,ji(h,l,1))),h.lanes|=1),s):(s.flags|=65536,s.lanes=b,s)}var gf=T.ReactCurrentOwner,Yr=!1;function kr(s,l,h,g){l.child=s===null?Xc(l,null,h,g):Vn(l,s.child,h,g)}function jm(s,l,h,g,b){h=h.render;var M=l.ref;return Ps(l,b),g=Sa(s,l,h,g,M,b),h=of(),s!==null&&!Yr?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~b,ro(s,l,b)):(An&&h&&wu(l),l.flags|=1,kr(s,l,g,b),l.child)}function uh(s,l,h,g,b){if(s===null){var M=h.type;return typeof M=="function"&&!Nf(M)&&M.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(l.tag=15,l.type=M,Io(s,l,M,g,b)):(s=Af(h.type,null,g,l,l.mode,b),s.ref=l.ref,s.return=l,l.child=s)}if(M=s.child,(s.lanes&b)===0){var I=M.memoizedProps;if(h=h.compare,h=h!==null?h:nt,h(I,g)&&s.ref===l.ref)return ro(s,l,b)}return l.flags|=1,s=lo(M,g),s.ref=l.ref,s.return=l,l.child=s}function Io(s,l,h,g,b){if(s!==null){var M=s.memoizedProps;if(nt(M,g)&&s.ref===l.ref)if(Yr=!1,l.pendingProps=g=M,(s.lanes&b)!==0)(s.flags&131072)!==0&&(Yr=!0);else return l.lanes=s.lanes,ro(s,l,b)}return dh(s,l,h,g,b)}function ch(s,l,h){var g=l.pendingProps,b=g.children,M=s!==null?s.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rn(Ol,ki),ki|=h;else{if((h&1073741824)===0)return s=M!==null?M.baseLanes|h:h,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:s,cachePool:null,transitions:null},l.updateQueue=null,Rn(Ol,ki),ki|=s,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=M!==null?M.baseLanes:h,Rn(Ol,ki),ki|=g}else M!==null?(g=M.baseLanes|h,l.memoizedState=null):g=h,Rn(Ol,ki),ki|=g;return kr(s,l,b,h),l.child}function fh(s,l){var h=l.ref;(s===null&&h!==null||s!==null&&s.ref!==h)&&(l.flags|=512,l.flags|=2097152)}function dh(s,l,h,g,b){var M=ai(h)?Kr:Pr.current;return M=dl(l,M),Ps(l,b),h=Sa(s,l,h,g,M,b),g=of(),s!==null&&!Yr?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~b,ro(s,l,b)):(An&&g&&wu(l),l.flags|=1,kr(s,l,h,b),l.child)}function hh(s,l,h,g,b){if(ai(h)){var M=!0;Pi(l)}else M=!1;if(Ps(l,b),l.stateNode===null)vf(s,l),Ea(l,h,g),ah(l,h,g,b),g=!0;else if(s===null){var I=l.stateNode,$=l.memoizedProps;I.props=$;var X=I.context,ge=h.contextType;typeof ge=="object"&&ge!==null?ge=zi(ge):(ge=ai(h)?Kr:Pr.current,ge=dl(l,ge));var Pe=h.getDerivedStateFromProps,Ie=typeof Pe=="function"||typeof I.getSnapshotBeforeUpdate=="function";Ie||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||($!==g||X!==ge)&&Sl(l,I,g,ge),Bi=!1;var Ne=l.memoizedState;I.state=Ne,ml(l,g,I,b),X=l.memoizedState,$!==g||Ne!==X||si.current||Bi?(typeof Pe=="function"&&(df(l,h,Pe,g),X=l.memoizedState),($=Bi||sh(l,h,$,g,Ne,X,ge))?(Ie||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(l.flags|=4194308)):(typeof I.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=X),I.props=g,I.state=X,I.context=ge,g=$):(typeof I.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{I=l.stateNode,Tm(s,l),$=l.memoizedProps,ge=l.type===l.elementType?$:Hi(l.type,$),I.props=ge,Ie=l.pendingProps,Ne=I.context,X=h.contextType,typeof X=="object"&&X!==null?X=zi(X):(X=ai(h)?Kr:Pr.current,X=dl(l,X));var rt=h.getDerivedStateFromProps;(Pe=typeof rt=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||($!==Ie||Ne!==X)&&Sl(l,I,g,X),Bi=!1,Ne=l.memoizedState,I.state=Ne,ml(l,g,I,b);var dt=l.memoizedState;$!==Ie||Ne!==dt||si.current||Bi?(typeof rt=="function"&&(df(l,h,rt,g),dt=l.memoizedState),(ge=Bi||sh(l,h,ge,g,Ne,dt,X)||!1)?(Pe||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(g,dt,X),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(g,dt,X)),typeof I.componentDidUpdate=="function"&&(l.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof I.componentDidUpdate!="function"||$===s.memoizedProps&&Ne===s.memoizedState||(l.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||$===s.memoizedProps&&Ne===s.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=dt),I.props=g,I.state=dt,I.context=X,g=ge):(typeof I.componentDidUpdate!="function"||$===s.memoizedProps&&Ne===s.memoizedState||(l.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||$===s.memoizedProps&&Ne===s.memoizedState||(l.flags|=1024),g=!1)}return ph(s,l,h,g,M,b)}function ph(s,l,h,g,b,M){fh(s,l);var I=(l.flags&128)!==0;if(!g&&!I)return b&&Em(l,h,!1),ro(s,l,M);g=l.stateNode,gf.current=l;var $=I&&typeof h.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,s!==null&&I?(l.child=Vn(l,s.child,null,M),l.child=Vn(l,null,$,M)):kr(s,l,$,M),l.memoizedState=g.state,b&&Em(l,h,!0),l.child}function Fm(s){var l=s.stateNode;l.pendingContext?bm(s,l.pendingContext,l.pendingContext!==l.context):l.context&&bm(s,l.context,!1),Gd(s,l.containerInfo)}function zo(s,l,h,g,b){return No(),Ao(b),l.flags|=256,kr(s,l,h,g),l.child}var Au={dehydrated:null,treeContext:null,retryLane:0};function Du(s){return{baseLanes:s,cachePool:null,transitions:null}}function yf(s,l,h){var g=l.pendingProps,b=In.current,M=!1,I=(l.flags&128)!==0,$;if(($=I)||($=s!==null&&s.memoizedState===null?!1:(b&2)!==0),$?(M=!0,l.flags&=-129):(s===null||s.memoizedState!==null)&&(b|=1),Rn(In,b&1),s===null)return li(l),s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((l.mode&1)===0?l.lanes=1:s.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(I=g.children,s=g.fallback,M?(g=l.mode,M=l.child,I={mode:"hidden",children:I},(g&1)===0&&M!==null?(M.childLanes=0,M.pendingProps=I):M=Df(I,g,0,null),s=Ta(s,g,h,null),M.return=l,s.return=l,M.sibling=s,l.child=M,l.child.memoizedState=Du(h),l.memoizedState=Au,s):kl(l,I));if(b=s.memoizedState,b!==null&&($=b.dehydrated,$!==null))return Tt(s,l,I,g,$,b,h);if(M){M=g.fallback,I=l.mode,b=s.child,$=b.sibling;var X={mode:"hidden",children:g.children};return(I&1)===0&&l.child!==b?(g=l.child,g.childLanes=0,g.pendingProps=X,l.deletions=null):(g=lo(b,X),g.subtreeFlags=b.subtreeFlags&14680064),$!==null?M=lo($,M):(M=Ta(M,I,h,null),M.flags|=2),M.return=l,g.return=l,g.sibling=M,l.child=g,g=M,M=l.child,I=s.child.memoizedState,I=I===null?Du(h):{baseLanes:I.baseLanes|h,cachePool:null,transitions:I.transitions},M.memoizedState=I,M.childLanes=s.childLanes&~h,l.memoizedState=Au,g}return M=s.child,s=M.sibling,g=lo(M,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=h),g.return=l,g.sibling=null,s!==null&&(h=l.deletions,h===null?(l.deletions=[s],l.flags|=16):h.push(s)),l.child=g,l.memoizedState=null,g}function kl(s,l){return l=Df({mode:"visible",children:l},s.mode,0,null),l.return=s,s.child=l}function ds(s,l,h,g){return g!==null&&Ao(g),Vn(l,s.child,null,h),s=kl(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function Tt(s,l,h,g,b,M,I){if(h)return l.flags&256?(l.flags&=-257,g=pf(Error(t(422))),ds(s,l,I,g)):l.memoizedState!==null?(l.child=s.child,l.flags|=128,null):(M=g.fallback,b=l.mode,g=Df({mode:"visible",children:g.children},b,0,null),M=Ta(M,b,I,null),M.flags|=2,g.return=l,M.return=l,g.sibling=M,l.child=g,(l.mode&1)!==0&&Vn(l,s.child,null,I),l.child.memoizedState=Du(I),l.memoizedState=Au,M);if((l.mode&1)===0)return ds(s,l,I,null);if(b.data==="$!"){if(g=b.nextSibling&&b.nextSibling.dataset,g)var $=g.dgst;return g=$,M=Error(t(419)),g=pf(M,g,void 0),ds(s,l,I,g)}if($=(I&s.childLanes)!==0,Yr||$){if(g=gr,g!==null){switch(I&-I){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(g.suspendedLanes|I))!==0?0:b,b!==0&&b!==M.retryLane&&(M.retryLane=b,as(s,b),ao(g,s,b,-1))}return Th(),g=pf(Error(t(421))),ds(s,l,I,g)}return b.data==="$?"?(l.flags|=128,l.child=s.child,l=Bv.bind(null,s),b._reactRetry=l,null):(s=M.treeContext,bi=Ts(b.nextSibling),Ir=l,An=!0,to=null,s!==null&&(Li[Ii++]=Ro,Li[Ii++]=To,Li[Ii++]=ma,Ro=s.id,To=s.overflow,ma=l),l=kl(l,g.children),l.flags|=4096,l)}function Pu(s,l,h){s.lanes|=l;var g=s.alternate;g!==null&&(g.lanes|=l),Er(s.return,l,h)}function Lu(s,l,h,g,b){var M=s.memoizedState;M===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:b}:(M.isBackwards=l,M.rendering=null,M.renderingStartTime=0,M.last=g,M.tail=h,M.tailMode=b)}function zs(s,l,h){var g=l.pendingProps,b=g.revealOrder,M=g.tail;if(kr(s,l,g.children,h),g=In.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Pu(s,h,l);else if(s.tag===19)Pu(s,h,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}g&=1}if(Rn(In,g),(l.mode&1)===0)l.memoizedState=null;else switch(b){case"forwards":for(h=l.child,b=null;h!==null;)s=h.alternate,s!==null&&xa(s)===null&&(b=h),h=h.sibling;h=b,h===null?(b=l.child,l.child=null):(b=h.sibling,h.sibling=null),Lu(l,!1,b,h,M);break;case"backwards":for(h=null,b=l.child,l.child=null;b!==null;){if(s=b.alternate,s!==null&&xa(s)===null){l.child=b;break}s=b.sibling,b.sibling=h,h=b,b=s}Lu(l,!0,h,null,M);break;case"together":Lu(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function vf(s,l){(l.mode&1)===0&&s!==null&&(s.alternate=null,l.alternate=null,l.flags|=2)}function ro(s,l,h){if(s!==null&&(l.dependencies=s.dependencies),js|=l.lanes,(h&l.childLanes)===0)return null;if(s!==null&&l.child!==s.child)throw Error(t(153));if(l.child!==null){for(s=l.child,h=lo(s,s.pendingProps),l.child=h,h.return=l;s.sibling!==null;)s=s.sibling,h=h.sibling=lo(s,s.pendingProps),h.return=l;h.sibling=null}return l.child}function Hm(s,l,h){switch(l.tag){case 3:Fm(l),No();break;case 5:Kd(l);break;case 1:ai(l.type)&&Pi(l);break;case 4:Gd(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,b=l.memoizedProps.value;Rn(Su,g._currentValue),g._currentValue=b;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(Rn(In,In.current&1),l.flags|=128,null):(h&l.child.childLanes)!==0?yf(s,l,h):(Rn(In,In.current&1),s=ro(s,l,h),s!==null?s.sibling:null);Rn(In,In.current&1);break;case 19:if(g=(h&l.childLanes)!==0,(s.flags&128)!==0){if(g)return zs(s,l,h);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Rn(In,In.current),g)break;return null;case 22:case 23:return l.lanes=0,ch(s,l,h)}return ro(s,l,h)}var Cr,mh,$m,gh;Cr=function(s,l){for(var h=l.child;h!==null;){if(h.tag===5||h.tag===6)s.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},mh=function(){},$m=function(s,l,h,g){var b=s.memoizedProps;if(b!==g){s=l.stateNode,us(Do.current);var M=null;switch(h){case"input":b=ie(s,b),g=ie(s,g),M=[];break;case"select":b=he({},b,{value:void 0}),g=he({},g,{value:void 0}),M=[];break;case"textarea":b=ft(s,b),g=ft(s,g),M=[];break;default:typeof b.onClick!="function"&&typeof g.onClick=="function"&&(s.onclick=$c)}St(h,g);var I;h=null;for(ge in b)if(!g.hasOwnProperty(ge)&&b.hasOwnProperty(ge)&&b[ge]!=null)if(ge==="style"){var $=b[ge];for(I in $)$.hasOwnProperty(I)&&(h||(h={}),h[I]="")}else ge!=="dangerouslySetInnerHTML"&&ge!=="children"&&ge!=="suppressContentEditableWarning"&&ge!=="suppressHydrationWarning"&&ge!=="autoFocus"&&(i.hasOwnProperty(ge)?M||(M=[]):(M=M||[]).push(ge,null));for(ge in g){var X=g[ge];if($=b!=null?b[ge]:void 0,g.hasOwnProperty(ge)&&X!==$&&(X!=null||$!=null))if(ge==="style")if($){for(I in $)!$.hasOwnProperty(I)||X&&X.hasOwnProperty(I)||(h||(h={}),h[I]="");for(I in X)X.hasOwnProperty(I)&&$[I]!==X[I]&&(h||(h={}),h[I]=X[I])}else h||(M||(M=[]),M.push(ge,h)),h=X;else ge==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,$=$?$.__html:void 0,X!=null&&$!==X&&(M=M||[]).push(ge,X)):ge==="children"?typeof X!="string"&&typeof X!="number"||(M=M||[]).push(ge,""+X):ge!=="suppressContentEditableWarning"&&ge!=="suppressHydrationWarning"&&(i.hasOwnProperty(ge)?(X!=null&&ge==="onScroll"&&_n("scroll",s),M||$===X||(M=[])):(M=M||[]).push(ge,X))}h&&(M=M||[]).push("style",h);var ge=M;(l.updateQueue=ge)&&(l.flags|=4)}},gh=function(s,l,h,g){h!==g&&(l.flags|=4)};function Iu(s,l){if(!An)switch(s.tailMode){case"hidden":l=s.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function Mr(s){var l=s.alternate!==null&&s.alternate.child===s.child,h=0,g=0;if(l)for(var b=s.child;b!==null;)h|=b.lanes|b.childLanes,g|=b.subtreeFlags&14680064,g|=b.flags&14680064,b.return=s,b=b.sibling;else for(b=s.child;b!==null;)h|=b.lanes|b.childLanes,g|=b.subtreeFlags,g|=b.flags,b.return=s,b=b.sibling;return s.subtreeFlags|=g,s.childLanes=h,l}function _v(s,l,h){var g=l.pendingProps;switch(ya(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mr(l),null;case 1:return ai(l.type)&&qc(),Mr(l),null;case 3:return g=l.stateNode,Ls(),Nn(si),Nn(Pr),rf(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(s===null||s.child===null)&&(xu(l)?l.flags|=4:s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,to!==null&&(Mh(to),to=null))),mh(s,l),Mr(l),null;case 5:nf(l);var b=us(gl.current);if(h=l.type,s!==null&&l.stateNode!=null)$m(s,l,h,g,b),s.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(t(166));return Mr(l),null}if(s=us(Do.current),xu(l)){g=l.stateNode,h=l.type;var M=l.memoizedProps;switch(g[Mo]=l,g[_s]=M,s=(l.mode&1)!==0,h){case"dialog":_n("cancel",g),_n("close",g);break;case"iframe":case"object":case"embed":_n("load",g);break;case"video":case"audio":for(b=0;b<ns.length;b++)_n(ns[b],g);break;case"source":_n("error",g);break;case"img":case"image":case"link":_n("error",g),_n("load",g);break;case"details":_n("toggle",g);break;case"input":Fe(g,M),_n("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!M.multiple},_n("invalid",g);break;case"textarea":_t(g,M),_n("invalid",g)}St(h,M),b=null;for(var I in M)if(M.hasOwnProperty(I)){var $=M[I];I==="children"?typeof $=="string"?g.textContent!==$&&(M.suppressHydrationWarning!==!0&&mu(g.textContent,$,s),b=["children",$]):typeof $=="number"&&g.textContent!==""+$&&(M.suppressHydrationWarning!==!0&&mu(g.textContent,$,s),b=["children",""+$]):i.hasOwnProperty(I)&&$!=null&&I==="onScroll"&&_n("scroll",g)}switch(h){case"input":Y(g),Je(g,M,!0);break;case"textarea":Y(g),Cn(g);break;case"select":case"option":break;default:typeof M.onClick=="function"&&(g.onclick=$c)}g=b,l.updateQueue=g,g!==null&&(l.flags|=4)}else{I=b.nodeType===9?b:b.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=vn(h)),s==="http://www.w3.org/1999/xhtml"?h==="script"?(s=I.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof g.is=="string"?s=I.createElement(h,{is:g.is}):(s=I.createElement(h),h==="select"&&(I=s,g.multiple?I.multiple=!0:g.size&&(I.size=g.size))):s=I.createElementNS(s,h),s[Mo]=l,s[_s]=g,Cr(s,l,!1,!1),l.stateNode=s;e:{switch(I=$t(h,g),h){case"dialog":_n("cancel",s),_n("close",s),b=g;break;case"iframe":case"object":case"embed":_n("load",s),b=g;break;case"video":case"audio":for(b=0;b<ns.length;b++)_n(ns[b],s);b=g;break;case"source":_n("error",s),b=g;break;case"img":case"image":case"link":_n("error",s),_n("load",s),b=g;break;case"details":_n("toggle",s),b=g;break;case"input":Fe(s,g),b=ie(s,g),_n("invalid",s);break;case"option":b=g;break;case"select":s._wrapperState={wasMultiple:!!g.multiple},b=he({},g,{value:void 0}),_n("invalid",s);break;case"textarea":_t(s,g),b=ft(s,g),_n("invalid",s);break;default:b=g}St(h,b),$=b;for(M in $)if($.hasOwnProperty(M)){var X=$[M];M==="style"?ve(s,X):M==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,X!=null&&Ct(s,X)):M==="children"?typeof X=="string"?(h!=="textarea"||X!=="")&&Ft(s,X):typeof X=="number"&&Ft(s,""+X):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(i.hasOwnProperty(M)?X!=null&&M==="onScroll"&&_n("scroll",s):X!=null&&N(s,M,X,I))}switch(h){case"input":Y(s),Je(s,g,!1);break;case"textarea":Y(s),Cn(s);break;case"option":g.value!=null&&s.setAttribute("value",""+ke(g.value));break;case"select":s.multiple=!!g.multiple,M=g.value,M!=null?Xe(s,!!g.multiple,M,!1):g.defaultValue!=null&&Xe(s,!!g.multiple,g.defaultValue,!0);break;default:typeof b.onClick=="function"&&(s.onclick=$c)}switch(h){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Mr(l),null;case 6:if(s&&l.stateNode!=null)gh(s,l,s.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(t(166));if(h=us(gl.current),us(Do.current),xu(l)){if(g=l.stateNode,h=l.memoizedProps,g[Mo]=l,(M=g.nodeValue!==h)&&(s=Ir,s!==null))switch(s.tag){case 3:mu(g.nodeValue,h,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&mu(g.nodeValue,h,(s.mode&1)!==0)}M&&(l.flags|=4)}else g=(h.nodeType===9?h:h.ownerDocument).createTextNode(g),g[Mo]=l,l.stateNode=g}return Mr(l),null;case 13:if(Nn(In),g=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(An&&bi!==null&&(l.mode&1)!==0&&(l.flags&128)===0)Ud(),No(),l.flags|=98560,M=!1;else if(M=xu(l),g!==null&&g.dehydrated!==null){if(s===null){if(!M)throw Error(t(318));if(M=l.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(t(317));M[Mo]=l}else No(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Mr(l),M=!1}else to!==null&&(Mh(to),to=null),M=!0;if(!M)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=h,l):(g=g!==null,g!==(s!==null&&s.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(s===null||(In.current&1)!==0?lr===0&&(lr=3):Th())),l.updateQueue!==null&&(l.flags|=4),Mr(l),null);case 4:return Ls(),mh(s,l),s===null&&Os(l.stateNode.containerInfo),Mr(l),null;case 10:return Qc(l.type._context),Mr(l),null;case 17:return ai(l.type)&&qc(),Mr(l),null;case 19:if(Nn(In),M=l.memoizedState,M===null)return Mr(l),null;if(g=(l.flags&128)!==0,I=M.rendering,I===null)if(g)Iu(M,!1);else{if(lr!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(I=xa(s),I!==null){for(l.flags|=128,Iu(M,!1),g=I.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=h,h=l.child;h!==null;)M=h,s=g,M.flags&=14680066,I=M.alternate,I===null?(M.childLanes=0,M.lanes=s,M.child=null,M.subtreeFlags=0,M.memoizedProps=null,M.memoizedState=null,M.updateQueue=null,M.dependencies=null,M.stateNode=null):(M.childLanes=I.childLanes,M.lanes=I.lanes,M.child=I.child,M.subtreeFlags=0,M.deletions=null,M.memoizedProps=I.memoizedProps,M.memoizedState=I.memoizedState,M.updateQueue=I.updateQueue,M.type=I.type,s=I.dependencies,M.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),h=h.sibling;return Rn(In,In.current&1|2),l.child}s=s.sibling}M.tail!==null&&hn()>Ca&&(l.flags|=128,g=!0,Iu(M,!1),l.lanes=4194304)}else{if(!g)if(s=xa(I),s!==null){if(l.flags|=128,g=!0,h=s.updateQueue,h!==null&&(l.updateQueue=h,l.flags|=4),Iu(M,!0),M.tail===null&&M.tailMode==="hidden"&&!I.alternate&&!An)return Mr(l),null}else 2*hn()-M.renderingStartTime>Ca&&h!==1073741824&&(l.flags|=128,g=!0,Iu(M,!1),l.lanes=4194304);M.isBackwards?(I.sibling=l.child,l.child=I):(h=M.last,h!==null?h.sibling=I:l.child=I,M.last=I)}return M.tail!==null?(l=M.tail,M.rendering=l,M.tail=l.sibling,M.renderingStartTime=hn(),l.sibling=null,h=In.current,Rn(In,g?h&1|2:h&1),l):(Mr(l),null);case 22:case 23:return Rh(),g=l.memoizedState!==null,s!==null&&s.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(ki&1073741824)!==0&&(Mr(l),l.subtreeFlags&6&&(l.flags|=8192)):Mr(l),null;case 24:return null;case 25:return null}throw Error(t(156,l.tag))}function Nv(s,l){switch(ya(l),l.tag){case 1:return ai(l.type)&&qc(),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return Ls(),Nn(si),Nn(Pr),rf(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 5:return nf(l),null;case 13:if(Nn(In),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(t(340));No()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return Nn(In),null;case 4:return Ls(),null;case 10:return Qc(l.type._context),null;case 22:case 23:return Rh(),null;case 24:return null;default:return null}}var wf=!1,zn=!1,Xr=typeof WeakSet=="function"?WeakSet:Set,st=null;function Cl(s,l){var h=s.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(g){Fn(s,l,g)}else h.current=null}function zu(s,l,h){try{h()}catch(g){Fn(s,l,g)}}var Um=!1;function Av(s,l){if(gu=kc,s=En(),uu(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var b=g.anchorOffset,M=g.focusNode;g=g.focusOffset;try{h.nodeType,M.nodeType}catch{h=null;break e}var I=0,$=-1,X=-1,ge=0,Pe=0,Ie=s,Ne=null;t:for(;;){for(var rt;Ie!==h||b!==0&&Ie.nodeType!==3||($=I+b),Ie!==M||g!==0&&Ie.nodeType!==3||(X=I+g),Ie.nodeType===3&&(I+=Ie.nodeValue.length),(rt=Ie.firstChild)!==null;)Ne=Ie,Ie=rt;for(;;){if(Ie===s)break t;if(Ne===h&&++ge===b&&($=I),Ne===M&&++Pe===g&&(X=I),(rt=Ie.nextSibling)!==null)break;Ie=Ne,Ne=Ie.parentNode}Ie=rt}h=$===-1||X===-1?null:{start:$,end:X}}else h=null}h=h||{start:0,end:0}}else h=null;for(ha={focusedElem:s,selectionRange:h},kc=!1,st=l;st!==null;)if(l=st,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,st=s;else for(;st!==null;){l=st;try{var dt=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(dt!==null){var ht=dt.memoizedProps,Kn=dt.memoizedState,le=l.stateNode,te=le.getSnapshotBeforeUpdate(l.elementType===l.type?ht:Hi(l.type,ht),Kn);le.__reactInternalSnapshotBeforeUpdate=te}break;case 3:var fe=l.stateNode.containerInfo;fe.nodeType===1?fe.textContent="":fe.nodeType===9&&fe.documentElement&&fe.removeChild(fe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(je){Fn(l,l.return,je)}if(s=l.sibling,s!==null){s.return=l.return,st=s;break}st=l.return}return dt=Um,Um=!1,dt}function hs(s,l,h){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var b=g=g.next;do{if((b.tag&s)===s){var M=b.destroy;b.destroy=void 0,M!==void 0&&zu(l,h,M)}b=b.next}while(b!==g)}}function Bu(s,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var h=l=l.next;do{if((h.tag&s)===s){var g=h.create;h.destroy=g()}h=h.next}while(h!==l)}}function xf(s){var l=s.ref;if(l!==null){var h=s.stateNode;switch(s.tag){case 5:s=h;break;default:s=h}typeof l=="function"?l(s):l.current=s}}function Wm(s){var l=s.alternate;l!==null&&(s.alternate=null,Wm(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&(delete l[Mo],delete l[_s],delete l[Wc],delete l[B],delete l[cl])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Vm(s){return s.tag===5||s.tag===3||s.tag===4}function qm(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Vm(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function yh(s,l,h){var g=s.tag;if(g===5||g===6)s=s.stateNode,l?h.nodeType===8?h.parentNode.insertBefore(s,l):h.insertBefore(s,l):(h.nodeType===8?(l=h.parentNode,l.insertBefore(s,h)):(l=h,l.appendChild(s)),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=$c));else if(g!==4&&(s=s.child,s!==null))for(yh(s,l,h),s=s.sibling;s!==null;)yh(s,l,h),s=s.sibling}function bf(s,l,h){var g=s.tag;if(g===5||g===6)s=s.stateNode,l?h.insertBefore(s,l):h.appendChild(s);else if(g!==4&&(s=s.child,s!==null))for(bf(s,l,h),s=s.sibling;s!==null;)bf(s,l,h),s=s.sibling}var mr=null,io=!1;function Bo(s,l,h){for(h=h.child;h!==null;)vh(s,l,h),h=h.sibling}function vh(s,l,h){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(It,h)}catch{}switch(h.tag){case 5:zn||Cl(h,l);case 6:var g=mr,b=io;mr=null,Bo(s,l,h),mr=g,io=b,mr!==null&&(io?(s=mr,h=h.stateNode,s.nodeType===8?s.parentNode.removeChild(h):s.removeChild(h)):mr.removeChild(h.stateNode));break;case 18:mr!==null&&(io?(s=mr,h=h.stateNode,s.nodeType===8?Fd(s.parentNode,h):s.nodeType===1&&Fd(s,h),xn(s)):Fd(mr,h.stateNode));break;case 4:g=mr,b=io,mr=h.stateNode.containerInfo,io=!0,Bo(s,l,h),mr=g,io=b;break;case 0:case 11:case 14:case 15:if(!zn&&(g=h.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){b=g=g.next;do{var M=b,I=M.destroy;M=M.tag,I!==void 0&&((M&2)!==0||(M&4)!==0)&&zu(h,l,I),b=b.next}while(b!==g)}Bo(s,l,h);break;case 1:if(!zn&&(Cl(h,l),g=h.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=h.memoizedProps,g.state=h.memoizedState,g.componentWillUnmount()}catch($){Fn(h,l,$)}Bo(s,l,h);break;case 21:Bo(s,l,h);break;case 22:h.mode&1?(zn=(g=zn)||h.memoizedState!==null,Bo(s,l,h),zn=g):Bo(s,l,h);break;default:Bo(s,l,h)}}function Ml(s){var l=s.updateQueue;if(l!==null){s.updateQueue=null;var h=s.stateNode;h===null&&(h=s.stateNode=new Xr),l.forEach(function(g){var b=jv.bind(null,s,g);h.has(g)||(h.add(g),g.then(b,b))})}}function Ei(s,l){var h=l.deletions;if(h!==null)for(var g=0;g<h.length;g++){var b=h[g];try{var M=s,I=l,$=I;e:for(;$!==null;){switch($.tag){case 5:mr=$.stateNode,io=!1;break e;case 3:mr=$.stateNode.containerInfo,io=!0;break e;case 4:mr=$.stateNode.containerInfo,io=!0;break e}$=$.return}if(mr===null)throw Error(t(160));vh(M,I,b),mr=null,io=!1;var X=b.alternate;X!==null&&(X.return=null),b.return=null}catch(ge){Fn(b,l,ge)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)wh(l,s),l=l.sibling}function wh(s,l){var h=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Ei(l,s),oo(s),g&4){try{hs(3,s,s.return),Bu(3,s)}catch(ht){Fn(s,s.return,ht)}try{hs(5,s,s.return)}catch(ht){Fn(s,s.return,ht)}}break;case 1:Ei(l,s),oo(s),g&512&&h!==null&&Cl(h,h.return);break;case 5:if(Ei(l,s),oo(s),g&512&&h!==null&&Cl(h,h.return),s.flags&32){var b=s.stateNode;try{Ft(b,"")}catch(ht){Fn(s,s.return,ht)}}if(g&4&&(b=s.stateNode,b!=null)){var M=s.memoizedProps,I=h!==null?h.memoizedProps:M,$=s.type,X=s.updateQueue;if(s.updateQueue=null,X!==null)try{$==="input"&&M.type==="radio"&&M.name!=null&&Oe(b,M),$t($,I);var ge=$t($,M);for(I=0;I<X.length;I+=2){var Pe=X[I],Ie=X[I+1];Pe==="style"?ve(b,Ie):Pe==="dangerouslySetInnerHTML"?Ct(b,Ie):Pe==="children"?Ft(b,Ie):N(b,Pe,Ie,ge)}switch($){case"input":Ge(b,M);break;case"textarea":Qt(b,M);break;case"select":var Ne=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!M.multiple;var rt=M.value;rt!=null?Xe(b,!!M.multiple,rt,!1):Ne!==!!M.multiple&&(M.defaultValue!=null?Xe(b,!!M.multiple,M.defaultValue,!0):Xe(b,!!M.multiple,M.multiple?[]:"",!1))}b[_s]=M}catch(ht){Fn(s,s.return,ht)}}break;case 6:if(Ei(l,s),oo(s),g&4){if(s.stateNode===null)throw Error(t(162));b=s.stateNode,M=s.memoizedProps;try{b.nodeValue=M}catch(ht){Fn(s,s.return,ht)}}break;case 3:if(Ei(l,s),oo(s),g&4&&h!==null&&h.memoizedState.isDehydrated)try{xn(l.containerInfo)}catch(ht){Fn(s,s.return,ht)}break;case 4:Ei(l,s),oo(s);break;case 13:Ei(l,s),oo(s),b=s.child,b.flags&8192&&(M=b.memoizedState!==null,b.stateNode.isHidden=M,!M||b.alternate!==null&&b.alternate.memoizedState!==null||(Sh=hn())),g&4&&Ml(s);break;case 22:if(Pe=h!==null&&h.memoizedState!==null,s.mode&1?(zn=(ge=zn)||Pe,Ei(l,s),zn=ge):Ei(l,s),oo(s),g&8192){if(ge=s.memoizedState!==null,(s.stateNode.isHidden=ge)&&!Pe&&(s.mode&1)!==0)for(st=s,Pe=s.child;Pe!==null;){for(Ie=st=Pe;st!==null;){switch(Ne=st,rt=Ne.child,Ne.tag){case 0:case 11:case 14:case 15:hs(4,Ne,Ne.return);break;case 1:Cl(Ne,Ne.return);var dt=Ne.stateNode;if(typeof dt.componentWillUnmount=="function"){g=Ne,h=Ne.return;try{l=g,dt.props=l.memoizedProps,dt.state=l.memoizedState,dt.componentWillUnmount()}catch(ht){Fn(g,h,ht)}}break;case 5:Cl(Ne,Ne.return);break;case 22:if(Ne.memoizedState!==null){Bs(Ie);continue}}rt!==null?(rt.return=Ne,st=rt):Bs(Ie)}Pe=Pe.sibling}e:for(Pe=null,Ie=s;;){if(Ie.tag===5){if(Pe===null){Pe=Ie;try{b=Ie.stateNode,ge?(M=b.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none"):($=Ie.stateNode,X=Ie.memoizedProps.style,I=X!=null&&X.hasOwnProperty("display")?X.display:null,$.style.display=mi("display",I))}catch(ht){Fn(s,s.return,ht)}}}else if(Ie.tag===6){if(Pe===null)try{Ie.stateNode.nodeValue=ge?"":Ie.memoizedProps}catch(ht){Fn(s,s.return,ht)}}else if((Ie.tag!==22&&Ie.tag!==23||Ie.memoizedState===null||Ie===s)&&Ie.child!==null){Ie.child.return=Ie,Ie=Ie.child;continue}if(Ie===s)break e;for(;Ie.sibling===null;){if(Ie.return===null||Ie.return===s)break e;Pe===Ie&&(Pe=null),Ie=Ie.return}Pe===Ie&&(Pe=null),Ie.sibling.return=Ie.return,Ie=Ie.sibling}}break;case 19:Ei(l,s),oo(s),g&4&&Ml(s);break;case 21:break;default:Ei(l,s),oo(s)}}function oo(s){var l=s.flags;if(l&2){try{e:{for(var h=s.return;h!==null;){if(Vm(h)){var g=h;break e}h=h.return}throw Error(t(160))}switch(g.tag){case 5:var b=g.stateNode;g.flags&32&&(Ft(b,""),g.flags&=-33);var M=qm(s);bf(s,M,b);break;case 3:case 4:var I=g.stateNode.containerInfo,$=qm(s);yh(s,$,I);break;default:throw Error(t(161))}}catch(X){Fn(s,s.return,X)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function Sf(s,l,h){st=s,xh(s)}function xh(s,l,h){for(var g=(s.mode&1)!==0;st!==null;){var b=st,M=b.child;if(b.tag===22&&g){var I=b.memoizedState!==null||wf;if(!I){var $=b.alternate,X=$!==null&&$.memoizedState!==null||zn;$=wf;var ge=zn;if(wf=I,(zn=X)&&!ge)for(st=b;st!==null;)I=st,X=I.child,I.tag===22&&I.memoizedState!==null?Gm(b):X!==null?(X.return=I,st=X):Gm(b);for(;M!==null;)st=M,xh(M),M=M.sibling;st=b,wf=$,zn=ge}so(s)}else(b.subtreeFlags&8772)!==0&&M!==null?(M.return=b,st=M):so(s)}}function so(s){for(;st!==null;){var l=st;if((l.flags&8772)!==0){var h=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:zn||Bu(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!zn)if(h===null)g.componentDidMount();else{var b=l.elementType===l.type?h.memoizedProps:Hi(l.type,h.memoizedProps);g.componentDidUpdate(b,h.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var M=l.updateQueue;M!==null&&qd(l,M,g);break;case 3:var I=l.updateQueue;if(I!==null){if(h=null,l.child!==null)switch(l.child.tag){case 5:h=l.child.stateNode;break;case 1:h=l.child.stateNode}qd(l,I,h)}break;case 5:var $=l.stateNode;if(h===null&&l.flags&4){h=$;var X=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":X.autoFocus&&h.focus();break;case"img":X.src&&(h.src=X.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var ge=l.alternate;if(ge!==null){var Pe=ge.memoizedState;if(Pe!==null){var Ie=Pe.dehydrated;Ie!==null&&xn(Ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}zn||l.flags&512&&xf(l)}catch(Ne){Fn(l,l.return,Ne)}}if(l===s){st=null;break}if(h=l.sibling,h!==null){h.return=l.return,st=h;break}st=l.return}}function Bs(s){for(;st!==null;){var l=st;if(l===s){st=null;break}var h=l.sibling;if(h!==null){h.return=l.return,st=h;break}st=l.return}}function Gm(s){for(;st!==null;){var l=st;try{switch(l.tag){case 0:case 11:case 15:var h=l.return;try{Bu(4,l)}catch(X){Fn(l,h,X)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var b=l.return;try{g.componentDidMount()}catch(X){Fn(l,b,X)}}var M=l.return;try{xf(l)}catch(X){Fn(l,M,X)}break;case 5:var I=l.return;try{xf(l)}catch(X){Fn(l,I,X)}}}catch(X){Fn(l,l.return,X)}if(l===s){st=null;break}var $=l.sibling;if($!==null){$.return=l.return,st=$;break}st=l.return}}var Km=Math.ceil,Ef=T.ReactCurrentDispatcher,bh=T.ReactCurrentOwner,$i=T.ReactCurrentBatchConfig,fn=0,gr=null,nr=null,Or=0,ki=0,Ol=oi(0),lr=0,ju=null,js=0,Fu=0,kf=0,Hu=null,ci=null,Sh=0,Ca=1/0,ps=null,Cf=!1,Eh=null,Fs=null,Mf=!1,Hs=null,Qr=0,$u=0,kh=null,Of=-1,Uu=0;function Zr(){return(fn&6)!==0?hn():Of!==-1?Of:Of=hn()}function $s(s){return(s.mode&1)===0?1:(fn&2)!==0&&Or!==0?Or&-Or:Om.transition!==null?(Uu===0&&(Uu=su()),Uu):(s=ln,s!==0||(s=window.event,s=s===void 0?16:Zp(s.type)),s)}function ao(s,l,h,g){if(50<$u)throw $u=0,kh=null,Error(t(185));bs(s,h,g),((fn&2)===0||s!==gr)&&(s===gr&&((fn&2)===0&&(Fu|=h),lr===4&&Us(s,Or)),fi(s,g),h===1&&fn===0&&(l.mode&1)===0&&(Ca=hn()+500,Gc&&As()))}function fi(s,l){var h=s.callbackNode;xd(s,l);var g=So(s,s===gr?Or:0);if(g===0)h!==null&&br(h),s.callbackNode=null,s.callbackPriority=0;else if(l=g&-g,s.callbackPriority!==l){if(h!=null&&br(h),l===1)s.tag===0?pa(Jm.bind(null,s)):km(Jm.bind(null,s)),Uc(function(){(fn&6)===0&&As()}),h=null;else{switch(Rt(g)){case 1:h=gi;break;case 4:h=Ni;break;case 16:h=on;break;case 536870912:h=at;break;default:h=on}h=ng(h,Rf.bind(null,s))}s.callbackPriority=l,s.callbackNode=h}}function Rf(s,l){if(Of=-1,Uu=0,(fn&6)!==0)throw Error(t(327));var h=s.callbackNode;if(Rl()&&s.callbackNode!==h)return null;var g=So(s,s===gr?Or:0);if(g===0)return null;if((g&30)!==0||(g&s.expiredLanes)!==0||l)l=Tf(s,g);else{l=g;var b=fn;fn|=2;var M=Xm();(gr!==s||Or!==l)&&(ps=null,Ca=hn()+500,Oa(s,l));do try{Lv();break}catch($){Ym(s,$)}while(!0);ss(),Ef.current=M,fn=b,nr!==null?l=0:(gr=null,Or=0,l=lr)}if(l!==0){if(l===2&&(b=Ka(s),b!==0&&(g=b,l=Ch(s,b))),l===1)throw h=ju,Oa(s,0),Us(s,g),fi(s,hn()),h;if(l===6)Us(s,g);else{if(b=s.current.alternate,(g&30)===0&&!Dv(b)&&(l=Tf(s,g),l===2&&(M=Ka(s),M!==0&&(g=M,l=Ch(s,M))),l===1))throw h=ju,Oa(s,0),Us(s,g),fi(s,hn()),h;switch(s.finishedWork=b,s.finishedLanes=g,l){case 0:case 1:throw Error(t(345));case 2:Ra(s,ci,ps);break;case 3:if(Us(s,g),(g&130023424)===g&&(l=Sh+500-hn(),10<l)){if(So(s,0)!==0)break;if(b=s.suspendedLanes,(b&g)!==g){Zr(),s.pingedLanes|=s.suspendedLanes&b;break}s.timeoutHandle=Rs(Ra.bind(null,s,ci,ps),l);break}Ra(s,ci,ps);break;case 4:if(Us(s,g),(g&4194240)===g)break;for(l=s.eventTimes,b=-1;0<g;){var I=31-wn(g);M=1<<I,I=l[I],I>b&&(b=I),g&=~M}if(g=b,g=hn()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*Km(g/1960))-g,10<g){s.timeoutHandle=Rs(Ra.bind(null,s,ci,ps),g);break}Ra(s,ci,ps);break;case 5:Ra(s,ci,ps);break;default:throw Error(t(329))}}}return fi(s,hn()),s.callbackNode===h?Rf.bind(null,s):null}function Ch(s,l){var h=Hu;return s.current.memoizedState.isDehydrated&&(Oa(s,l).flags|=256),s=Tf(s,l),s!==2&&(l=ci,ci=h,l!==null&&Mh(l)),s}function Mh(s){ci===null?ci=s:ci.push.apply(ci,s)}function Dv(s){for(var l=s;;){if(l.flags&16384){var h=l.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var g=0;g<h.length;g++){var b=h[g],M=b.getSnapshot;b=b.value;try{if(!me(M(),b))return!1}catch{return!1}}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Us(s,l){for(l&=~kf,l&=~Fu,s.suspendedLanes|=l,s.pingedLanes&=~l,s=s.expirationTimes;0<l;){var h=31-wn(l),g=1<<h;s[h]=-1,l&=~g}}function Jm(s){if((fn&6)!==0)throw Error(t(327));Rl();var l=So(s,0);if((l&1)===0)return fi(s,hn()),null;var h=Tf(s,l);if(s.tag!==0&&h===2){var g=Ka(s);g!==0&&(l=g,h=Ch(s,g))}if(h===1)throw h=ju,Oa(s,0),Us(s,l),fi(s,hn()),h;if(h===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=l,Ra(s,ci,ps),fi(s,hn()),null}function Oh(s,l){var h=fn;fn|=1;try{return s(l)}finally{fn=h,fn===0&&(Ca=hn()+500,Gc&&As())}}function Ma(s){Hs!==null&&Hs.tag===0&&(fn&6)===0&&Rl();var l=fn;fn|=1;var h=$i.transition,g=ln;try{if($i.transition=null,ln=1,s)return s()}finally{ln=g,$i.transition=h,fn=l,(fn&6)===0&&As()}}function Rh(){ki=Ol.current,Nn(Ol)}function Oa(s,l){s.finishedWork=null,s.finishedLanes=0;var h=s.timeoutHandle;if(h!==-1&&(s.timeoutHandle=-1,vu(h)),nr!==null)for(h=nr.return;h!==null;){var g=h;switch(ya(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&qc();break;case 3:Ls(),Nn(si),Nn(Pr),rf();break;case 5:nf(g);break;case 4:Ls();break;case 13:Nn(In);break;case 19:Nn(In);break;case 10:Qc(g.type._context);break;case 22:case 23:Rh()}h=h.return}if(gr=s,nr=s=lo(s.current,null),Or=ki=l,lr=0,ju=null,kf=Fu=js=0,ci=Hu=null,wa!==null){for(l=0;l<wa.length;l++)if(h=wa[l],g=h.interleaved,g!==null){h.interleaved=null;var b=g.next,M=h.pending;if(M!==null){var I=M.next;M.next=b,g.next=I}h.pending=g}wa=null}return s}function Ym(s,l){do{var h=nr;try{if(ss(),Cu.current=cf,yl){for(var g=jn.memoizedState;g!==null;){var b=g.queue;b!==null&&(b.pending=null),g=g.next}yl=!1}if(Is=0,ar=Gn=jn=null,Mu=!1,ba=0,bh.current=null,h===null||h.return===null){lr=1,ju=l,nr=null;break}e:{var M=s,I=h.return,$=h,X=l;if(l=Or,$.flags|=32768,X!==null&&typeof X=="object"&&typeof X.then=="function"){var ge=X,Pe=$,Ie=Pe.tag;if((Pe.mode&1)===0&&(Ie===0||Ie===11||Ie===15)){var Ne=Pe.alternate;Ne?(Pe.updateQueue=Ne.updateQueue,Pe.memoizedState=Ne.memoizedState,Pe.lanes=Ne.lanes):(Pe.updateQueue=null,Pe.memoizedState=null)}var rt=Bm(I);if(rt!==null){rt.flags&=-257,lh(rt,I,$,M,l),rt.mode&1&&Nu(M,ge,l),l=rt,X=ge;var dt=l.updateQueue;if(dt===null){var ht=new Set;ht.add(X),l.updateQueue=ht}else dt.add(X);break e}else{if((l&1)===0){Nu(M,ge,l),Th();break e}X=Error(t(426))}}else if(An&&$.mode&1){var Kn=Bm(I);if(Kn!==null){(Kn.flags&65536)===0&&(Kn.flags|=256),lh(Kn,I,$,M,l),Ao(ka(X,$));break e}}M=X=ka(X,$),lr!==4&&(lr=2),Hu===null?Hu=[M]:Hu.push(M),M=I;do{switch(M.tag){case 3:M.flags|=65536,l&=-l,M.lanes|=l;var le=_u(M,X,l);_m(M,le);break e;case 1:$=X;var te=M.type,fe=M.stateNode;if((M.flags&128)===0&&(typeof te.getDerivedStateFromError=="function"||fe!==null&&typeof fe.componentDidCatch=="function"&&(Fs===null||!Fs.has(fe)))){M.flags|=65536,l&=-l,M.lanes|=l;var je=mf(M,$,l);_m(M,je);break e}}M=M.return}while(M!==null)}Zm(h)}catch(wt){l=wt,nr===h&&h!==null&&(nr=h=h.return);continue}break}while(!0)}function Xm(){var s=Ef.current;return Ef.current=cf,s===null?cf:s}function Th(){(lr===0||lr===3||lr===2)&&(lr=4),gr===null||(js&268435455)===0&&(Fu&268435455)===0||Us(gr,Or)}function Tf(s,l){var h=fn;fn|=2;var g=Xm();(gr!==s||Or!==l)&&(ps=null,Oa(s,l));do try{Pv();break}catch(b){Ym(s,b)}while(!0);if(ss(),fn=h,Ef.current=g,nr!==null)throw Error(t(261));return gr=null,Or=0,lr}function Pv(){for(;nr!==null;)Qm(nr)}function Lv(){for(;nr!==null&&!Zn();)Qm(nr)}function Qm(s){var l=tg(s.alternate,s,ki);s.memoizedProps=s.pendingProps,l===null?Zm(s):nr=l,bh.current=null}function Zm(s){var l=s;do{var h=l.alternate;if(s=l.return,(l.flags&32768)===0){if(h=_v(h,l,ki),h!==null){nr=h;return}}else{if(h=Nv(h,l),h!==null){h.flags&=32767,nr=h;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{lr=6,nr=null;return}}if(l=l.sibling,l!==null){nr=l;return}nr=l=s}while(l!==null);lr===0&&(lr=5)}function Ra(s,l,h){var g=ln,b=$i.transition;try{$i.transition=null,ln=1,Iv(s,l,h,g)}finally{$i.transition=b,ln=g}return null}function Iv(s,l,h,g){do Rl();while(Hs!==null);if((fn&6)!==0)throw Error(t(327));h=s.finishedWork;var b=s.finishedLanes;if(h===null)return null;if(s.finishedWork=null,s.finishedLanes=0,h===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var M=h.lanes|h.childLanes;if(yi(s,M),s===gr&&(nr=gr=null,Or=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||Mf||(Mf=!0,ng(on,function(){return Rl(),null})),M=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||M){M=$i.transition,$i.transition=null;var I=ln;ln=1;var $=fn;fn|=4,bh.current=null,Av(s,h),wh(h,s),Mv(ha),kc=!!gu,ha=gu=null,s.current=h,Sf(h),bo(),fn=$,ln=I,$i.transition=M}else s.current=h;if(Mf&&(Mf=!1,Hs=s,Qr=b),M=s.pendingLanes,M===0&&(Fs=null),Ut(h.stateNode),fi(s,hn()),l!==null)for(g=s.onRecoverableError,h=0;h<l.length;h++)b=l[h],g(b.value,{componentStack:b.stack,digest:b.digest});if(Cf)throw Cf=!1,s=Eh,Eh=null,s;return(Qr&1)!==0&&s.tag!==0&&Rl(),M=s.pendingLanes,(M&1)!==0?s===kh?$u++:($u=0,kh=s):$u=0,As(),null}function Rl(){if(Hs!==null){var s=Rt(Qr),l=$i.transition,h=ln;try{if($i.transition=null,ln=16>s?16:s,Hs===null)var g=!1;else{if(s=Hs,Hs=null,Qr=0,(fn&6)!==0)throw Error(t(331));var b=fn;for(fn|=4,st=s.current;st!==null;){var M=st,I=M.child;if((st.flags&16)!==0){var $=M.deletions;if($!==null){for(var X=0;X<$.length;X++){var ge=$[X];for(st=ge;st!==null;){var Pe=st;switch(Pe.tag){case 0:case 11:case 15:hs(8,Pe,M)}var Ie=Pe.child;if(Ie!==null)Ie.return=Pe,st=Ie;else for(;st!==null;){Pe=st;var Ne=Pe.sibling,rt=Pe.return;if(Wm(Pe),Pe===ge){st=null;break}if(Ne!==null){Ne.return=rt,st=Ne;break}st=rt}}}var dt=M.alternate;if(dt!==null){var ht=dt.child;if(ht!==null){dt.child=null;do{var Kn=ht.sibling;ht.sibling=null,ht=Kn}while(ht!==null)}}st=M}}if((M.subtreeFlags&2064)!==0&&I!==null)I.return=M,st=I;else e:for(;st!==null;){if(M=st,(M.flags&2048)!==0)switch(M.tag){case 0:case 11:case 15:hs(9,M,M.return)}var le=M.sibling;if(le!==null){le.return=M.return,st=le;break e}st=M.return}}var te=s.current;for(st=te;st!==null;){I=st;var fe=I.child;if((I.subtreeFlags&2064)!==0&&fe!==null)fe.return=I,st=fe;else e:for(I=te;st!==null;){if($=st,($.flags&2048)!==0)try{switch($.tag){case 0:case 11:case 15:Bu(9,$)}}catch(wt){Fn($,$.return,wt)}if($===I){st=null;break e}var je=$.sibling;if(je!==null){je.return=$.return,st=je;break e}st=$.return}}if(fn=b,As(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(It,s)}catch{}g=!0}return g}finally{ln=h,$i.transition=l}}return!1}function _f(s,l,h){l=ka(h,l),l=_u(s,l,1),s=ji(s,l,1),l=Zr(),s!==null&&(bs(s,1,l),fi(s,l))}function Fn(s,l,h){if(s.tag===3)_f(s,s,h);else for(;l!==null;){if(l.tag===3){_f(l,s,h);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Fs===null||!Fs.has(g))){s=ka(h,s),s=mf(l,s,1),l=ji(l,s,1),s=Zr(),l!==null&&(bs(l,1,s),fi(l,s));break}}l=l.return}}function zv(s,l,h){var g=s.pingCache;g!==null&&g.delete(l),l=Zr(),s.pingedLanes|=s.suspendedLanes&h,gr===s&&(Or&h)===h&&(lr===4||lr===3&&(Or&130023424)===Or&&500>hn()-Sh?Oa(s,0):kf|=h),fi(s,l)}function eg(s,l){l===0&&((s.mode&1)===0?l=1:(l=sa,sa<<=1,(sa&130023424)===0&&(sa=4194304)));var h=Zr();s=as(s,l),s!==null&&(bs(s,l,h),fi(s,h))}function Bv(s){var l=s.memoizedState,h=0;l!==null&&(h=l.retryLane),eg(s,h)}function jv(s,l){var h=0;switch(s.tag){case 13:var g=s.stateNode,b=s.memoizedState;b!==null&&(h=b.retryLane);break;case 19:g=s.stateNode;break;default:throw Error(t(314))}g!==null&&g.delete(l),eg(s,h)}var tg;tg=function(s,l,h){if(s!==null)if(s.memoizedProps!==l.pendingProps||si.current)Yr=!0;else{if((s.lanes&h)===0&&(l.flags&128)===0)return Yr=!1,Hm(s,l,h);Yr=(s.flags&131072)!==0}else Yr=!1,An&&(l.flags&1048576)!==0&&Cm(l,Jc,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;vf(s,l),s=l.pendingProps;var b=dl(l,Pr.current);Ps(l,h),b=Sa(null,l,g,s,b,h);var M=of();return l.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,ai(g)?(M=!0,Pi(l)):M=!1,l.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,ef(l),b.updater=hf,l.stateNode=b,b._reactInternals=l,ah(l,g,s,h),l=ph(null,l,g,!0,M,h)):(l.tag=0,An&&M&&wu(l),kr(null,l,b,h),l=l.child),l;case 16:g=l.elementType;e:{switch(vf(s,l),s=l.pendingProps,b=g._init,g=b(g._payload),l.type=g,b=l.tag=Hv(g),s=Hi(g,s),b){case 0:l=dh(null,l,g,s,h);break e;case 1:l=hh(null,l,g,s,h);break e;case 11:l=jm(null,l,g,s,h);break e;case 14:l=uh(null,l,g,Hi(g.type,s),h);break e}throw Error(t(306,g,""))}return l;case 0:return g=l.type,b=l.pendingProps,b=l.elementType===g?b:Hi(g,b),dh(s,l,g,b,h);case 1:return g=l.type,b=l.pendingProps,b=l.elementType===g?b:Hi(g,b),hh(s,l,g,b,h);case 3:e:{if(Fm(l),s===null)throw Error(t(387));g=l.pendingProps,M=l.memoizedState,b=M.element,Tm(s,l),ml(l,g,null,h);var I=l.memoizedState;if(g=I.element,M.isDehydrated)if(M={element:g,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},l.updateQueue.baseState=M,l.memoizedState=M,l.flags&256){b=ka(Error(t(423)),l),l=zo(s,l,g,h,b);break e}else if(g!==b){b=ka(Error(t(424)),l),l=zo(s,l,g,h,b);break e}else for(bi=Ts(l.stateNode.containerInfo.firstChild),Ir=l,An=!0,to=null,h=Xc(l,null,g,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(No(),g===b){l=ro(s,l,h);break e}kr(s,l,g,h)}l=l.child}return l;case 5:return Kd(l),s===null&&li(l),g=l.type,b=l.pendingProps,M=s!==null?s.memoizedProps:null,I=b.children,yu(g,b)?I=null:M!==null&&yu(g,M)&&(l.flags|=32),fh(s,l),kr(s,l,I,h),l.child;case 6:return s===null&&li(l),null;case 13:return yf(s,l,h);case 4:return Gd(l,l.stateNode.containerInfo),g=l.pendingProps,s===null?l.child=Vn(l,null,g,h):kr(s,l,g,h),l.child;case 11:return g=l.type,b=l.pendingProps,b=l.elementType===g?b:Hi(g,b),jm(s,l,g,b,h);case 7:return kr(s,l,l.pendingProps,h),l.child;case 8:return kr(s,l,l.pendingProps.children,h),l.child;case 12:return kr(s,l,l.pendingProps.children,h),l.child;case 10:e:{if(g=l.type._context,b=l.pendingProps,M=l.memoizedProps,I=b.value,Rn(Su,g._currentValue),g._currentValue=I,M!==null)if(me(M.value,I)){if(M.children===b.children&&!si.current){l=ro(s,l,h);break e}}else for(M=l.child,M!==null&&(M.return=l);M!==null;){var $=M.dependencies;if($!==null){I=M.child;for(var X=$.firstContext;X!==null;){if(X.context===g){if(M.tag===1){X=ls(-1,h&-h),X.tag=2;var ge=M.updateQueue;if(ge!==null){ge=ge.shared;var Pe=ge.pending;Pe===null?X.next=X:(X.next=Pe.next,Pe.next=X),ge.pending=X}}M.lanes|=h,X=M.alternate,X!==null&&(X.lanes|=h),Er(M.return,h,l),$.lanes|=h;break}X=X.next}}else if(M.tag===10)I=M.type===l.type?null:M.child;else if(M.tag===18){if(I=M.return,I===null)throw Error(t(341));I.lanes|=h,$=I.alternate,$!==null&&($.lanes|=h),Er(I,h,l),I=M.sibling}else I=M.child;if(I!==null)I.return=M;else for(I=M;I!==null;){if(I===l){I=null;break}if(M=I.sibling,M!==null){M.return=I.return,I=M;break}I=I.return}M=I}kr(s,l,b.children,h),l=l.child}return l;case 9:return b=l.type,g=l.pendingProps.children,Ps(l,h),b=zi(b),g=g(b),l.flags|=1,kr(s,l,g,h),l.child;case 14:return g=l.type,b=Hi(g,l.pendingProps),b=Hi(g.type,b),uh(s,l,g,b,h);case 15:return Io(s,l,l.type,l.pendingProps,h);case 17:return g=l.type,b=l.pendingProps,b=l.elementType===g?b:Hi(g,b),vf(s,l),l.tag=1,ai(g)?(s=!0,Pi(l)):s=!1,Ps(l,h),Ea(l,g,b),ah(l,g,b,h),ph(null,l,g,!0,s,h);case 19:return zs(s,l,h);case 22:return ch(s,l,h)}throw Error(t(156,l.tag))};function ng(s,l){return _i(s,l)}function Fv(s,l,h,g){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ui(s,l,h,g){return new Fv(s,l,h,g)}function Nf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Hv(s){if(typeof s=="function")return Nf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===ye)return 11;if(s===ue)return 14}return 2}function lo(s,l){var h=s.alternate;return h===null?(h=Ui(s.tag,l,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=l,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&14680064,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,l=s.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h}function Af(s,l,h,g,b,M){var I=2;if(g=s,typeof s=="function")Nf(s)&&(I=1);else if(typeof s=="string")I=5;else e:switch(s){case L:return Ta(h.children,b,M,l);case z:I=8,b|=8;break;case W:return s=Ui(12,h,l,b|2),s.elementType=W,s.lanes=M,s;case Ce:return s=Ui(13,h,l,b),s.elementType=Ce,s.lanes=M,s;case Ee:return s=Ui(19,h,l,b),s.elementType=Ee,s.lanes=M,s;case V:return Df(h,b,M,l);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case se:I=10;break e;case xe:I=9;break e;case ye:I=11;break e;case ue:I=14;break e;case de:I=16,g=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return l=Ui(I,h,l,b),l.elementType=s,l.type=g,l.lanes=M,l}function Ta(s,l,h,g){return s=Ui(7,s,g,l),s.lanes=h,s}function Df(s,l,h,g){return s=Ui(22,s,g,l),s.elementType=V,s.lanes=h,s.stateNode={isHidden:!1},s}function _h(s,l,h){return s=Ui(6,s,null,l),s.lanes=h,s}function Nh(s,l,h){return l=Ui(4,s.children!==null?s.children:[],s.key,l),l.lanes=h,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}function $v(s,l,h,g,b){this.tag=l,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Eo(0),this.expirationTimes=Eo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Eo(0),this.identifierPrefix=g,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function Ah(s,l,h,g,b,M,I,$,X){return s=new $v(s,l,h,$,X),l===1?(l=1,M===!0&&(l|=8)):l=0,M=Ui(3,null,null,l),s.current=M,M.stateNode=s,M.memoizedState={element:g,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},ef(M),s}function Uv(s,l,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_,key:g==null?null:""+g,children:s,containerInfo:l,implementation:h}}function rg(s){if(!s)return Ns;s=s._reactInternals;e:{if(rn(s)!==s||s.tag!==1)throw Error(t(170));var l=s;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(ai(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(t(171))}if(s.tag===1){var h=s.type;if(ai(h))return Sm(s,h,l)}return l}function ig(s,l,h,g,b,M,I,$,X){return s=Ah(h,g,!0,s,b,M,I,$,X),s.context=rg(null),h=s.current,g=Zr(),b=$s(h),M=ls(g,b),M.callback=l??null,ji(h,M,b),s.current.lanes=b,bs(s,b,g),fi(s,g),s}function Pf(s,l,h,g){var b=l.current,M=Zr(),I=$s(b);return h=rg(h),l.context===null?l.context=h:l.pendingContext=h,l=ls(M,I),l.payload={element:s},g=g===void 0?null:g,g!==null&&(l.callback=g),s=ji(b,l,I),s!==null&&(ao(s,b,I,M),tf(s,b,I)),I}function Lf(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function og(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<l?h:l}}function Dh(s,l){og(s,l),(s=s.alternate)&&og(s,l)}function Wv(){return null}var sg=typeof reportError=="function"?reportError:function(s){console.error(s)};function If(s){this._internalRoot=s}Wu.prototype.render=If.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(t(409));Pf(s,l,null,null)},Wu.prototype.unmount=If.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;Ma(function(){Pf(null,s,null,null)}),l[xi]=null}};function Wu(s){this._internalRoot=s}Wu.prototype.unstable_scheduleHydration=function(s){if(s){var l=Ss();s={blockedOn:null,target:s,priority:l};for(var h=0;h<pr.length&&l!==0&&l<pr[h].priority;h++);pr.splice(h,0,s),h===0&&Xp(s)}};function Ph(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function zf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function ag(){}function Vv(s,l,h,g,b){if(b){if(typeof g=="function"){var M=g;g=function(){var ge=Lf(I);M.call(ge)}}var I=ig(l,g,s,0,null,!1,!1,"",ag);return s._reactRootContainer=I,s[xi]=I.current,Os(s.nodeType===8?s.parentNode:s),Ma(),I}for(;b=s.lastChild;)s.removeChild(b);if(typeof g=="function"){var $=g;g=function(){var ge=Lf(X);$.call(ge)}}var X=Ah(s,0,!1,null,null,!1,!1,"",ag);return s._reactRootContainer=X,s[xi]=X.current,Os(s.nodeType===8?s.parentNode:s),Ma(function(){Pf(l,X,h,g)}),X}function _a(s,l,h,g,b){var M=h._reactRootContainer;if(M){var I=M;if(typeof b=="function"){var $=b;b=function(){var X=Lf(I);$.call(X)}}Pf(l,I,s,b)}else I=Vv(h,l,s,b,g);return Lf(I)}Ja=function(s){switch(s.tag){case 3:var l=s.stateNode;if(l.current.memoizedState.isDehydrated){var h=Xo(l.pendingLanes);h!==0&&(aa(l,h|1),fi(l,hn()),(fn&6)===0&&(Ca=hn()+500,As()))}break;case 13:Ma(function(){var g=as(s,1);if(g!==null){var b=Zr();ao(g,s,1,b)}}),Dh(s,1)}},Un=function(s){if(s.tag===13){var l=as(s,134217728);if(l!==null){var h=Zr();ao(l,s,134217728,h)}Dh(s,134217728)}},bn=function(s){if(s.tag===13){var l=$s(s),h=as(s,l);if(h!==null){var g=Zr();ao(h,s,l,g)}Dh(s,l)}},Ss=function(){return ln},Zi=function(s,l){var h=ln;try{return ln=s,l()}finally{ln=h}},qn=function(s,l,h){switch(l){case"input":if(Ge(s,h),l=h.name,h.type==="radio"&&l!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<h.length;l++){var g=h[l];if(g!==s&&g.form===s.form){var b=Vc(g);if(!b)throw Error(t(90));U(g),Ge(g,b)}}}break;case"textarea":Qt(s,h);break;case"select":l=h.value,l!=null&&Xe(s,!!h.multiple,l,!1)}},Ue=Oh,Mt=Ma;var qv={usingClientEntryPoint:!1,Events:[Dr,Vt,Vc,J,we,Oh]},Vu={findFiberByHostInstance:Oo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Gv={bundleType:Vu.bundleType,version:Vu.version,rendererPackageName:Vu.rendererPackageName,rendererConfig:Vu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=en(s),s===null?null:s.stateNode},findFiberByHostInstance:Vu.findFiberByHostInstance||Wv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bf.isDisabled&&Bf.supportsFiber)try{It=Bf.inject(Gv),Wt=Bf}catch{}}return Gi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qv,Gi.createPortal=function(s,l){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ph(l))throw Error(t(200));return Uv(s,l,null,h)},Gi.createRoot=function(s,l){if(!Ph(s))throw Error(t(299));var h=!1,g="",b=sg;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(b=l.onRecoverableError)),l=Ah(s,1,!1,null,null,h,!1,g,b),s[xi]=l.current,Os(s.nodeType===8?s.parentNode:s),new If(l)},Gi.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=en(l),s=s===null?null:s.stateNode,s},Gi.flushSync=function(s){return Ma(s)},Gi.hydrate=function(s,l,h){if(!zf(l))throw Error(t(200));return _a(null,s,l,!0,h)},Gi.hydrateRoot=function(s,l,h){if(!Ph(s))throw Error(t(405));var g=h!=null&&h.hydratedSources||null,b=!1,M="",I=sg;if(h!=null&&(h.unstable_strictMode===!0&&(b=!0),h.identifierPrefix!==void 0&&(M=h.identifierPrefix),h.onRecoverableError!==void 0&&(I=h.onRecoverableError)),l=ig(l,null,s,1,h??null,b,!1,M,I),s[xi]=l.current,Os(s),g)for(s=0;s<g.length;s++)h=g[s],b=h._getVersion,b=b(h._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[h,b]:l.mutableSourceEagerHydrationData.push(h,b);return new Wu(l)},Gi.render=function(s,l,h){if(!zf(l))throw Error(t(200));return _a(null,s,l,!1,h)},Gi.unmountComponentAtNode=function(s){if(!zf(s))throw Error(t(40));return s._reactRootContainer?(Ma(function(){_a(null,null,s,!1,function(){s._reactRootContainer=null,s[xi]=null})}),!0):!1},Gi.unstable_batchedUpdates=Oh,Gi.unstable_renderSubtreeIntoContainer=function(s,l,h,g){if(!zf(h))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return _a(s,l,h,!1,g)},Gi.version="18.3.1-next-f1338f8080-20240426",Gi}var _b;function Hp(){if(_b)return l0.exports;_b=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),l0.exports=u_(),l0.exports}var Nb;function c_(){if(Nb)return dg;Nb=1;var n=Hp();return dg.createRoot=n.createRoot,dg.hydrateRoot=n.hydrateRoot,dg}var f_=c_();const d_=Fp(f_);var zh={},Ab;function h_(){if(Ab)return zh;Ab=1,Object.defineProperty(zh,"__esModule",{value:!0}),zh.parse=a,zh.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function a(w,x){const E=new o,C=w.length;if(C<2)return E;const k=(x==null?void 0:x.decode)||m;let S=0;do{const R=w.indexOf("=",S);if(R===-1)break;const N=w.indexOf(";",S),T=N===-1?C:N;if(R>T){S=w.lastIndexOf(";",R-1)+1;continue}const D=c(w,S,R),_=f(w,R,D),L=w.slice(D,_);if(E[L]===void 0){let z=c(w,R+1,T),W=f(w,T,z);const se=k(w.slice(z,W));E[L]=se}S=T+1}while(S<C);return E}function c(w,x,E){do{const C=w.charCodeAt(x);if(C!==32&&C!==9)return x}while(++x<E);return E}function f(w,x,E){for(;x>E;){const C=w.charCodeAt(--x);if(C!==32&&C!==9)return x+1}return E}function p(w,x,E){const C=(E==null?void 0:E.encode)||encodeURIComponent;if(!n.test(w))throw new TypeError(`argument name is invalid: ${w}`);const k=C(x);if(!e.test(k))throw new TypeError(`argument val is invalid: ${x}`);let S=w+"="+k;if(!E)return S;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);S+="; Max-Age="+E.maxAge}if(E.domain){if(!t.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);S+="; Domain="+E.domain}if(E.path){if(!r.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);S+="; Path="+E.path}if(E.expires){if(!v(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);S+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(S+="; HttpOnly"),E.secure&&(S+="; Secure"),E.partitioned&&(S+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":S+="; Priority=Low";break;case"medium":S+="; Priority=Medium";break;case"high":S+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":S+="; SameSite=Strict";break;case"lax":S+="; SameSite=Lax";break;case"none":S+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return S}function m(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function v(w){return i.call(w)==="[object Date]"}return zh}h_();/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var GE=n=>{throw TypeError(n)},p_=(n,e,t)=>e.has(n)||GE("Cannot "+t),f0=(n,e,t)=>(p_(n,e,"read from private field"),t?t.call(n):e.get(n)),m_=(n,e,t)=>e.has(n)?GE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Db="popstate";function g_(n={}){function e(r,i){let{pathname:o,search:a,hash:c}=r.location;return Sp("",{pathname:o,search:a,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Xl(i)}return v_(e,t,null,n)}function cn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function xr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function y_(){return Math.random().toString(36).substring(2,10)}function Pb(n,e){return{usr:n.state,key:n.key,idx:e}}function Sp(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Zl(e):e,state:t,key:e&&e.key||r||y_()}}function Xl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Zl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function v_(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,c="POP",f=null,p=m();p==null&&(p=0,a.replaceState({...a.state,idx:p},""));function m(){return(a.state||{idx:null}).idx}function v(){c="POP";let k=m(),S=k==null?null:k-p;p=k,f&&f({action:c,location:C.location,delta:S})}function w(k,S){c="PUSH";let R=Sp(C.location,k,S);p=m()+1;let N=Pb(R,p),T=C.createHref(R);try{a.pushState(N,"",T)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(T)}o&&f&&f({action:c,location:C.location,delta:1})}function x(k,S){c="REPLACE";let R=Sp(C.location,k,S);p=m();let N=Pb(R,p),T=C.createHref(R);a.replaceState(N,"",T),o&&f&&f({action:c,location:C.location,delta:0})}function E(k){return KE(k)}let C={get action(){return c},get location(){return n(i,a)},listen(k){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(Db,v),f=k,()=>{i.removeEventListener(Db,v),f=null}},createHref(k){return e(i,k)},createURL:E,encodeLocation(k){let S=E(k);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:w,replace:x,go(k){return a.go(k)}};return C}function KE(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),cn(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Xl(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}var tp,Lb=class{constructor(n){if(m_(this,tp,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(f0(this,tp).has(n))return f0(this,tp).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){f0(this,tp).set(n,e)}};tp=new WeakMap;var w_=new Set(["lazy","caseSensitive","path","id","index","children"]);function x_(n){return w_.has(n)}var b_=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function S_(n){return b_.has(n)}function E_(n){return n.index===!0}function qg(n,e,t=[],r={}){return n.map((i,o)=>{let a=[...t,String(o)],c=typeof i.id=="string"?i.id:a.join("-");if(cn(i.index!==!0||!i.children,"Cannot specify children on an index route"),cn(!r[c],`Found a route id collision on id "${c}".  Route id's must be globally unique within Data Router usages`),E_(i)){let f={...i,...e(i),id:c};return r[c]=f,f}else{let f={...i,...e(i),id:c,children:void 0};return r[c]=f,i.children&&(f.children=qg(i.children,e,a,r)),f}})}function jl(n,e,t="/"){return zg(n,e,t,!1)}function zg(n,e,t,r){let i=typeof e=="string"?Zl(e):e,o=Go(i.pathname||"/",t);if(o==null)return null;let a=JE(n);C_(a);let c=null;for(let f=0;c==null&&f<a.length;++f){let p=I_(o);c=P_(a[f],p,r)}return c}function k_(n,e){let{route:t,pathname:r,params:i}=n;return{id:t.id,pathname:r,params:i,data:e[t.id],handle:t.handle}}function JE(n,e=[],t=[],r=""){let i=(o,a,c)=>{let f={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};f.relativePath.startsWith("/")&&(cn(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let p=Xs([r,f.relativePath]),m=t.concat(f);o.children&&o.children.length>0&&(cn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),JE(o.children,e,m,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:A_(p,o.index),routesMeta:m})};return n.forEach((o,a)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,a);else for(let f of YE(o.path))i(o,a,f)}),e}function YE(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=YE(r.join("/")),c=[];return c.push(...a.map(f=>f===""?o:[o,f].join("/"))),i&&c.push(...a),c.map(f=>n.startsWith("/")&&f===""?"/":f)}function C_(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:D_(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var M_=/^:[\w-]+$/,O_=3,R_=2,T_=1,__=10,N_=-2,Ib=n=>n==="*";function A_(n,e){let t=n.split("/"),r=t.length;return t.some(Ib)&&(r+=N_),e&&(r+=R_),t.filter(i=>!Ib(i)).reduce((i,o)=>i+(M_.test(o)?O_:o===""?T_:__),r)}function D_(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function P_(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",a=[];for(let c=0;c<r.length;++c){let f=r[c],p=c===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",v=Gg({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},m),w=f.route;if(!v&&p&&t&&!r[r.length-1].route.index&&(v=Gg({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!v)return null;Object.assign(i,v.params),a.push({params:i,pathname:Xs([o,v.pathname]),pathnameBase:j_(Xs([o,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(o=Xs([o,v.pathnameBase]))}return a}function Gg(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=L_(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((p,{paramName:m,isOptional:v},w)=>{if(m==="*"){let E=c[w]||"";a=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const x=c[w];return v&&!x?p[m]=void 0:p[m]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:a,pattern:n}}function L_(n,e=!1,t=!0){xr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function I_(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Go(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function z_(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Zl(n):n;return{pathname:t?t.startsWith("/")?t:B_(t,e):e,search:F_(r),hash:H_(i)}}function B_(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function d0(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function XE(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function qw(n){let e=XE(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Gw(n,e,t,r=!1){let i;typeof n=="string"?i=Zl(n):(i={...n},cn(!i.pathname||!i.pathname.includes("?"),d0("?","pathname","search",i)),cn(!i.pathname||!i.pathname.includes("#"),d0("#","pathname","hash",i)),cn(!i.search||!i.search.includes("#"),d0("#","search","hash",i)));let o=n===""||i.pathname==="",a=o?"/":i.pathname,c;if(a==null)c=t;else{let v=e.length-1;if(!r&&a.startsWith("..")){let w=a.split("/");for(;w[0]==="..";)w.shift(),v-=1;i.pathname=w.join("/")}c=v>=0?e[v]:"/"}let f=z_(i,c),p=a&&a!=="/"&&a.endsWith("/"),m=(o||a===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||m)&&(f.pathname+="/"),f}var Xs=n=>n.join("/").replace(/\/\/+/g,"/"),j_=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),F_=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,H_=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Kg=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Ep(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var QE=["POST","PUT","PATCH","DELETE"],$_=new Set(QE),U_=["GET",...QE],W_=new Set(U_),V_=new Set([301,302,303,307,308]),q_=new Set([307,308]),h0={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},G_={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Bh={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Kw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,K_=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),ZE="remix-router-transitions",ek=Symbol("ResetLoaderData");function J_(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";cn(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=n.hydrationRouteProperties||[],i=n.mapRouteProperties||K_,o={},a=qg(n.routes,i,void 0,o),c,f=n.basename||"/",p=n.dataStrategy||eN,m={unstable_middleware:!1,...n.future},v=null,w=new Set,x=null,E=null,C=null,k=n.hydrationData!=null,S=jl(a,n.history.location,f),R=!1,N=null,T;if(S==null&&!n.patchRoutesOnNavigation){let G=$o(404,{pathname:n.history.location.pathname}),{matches:ee,route:Z}=Kb(a);T=!0,S=ee,N={[Z.id]:G}}else if(S&&!n.hydrationData&&J(S,a,n.history.location.pathname).active&&(S=null),S)if(S.some(G=>G.route.lazy))T=!1;else if(!S.some(G=>G.route.loader))T=!0;else{let G=n.hydrationData?n.hydrationData.loaderData:null,ee=n.hydrationData?n.hydrationData.errors:null;if(ee){let Z=S.findIndex(ae=>ee[ae.route.id]!==void 0);T=S.slice(0,Z+1).every(ae=>!sw(ae.route,G,ee))}else T=S.every(Z=>!sw(Z.route,G,ee))}else{T=!1,S=[];let G=J(null,a,n.history.location.pathname);G.active&&G.matches&&(R=!0,S=G.matches)}let D,_={historyAction:n.history.action,location:n.history.location,matches:S,initialized:T,navigation:h0,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||N,fetchers:new Map,blockers:new Map},L="POP",z=!1,W,se=!1,xe=new Map,ye=null,Ce=!1,Ee=!1,ue=new Set,de=new Map,V=0,F=-1,pe=new Map,he=new Set,H=new Map,ce=new Map,Te=new Set,$e=new Map,Ve,Qe=null;function ut(){if(v=n.history.listen(({action:G,location:ee,delta:Z})=>{if(Ve){Ve(),Ve=void 0;return}xr($e.size===0||Z!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ae=Bt({currentLocation:_.location,nextLocation:ee,historyAction:G});if(ae&&Z!=null){let be=new Promise(Ye=>{Ve=Ye});n.history.go(Z*-1),$t(ae,{state:"blocked",location:ee,proceed(){$t(ae,{state:"proceeding",proceed:void 0,reset:void 0,location:ee}),be.then(()=>n.history.go(Z))},reset(){let Ye=new Map(_.blockers);Ye.set(ae,Bh),qe({blockers:Ye})}});return}return ie(G,ee)}),t){fN(e,xe);let G=()=>dN(e,xe);e.addEventListener("pagehide",G),ye=()=>e.removeEventListener("pagehide",G)}return _.initialized||ie("POP",_.location,{initialHydration:!0}),D}function ke(){v&&v(),ye&&ye(),w.clear(),W&&W.abort(),_.fetchers.forEach((G,ee)=>Ct(ee)),_.blockers.forEach((G,ee)=>St(ee))}function Be(G){return w.add(G),()=>w.delete(G)}function qe(G,ee={}){_={..._,...G};let Z=[],ae=[];_.fetchers.forEach((be,Ye)=>{be.state==="idle"&&(Te.has(Ye)?Z.push(Ye):ae.push(Ye))}),Te.forEach(be=>{!_.fetchers.has(be)&&!de.has(be)&&Z.push(be)}),[...w].forEach(be=>be(_,{deletedFetchers:Z,viewTransitionOpts:ee.viewTransitionOpts,flushSync:ee.flushSync===!0})),Z.forEach(be=>Ct(be)),ae.forEach(be=>_.fetchers.delete(be))}function Y(G,ee,{flushSync:Z}={}){var vt,Lt;let ae=_.actionData!=null&&_.navigation.formMethod!=null&&po(_.navigation.formMethod)&&_.navigation.state==="loading"&&((vt=G.state)==null?void 0:vt._isRedirect)!==!0,be;ee.actionData?Object.keys(ee.actionData).length>0?be=ee.actionData:be=null:ae?be=_.actionData:be=null;let Ye=ee.loaderData?qb(_.loaderData,ee.loaderData,ee.matches||[],ee.errors):_.loaderData,Ze=_.blockers;Ze.size>0&&(Ze=new Map(Ze),Ze.forEach((xt,jt)=>Ze.set(jt,Bh)));let et=z===!0||_.navigation.formMethod!=null&&po(_.navigation.formMethod)&&((Lt=G.state)==null?void 0:Lt._isRedirect)!==!0;c&&(a=c,c=void 0),Ce||L==="POP"||(L==="PUSH"?n.history.push(G,G.state):L==="REPLACE"&&n.history.replace(G,G.state));let pt;if(L==="POP"){let xt=xe.get(_.location.pathname);xt&&xt.has(G.pathname)?pt={currentLocation:_.location,nextLocation:G}:xe.has(G.pathname)&&(pt={currentLocation:G,nextLocation:_.location})}else if(se){let xt=xe.get(_.location.pathname);xt?xt.add(G.pathname):(xt=new Set([G.pathname]),xe.set(_.location.pathname,xt)),pt={currentLocation:_.location,nextLocation:G}}qe({...ee,actionData:be,loaderData:Ye,historyAction:L,location:G,initialized:!0,navigation:h0,revalidation:"idle",restoreScrollPosition:Xn(G,ee.matches||_.matches),preventScrollReset:et,blockers:Ze},{viewTransitionOpts:pt,flushSync:Z===!0}),L="POP",z=!1,se=!1,Ce=!1,Ee=!1,Qe==null||Qe.resolve(),Qe=null}async function U(G,ee){if(typeof G=="number"){n.history.go(G);return}let Z=ow(_.location,_.matches,f,G,ee==null?void 0:ee.fromRouteId,ee==null?void 0:ee.relative),{path:ae,submission:be,error:Ye}=zb(!1,Z,ee),Ze=_.location,et=Sp(_.location,ae,ee&&ee.state);et={...et,...n.history.encodeLocation(et)};let pt=ee&&ee.replace!=null?ee.replace:void 0,vt="PUSH";pt===!0?vt="REPLACE":pt===!1||be!=null&&po(be.formMethod)&&be.formAction===_.location.pathname+_.location.search&&(vt="REPLACE");let Lt=ee&&"preventScrollReset"in ee?ee.preventScrollReset===!0:void 0,xt=(ee&&ee.flushSync)===!0,jt=Bt({currentLocation:Ze,nextLocation:et,historyAction:vt});if(jt){$t(jt,{state:"blocked",location:et,proceed(){$t(jt,{state:"proceeding",proceed:void 0,reset:void 0,location:et}),U(G,ee)},reset(){let rn=new Map(_.blockers);rn.set(jt,Bh),qe({blockers:rn})}});return}await ie(vt,et,{submission:be,pendingError:Ye,preventScrollReset:Lt,replace:ee&&ee.replace,enableViewTransition:ee&&ee.viewTransition,flushSync:xt})}function ne(){Qe||(Qe=hN()),Cn(),qe({revalidation:"loading"});let G=Qe.promise;return _.navigation.state==="submitting"?G:_.navigation.state==="idle"?(ie(_.historyAction,_.location,{startUninterruptedRevalidation:!0}),G):(ie(L||_.historyAction,_.navigation.location,{overrideNavigation:_.navigation,enableViewTransition:se===!0}),G)}async function ie(G,ee,Z){W&&W.abort(),W=null,L=G,Ce=(Z&&Z.startUninterruptedRevalidation)===!0,Vr(_.location,_.matches),z=(Z&&Z.preventScrollReset)===!0,se=(Z&&Z.enableViewTransition)===!0;let ae=c||a,be=Z&&Z.overrideNavigation,Ye=Z!=null&&Z.initialHydration&&_.matches&&_.matches.length>0&&!R?_.matches:jl(ae,ee,f),Ze=(Z&&Z.flushSync)===!0;if(Ye&&_.initialized&&!Ee&&sN(_.location,ee)&&!(Z&&Z.submission&&po(Z.submission.formMethod))){Y(ee,{matches:Ye},{flushSync:Ze});return}let et=J(Ye,ae,ee.pathname);if(et.active&&et.matches&&(Ye=et.matches),!Ye){let{error:$n,notFoundMatches:Qn,route:en}=Mn(ee.pathname);Y(ee,{matches:Qn,loaderData:{},errors:{[en.id]:$n}},{flushSync:Ze});return}W=new AbortController;let pt=qf(n.history,ee,W.signal,Z&&Z.submission),vt=new Lb(n.unstable_getContext?await n.unstable_getContext():void 0),Lt;if(Z&&Z.pendingError)Lt=[Xu(Ye).route.id,{type:"error",error:Z.pendingError}];else if(Z&&Z.submission&&po(Z.submission.formMethod)){let $n=await Fe(pt,ee,Z.submission,Ye,vt,et.active,Z&&Z.initialHydration===!0,{replace:Z.replace,flushSync:Ze});if($n.shortCircuited)return;if($n.pendingActionResult){let[Qn,en]=$n.pendingActionResult;if(ho(en)&&Ep(en.error)&&en.error.status===404){W=null,Y(ee,{matches:$n.matches,loaderData:{},errors:{[Qn]:en.error}});return}}Ye=$n.matches||Ye,Lt=$n.pendingActionResult,be=p0(ee,Z.submission),Ze=!1,et.active=!1,pt=qf(n.history,pt.url,pt.signal)}let{shortCircuited:xt,matches:jt,loaderData:rn,errors:Tn}=await Oe(pt,ee,Ye,vt,et.active,be,Z&&Z.submission,Z&&Z.fetcherSubmission,Z&&Z.replace,Z&&Z.initialHydration===!0,Ze,Lt);xt||(W=null,Y(ee,{matches:jt||Ye,...Gb(Lt),loaderData:rn,errors:Tn}))}async function Fe(G,ee,Z,ae,be,Ye,Ze,et={}){Cn();let pt=uN(ee,Z);if(qe({navigation:pt},{flushSync:et.flushSync===!0}),Ye){let xt=await we(ae,ee.pathname,G.signal);if(xt.type==="aborted")return{shortCircuited:!0};if(xt.type==="error"){let jt=Xu(xt.partialMatches).route.id;return{matches:xt.partialMatches,pendingActionResult:[jt,{type:"error",error:xt.error}]}}else if(xt.matches)ae=xt.matches;else{let{notFoundMatches:jt,error:rn,route:Tn}=Mn(ee.pathname);return{matches:jt,pendingActionResult:[Tn.id,{type:"error",error:rn}]}}}let vt,Lt=np(ae,ee);if(!Lt.route.action&&!Lt.route.lazy)vt={type:"error",error:$o(405,{method:G.method,pathname:ee.pathname,routeId:Lt.route.id})};else{let xt=ed(i,o,G,ae,Lt,Ze?[]:r,be),jt=await _t(G,xt,be,null);if(vt=jt[Lt.route.id],!vt){for(let rn of ae)if(jt[rn.route.id]){vt=jt[rn.route.id];break}}if(G.signal.aborted)return{shortCircuited:!0}}if(ec(vt)){let xt;return et&&et.replace!=null?xt=et.replace:xt=Ub(vt.response.headers.get("Location"),new URL(G.url),f)===_.location.pathname+_.location.search,await ft(G,vt,!0,{submission:Z,replace:xt}),{shortCircuited:!0}}if(ho(vt)){let xt=Xu(ae,Lt.route.id);return(et&&et.replace)!==!0&&(L="PUSH"),{matches:ae,pendingActionResult:[xt.route.id,vt,Lt.route.id]}}return{matches:ae,pendingActionResult:[Lt.route.id,vt]}}async function Oe(G,ee,Z,ae,be,Ye,Ze,et,pt,vt,Lt,xt){let jt=Ye||p0(ee,Ze),rn=Ze||et||Yb(jt),Tn=!Ce&&!vt;if(be){if(Tn){let De=Ge(xt);qe({navigation:jt,...De!==void 0?{actionData:De}:{}},{flushSync:Lt})}let on=await we(Z,ee.pathname,G.signal);if(on.type==="aborted")return{shortCircuited:!0};if(on.type==="error"){let De=Xu(on.partialMatches).route.id;return{matches:on.partialMatches,loaderData:{},errors:{[De]:on.error}}}else if(on.matches)Z=on.matches;else{let{error:De,notFoundMatches:at,route:It}=Mn(ee.pathname);return{matches:at,loaderData:{},errors:{[It.id]:De}}}}let $n=c||a,{dsMatches:Qn,revalidatingFetchers:en}=Bb(G,ae,i,o,n.history,_,Z,rn,ee,vt?[]:r,vt===!0,Ee,ue,Te,H,he,$n,f,n.patchRoutesOnNavigation!=null,xt);if(F=++V,!n.dataStrategy&&!Qn.some(on=>on.shouldLoad)&&en.length===0){let on=mi();return Y(ee,{matches:Z,loaderData:{},errors:xt&&ho(xt[1])?{[xt[0]]:xt[1].error}:null,...Gb(xt),...on?{fetchers:new Map(_.fetchers)}:{}},{flushSync:Lt}),{shortCircuited:!0}}if(Tn){let on={};if(!be){on.navigation=jt;let De=Ge(xt);De!==void 0&&(on.actionData=De)}en.length>0&&(on.fetchers=Je(en)),qe(on,{flushSync:Lt})}en.forEach(on=>{Zt(on.key),on.controller&&de.set(on.key,on.controller)});let xo=()=>en.forEach(on=>Zt(on.key));W&&W.signal.addEventListener("abort",xo);let{loaderResults:_i,fetcherResults:br}=await Qt(Qn,en,G,ae);if(G.signal.aborted)return{shortCircuited:!0};W&&W.signal.removeEventListener("abort",xo),en.forEach(on=>de.delete(on.key));let Zn=hg(_i);if(Zn)return await ft(G,Zn.result,!0,{replace:pt}),{shortCircuited:!0};if(Zn=hg(br),Zn)return he.add(Zn.key),await ft(G,Zn.result,!0,{replace:pt}),{shortCircuited:!0};let{loaderData:bo,errors:hn}=Vb(_,Z,_i,xt,en,br);vt&&_.errors&&(hn={..._.errors,...hn});let oa=mi(),gi=ve(F),Ni=oa||gi||en.length>0;return{matches:Z,loaderData:bo,errors:hn,...Ni?{fetchers:new Map(_.fetchers)}:{}}}function Ge(G){if(G&&!ho(G[1]))return{[G[0]]:G[1].data};if(_.actionData)return Object.keys(_.actionData).length===0?null:_.actionData}function Je(G){return G.forEach(ee=>{let Z=_.fetchers.get(ee.key),ae=jh(void 0,Z?Z.data:void 0);_.fetchers.set(ee.key,ae)}),new Map(_.fetchers)}async function _e(G,ee,Z,ae){Zt(G);let be=(ae&&ae.flushSync)===!0,Ye=c||a,Ze=ow(_.location,_.matches,f,Z,ee,ae==null?void 0:ae.relative),et=jl(Ye,Ze,f),pt=J(et,Ye,Ze);if(pt.active&&pt.matches&&(et=pt.matches),!et){Ae(G,ee,$o(404,{pathname:Ze}),{flushSync:be});return}let{path:vt,submission:Lt,error:xt}=zb(!0,Ze,ae);if(xt){Ae(G,ee,xt,{flushSync:be});return}let jt=np(et,vt),rn=new Lb(n.unstable_getContext?await n.unstable_getContext():void 0),Tn=(ae&&ae.preventScrollReset)===!0;if(Lt&&po(Lt.formMethod)){await ct(G,ee,vt,jt,et,rn,pt.active,be,Tn,Lt);return}H.set(G,{routeId:ee,path:vt}),await Xe(G,ee,vt,jt,et,rn,pt.active,be,Tn,Lt)}async function ct(G,ee,Z,ae,be,Ye,Ze,et,pt,vt){Cn(),H.delete(G);function Lt(Ut){if(!Ut.route.action&&!Ut.route.lazy){let wn=$o(405,{method:vt.formMethod,pathname:Z,routeId:ee});return Ae(G,ee,wn,{flushSync:et}),!0}return!1}if(!Ze&&Lt(ae))return;let xt=_.fetchers.get(G);vn(G,cN(vt,xt),{flushSync:et});let jt=new AbortController,rn=qf(n.history,Z,jt.signal,vt);if(Ze){let Ut=await we(be,Z,rn.signal,G);if(Ut.type==="aborted")return;if(Ut.type==="error"){Ae(G,ee,Ut.error,{flushSync:et});return}else if(Ut.matches){if(be=Ut.matches,ae=np(be,Z),Lt(ae))return}else{Ae(G,ee,$o(404,{pathname:Z}),{flushSync:et});return}}de.set(G,jt);let Tn=V,$n=ed(i,o,rn,be,ae,r,Ye),en=(await _t(rn,$n,Ye,G))[ae.route.id];if(rn.signal.aborted){de.get(G)===jt&&de.delete(G);return}if(Te.has(G)){if(ec(en)||ho(en)){vn(G,Pl(void 0));return}}else{if(ec(en))if(de.delete(G),F>Tn){vn(G,Pl(void 0));return}else return he.add(G),vn(G,jh(vt)),ft(rn,en,!1,{fetcherSubmission:vt,preventScrollReset:pt});if(ho(en)){Ae(G,ee,en.error);return}}let xo=_.navigation.location||_.location,_i=qf(n.history,xo,jt.signal),br=c||a,Zn=_.navigation.state!=="idle"?jl(br,_.navigation.location,f):_.matches;cn(Zn,"Didn't find any matches after fetcher action");let bo=++V;pe.set(G,bo);let hn=jh(vt,en.data);_.fetchers.set(G,hn);let{dsMatches:oa,revalidatingFetchers:gi}=Bb(_i,Ye,i,o,n.history,_,Zn,vt,xo,r,!1,Ee,ue,Te,H,he,br,f,n.patchRoutesOnNavigation!=null,[ae.route.id,en]);gi.filter(Ut=>Ut.key!==G).forEach(Ut=>{let wn=Ut.key,ri=_.fetchers.get(wn),Yo=jh(void 0,ri?ri.data:void 0);_.fetchers.set(wn,Yo),Zt(wn),Ut.controller&&de.set(wn,Ut.controller)}),qe({fetchers:new Map(_.fetchers)});let Ni=()=>gi.forEach(Ut=>Zt(Ut.key));jt.signal.addEventListener("abort",Ni);let{loaderResults:on,fetcherResults:De}=await Qt(oa,gi,_i,Ye);if(jt.signal.aborted)return;if(jt.signal.removeEventListener("abort",Ni),pe.delete(G),de.delete(G),gi.forEach(Ut=>de.delete(Ut.key)),_.fetchers.has(G)){let Ut=Pl(en.data);_.fetchers.set(G,Ut)}let at=hg(on);if(at)return ft(_i,at.result,!1,{preventScrollReset:pt});if(at=hg(De),at)return he.add(at.key),ft(_i,at.result,!1,{preventScrollReset:pt});let{loaderData:It,errors:Wt}=Vb(_,Zn,on,void 0,gi,De);ve(bo),_.navigation.state==="loading"&&bo>F?(cn(L,"Expected pending action"),W&&W.abort(),Y(_.navigation.location,{matches:Zn,loaderData:It,errors:Wt,fetchers:new Map(_.fetchers)})):(qe({errors:Wt,loaderData:qb(_.loaderData,It,Zn,Wt),fetchers:new Map(_.fetchers)}),Ee=!1)}async function Xe(G,ee,Z,ae,be,Ye,Ze,et,pt,vt){let Lt=_.fetchers.get(G);vn(G,jh(vt,Lt?Lt.data:void 0),{flushSync:et});let xt=new AbortController,jt=qf(n.history,Z,xt.signal);if(Ze){let en=await we(be,Z,jt.signal,G);if(en.type==="aborted")return;if(en.type==="error"){Ae(G,ee,en.error,{flushSync:et});return}else if(en.matches)be=en.matches,ae=np(be,Z);else{Ae(G,ee,$o(404,{pathname:Z}),{flushSync:et});return}}de.set(G,xt);let rn=V,Tn=ed(i,o,jt,be,ae,r,Ye),Qn=(await _t(jt,Tn,Ye,G))[ae.route.id];if(de.get(G)===xt&&de.delete(G),!jt.signal.aborted){if(Te.has(G)){vn(G,Pl(void 0));return}if(ec(Qn))if(F>rn){vn(G,Pl(void 0));return}else{he.add(G),await ft(jt,Qn,!1,{preventScrollReset:pt});return}if(ho(Qn)){Ae(G,ee,Qn.error);return}vn(G,Pl(Qn.data))}}async function ft(G,ee,Z,{submission:ae,fetcherSubmission:be,preventScrollReset:Ye,replace:Ze}={}){ee.response.headers.has("X-Remix-Revalidate")&&(Ee=!0);let et=ee.response.headers.get("Location");cn(et,"Expected a Location header on the redirect Response"),et=Ub(et,new URL(G.url),f);let pt=Sp(_.location,et,{_isRedirect:!0});if(t){let Tn=!1;if(ee.response.headers.has("X-Remix-Reload-Document"))Tn=!0;else if(Kw.test(et)){const $n=KE(et,!0);Tn=$n.origin!==e.location.origin||Go($n.pathname,f)==null}if(Tn){Ze?e.location.replace(et):e.location.assign(et);return}}W=null;let vt=Ze===!0||ee.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Lt,formAction:xt,formEncType:jt}=_.navigation;!ae&&!be&&Lt&&xt&&jt&&(ae=Yb(_.navigation));let rn=ae||be;if(q_.has(ee.response.status)&&rn&&po(rn.formMethod))await ie(vt,pt,{submission:{...rn,formAction:et},preventScrollReset:Ye||z,enableViewTransition:Z?se:void 0});else{let Tn=p0(pt,ae);await ie(vt,pt,{overrideNavigation:Tn,fetcherSubmission:be,preventScrollReset:Ye||z,enableViewTransition:Z?se:void 0})}}async function _t(G,ee,Z,ae){let be,Ye={};try{be=await tN(p,G,ee,ae,Z,!1)}catch(Ze){return ee.filter(et=>et.shouldLoad).forEach(et=>{Ye[et.route.id]={type:"error",error:Ze}}),Ye}if(G.signal.aborted)return Ye;for(let[Ze,et]of Object.entries(be))if(aN(et)){let pt=et.result;Ye[Ze]={type:"redirect",response:iN(pt,G,Ze,ee,f)}}else Ye[Ze]=await rN(et);return Ye}async function Qt(G,ee,Z,ae){let be=_t(Z,G,ae,null),Ye=Promise.all(ee.map(async pt=>{if(pt.matches&&pt.match&&pt.request&&pt.controller){let Lt=(await _t(pt.request,pt.matches,ae,pt.key))[pt.match.route.id];return{[pt.key]:Lt}}else return Promise.resolve({[pt.key]:{type:"error",error:$o(404,{pathname:pt.path})}})})),Ze=await be,et=(await Ye).reduce((pt,vt)=>Object.assign(pt,vt),{});return{loaderResults:Ze,fetcherResults:et}}function Cn(){Ee=!0,H.forEach((G,ee)=>{de.has(ee)&&ue.add(ee),Zt(ee)})}function vn(G,ee,Z={}){_.fetchers.set(G,ee),qe({fetchers:new Map(_.fetchers)},{flushSync:(Z&&Z.flushSync)===!0})}function Ae(G,ee,Z,ae={}){let be=Xu(_.matches,ee);Ct(G),qe({errors:{[be.route.id]:Z},fetchers:new Map(_.fetchers)},{flushSync:(ae&&ae.flushSync)===!0})}function We(G){return ce.set(G,(ce.get(G)||0)+1),Te.has(G)&&Te.delete(G),_.fetchers.get(G)||G_}function Ct(G){let ee=_.fetchers.get(G);de.has(G)&&!(ee&&ee.state==="loading"&&pe.has(G))&&Zt(G),H.delete(G),pe.delete(G),he.delete(G),Te.delete(G),ue.delete(G),_.fetchers.delete(G)}function Ft(G){let ee=(ce.get(G)||0)-1;ee<=0?(ce.delete(G),Te.add(G)):ce.set(G,ee),qe({fetchers:new Map(_.fetchers)})}function Zt(G){let ee=de.get(G);ee&&(ee.abort(),de.delete(G))}function Yn(G){for(let ee of G){let Z=We(ee),ae=Pl(Z.data);_.fetchers.set(ee,ae)}}function mi(){let G=[],ee=!1;for(let Z of he){let ae=_.fetchers.get(Z);cn(ae,`Expected fetcher: ${Z}`),ae.state==="loading"&&(he.delete(Z),G.push(Z),ee=!0)}return Yn(G),ee}function ve(G){let ee=[];for(let[Z,ae]of pe)if(ae<G){let be=_.fetchers.get(Z);cn(be,`Expected fetcher: ${Z}`),be.state==="loading"&&(Zt(Z),pe.delete(Z),ee.push(Z))}return Yn(ee),ee.length>0}function ot(G,ee){let Z=_.blockers.get(G)||Bh;return $e.get(G)!==ee&&$e.set(G,ee),Z}function St(G){_.blockers.delete(G),$e.delete(G)}function $t(G,ee){let Z=_.blockers.get(G)||Bh;cn(Z.state==="unblocked"&&ee.state==="blocked"||Z.state==="blocked"&&ee.state==="blocked"||Z.state==="blocked"&&ee.state==="proceeding"||Z.state==="blocked"&&ee.state==="unblocked"||Z.state==="proceeding"&&ee.state==="unblocked",`Invalid blocker state transition: ${Z.state} -> ${ee.state}`);let ae=new Map(_.blockers);ae.set(G,ee),qe({blockers:ae})}function Bt({currentLocation:G,nextLocation:ee,historyAction:Z}){if($e.size===0)return;$e.size>1&&xr(!1,"A router only supports one blocker at a time");let ae=Array.from($e.entries()),[be,Ye]=ae[ae.length-1],Ze=_.blockers.get(be);if(!(Ze&&Ze.state==="proceeding")&&Ye({currentLocation:G,nextLocation:ee,historyAction:Z}))return be}function Mn(G){let ee=$o(404,{pathname:G}),Z=c||a,{matches:ae,route:be}=Kb(Z);return{notFoundMatches:ae,route:be,error:ee}}function qn(G,ee,Z){if(x=G,C=ee,E=Z||null,!k&&_.navigation===h0){k=!0;let ae=Xn(_.location,_.matches);ae!=null&&qe({restoreScrollPosition:ae})}return()=>{x=null,C=null,E=null}}function sr(G,ee){return E&&E(G,ee.map(ae=>k_(ae,_.loaderData)))||G.key}function Vr(G,ee){if(x&&C){let Z=sr(G,ee);x[Z]=C()}}function Xn(G,ee){if(x){let Z=sr(G,ee),ae=x[Z];if(typeof ae=="number")return ae}return null}function J(G,ee,Z){if(n.patchRoutesOnNavigation)if(G){if(Object.keys(G[0].params).length>0)return{active:!0,matches:zg(ee,Z,f,!0)}}else return{active:!0,matches:zg(ee,Z,f,!0)||[]};return{active:!1,matches:null}}async function we(G,ee,Z,ae){if(!n.patchRoutesOnNavigation)return{type:"success",matches:G};let be=G;for(;;){let Ye=c==null,Ze=c||a,et=o;try{await n.patchRoutesOnNavigation({signal:Z,path:ee,matches:be,fetcherKey:ae,patch:(Lt,xt)=>{Z.aborted||jb(Lt,xt,Ze,et,i)}})}catch(Lt){return{type:"error",error:Lt,partialMatches:be}}finally{Ye&&!Z.aborted&&(a=[...a])}if(Z.aborted)return{type:"aborted"};let pt=jl(Ze,ee,f);if(pt)return{type:"success",matches:pt};let vt=zg(Ze,ee,f,!0);if(!vt||be.length===vt.length&&be.every((Lt,xt)=>Lt.route.id===vt[xt].route.id))return{type:"success",matches:null};be=vt}}function Ue(G){o={},c=qg(G,i,void 0,o)}function Mt(G,ee){let Z=c==null;jb(G,ee,c||a,o,i),Z&&(a=[...a],qe({}))}return D={get basename(){return f},get future(){return m},get state(){return _},get routes(){return a},get window(){return e},initialize:ut,subscribe:Be,enableScrollRestoration:qn,navigate:U,fetch:_e,revalidate:ne,createHref:G=>n.history.createHref(G),encodeLocation:G=>n.history.encodeLocation(G),getFetcher:We,deleteFetcher:Ft,dispose:ke,getBlocker:ot,deleteBlocker:St,patchRoutes:Mt,_internalFetchControllers:de,_internalSetRoutes:Ue},D}function Y_(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function ow(n,e,t,r,i,o){let a,c;if(i){a=[];for(let p of e)if(a.push(p),p.route.id===i){c=p;break}}else a=e,c=e[e.length-1];let f=Gw(r||".",qw(a),Go(n.pathname,t)||n.pathname,o==="path");if(r==null&&(f.search=n.search,f.hash=n.hash),(r==null||r===""||r===".")&&c){let p=Jw(f.search);if(c.route.index&&!p)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&p){let m=new URLSearchParams(f.search),v=m.getAll("index");m.delete("index"),v.filter(x=>x).forEach(x=>m.append("index",x));let w=m.toString();f.search=w?`?${w}`:""}}return t!=="/"&&(f.pathname=f.pathname==="/"?t:Xs([t,f.pathname])),Xl(f)}function zb(n,e,t){if(!t||!Y_(t))return{path:e};if(t.formMethod&&!lN(t.formMethod))return{path:e,error:$o(405,{method:t.formMethod})};let r=()=>({path:e,error:$o(400,{type:"invalid-body"})}),o=(t.formMethod||"get").toUpperCase(),a=sk(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!po(o))return r();let v=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((w,[x,E])=>`${w}${x}=${E}
`,""):String(t.body);return{path:e,submission:{formMethod:o,formAction:a,formEncType:t.formEncType,formData:void 0,json:void 0,text:v}}}else if(t.formEncType==="application/json"){if(!po(o))return r();try{let v=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:o,formAction:a,formEncType:t.formEncType,formData:void 0,json:v,text:void 0}}}catch{return r()}}}cn(typeof FormData=="function","FormData is not available in this environment");let c,f;if(t.formData)c=lw(t.formData),f=t.formData;else if(t.body instanceof FormData)c=lw(t.body),f=t.body;else if(t.body instanceof URLSearchParams)c=t.body,f=Wb(c);else if(t.body==null)c=new URLSearchParams,f=new FormData;else try{c=new URLSearchParams(t.body),f=Wb(c)}catch{return r()}let p={formMethod:o,formAction:a,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(po(p.formMethod))return{path:e,submission:p};let m=Zl(e);return n&&m.search&&Jw(m.search)&&c.append("index",""),m.search=`?${c}`,{path:Xl(m),submission:p}}function Bb(n,e,t,r,i,o,a,c,f,p,m,v,w,x,E,C,k,S,R,N){var Ce;let T=N?ho(N[1])?N[1].error:N[1].data:void 0,D=i.createURL(o.location),_=i.createURL(f),L;if(m&&o.errors){let Ee=Object.keys(o.errors)[0];L=a.findIndex(ue=>ue.route.id===Ee)}else if(N&&ho(N[1])){let Ee=N[0];L=a.findIndex(ue=>ue.route.id===Ee)-1}let z=N?N[1].statusCode:void 0,W=z&&z>=400,se={currentUrl:D,currentParams:((Ce=o.matches[0])==null?void 0:Ce.params)||{},nextUrl:_,nextParams:a[0].params,...c,actionResult:T,actionStatus:z},xe=a.map((Ee,ue)=>{let{route:de}=Ee,V=null;if(L!=null&&ue>L?V=!1:de.lazy?V=!0:de.loader==null?V=!1:m?V=sw(de,o.loaderData,o.errors):X_(o.loaderData,o.matches[ue],Ee)&&(V=!0),V!==null)return aw(t,r,n,Ee,p,e,V);let F=W?!1:v||D.pathname+D.search===_.pathname+_.search||D.search!==_.search||Q_(o.matches[ue],Ee),pe={...se,defaultShouldRevalidate:F},he=Jg(Ee,pe);return aw(t,r,n,Ee,p,e,he,pe)}),ye=[];return E.forEach((Ee,ue)=>{if(m||!a.some(Te=>Te.route.id===Ee.routeId)||x.has(ue))return;let de=o.fetchers.get(ue),V=de&&de.state!=="idle"&&de.data===void 0,F=jl(k,Ee.path,S);if(!F){if(R&&V)return;ye.push({key:ue,routeId:Ee.routeId,path:Ee.path,matches:null,match:null,request:null,controller:null});return}if(C.has(ue))return;let pe=np(F,Ee.path),he=new AbortController,H=qf(i,Ee.path,he.signal),ce=null;if(w.has(ue))w.delete(ue),ce=ed(t,r,H,F,pe,p,e);else if(V)v&&(ce=ed(t,r,H,F,pe,p,e));else{let Te={...se,defaultShouldRevalidate:W?!1:v};Jg(pe,Te)&&(ce=ed(t,r,H,F,pe,p,e,Te))}ce&&ye.push({key:ue,routeId:Ee.routeId,path:Ee.path,matches:ce,match:pe,request:H,controller:he})}),{dsMatches:xe,revalidatingFetchers:ye}}function sw(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&n.id in e,i=t!=null&&t[n.id]!==void 0;return!r&&i?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!i}function X_(n,e,t){let r=!e||t.route.id!==e.route.id,i=!n.hasOwnProperty(t.route.id);return r||i}function Q_(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function Jg(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function jb(n,e,t,r,i){let o;if(n){let f=r[n];cn(f,`No route found to patch children into: routeId = ${n}`),f.children||(f.children=[]),o=f.children}else o=t;let a=e.filter(f=>!o.some(p=>tk(f,p))),c=qg(a,i,[n||"_","patch",String((o==null?void 0:o.length)||"0")],r);o.push(...c)}function tk(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var i;return(i=e.children)==null?void 0:i.some(o=>tk(t,o))}):!1}var Fb=new WeakMap,nk=({key:n,route:e,manifest:t,mapRouteProperties:r})=>{let i=t[e.id];if(cn(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let o=i.lazy[n];if(!o)return;let a=Fb.get(i);a||(a={},Fb.set(i,a));let c=a[n];if(c)return c;let f=(async()=>{let p=x_(n),v=i[n]!==void 0&&n!=="hasErrorBoundary";if(p)xr(!p,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),a[n]=Promise.resolve();else if(v)xr(!1,`Route "${i.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let w=await o();w!=null&&(Object.assign(i,{[n]:w}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[n]=void 0,Object.values(i.lazy).every(w=>w===void 0)&&(i.lazy=void 0))})();return a[n]=f,f},Hb=new WeakMap;function Z_(n,e,t,r,i){let o=t[n.id];if(cn(o,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let m=Hb.get(o);if(m)return{lazyRoutePromise:m,lazyHandlerPromise:m};let v=(async()=>{cn(typeof n.lazy=="function","No lazy route function found");let w=await n.lazy(),x={};for(let E in w){let C=w[E];if(C===void 0)continue;let k=S_(E),R=o[E]!==void 0&&E!=="hasErrorBoundary";k?xr(!k,"Route property "+E+" is not a supported property to be returned from a lazy route function. This property will be ignored."):R?xr(!R,`Route "${o.id}" has a static property "${E}" defined but its lazy function is also returning a value for this property. The lazy route property "${E}" will be ignored.`):x[E]=C}Object.assign(o,x),Object.assign(o,{...r(o),lazy:void 0})})();return Hb.set(o,v),v.catch(()=>{}),{lazyRoutePromise:v,lazyHandlerPromise:v}}let a=Object.keys(n.lazy),c=[],f;for(let m of a){if(i&&i.includes(m))continue;let v=nk({key:m,route:n,manifest:t,mapRouteProperties:r});v&&(c.push(v),m===e&&(f=v))}let p=c.length>0?Promise.all(c).then(()=>{}):void 0;return p==null||p.catch(()=>{}),f==null||f.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:f}}async function $b(n){let e=n.matches.filter(i=>i.shouldLoad),t={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,o)=>{t[e[o].route.id]=i}),t}async function eN(n){return n.matches.some(e=>e.route.unstable_middleware)?rk(n,!1,()=>$b(n),(e,t)=>({[t]:{type:"error",result:e}})):$b(n)}async function rk(n,e,t,r){let{matches:i,request:o,params:a,context:c}=n,f={handlerResult:void 0};try{let p=i.flatMap(v=>v.route.unstable_middleware?v.route.unstable_middleware.map(w=>[v.route.id,w]):[]),m=await ik({request:o,params:a,context:c},p,e,f,t);return e?m:f.handlerResult}catch(p){if(!f.middlewareError)throw p;let m=await r(f.middlewareError.error,f.middlewareError.routeId);return f.handlerResult?Object.assign(f.handlerResult,m):m}}async function ik(n,e,t,r,i,o=0){let{request:a}=n;if(a.signal.aborted)throw a.signal.reason?a.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${a.method} ${a.url}`);let c=e[o];if(!c)return r.handlerResult=await i(),r.handlerResult;let[f,p]=c,m=!1,v,w=async()=>{if(m)throw new Error("You may only call `next()` once per middleware");m=!0,await ik(n,e,t,r,i,o+1)};try{let x=await p({request:n.request,params:n.params,context:n.context},w);return m?x===void 0?v:x:w()}catch(x){throw r.middlewareError?r.middlewareError.error!==x&&(r.middlewareError={routeId:f,error:x}):r.middlewareError={routeId:f,error:x},x}}function ok(n,e,t,r,i){let o=nk({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:n}),a=Z_(r.route,po(t.method)?"action":"loader",e,n,i);return{middleware:o,route:a.lazyRoutePromise,handler:a.lazyHandlerPromise}}function aw(n,e,t,r,i,o,a,c=null){let f=!1,p=ok(n,e,t,r,i);return{...r,_lazyPromises:p,shouldLoad:a,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler(m){return f=!0,c?typeof m=="boolean"?Jg(r,{...c,defaultShouldRevalidate:m}):Jg(r,c):a},resolve(m){return f||a||m&&t.method==="GET"&&(r.route.lazy||r.route.loader)?nN({request:t,match:r,lazyHandlerPromise:p==null?void 0:p.handler,lazyRoutePromise:p==null?void 0:p.route,handlerOverride:m,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function ed(n,e,t,r,i,o,a,c=null){return r.map(f=>f.route.id!==i.route.id?{...f,shouldLoad:!1,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler:()=>!1,_lazyPromises:ok(n,e,t,f,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:aw(n,e,t,f,o,a,!0,c))}async function tN(n,e,t,r,i,o){t.some(p=>{var m;return(m=p._lazyPromises)==null?void 0:m.middleware})&&await Promise.all(t.map(p=>{var m;return(m=p._lazyPromises)==null?void 0:m.middleware}));let a={request:e,params:t[0].params,context:i,matches:t},f=await n({...a,fetcherKey:r,unstable_runClientMiddleware:p=>{let m=a;return rk(m,!1,()=>p({...m,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(v,w)=>({[w]:{type:"error",result:v}}))}});try{await Promise.all(t.flatMap(p=>{var m,v;return[(m=p._lazyPromises)==null?void 0:m.handler,(v=p._lazyPromises)==null?void 0:v.route]}))}catch{}return f}async function nN({request:n,match:e,lazyHandlerPromise:t,lazyRoutePromise:r,handlerOverride:i,scopedContext:o}){let a,c,f=po(n.method),p=f?"action":"loader",m=v=>{let w,x=new Promise((k,S)=>w=S);c=()=>w(),n.signal.addEventListener("abort",c);let E=k=>typeof v!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${e.route.id}]`)):v({request:n,params:e.params,context:o},...k!==void 0?[k]:[]),C=(async()=>{try{return{type:"data",result:await(i?i(S=>E(S)):E())}}catch(k){return{type:"error",result:k}}})();return Promise.race([C,x])};try{let v=f?e.route.action:e.route.loader;if(t||r)if(v){let w,[x]=await Promise.all([m(v).catch(E=>{w=E}),t,r]);if(w!==void 0)throw w;a=x}else{await t;let w=f?e.route.action:e.route.loader;if(w)[a]=await Promise.all([m(w),r]);else if(p==="action"){let x=new URL(n.url),E=x.pathname+x.search;throw $o(405,{method:n.method,pathname:E,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(v)a=await m(v);else{let w=new URL(n.url),x=w.pathname+w.search;throw $o(404,{pathname:x})}}catch(v){return{type:"error",result:v}}finally{c&&n.signal.removeEventListener("abort",c)}return a}async function rN(n){var r,i,o,a,c,f;let{result:e,type:t}=n;if(ak(e)){let p;try{let m=e.headers.get("Content-Type");m&&/\bapplication\/json\b/.test(m)?e.body==null?p=null:p=await e.json():p=await e.text()}catch(m){return{type:"error",error:m}}return t==="error"?{type:"error",error:new Kg(e.status,e.statusText,p),statusCode:e.status,headers:e.headers}:{type:"data",data:p,statusCode:e.status,headers:e.headers}}return t==="error"?Jb(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Kg(((o=e.init)==null?void 0:o.status)||500,void 0,e.data),statusCode:Ep(e)?e.status:void 0,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Ep(e)?e.status:void 0}:Jb(e)?{type:"data",data:e.data,statusCode:(c=e.init)==null?void 0:c.status,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function iN(n,e,t,r,i){let o=n.headers.get("Location");if(cn(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Kw.test(o)){let a=r.slice(0,r.findIndex(c=>c.route.id===t)+1);o=ow(new URL(e.url),a,i,o),n.headers.set("Location",o)}return n}function Ub(n,e,t){if(Kw.test(n)){let r=n,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=Go(i.pathname,t)!=null;if(i.origin===e.origin&&o)return i.pathname+i.search+i.hash}return n}function qf(n,e,t,r){let i=n.createURL(sk(e)).toString(),o={signal:t};if(r&&po(r.formMethod)){let{formMethod:a,formEncType:c}=r;o.method=a.toUpperCase(),c==="application/json"?(o.headers=new Headers({"Content-Type":c}),o.body=JSON.stringify(r.json)):c==="text/plain"?o.body=r.text:c==="application/x-www-form-urlencoded"&&r.formData?o.body=lw(r.formData):o.body=r.formData}return new Request(i,o)}function lw(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function Wb(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function oN(n,e,t,r=!1,i=!1){let o={},a=null,c,f=!1,p={},m=t&&ho(t[1])?t[1].error:void 0;return n.forEach(v=>{if(!(v.route.id in e))return;let w=v.route.id,x=e[w];if(cn(!ec(x),"Cannot handle redirect results in processLoaderData"),ho(x)){let E=x.error;if(m!==void 0&&(E=m,m=void 0),a=a||{},i)a[w]=E;else{let C=Xu(n,w);a[C.route.id]==null&&(a[C.route.id]=E)}r||(o[w]=ek),f||(f=!0,c=Ep(x.error)?x.error.status:500),x.headers&&(p[w]=x.headers)}else o[w]=x.data,x.statusCode&&x.statusCode!==200&&!f&&(c=x.statusCode),x.headers&&(p[w]=x.headers)}),m!==void 0&&t&&(a={[t[0]]:m},t[2]&&(o[t[2]]=void 0)),{loaderData:o,errors:a,statusCode:c||200,loaderHeaders:p}}function Vb(n,e,t,r,i,o){let{loaderData:a,errors:c}=oN(e,t,r);return i.filter(f=>!f.matches||f.matches.some(p=>p.shouldLoad)).forEach(f=>{let{key:p,match:m,controller:v}=f,w=o[p];if(cn(w,"Did not find corresponding fetcher result"),!(v&&v.signal.aborted))if(ho(w)){let x=Xu(n.matches,m==null?void 0:m.route.id);c&&c[x.route.id]||(c={...c,[x.route.id]:w.error}),n.fetchers.delete(p)}else if(ec(w))cn(!1,"Unhandled fetcher revalidation redirect");else{let x=Pl(w.data);n.fetchers.set(p,x)}}),{loaderData:a,errors:c}}function qb(n,e,t,r){let i=Object.entries(e).filter(([,o])=>o!==ek).reduce((o,[a,c])=>(o[a]=c,o),{});for(let o of t){let a=o.route.id;if(!e.hasOwnProperty(a)&&n.hasOwnProperty(a)&&o.route.loader&&(i[a]=n[a]),r&&r.hasOwnProperty(a))break}return i}function Gb(n){return n?ho(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Xu(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function Kb(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function $o(n,{pathname:e,routeId:t,method:r,type:i,message:o}={}){let a="Unknown Server Error",c="Unknown @remix-run/router error";return n===400?(a="Bad Request",r&&e&&t?c=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:i==="invalid-body"&&(c="Unable to encode submission body")):n===403?(a="Forbidden",c=`Route "${t}" does not match URL "${e}"`):n===404?(a="Not Found",c=`No route matches URL "${e}"`):n===405&&(a="Method Not Allowed",r&&e&&t?c=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:r&&(c=`Invalid request method "${r.toUpperCase()}"`)),new Kg(n||500,a,new Error(c),!0)}function hg(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,i]=e[t];if(ec(i))return{key:r,result:i}}}function sk(n){let e=typeof n=="string"?Zl(n):n;return Xl({...e,hash:""})}function sN(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function aN(n){return ak(n.result)&&V_.has(n.result.status)}function ho(n){return n.type==="error"}function ec(n){return(n&&n.type)==="redirect"}function Jb(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function ak(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function lN(n){return W_.has(n.toUpperCase())}function po(n){return $_.has(n.toUpperCase())}function Jw(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function np(n,e){let t=typeof e=="string"?Zl(e).search:e.search;if(n[n.length-1].route.index&&Jw(t||""))return n[n.length-1];let r=XE(n);return r[r.length-1]}function Yb(n){let{formMethod:e,formAction:t,formEncType:r,text:i,formData:o,json:a}=n;if(!(!e||!t||!r)){if(i!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:t,formEncType:r,formData:o,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:a,text:void 0}}}function p0(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function uN(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function jh(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function cN(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Pl(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function fN(n,e){try{let t=n.sessionStorage.getItem(ZE);if(t){let r=JSON.parse(t);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function dN(n,e){if(e.size>0){let t={};for(let[r,i]of e)t[r]=[...i];try{n.sessionStorage.setItem(ZE,JSON.stringify(t))}catch(r){xr(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function hN(){let n,e,t=new Promise((r,i)=>{n=async o=>{r(o);try{await t}catch{}},e=async o=>{i(o);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var vc=K.createContext(null);vc.displayName="DataRouter";var $p=K.createContext(null);$p.displayName="DataRouterState";var Yw=K.createContext({isTransitioning:!1});Yw.displayName="ViewTransition";var lk=K.createContext(new Map);lk.displayName="Fetchers";var pN=K.createContext(null);pN.displayName="Await";var ra=K.createContext(null);ra.displayName="Navigation";var Uy=K.createContext(null);Uy.displayName="Location";var ia=K.createContext({outlet:null,matches:[],isDataRoute:!1});ia.displayName="Route";var Xw=K.createContext(null);Xw.displayName="RouteError";function mN(n,{relative:e}={}){cn(Up(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=K.useContext(ra),{hash:i,pathname:o,search:a}=Wp(n,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:Xs([t,o])),r.createHref({pathname:c,search:a,hash:i})}function Up(){return K.useContext(Uy)!=null}function Ga(){return cn(Up(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(Uy).location}var uk="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ck(n){K.useContext(ra).static||K.useLayoutEffect(n)}function gN(){let{isDataRoute:n}=K.useContext(ia);return n?TN():yN()}function yN(){cn(Up(),"useNavigate() may be used only in the context of a <Router> component.");let n=K.useContext(vc),{basename:e,navigator:t}=K.useContext(ra),{matches:r}=K.useContext(ia),{pathname:i}=Ga(),o=JSON.stringify(qw(r)),a=K.useRef(!1);return ck(()=>{a.current=!0}),K.useCallback((f,p={})=>{if(xr(a.current,uk),!a.current)return;if(typeof f=="number"){t.go(f);return}let m=Gw(f,JSON.parse(o),i,p.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Xs([e,m.pathname])),(p.replace?t.replace:t.push)(m,p.state,p)},[e,t,o,i,n])}K.createContext(null);function fk(){let{matches:n}=K.useContext(ia),e=n[n.length-1];return e?e.params:{}}function Wp(n,{relative:e}={}){let{matches:t}=K.useContext(ia),{pathname:r}=Ga(),i=JSON.stringify(qw(t));return K.useMemo(()=>Gw(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function vN(n,e,t,r){cn(Up(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=K.useContext(ra),{matches:o}=K.useContext(ia),a=o[o.length-1],c=a?a.params:{},f=a?a.pathname:"/",p=a?a.pathnameBase:"/",m=a&&a.route;{let S=m&&m.path||"";dk(f,!m||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let v=Ga(),w;w=v;let x=w.pathname||"/",E=x;if(p!=="/"){let S=p.replace(/^\//,"").split("/");E="/"+x.replace(/^\//,"").split("/").slice(S.length).join("/")}let C=jl(n,{pathname:E});return xr(m||C!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),xr(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),EN(C&&C.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:Xs([p,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?p:Xs([p,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),o,t,r)}function wN(){let n=RN(),e=Ep(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",n),a=K.createElement(K.Fragment,null,K.createElement("p",null,"💿 Hey developer 👋"),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:o},"ErrorBoundary")," or"," ",K.createElement("code",{style:o},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),t?K.createElement("pre",{style:i},t):null,a)}var xN=K.createElement(wN,null),bN=class extends K.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?K.createElement(ia.Provider,{value:this.props.routeContext},K.createElement(Xw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function SN({routeContext:n,match:e,children:t}){let r=K.useContext(vc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(ia.Provider,{value:n},t)}function EN(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,o=t==null?void 0:t.errors;if(o!=null){let f=i.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);cn(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let a=!1,c=-1;if(t)for(let f=0;f<i.length;f++){let p=i[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=f),p.route.id){let{loaderData:m,errors:v}=t,w=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||w){a=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((f,p,m)=>{let v,w=!1,x=null,E=null;t&&(v=o&&p.route.id?o[p.route.id]:void 0,x=p.route.errorElement||xN,a&&(c<0&&m===0?(dk("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,E=null):c===m&&(w=!0,E=p.route.hydrateFallbackElement||null)));let C=e.concat(i.slice(0,m+1)),k=()=>{let S;return v?S=x:w?S=E:p.route.Component?S=K.createElement(p.route.Component,null):p.route.element?S=p.route.element:S=f,K.createElement(SN,{match:p,routeContext:{outlet:f,matches:C,isDataRoute:t!=null},children:S})};return t&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?K.createElement(bN,{location:t.location,revalidation:t.revalidation,component:x,error:v,children:k(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):k()},null)}function Qw(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kN(n){let e=K.useContext(vc);return cn(e,Qw(n)),e}function CN(n){let e=K.useContext($p);return cn(e,Qw(n)),e}function MN(n){let e=K.useContext(ia);return cn(e,Qw(n)),e}function Zw(n){let e=MN(n),t=e.matches[e.matches.length-1];return cn(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function ON(){return Zw("useRouteId")}function RN(){var r;let n=K.useContext(Xw),e=CN("useRouteError"),t=Zw("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function TN(){let{router:n}=kN("useNavigate"),e=Zw("useNavigate"),t=K.useRef(!1);return ck(()=>{t.current=!0}),K.useCallback(async(i,o={})=>{xr(t.current,uk),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var Xb={};function dk(n,e,t){!e&&!Xb[n]&&(Xb[n]=!0,xr(!1,t))}var Qb={};function Zb(n,e){!n&&!Qb[e]&&(Qb[e]=!0,console.warn(e))}function _N(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&xr(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:K.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&xr(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:K.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&xr(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:K.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var NN=["HydrateFallback","hydrateFallbackElement"],AN=class{constructor(){this.status="pending",this.promise=new Promise((n,e)=>{this.resolve=t=>{this.status==="pending"&&(this.status="resolved",n(t))},this.reject=t=>{this.status==="pending"&&(this.status="rejected",e(t))}})}};function DN({router:n,flushSync:e}){let[t,r]=K.useState(n.state),[i,o]=K.useState(),[a,c]=K.useState({isTransitioning:!1}),[f,p]=K.useState(),[m,v]=K.useState(),[w,x]=K.useState(),E=K.useRef(new Map),C=K.useCallback((N,{deletedFetchers:T,flushSync:D,viewTransitionOpts:_})=>{N.fetchers.forEach((z,W)=>{z.data!==void 0&&E.current.set(W,z.data)}),T.forEach(z=>E.current.delete(z)),Zb(D===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let L=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(Zb(_==null||L,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!_||!L){e&&D?e(()=>r(N)):K.startTransition(()=>r(N));return}if(e&&D){e(()=>{m&&(f&&f.resolve(),m.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:_.currentLocation,nextLocation:_.nextLocation})});let z=n.window.document.startViewTransition(()=>{e(()=>r(N))});z.finished.finally(()=>{e(()=>{p(void 0),v(void 0),o(void 0),c({isTransitioning:!1})})}),e(()=>v(z));return}m?(f&&f.resolve(),m.skipTransition(),x({state:N,currentLocation:_.currentLocation,nextLocation:_.nextLocation})):(o(N),c({isTransitioning:!0,flushSync:!1,currentLocation:_.currentLocation,nextLocation:_.nextLocation}))},[n.window,e,m,f]);K.useLayoutEffect(()=>n.subscribe(C),[n,C]),K.useEffect(()=>{a.isTransitioning&&!a.flushSync&&p(new AN)},[a]),K.useEffect(()=>{if(f&&i&&n.window){let N=i,T=f.promise,D=n.window.document.startViewTransition(async()=>{K.startTransition(()=>r(N)),await T});D.finished.finally(()=>{p(void 0),v(void 0),o(void 0),c({isTransitioning:!1})}),v(D)}},[i,f,n.window]),K.useEffect(()=>{f&&i&&t.location.key===i.location.key&&f.resolve()},[f,m,t.location,i]),K.useEffect(()=>{!a.isTransitioning&&w&&(o(w.state),c({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),x(void 0))},[a.isTransitioning,w]);let k=K.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:N=>n.navigate(N),push:(N,T,D)=>n.navigate(N,{state:T,preventScrollReset:D==null?void 0:D.preventScrollReset}),replace:(N,T,D)=>n.navigate(N,{replace:!0,state:T,preventScrollReset:D==null?void 0:D.preventScrollReset})}),[n]),S=n.basename||"/",R=K.useMemo(()=>({router:n,navigator:k,static:!1,basename:S}),[n,k,S]);return K.createElement(K.Fragment,null,K.createElement(vc.Provider,{value:R},K.createElement($p.Provider,{value:t},K.createElement(lk.Provider,{value:E.current},K.createElement(Yw.Provider,{value:a},K.createElement(IN,{basename:S,location:t.location,navigationType:t.historyAction,navigator:k},K.createElement(PN,{routes:n.routes,future:n.future,state:t})))))),null)}var PN=K.memo(LN);function LN({routes:n,future:e,state:t}){return vN(n,void 0,t,e)}function IN({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1}){cn(!Up(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=n.replace(/^\/*/,"/"),c=K.useMemo(()=>({basename:a,navigator:i,static:o,future:{}}),[a,i,o]);typeof t=="string"&&(t=Zl(t));let{pathname:f="/",search:p="",hash:m="",state:v=null,key:w="default"}=t,x=K.useMemo(()=>{let E=Go(f,a);return E==null?null:{location:{pathname:E,search:p,hash:m,state:v,key:w},navigationType:r}},[a,f,p,m,v,w,r]);return xr(x!=null,`<Router basename="${a}"> is not able to match the URL "${f}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:K.createElement(ra.Provider,{value:c},K.createElement(Uy.Provider,{children:e,value:x}))}var Bg="get",jg="application/x-www-form-urlencoded";function Wy(n){return n!=null&&typeof n.tagName=="string"}function zN(n){return Wy(n)&&n.tagName.toLowerCase()==="button"}function BN(n){return Wy(n)&&n.tagName.toLowerCase()==="form"}function jN(n){return Wy(n)&&n.tagName.toLowerCase()==="input"}function FN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function HN(n,e){return n.button===0&&(!e||e==="_self")&&!FN(n)}var pg=null;function $N(){if(pg===null)try{new FormData(document.createElement("form"),0),pg=!1}catch{pg=!0}return pg}var UN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function m0(n){return n!=null&&!UN.has(n)?(xr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jg}"`),null):n}function WN(n,e){let t,r,i,o,a;if(BN(n)){let c=n.getAttribute("action");r=c?Go(c,e):null,t=n.getAttribute("method")||Bg,i=m0(n.getAttribute("enctype"))||jg,o=new FormData(n)}else if(zN(n)||jN(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||c.getAttribute("action");if(r=f?Go(f,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Bg,i=m0(n.getAttribute("formenctype"))||m0(c.getAttribute("enctype"))||jg,o=new FormData(c,n),!$N()){let{name:p,type:m,value:v}=n;if(m==="image"){let w=p?`${p}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else p&&o.append(p,v)}}else{if(Wy(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Bg,r=null,i=jg,a=n}return o&&i==="text/plain"&&(a=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:a}}function ex(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function VN(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qN(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function GN(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let a=await VN(o,t);return a.links?a.links():[]}return[]}));return XN(r.flat(1).filter(qN).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function e1(n,e,t,r,i,o){let a=(f,p)=>t[p]?f.route.id!==t[p].route.id:!0,c=(f,p)=>{var m;return t[p].pathname!==f.pathname||((m=t[p].route.path)==null?void 0:m.endsWith("*"))&&t[p].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,p)=>a(f,p)||c(f,p)):o==="data"?e.filter((f,p)=>{var v;let m=r.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(a(f,p)||c(f,p))return!0;if(f.route.shouldRevalidate){let w=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function KN(n,e,{includeHydrateFallback:t}={}){return JN(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function JN(n){return[...new Set(n)]}function YN(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function XN(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(YN(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var QN=new Set([100,101,204,205]);function ZN(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Go(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function hk(){let n=K.useContext(vc);return ex(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function eA(){let n=K.useContext($p);return ex(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var tx=K.createContext(void 0);tx.displayName="FrameworkContext";function pk(){let n=K.useContext(tx);return ex(n,"You must render this element inside a <HydratedRouter> element"),n}function tA(n,e){let t=K.useContext(tx),[r,i]=K.useState(!1),[o,a]=K.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:p,onMouseLeave:m,onTouchStart:v}=e,w=K.useRef(null);K.useEffect(()=>{if(n==="render"&&a(!0),n==="viewport"){let C=S=>{S.forEach(R=>{a(R.isIntersecting)})},k=new IntersectionObserver(C,{threshold:.5});return w.current&&k.observe(w.current),()=>{k.disconnect()}}},[n]),K.useEffect(()=>{if(r){let C=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(C)}}},[r]);let x=()=>{i(!0)},E=()=>{i(!1),a(!1)};return t?n!=="intent"?[o,w,{}]:[o,w,{onFocus:Fh(c,x),onBlur:Fh(f,E),onMouseEnter:Fh(p,x),onMouseLeave:Fh(m,E),onTouchStart:Fh(v,x)}]:[!1,w,{}]}function Fh(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function nA({page:n,...e}){let{router:t}=hk(),r=K.useMemo(()=>jl(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?K.createElement(iA,{page:n,matches:r,...e}):null}function rA(n){let{manifest:e,routeModules:t}=pk(),[r,i]=K.useState([]);return K.useEffect(()=>{let o=!1;return GN(n,e,t).then(a=>{o||i(a)}),()=>{o=!0}},[n,e,t]),r}function iA({page:n,matches:e,...t}){let r=Ga(),{manifest:i,routeModules:o}=pk(),{basename:a}=hk(),{loaderData:c,matches:f}=eA(),p=K.useMemo(()=>e1(n,e,f,i,r,"data"),[n,e,f,i,r]),m=K.useMemo(()=>e1(n,e,f,i,r,"assets"),[n,e,f,i,r]),v=K.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let E=new Set,C=!1;if(e.forEach(S=>{var N;let R=i.routes[S.route.id];!R||!R.hasLoader||(!p.some(T=>T.route.id===S.route.id)&&S.route.id in c&&((N=o[S.route.id])!=null&&N.shouldRevalidate)||R.hasClientLoader?C=!0:E.add(S.route.id))}),E.size===0)return[];let k=ZN(n,a);return C&&E.size>0&&k.searchParams.set("_routes",e.filter(S=>E.has(S.route.id)).map(S=>S.route.id).join(",")),[k.pathname+k.search]},[a,c,r,i,p,e,n,o]),w=K.useMemo(()=>KN(m,i),[m,i]),x=rA(m);return K.createElement(K.Fragment,null,v.map(E=>K.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...t})),w.map(E=>K.createElement("link",{key:E,rel:"modulepreload",href:E,...t})),x.map(({key:E,link:C})=>K.createElement("link",{key:E,...C})))}function oA(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var mk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mk&&(window.__reactRouterVersion="7.6.2")}catch{}function sA(n,e){return J_({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:g_({window:e==null?void 0:e.window}),hydrationData:aA(),routes:n,mapRouteProperties:_N,hydrationRouteProperties:NN,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function aA(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:lA(n.errors)}),n}function lA(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")t[r]=new Kg(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let a=new o(i.message);a.stack="",t[r]=a}catch{}}if(t[r]==null){let o=new Error(i.message);o.stack="",t[r]=o}}else t[r]=i;return t}var gk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nx=K.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:a,state:c,target:f,to:p,preventScrollReset:m,viewTransition:v,...w},x){let{basename:E}=K.useContext(ra),C=typeof p=="string"&&gk.test(p),k,S=!1;if(typeof p=="string"&&C&&(k=p,mk))try{let W=new URL(window.location.href),se=p.startsWith("//")?new URL(W.protocol+p):new URL(p),xe=Go(se.pathname,E);se.origin===W.origin&&xe!=null?p=xe+se.search+se.hash:S=!0}catch{xr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=mN(p,{relative:i}),[N,T,D]=tA(r,w),_=dA(p,{replace:a,state:c,target:f,preventScrollReset:m,relative:i,viewTransition:v});function L(W){e&&e(W),W.defaultPrevented||_(W)}let z=K.createElement("a",{...w,...D,href:k||R,onClick:S||o?e:L,ref:oA(x,T),target:f,"data-discover":!C&&t==="render"?"true":void 0});return N&&!C?K.createElement(K.Fragment,null,z,K.createElement(nA,{page:R})):z});nx.displayName="Link";var uA=K.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:a,viewTransition:c,children:f,...p},m){let v=Wp(a,{relative:p.relative}),w=Ga(),x=K.useContext($p),{navigator:E,basename:C}=K.useContext(ra),k=x!=null&&yA(v)&&c===!0,S=E.encodeLocation?E.encodeLocation(v).pathname:v.pathname,R=w.pathname,N=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(R=R.toLowerCase(),N=N?N.toLowerCase():null,S=S.toLowerCase()),N&&C&&(N=Go(N,C)||N);const T=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let D=R===S||!i&&R.startsWith(S)&&R.charAt(T)==="/",_=N!=null&&(N===S||!i&&N.startsWith(S)&&N.charAt(S.length)==="/"),L={isActive:D,isPending:_,isTransitioning:k},z=D?e:void 0,W;typeof r=="function"?W=r(L):W=[r,D?"active":null,_?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let se=typeof o=="function"?o(L):o;return K.createElement(nx,{...p,"aria-current":z,className:W,ref:m,style:se,to:a,viewTransition:c},typeof f=="function"?f(L):f)});uA.displayName="NavLink";var cA=K.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:a=Bg,action:c,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:v,...w},x)=>{let E=mA(),C=gA(c,{relative:p}),k=a.toLowerCase()==="get"?"get":"post",S=typeof c=="string"&&gk.test(c),R=N=>{if(f&&f(N),N.defaultPrevented)return;N.preventDefault();let T=N.nativeEvent.submitter,D=(T==null?void 0:T.getAttribute("formmethod"))||a;E(T||N.currentTarget,{fetcherKey:e,method:D,navigate:t,replace:i,state:o,relative:p,preventScrollReset:m,viewTransition:v})};return K.createElement("form",{ref:x,method:k,action:C,onSubmit:r?f:R,...w,"data-discover":!S&&n==="render"?"true":void 0})});cA.displayName="Form";function fA(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yk(n){let e=K.useContext(vc);return cn(e,fA(n)),e}function dA(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:a}={}){let c=gN(),f=Ga(),p=Wp(n,{relative:o});return K.useCallback(m=>{if(HN(m,e)){m.preventDefault();let v=t!==void 0?t:Xl(f)===Xl(p);c(n,{replace:v,state:r,preventScrollReset:i,relative:o,viewTransition:a})}},[f,c,p,t,r,e,n,i,o,a])}var hA=0,pA=()=>`__${String(++hA)}__`;function mA(){let{router:n}=yk("useSubmit"),{basename:e}=K.useContext(ra),t=ON();return K.useCallback(async(r,i={})=>{let{action:o,method:a,encType:c,formData:f,body:p}=WN(r,e);if(i.navigate===!1){let m=i.fetcherKey||pA();await n.fetch(m,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:f,body:p,formMethod:i.method||a,formEncType:i.encType||c,flushSync:i.flushSync})}else await n.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:f,body:p,formMethod:i.method||a,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function gA(n,{relative:e}={}){let{basename:t}=K.useContext(ra),r=K.useContext(ia);cn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Wp(n||".",{relative:e})},a=Ga();if(n==null){o.search=a.search;let c=new URLSearchParams(o.search),f=c.getAll("index");if(f.some(m=>m==="")){c.delete("index"),f.filter(v=>v).forEach(v=>c.append("index",v));let m=c.toString();o.search=m?`?${m}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Xs([t,o.pathname])),Xl(o)}function yA(n,e={}){let t=K.useContext(Yw);cn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=yk("useViewTransitionState"),i=Wp(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Go(t.currentLocation.pathname,r)||t.currentLocation.pathname,a=Go(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Gg(i.pathname,a)!=null||Gg(i.pathname,o)!=null}[...QN];var rx=Hp();const vA=Fp(rx);/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wA(n){return K.createElement(DN,{flushSync:rx.flushSync,...n})}function ei(n){this.content=n}ei.prototype={constructor:ei,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,i=r.find(n),o=r.content.slice();return i==-1?o.push(t||n,e):(o[i+1]=e,t&&(o[i]=t)),new ei(o)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new ei(t)},addToStart:function(n,e){return new ei([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new ei(t)},addBefore:function(n,e,t){var r=this.remove(e),i=r.content.slice(),o=r.find(n);return i.splice(o==-1?i.length:o,0,e,t),new ei(i)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=ei.from(n),n.size?new ei(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=ei.from(n),n.size?new ei(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=ei.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};ei.from=function(n){if(n instanceof ei)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new ei(e)};function vk(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let i=n.child(r),o=e.child(r);if(i==o){t+=i.nodeSize;continue}if(!i.sameMarkup(o))return t;if(i.isText&&i.text!=o.text){for(let a=0;i.text[a]==o.text[a];a++)t++;return t}if(i.content.size||o.content.size){let a=vk(i.content,o.content,t+1);if(a!=null)return a}t+=i.nodeSize}}function wk(n,e,t,r){for(let i=n.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:t,b:r};let a=n.child(--i),c=e.child(--o),f=a.nodeSize;if(a==c){t-=f,r-=f;continue}if(!a.sameMarkup(c))return{a:t,b:r};if(a.isText&&a.text!=c.text){let p=0,m=Math.min(a.text.length,c.text.length);for(;p<m&&a.text[a.text.length-p-1]==c.text[c.text.length-p-1];)p++,t--,r--;return{a:t,b:r}}if(a.content.size||c.content.size){let p=wk(a.content,c.content,t-1,r-1);if(p)return p}t-=f,r-=f}}class ze{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,i=0,o){for(let a=0,c=0;c<t;a++){let f=this.content[a],p=c+f.nodeSize;if(p>e&&r(f,i+c,o||null,a)!==!1&&f.content.size){let m=c+1;f.nodesBetween(Math.max(0,e-m),Math.min(f.content.size,t-m),r,i+m)}c=p}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,i){let o="",a=!0;return this.nodesBetween(e,t,(c,f)=>{let p=c.isText?c.text.slice(Math.max(e,f)-f,t-f):c.isLeaf?i?typeof i=="function"?i(c):i:c.type.spec.leafText?c.type.spec.leafText(c):"":"";c.isBlock&&(c.isLeaf&&p||c.isTextblock)&&r&&(a?a=!1:o+=r),o+=p},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(r)&&(i[i.length-1]=t.withText(t.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new ze(i,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],i=0;if(t>e)for(let o=0,a=0;a<t;o++){let c=this.content[o],f=a+c.nodeSize;f>e&&((a<e||f>t)&&(c.isText?c=c.cut(Math.max(0,e-a),Math.min(c.text.length,t-a)):c=c.cut(Math.max(0,e-a-1),Math.min(c.content.size,t-a-1))),r.push(c),i+=c.nodeSize),a=f}return new ze(r,i)}cutByIndex(e,t){return e==t?ze.empty:e==0&&t==this.content.length?this:new ze(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let i=this.content.slice(),o=this.size+t.nodeSize-r.nodeSize;return i[e]=t,new ze(i,o)}addToStart(e){return new ze([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ze(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let i=this.content[t];e(i,r,t),r+=i.nodeSize}}findDiffStart(e,t=0){return vk(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return wk(this,e,t,r)}findIndex(e,t=-1){if(e==0)return mg(0,e);if(e==this.size)return mg(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=this.child(r),a=i+o.nodeSize;if(a>=e)return a==e||t>0?mg(r+1,a):mg(r,i);i=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return ze.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new ze(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ze.empty;let t,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(t||(t=e.slice(0,i)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new ze(t||e,r)}static from(e){if(!e)return ze.empty;if(e instanceof ze)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ze([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ze.empty=new ze([],0);const g0={index:0,offset:0};function mg(n,e){return g0.index=n,g0.offset=e,g0}function Yg(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!Yg(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!Yg(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let Dn=class uw{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),r=!0),t&&t.push(o)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Yg(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let i=r.create(t.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return uw.none;if(e instanceof uw)return[e];let t=e.slice();return t.sort((r,i)=>r.type.rank-i.type.rank),t}};Dn.none=[];class Xg extends Error{}class it{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=bk(this.content,e+this.openStart,t);return r&&new it(r,this.openStart,this.openEnd)}removeBetween(e,t){return new it(xk(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return it.empty;let r=t.openStart||0,i=t.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new it(ze.fromJSON(e,t.content),r,i)}static maxOpen(e,t=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.lastChild)i++;return new it(e,r,i)}}it.empty=new it(ze.empty,0,0);function xk(n,e,t){let{index:r,offset:i}=n.findIndex(e),o=n.maybeChild(r),{index:a,offset:c}=n.findIndex(t);if(i==e||o.isText){if(c!=t&&!n.child(a).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=a)throw new RangeError("Removing non-flat range");return n.replaceChild(r,o.copy(xk(o.content,e-i-1,t-i-1)))}function bk(n,e,t,r){let{index:i,offset:o}=n.findIndex(e),a=n.maybeChild(i);if(o==e||a.isText)return n.cut(0,e).append(t).append(n.cut(e));let c=bk(a.content,e-o-1,t);return c&&n.replaceChild(i,a.copy(c))}function xA(n,e,t){if(t.openStart>n.depth)throw new Xg("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new Xg("Inconsistent open depths");return Sk(n,e,t,0)}function Sk(n,e,t,r){let i=n.index(r),o=n.node(r);if(i==e.index(r)&&r<n.depth-t.openStart){let a=Sk(n,e,t,r+1);return o.copy(o.content.replaceChild(i,a))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let a=n.parent,c=a.content;return oc(a,c.cut(0,n.parentOffset).append(t.content).append(c.cut(e.parentOffset)))}else{let{start:a,end:c}=bA(t,n);return oc(o,kk(n,a,c,e,r))}else return oc(o,Qg(n,e,r))}function Ek(n,e){if(!e.type.compatibleContent(n.type))throw new Xg("Cannot join "+e.type.name+" onto "+n.type.name)}function cw(n,e,t){let r=n.node(t);return Ek(r,e.node(t)),r}function ic(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function up(n,e,t,r){let i=(e||n).node(t),o=0,a=e?e.index(t):i.childCount;n&&(o=n.index(t),n.depth>t?o++:n.textOffset&&(ic(n.nodeAfter,r),o++));for(let c=o;c<a;c++)ic(i.child(c),r);e&&e.depth==t&&e.textOffset&&ic(e.nodeBefore,r)}function oc(n,e){return n.type.checkContent(e),n.copy(e)}function kk(n,e,t,r,i){let o=n.depth>i&&cw(n,e,i+1),a=r.depth>i&&cw(t,r,i+1),c=[];return up(null,n,i,c),o&&a&&e.index(i)==t.index(i)?(Ek(o,a),ic(oc(o,kk(n,e,t,r,i+1)),c)):(o&&ic(oc(o,Qg(n,e,i+1)),c),up(e,t,i,c),a&&ic(oc(a,Qg(t,r,i+1)),c)),up(r,null,i,c),new ze(c)}function Qg(n,e,t){let r=[];if(up(null,n,t,r),n.depth>t){let i=cw(n,e,t+1);ic(oc(i,Qg(n,e,t+1)),r)}return up(e,null,t,r),new ze(r)}function bA(n,e){let t=e.depth-n.openStart,i=e.node(t).copy(n.content);for(let o=t-1;o>=0;o--)i=e.node(o).copy(ze.from(i));return{start:i.resolveNoCache(n.openStart+t),end:i.resolveNoCache(i.content.size-n.openEnd-t)}}class kp{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(t);return r?e.child(t).cut(r):i}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],i=t==0?0:this.path[t*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return Dn.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),i=e.maybeChild(t);if(!r){let c=r;r=i,i=c}let o=r.marks;for(var a=0;a<o.length;a++)o[a].type.spec.inclusive===!1&&(!i||!o[a].isInSet(i.marks))&&(o=o[a--].removeFromSet(o));return o}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new Zg(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],i=0,o=t;for(let a=e;;){let{index:c,offset:f}=a.content.findIndex(o),p=o-f;if(r.push(a,c,i+f),!p||(a=a.child(c),a.isText))break;o=p-1,i+=f+1}return new kp(t,r,o)}static resolveCached(e,t){let r=t1.get(e);if(r)for(let o=0;o<r.elts.length;o++){let a=r.elts[o];if(a.pos==t)return a}else t1.set(e,r=new SA);let i=r.elts[r.i]=kp.resolve(e,t);return r.i=(r.i+1)%EA,i}}class SA{constructor(){this.elts=[],this.i=0}}const EA=12,t1=new WeakMap;class Zg{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const kA=Object.create(null);let ql=class fw{constructor(e,t,r,i=Dn.none){this.type=e,this.attrs=t,this.marks=i,this.content=r||ze.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,i=0){this.content.nodesBetween(e,t,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,i){return this.content.textBetween(e,t,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&Yg(this.attrs,t||e.defaultAttrs||kA)&&Dn.sameSet(this.marks,r||Dn.none)}copy(e=null){return e==this.content?this:new fw(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new fw(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return it.empty;let i=this.resolve(e),o=this.resolve(t),a=r?0:i.sharedDepth(t),c=i.start(a),p=i.node(a).content.cut(i.pos-c,o.pos-c);return new it(p,i.depth-a,o.depth-a)}replace(e,t,r){return xA(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:i}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(i==e||t.isText)return t;e-=i+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let i=this.content.child(t-1);return{node:i,index:t-1,offset:r-i.nodeSize}}resolve(e){return kp.resolveCached(this,e)}resolveNoCache(e){return kp.resolve(this,e)}rangeHasMark(e,t,r){let i=!1;return t>e&&this.nodesBetween(e,t,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Ck(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=ze.empty,i=0,o=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,i,o),c=a&&a.matchFragment(this.content,t);if(!c||!c.validEnd)return!1;for(let f=i;f<o;f++)if(!this.type.allowsMarks(r.child(f).marks))return!1;return!0}canReplaceWith(e,t,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),a=o&&o.matchFragment(this.content,t);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Dn.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Dn.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let i=ze.fromJSON(e,t.content),o=e.nodeType(t.type).create(t.attrs,i,r);return o.type.checkAttrs(o.attrs),o}};ql.prototype.text=void 0;class ey extends ql{constructor(e,t,r,i){if(super(e,t,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Ck(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new ey(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new ey(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Ck(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class fc{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new CA(e,t);if(r.next==null)return fc.empty;let i=Mk(r);r.next&&r.err("Unexpected trailing text");let o=AA(NA(i));return DA(o,r),o}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let i=this;for(let o=t;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let i=[this];function o(a,c){let f=a.matchFragment(e,r);if(f&&(!t||f.validEnd))return ze.from(c.map(p=>p.createAndFill()));for(let p=0;p<a.next.length;p++){let{type:m,next:v}=a.next[p];if(!(m.isText||m.hasRequiredAttrs())&&i.indexOf(v)==-1){i.push(v);let w=o(v,c.concat(m));if(w)return w}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let a=[];for(let c=i;c.type;c=c.via)a.push(c.type);return a.reverse()}for(let a=0;a<o.next.length;a++){let{type:c,next:f}=o.next[a];!c.isLeaf&&!c.hasRequiredAttrs()&&!(c.name in t)&&(!i.type||f.validEnd)&&(r.push({match:c.contentMatch,type:c,via:i}),t[c.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&t(r.next[i].next)}return t(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)o+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return o}).join(`
`)}}fc.empty=new fc(!0);class CA{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function Mk(n){let e=[];do e.push(MA(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function MA(n){let e=[];do e.push(OA(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function OA(n){let e=_A(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=RA(n,e);else break;return e}function n1(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function RA(n,e){let t=n1(n),r=t;return n.eat(",")&&(n.next!="}"?r=n1(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function TA(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let i=[];for(let o in t){let a=t[o];a.isInGroup(e)&&i.push(a)}return i.length==0&&n.err("No node type or group '"+e+"' found"),i}function _A(n){if(n.eat("(")){let e=Mk(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=TA(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function NA(n){let e=[[]];return i(o(n,0),t()),e;function t(){return e.push([])-1}function r(a,c,f){let p={term:f,to:c};return e[a].push(p),p}function i(a,c){a.forEach(f=>f.to=c)}function o(a,c){if(a.type=="choice")return a.exprs.reduce((f,p)=>f.concat(o(p,c)),[]);if(a.type=="seq")for(let f=0;;f++){let p=o(a.exprs[f],c);if(f==a.exprs.length-1)return p;i(p,c=t())}else if(a.type=="star"){let f=t();return r(c,f),i(o(a.expr,f),f),[r(f)]}else if(a.type=="plus"){let f=t();return i(o(a.expr,c),f),i(o(a.expr,f),f),[r(f)]}else{if(a.type=="opt")return[r(c)].concat(o(a.expr,c));if(a.type=="range"){let f=c;for(let p=0;p<a.min;p++){let m=t();i(o(a.expr,f),m),f=m}if(a.max==-1)i(o(a.expr,f),f);else for(let p=a.min;p<a.max;p++){let m=t();r(f,m),i(o(a.expr,f),m),f=m}return[r(f)]}else{if(a.type=="name")return[r(c,void 0,a.value)];throw new Error("Unknown expr type")}}}}function Ok(n,e){return e-n}function r1(n,e){let t=[];return r(e),t.sort(Ok);function r(i){let o=n[i];if(o.length==1&&!o[0].term)return r(o[0].to);t.push(i);for(let a=0;a<o.length;a++){let{term:c,to:f}=o[a];!c&&t.indexOf(f)==-1&&r(f)}}}function AA(n){let e=Object.create(null);return t(r1(n,0));function t(r){let i=[];r.forEach(a=>{n[a].forEach(({term:c,to:f})=>{if(!c)return;let p;for(let m=0;m<i.length;m++)i[m][0]==c&&(p=i[m][1]);r1(n,f).forEach(m=>{p||i.push([c,p=[]]),p.indexOf(m)==-1&&p.push(m)})})});let o=e[r.join(",")]=new fc(r.indexOf(n.length-1)>-1);for(let a=0;a<i.length;a++){let c=i[a][1].sort(Ok);o.next.push({type:i[a][0],next:e[c.join(",")]||t(c)})}return o}}function DA(n,e){for(let t=0,r=[n];t<r.length;t++){let i=r[t],o=!i.validEnd,a=[];for(let c=0;c<i.next.length;c++){let{type:f,next:p}=i.next[c];a.push(f.name),o&&!(f.isText||f.hasRequiredAttrs())&&(o=!1),r.indexOf(p)==-1&&r.push(p)}o&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Rk(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function Tk(n,e){let t=Object.create(null);for(let r in n){let i=e&&e[r];if(i===void 0){let o=n[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=i}return t}function _k(n,e,t,r){for(let i in e)if(!(i in n))throw new RangeError(`Unsupported attribute ${i} for ${t} of type ${i}`);for(let i in n){let o=n[i];o.validate&&o.validate(e[i])}}function Nk(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new LA(n,r,e[r]);return t}let i1=class Ak{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Nk(e,r.attrs),this.defaultAttrs=Rk(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==fc.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Tk(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ql(this,this.computeAttrs(e),ze.from(t),Dn.setFrom(r))}createChecked(e=null,t,r){return t=ze.from(t),this.checkContent(t),new ql(this,this.computeAttrs(e),t,Dn.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=ze.from(t),t.size){let a=this.contentMatch.fillBefore(t);if(!a)return null;t=a.append(t)}let i=this.contentMatch.matchFragment(t),o=i&&i.fillBefore(ze.empty,!0);return o?new ql(this,e,t.append(o),Dn.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){_k(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:Dn.none:e}static compile(e,t){let r=Object.create(null);e.forEach((o,a)=>r[o]=new Ak(o,t,a));let i=t.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function PA(n,e,t){let r=t.split("|");return i=>{let o=i===null?"null":typeof i;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${o}`)}}class LA{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?PA(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Vy{constructor(e,t,r,i){this.name=e,this.rank=t,this.schema=r,this.spec=i,this.attrs=Nk(e,i.attrs),this.excluded=null;let o=Rk(this.attrs);this.instance=o?new Dn(this,o):null}create(e=null){return!e&&this.instance?this.instance:new Dn(this,Tk(this.attrs,e))}static compile(e,t){let r=Object.create(null),i=0;return e.forEach((o,a)=>r[o]=new Vy(o,i++,t,a)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){_k(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class Dk{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let i in e)t[i]=e[i];t.nodes=ei.from(e.nodes),t.marks=ei.from(e.marks||{}),this.nodes=i1.compile(this.spec.nodes,this),this.marks=Vy.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],a=o.spec.content||"",c=o.spec.marks;if(o.contentMatch=r[a]||(r[a]=fc.parse(a,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=c=="_"?null:c?o1(this,c.split(" ")):c==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],a=o.spec.excludes;o.excluded=a==null?[o]:a==""?[]:o1(this,a.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof i1){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,i)}text(e,t){let r=this.nodes.text;return new ey(r,r.defaultAttrs,e,Dn.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return ql.fromJSON(this,e)}markFromJSON(e){return Dn.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function o1(n,e){let t=[];for(let r=0;r<e.length;r++){let i=e[r],o=n.marks[i],a=o;if(o)t.push(o);else for(let c in n.marks){let f=n.marks[c];(i=="_"||f.spec.group&&f.spec.group.split(" ").indexOf(i)>-1)&&t.push(a=f)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function IA(n){return n.tag!=null}function zA(n){return n.style!=null}class Gl{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(i=>{if(IA(i))this.tags.push(i);else if(zA(i)){let o=/[^=]*/.exec(i.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let o=e.nodes[i.node];return o.contentMatch.matchType(o)})}parse(e,t={}){let r=new a1(this,t,!1);return r.addAll(e,Dn.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new a1(this,t,!0);return r.addAll(e,Dn.none,t.from,t.to),it.maxOpen(r.finish())}matchTag(e,t,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(FA(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||t.matchesContext(o.context))){if(o.getAttrs){let a=o.getAttrs(e);if(a===!1)continue;o.attrs=a||void 0}return o}}}matchStyle(e,t,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let a=this.styles[o],c=a.style;if(!(c.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||c.length>e.length&&(c.charCodeAt(e.length)!=61||c.slice(e.length+1)!=t))){if(a.getAttrs){let f=a.getAttrs(t);if(f===!1)continue;a.attrs=f||void 0}return a}}}static schemaRules(e){let t=[];function r(i){let o=i.priority==null?50:i.priority,a=0;for(;a<t.length;a++){let c=t[a];if((c.priority==null?50:c.priority)<o)break}t.splice(a,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(a=>{r(a=l1(a)),a.mark||a.ignore||a.clearMark||(a.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(a=>{r(a=l1(a)),a.node||a.ignore||a.mark||(a.node=i)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Gl(e,Gl.schemaRules(e)))}}const Pk={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},BA={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Lk={ol:!0,ul:!0},Cp=1,dw=2,cp=4;function s1(n,e,t){return e!=null?(e?Cp:0)|(e==="full"?dw:0):n&&n.whitespace=="pre"?Cp|dw:t&~cp}class gg{constructor(e,t,r,i,o,a){this.type=e,this.attrs=t,this.marks=r,this.solid=i,this.options=a,this.content=[],this.activeMarks=Dn.none,this.match=o||(a&cp?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(ze.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Cp)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let t=ze.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(ze.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Pk.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class a1{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=t.topNode,o,a=s1(null,t.preserveWhitespace,0)|(r?cp:0);i?o=new gg(i.type,i.attrs,Dn.none,!0,t.topMatch||i.type.contentMatch,a):r?o=new gg(null,null,Dn.none,!0,null,a):o=new gg(e.schema.topNodeType,null,Dn.none,!0,null,a),this.nodes=[o],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,i=this.top,o=i.options&dw?"full":this.localPreserveWS||(i.options&Cp)>0;if(o==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(o)o!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=i.content[i.content.length-1],c=e.previousSibling;(!a||c&&c.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),t,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let i=this.localPreserveWS,o=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),c;Lk.hasOwnProperty(a)&&this.parser.normalizeLists&&jA(e);let f=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(c=this.parser.matchTag(e,this,r));e:if(f?f.ignore:BA.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,t);else if(!f||f.skip||f.closeParent){f&&f.closeParent?this.open=Math.max(0,this.open-1):f&&f.skip.nodeType&&(e=f.skip);let p,m=this.needsBlock;if(Pk.hasOwnProperty(a))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),p=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let v=f&&f.skip?t:this.readStyles(e,t);v&&this.addAll(e,v),p&&this.sync(o),this.needsBlock=m}else{let p=this.readStyles(e,t);p&&this.addElementByRule(e,f,p,f.consuming===!1?c:void 0)}this.localPreserveWS=i}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let o=this.parser.matchedStyles[i],a=r.getPropertyValue(o);if(a)for(let c=void 0;;){let f=this.parser.matchStyle(o,a,this,c);if(!f)break;if(f.ignore)return null;if(f.clearMark?t=t.filter(p=>!f.clearMark(p)):t=t.concat(this.parser.schema.marks[f.mark].create(f.attrs)),f.consuming===!1)c=f;else break}}return t}addElementByRule(e,t,r,i){let o,a;if(t.node)if(a=this.parser.schema.nodes[t.node],a.isLeaf)this.insertNode(a.create(t.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let f=this.enter(a,t.attrs||null,r,t.preserveWhitespace);f&&(o=!0,r=f)}else{let f=this.parser.schema.marks[t.mark];r=r.concat(f.create(t.attrs))}let c=this.top;if(a&&a.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(f=>this.insertNode(f,r,!1));else{let f=e;typeof t.contentElement=="string"?f=e.querySelector(t.contentElement):typeof t.contentElement=="function"?f=t.contentElement(e):t.contentElement&&(f=t.contentElement),this.findAround(e,f,!0),this.addAll(f,r),this.findAround(e,f,!1)}o&&this.sync(c)&&this.open--}addAll(e,t,r,i){let o=r||0;for(let a=r?e.childNodes[r]:e.firstChild,c=i==null?null:e.childNodes[i];a!=c;a=a.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(a,t);this.findAtPoint(e,o)}findPlace(e,t,r){let i,o;for(let a=this.open,c=0;a>=0;a--){let f=this.nodes[a],p=f.findWrapping(e);if(p&&(!i||i.length>p.length+c)&&(i=p,o=f,!p.length))break;if(f.solid){if(r)break;c+=2}}if(!i)return null;this.sync(o);for(let a=0;a<i.length;a++)t=this.enterInner(i[a],null,t,!1);return t}insertNode(e,t,r){if(e.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(t=this.enterInner(o,null,t))}let i=this.findPlace(e,t,r);if(i){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(e.type));let a=Dn.none;for(let c of i.concat(e.marks))(o.type?o.type.allowsMarkType(c.type):u1(c.type,e.type))&&(a=c.addToSet(a));return o.content.push(e.mark(a)),!0}return!1}enter(e,t,r,i){let o=this.findPlace(e.create(t),r,!1);return o&&(o=this.enterInner(e,t,r,!0,i)),o}enterInner(e,t,r,i=!1,o){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let c=s1(e,o,a.options);a.options&cp&&a.content.length==0&&(c|=cp);let f=Dn.none;return r=r.filter(p=>(a.type?a.type.allowsMarkType(p.type):u1(p.type,e))?(f=p.addToSet(f),!1):!0),this.nodes.push(new gg(e,t,f,i,null,c)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=Cp)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&t.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),a=(c,f)=>{for(;c>=0;c--){let p=t[c];if(p==""){if(c==t.length-1||c==0)continue;for(;f>=o;f--)if(a(c-1,f))return!0;return!1}else{let m=f>0||f==0&&i?this.nodes[f].type:r&&f>=o?r.node(f-o).type:null;if(!m||m.name!=p&&!m.isInGroup(p))return!1;f--}}return!0};return a(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function jA(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&Lk.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function FA(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function l1(n){let e={};for(let t in n)e[t]=n[t];return e}function u1(n,e){let t=e.schema.nodes;for(let r in t){let i=t[r];if(!i.allowsMarkType(n))continue;let o=[],a=c=>{o.push(c);for(let f=0;f<c.edgeCount;f++){let{type:p,next:m}=c.edge(f);if(p==e||o.indexOf(m)<0&&a(m))return!0}};if(a(i.contentMatch))return!0}}class wc{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=y0(t).createDocumentFragment());let i=r,o=[];return e.forEach(a=>{if(o.length||a.marks.length){let c=0,f=0;for(;c<o.length&&f<a.marks.length;){let p=a.marks[f];if(!this.marks[p.type.name]){f++;continue}if(!p.eq(o[c][0])||p.type.spec.spanning===!1)break;c++,f++}for(;c<o.length;)i=o.pop()[1];for(;f<a.marks.length;){let p=a.marks[f++],m=this.serializeMark(p,a.isInline,t);m&&(o.push([p,i]),i.appendChild(m.dom),i=m.contentDOM||m.dom)}}i.appendChild(this.serializeNodeInner(a,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:i}=Fg(y0(t),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,i)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,t,r={}){let i=this.marks[e.type.name];return i&&Fg(y0(r),i(e,t),null,e.attrs)}static renderSpec(e,t,r=null,i){return Fg(e,t,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new wc(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=c1(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return c1(e.marks)}}function c1(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function y0(n){return n.document||window.document}const f1=new WeakMap;function HA(n){let e=f1.get(n);return e===void 0&&f1.set(n,e=$A(n)),e}function $A(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)t(r[i]);else for(let i in r)t(r[i])}return t(n),e}function Fg(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],o;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=HA(r))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=i.indexOf(" ");a>0&&(t=i.slice(0,a),i=i.slice(a+1));let c,f=t?n.createElementNS(t,i):n.createElement(i),p=e[1],m=1;if(p&&typeof p=="object"&&p.nodeType==null&&!Array.isArray(p)){m=2;for(let v in p)if(p[v]!=null){let w=v.indexOf(" ");w>0?f.setAttributeNS(v.slice(0,w),v.slice(w+1),p[v]):f.setAttribute(v,p[v])}}for(let v=m;v<e.length;v++){let w=e[v];if(w===0){if(v<e.length-1||v>m)throw new RangeError("Content hole must be the only child of its parent node");return{dom:f,contentDOM:f}}else{let{dom:x,contentDOM:E}=Fg(n,w,t,r);if(f.appendChild(x),E){if(c)throw new RangeError("Multiple content holes");c=E}}}return{dom:f,contentDOM:c}}const Ik=65535,zk=Math.pow(2,16);function UA(n,e){return n+e*zk}function d1(n){return n&Ik}function WA(n){return(n-(n&Ik))/zk}const Bk=1,jk=2,Hg=4,Fk=8;class hw{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&Fk)>0}get deletedBefore(){return(this.delInfo&(Bk|Hg))>0}get deletedAfter(){return(this.delInfo&(jk|Hg))>0}get deletedAcross(){return(this.delInfo&Hg)>0}}class mo{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&mo.empty)return mo.empty}recover(e){let t=0,r=d1(e);if(!this.inverted)for(let i=0;i<r;i++)t+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+t+WA(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let i=0,o=this.inverted?2:1,a=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let f=this.ranges[c]-(this.inverted?i:0);if(f>e)break;let p=this.ranges[c+o],m=this.ranges[c+a],v=f+p;if(e<=v){let w=p?e==f?-1:e==v?1:t:t,x=f+i+(w<0?0:m);if(r)return x;let E=e==(t<0?f:v)?null:UA(c/3,e-f),C=e==f?jk:e==v?Bk:Hg;return(t<0?e!=f:e!=v)&&(C|=Fk),new hw(x,C,E)}i+=m-p}return r?e+i:new hw(e+i,0,null)}touches(e,t){let r=0,i=d1(t),o=this.inverted?2:1,a=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let f=this.ranges[c]-(this.inverted?r:0);if(f>e)break;let p=this.ranges[c+o],m=f+p;if(e<=m&&c==i*3)return!0;r+=this.ranges[c+a]-p}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let a=this.ranges[i],c=a-(this.inverted?o:0),f=a+(this.inverted?0:o),p=this.ranges[i+t],m=this.ranges[i+r];e(c,c+p,f,f+m),o+=m-p}}invert(){return new mo(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?mo.empty:new mo(e<0?[0,-e,0]:[0,0,e])}}mo.empty=new mo([]);class Mp{constructor(e,t,r=0,i=e?e.length:0){this.mirror=t,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new Mp(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,r=this._maps.length;t<e._maps.length;t++){let i=e.getMirror(t);this.appendMap(e._maps[t],i!=null&&i<t?r+i:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this._maps.length+e._maps.length;t>=0;t--){let i=e.getMirror(t);this.appendMap(e._maps[t].invert(),i!=null&&i>t?r-i-1:void 0)}}invert(){let e=new Mp;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let i=0;for(let o=this.from;o<this.to;o++){let a=this._maps[o],c=a.mapResult(e,t);if(c.recover!=null){let f=this.getMirror(o);if(f!=null&&f>o&&f<this.to){o=f,e=this._maps[f].recover(c.recover);continue}}i|=c.delInfo,e=c.pos}return r?e:new hw(e,i,null)}}const v0=Object.create(null);class pi{getMap(){return mo.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=v0[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in v0)throw new RangeError("Duplicate use of step JSON ID "+e);return v0[e]=t,t.prototype.jsonID=e,t}}class wr{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new wr(e,null)}static fail(e){return new wr(null,e)}static fromReplace(e,t,r,i){try{return wr.ok(e.replace(t,r,i))}catch(o){if(o instanceof Xg)return wr.fail(o.message);throw o}}}function ix(n,e,t){let r=[];for(let i=0;i<n.childCount;i++){let o=n.child(i);o.content.size&&(o=o.copy(ix(o.content,e,o))),o.isInline&&(o=e(o,t,i)),r.push(o)}return ze.fromArray(r)}class $l extends pi{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new it(ix(t.content,(a,c)=>!a.isAtom||!c.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),i),t.openStart,t.openEnd);return wr.fromReplace(e,this.from,this.to,o)}invert(){return new Ys(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new $l(t.pos,r.pos,this.mark)}merge(e){return e instanceof $l&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new $l(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new $l(t.from,t.to,e.markFromJSON(t.mark))}}pi.jsonID("addMark",$l);class Ys extends pi{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new it(ix(t.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),t.openStart,t.openEnd);return wr.fromReplace(e,this.from,this.to,r)}invert(){return new $l(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Ys(t.pos,r.pos,this.mark)}merge(e){return e instanceof Ys&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ys(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ys(t.from,t.to,e.markFromJSON(t.mark))}}pi.jsonID("removeMark",Ys);class Ul extends pi{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return wr.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return wr.fromReplace(e,this.pos,this.pos+1,new it(ze.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let i=0;i<t.marks.length;i++)if(!t.marks[i].isInSet(r))return new Ul(this.pos,t.marks[i]);return new Ul(this.pos,this.mark)}}return new dc(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Ul(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ul(t.pos,e.markFromJSON(t.mark))}}pi.jsonID("addNodeMark",Ul);class dc extends pi{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return wr.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return wr.fromReplace(e,this.pos,this.pos+1,new it(ze.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new Ul(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new dc(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new dc(t.pos,e.markFromJSON(t.mark))}}pi.jsonID("removeNodeMark",dc);class Fr extends pi{constructor(e,t,r,i=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=i}apply(e){return this.structure&&pw(e,this.from,this.to)?wr.fail("Structure replace would overwrite content"):wr.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new mo([this.from,this.to-this.from,this.slice.size])}invert(e){return new Fr(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new Fr(t.pos,Math.max(t.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Fr)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?it.empty:new it(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Fr(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?it.empty:new it(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Fr(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Fr(t.from,t.to,it.fromJSON(e,t.slice),!!t.structure)}}pi.jsonID("replace",Fr);class Hr extends pi{constructor(e,t,r,i,o,a,c=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=a,this.structure=c}apply(e){if(this.structure&&(pw(e,this.from,this.gapFrom)||pw(e,this.gapTo,this.to)))return wr.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return wr.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?wr.fromReplace(e,this.from,this.to,r):wr.fail("Content does not fit in gap")}getMap(){return new mo([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new Hr(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||i<t.pos||o>r.pos?null:new Hr(t.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Hr(t.from,t.to,t.gapFrom,t.gapTo,it.fromJSON(e,t.slice),t.insert,!!t.structure)}}pi.jsonID("replaceAround",Hr);function pw(n,e,t){let r=n.resolve(e),i=t-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let a=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}}return!1}function VA(n,e,t,r){let i=[],o=[],a,c;n.doc.nodesBetween(e,t,(f,p,m)=>{if(!f.isInline)return;let v=f.marks;if(!r.isInSet(v)&&m.type.allowsMarkType(r.type)){let w=Math.max(p,e),x=Math.min(p+f.nodeSize,t),E=r.addToSet(v);for(let C=0;C<v.length;C++)v[C].isInSet(E)||(a&&a.to==w&&a.mark.eq(v[C])?a.to=x:i.push(a=new Ys(w,x,v[C])));c&&c.to==w?c.to=x:o.push(c=new $l(w,x,r))}}),i.forEach(f=>n.step(f)),o.forEach(f=>n.step(f))}function qA(n,e,t,r){let i=[],o=0;n.doc.nodesBetween(e,t,(a,c)=>{if(!a.isInline)return;o++;let f=null;if(r instanceof Vy){let p=a.marks,m;for(;m=r.isInSet(p);)(f||(f=[])).push(m),p=m.removeFromSet(p)}else r?r.isInSet(a.marks)&&(f=[r]):f=a.marks;if(f&&f.length){let p=Math.min(c+a.nodeSize,t);for(let m=0;m<f.length;m++){let v=f[m],w;for(let x=0;x<i.length;x++){let E=i[x];E.step==o-1&&v.eq(i[x].style)&&(w=E)}w?(w.to=p,w.step=o):i.push({style:v,from:Math.max(c,e),to:p,step:o})}}}),i.forEach(a=>n.step(new Ys(a.from,a.to,a.style)))}function ox(n,e,t,r=t.contentMatch,i=!0){let o=n.doc.nodeAt(e),a=[],c=e+1;for(let f=0;f<o.childCount;f++){let p=o.child(f),m=c+p.nodeSize,v=r.matchType(p.type);if(!v)a.push(new Fr(c,m,it.empty));else{r=v;for(let w=0;w<p.marks.length;w++)t.allowsMarkType(p.marks[w].type)||n.step(new Ys(c,m,p.marks[w]));if(i&&p.isText&&t.whitespace!="pre"){let w,x=/\r?\n|\r/g,E;for(;w=x.exec(p.text);)E||(E=new it(ze.from(t.schema.text(" ",t.allowedMarks(p.marks))),0,0)),a.push(new Fr(c+w.index,c+w.index+w[0].length,E))}}c=m}if(!r.validEnd){let f=r.fillBefore(ze.empty,!0);n.replace(c,c,new it(f,0,0))}for(let f=a.length-1;f>=0;f--)n.step(a[f])}function GA(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function md(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let i=n.$from.node(r),o=n.$from.index(r),a=n.$to.indexAfter(r);if(r<n.depth&&i.canReplace(o,a,t))return r;if(r==0||i.type.spec.isolating||!GA(i,o,a))break}return null}function KA(n,e,t){let{$from:r,$to:i,depth:o}=e,a=r.before(o+1),c=i.after(o+1),f=a,p=c,m=ze.empty,v=0;for(let E=o,C=!1;E>t;E--)C||r.index(E)>0?(C=!0,m=ze.from(r.node(E).copy(m)),v++):f--;let w=ze.empty,x=0;for(let E=o,C=!1;E>t;E--)C||i.after(E+1)<i.end(E)?(C=!0,w=ze.from(i.node(E).copy(w)),x++):p++;n.step(new Hr(f,p,a,c,new it(m.append(w),v,x),m.size-v,!0))}function sx(n,e,t=null,r=n){let i=JA(n,e),o=i&&YA(r,e);return o?i.map(h1).concat({type:e,attrs:t}).concat(o.map(h1)):null}function h1(n){return{type:n,attrs:null}}function JA(n,e){let{parent:t,startIndex:r,endIndex:i}=n,o=t.contentMatchAt(r).findWrapping(e);if(!o)return null;let a=o.length?o[0]:e;return t.canReplaceWith(r,i,a)?o:null}function YA(n,e){let{parent:t,startIndex:r,endIndex:i}=n,o=t.child(r),a=e.contentMatch.findWrapping(o.type);if(!a)return null;let f=(a.length?a[a.length-1]:e).contentMatch;for(let p=r;f&&p<i;p++)f=f.matchType(t.child(p).type);return!f||!f.validEnd?null:a}function XA(n,e,t){let r=ze.empty;for(let a=t.length-1;a>=0;a--){if(r.size){let c=t[a].type.contentMatch.matchFragment(r);if(!c||!c.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ze.from(t[a].type.create(t[a].attrs,r))}let i=e.start,o=e.end;n.step(new Hr(i,o,i,o,new it(r,0,0),t.length,!0))}function QA(n,e,t,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=n.steps.length;n.doc.nodesBetween(e,t,(a,c)=>{let f=typeof i=="function"?i(a):i;if(a.isTextblock&&!a.hasMarkup(r,f)&&ZA(n.doc,n.mapping.slice(o).map(c),r)){let p=null;if(r.schema.linebreakReplacement){let x=r.whitespace=="pre",E=!!r.contentMatch.matchType(r.schema.linebreakReplacement);x&&!E?p=!1:!x&&E&&(p=!0)}p===!1&&$k(n,a,c,o),ox(n,n.mapping.slice(o).map(c,1),r,void 0,p===null);let m=n.mapping.slice(o),v=m.map(c,1),w=m.map(c+a.nodeSize,1);return n.step(new Hr(v,w,v+1,w-1,new it(ze.from(r.create(f,null,a.marks)),0,0),1,!0)),p===!0&&Hk(n,a,c,o),!1}})}function Hk(n,e,t,r){e.forEach((i,o)=>{if(i.isText){let a,c=/\r?\n|\r/g;for(;a=c.exec(i.text);){let f=n.mapping.slice(r).map(t+1+o+a.index);n.replaceWith(f,f+1,e.type.schema.linebreakReplacement.create())}}})}function $k(n,e,t,r){e.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let a=n.mapping.slice(r).map(t+1+o);n.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function ZA(n,e,t){let r=n.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,t)}function eD(n,e,t,r,i){let o=n.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");t||(t=o.type);let a=t.create(r,null,i||o.marks);if(o.isLeaf)return n.replaceWith(e,e+o.nodeSize,a);if(!t.validContent(o.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new Hr(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new it(ze.from(a),0,0),1,!0))}function Wa(n,e,t=1,r){let i=n.resolve(e),o=i.depth-t,a=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let p=i.depth-1,m=t-2;p>o;p--,m--){let v=i.node(p),w=i.index(p);if(v.type.spec.isolating)return!1;let x=v.content.cutByIndex(w,v.childCount),E=r&&r[m+1];E&&(x=x.replaceChild(0,E.type.create(E.attrs)));let C=r&&r[m]||v;if(!v.canReplace(w+1,v.childCount)||!C.type.validContent(x))return!1}let c=i.indexAfter(o),f=r&&r[0];return i.node(o).canReplaceWith(c,c,f?f.type:i.node(o+1).type)}function tD(n,e,t=1,r){let i=n.doc.resolve(e),o=ze.empty,a=ze.empty;for(let c=i.depth,f=i.depth-t,p=t-1;c>f;c--,p--){o=ze.from(i.node(c).copy(o));let m=r&&r[p];a=ze.from(m?m.type.create(m.attrs,a):i.node(c).copy(a))}n.step(new Fr(e,e,new it(o.append(a),t,t),!0))}function eu(n,e){let t=n.resolve(e),r=t.index();return Uk(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function nD(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let i=0;i<e.childCount;i++){let o=e.child(i),a=o.type==r?n.type.schema.nodes.text:o.type;if(t=t.matchType(a),!t||!n.type.allowsMarks(o.marks))return!1}return t.validEnd}function Uk(n,e){return!!(n&&e&&!n.isLeaf&&nD(n,e))}function qy(n,e,t=-1){let r=n.resolve(e);for(let i=r.depth;;i--){let o,a,c=r.index(i);if(i==r.depth?(o=r.nodeBefore,a=r.nodeAfter):t>0?(o=r.node(i+1),c++,a=r.node(i).maybeChild(c)):(o=r.node(i).maybeChild(c-1),a=r.node(i+1)),o&&!o.isTextblock&&Uk(o,a)&&r.node(i).canReplace(c,c+1))return e;if(i==0)break;e=t<0?r.before(i):r.after(i)}}function rD(n,e,t){let r=null,{linebreakReplacement:i}=n.doc.type.schema,o=n.doc.resolve(e-t),a=o.node().type;if(i&&a.inlineContent){let m=a.whitespace=="pre",v=!!a.contentMatch.matchType(i);m&&!v?r=!1:!m&&v&&(r=!0)}let c=n.steps.length;if(r===!1){let m=n.doc.resolve(e+t);$k(n,m.node(),m.before(),c)}a.inlineContent&&ox(n,e+t-1,a,o.node().contentMatchAt(o.index()),r==null);let f=n.mapping.slice(c),p=f.map(e-t);if(n.step(new Fr(p,f.map(e+t,-1),it.empty,!0)),r===!0){let m=n.doc.resolve(p);Hk(n,m.node(),m.before(),n.steps.length)}return n}function iD(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,t))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,t))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function Wk(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let i=t.content;for(let o=0;o<t.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(t.openStart==0&&t.size?2:1);o++)for(let a=r.depth;a>=0;a--){let c=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,f=r.index(a)+(c>0?1:0),p=r.node(a),m=!1;if(o==1)m=p.canReplace(f,f,i);else{let v=p.contentMatchAt(f).findWrapping(i.firstChild.type);m=v&&p.canReplaceWith(f,f,v[0])}if(m)return c==0?r.pos:c<0?r.before(a+1):r.after(a+1)}return null}function Gy(n,e,t=e,r=it.empty){if(e==t&&!r.size)return null;let i=n.resolve(e),o=n.resolve(t);return Vk(i,o,r)?new Fr(e,t,r):new oD(i,o,r).fit()}function Vk(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class oD{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=ze.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=ze.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let p=this.findFittable();p?this.placeNodes(p):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,a=r.depth,c=i.depth;for(;a&&c&&o.childCount==1;)o=o.firstChild.content,a--,c--;let f=new it(o,a,c);return e>-1?new Hr(r.pos,e,this.$to.pos,this.$to.end(),f,t):f.size||r.pos!=this.$to.pos?new Fr(r.pos,i.pos,f):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=t.firstChild;if(t.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}t=o.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=w0(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let a=i.firstChild;for(let c=this.depth;c>=0;c--){let{type:f,match:p}=this.frontier[c],m,v=null;if(t==1&&(a?p.matchType(a.type)||(v=p.fillBefore(ze.from(a),!1)):o&&f.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:c,parent:o,inject:v};if(t==2&&a&&(m=p.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:c,parent:o,wrap:m};if(o&&p.matchType(o.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=w0(e,t);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new it(e,t+1,Math.max(r,i.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=w0(e,t);if(i.childCount<=1&&t>0){let o=e.size-t<=t+i.size;this.unplaced=new it(rp(e,t-1,1),t-1,o?t-1:r)}else this.unplaced=new it(rp(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:i,wrap:o}){for(;this.depth>t;)this.closeFrontierNode();if(o)for(let C=0;C<o.length;C++)this.openFrontierNode(o[C]);let a=this.unplaced,c=r?r.content:a.content,f=a.openStart-e,p=0,m=[],{match:v,type:w}=this.frontier[t];if(i){for(let C=0;C<i.childCount;C++)m.push(i.child(C));v=v.matchFragment(i)}let x=c.size+e-(a.content.size-a.openEnd);for(;p<c.childCount;){let C=c.child(p),k=v.matchType(C.type);if(!k)break;p++,(p>1||f==0||C.content.size)&&(v=k,m.push(qk(C.mark(w.allowedMarks(C.marks)),p==1?f:0,p==c.childCount?x:-1)))}let E=p==c.childCount;E||(x=-1),this.placed=ip(this.placed,t,ze.from(m)),this.frontier[t].match=v,E&&x<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let C=0,k=c;C<x;C++){let S=k.lastChild;this.frontier.push({type:S.type,match:S.contentMatchAt(S.childCount)}),k=S.content}this.unplaced=E?e==0?it.empty:new it(rp(a.content,e-1,1),e-1,x<0?a.openEnd:e-1):new it(rp(a.content,e,p),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!x0(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:i}=this.frontier[t],o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),a=x0(e,t,i,r,o);if(a){for(let c=t-1;c>=0;c--){let{match:f,type:p}=this.frontier[c],m=x0(e,c,p,f,!0);if(!m||m.childCount)continue e}return{depth:t,fit:a,move:o?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=ip(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,t=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=ip(this.placed,this.depth,ze.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(ze.empty,!0);t.childCount&&(this.placed=ip(this.placed,this.frontier.length,t))}}function rp(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(rp(n.firstChild.content,e-1,t)))}function ip(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(ip(n.lastChild.content,e-1,t)))}function w0(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function qk(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,qk(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(ze.empty,!0)))),n.copy(r)}function x0(n,e,t,r,i){let o=n.node(e),a=i?n.indexAfter(e):n.index(e);if(a==o.childCount&&!t.compatibleContent(o.type))return null;let c=r.fillBefore(o.content,!0,a);return c&&!sD(t,o.content,a)?c:null}function sD(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function aD(n){return n.spec.defining||n.spec.definingForContent}function lD(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let i=n.doc.resolve(e),o=n.doc.resolve(t);if(Vk(i,o,r))return n.step(new Fr(e,t,r));let a=Kk(i,n.doc.resolve(t));a[a.length-1]==0&&a.pop();let c=-(i.depth+1);a.unshift(c);for(let w=i.depth,x=i.pos-1;w>0;w--,x--){let E=i.node(w).type.spec;if(E.defining||E.definingAsContext||E.isolating)break;a.indexOf(w)>-1?c=w:i.before(w)==x&&a.splice(1,0,-w)}let f=a.indexOf(c),p=[],m=r.openStart;for(let w=r.content,x=0;;x++){let E=w.firstChild;if(p.push(E),x==r.openStart)break;w=E.content}for(let w=m-1;w>=0;w--){let x=p[w],E=aD(x.type);if(E&&!x.sameMarkup(i.node(Math.abs(c)-1)))m=w;else if(E||!x.type.isTextblock)break}for(let w=r.openStart;w>=0;w--){let x=(w+m+1)%(r.openStart+1),E=p[x];if(E)for(let C=0;C<a.length;C++){let k=a[(C+f)%a.length],S=!0;k<0&&(S=!1,k=-k);let R=i.node(k-1),N=i.index(k-1);if(R.canReplaceWith(N,N,E.type,E.marks))return n.replace(i.before(k),S?o.after(k):t,new it(Gk(r.content,0,r.openStart,x),x,r.openEnd))}}let v=n.steps.length;for(let w=a.length-1;w>=0&&(n.replace(e,t,r),!(n.steps.length>v));w--){let x=a[w];x<0||(e=i.before(x),t=o.after(x))}}function Gk(n,e,t,r,i){if(e<t){let o=n.firstChild;n=n.replaceChild(0,o.copy(Gk(o.content,e+1,t,r,o)))}if(e>r){let o=i.contentMatchAt(0),a=o.fillBefore(n).append(n);n=a.append(o.matchFragment(a).fillBefore(ze.empty,!0))}return n}function uD(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let i=iD(n.doc,e,r.type);i!=null&&(e=t=i)}n.replaceRange(e,t,new it(ze.from(r),0,0))}function cD(n,e,t){let r=n.doc.resolve(e),i=n.doc.resolve(t),o=Kk(r,i);for(let a=0;a<o.length;a++){let c=o[a],f=a==o.length-1;if(f&&c==0||r.node(c).type.contentMatch.validEnd)return n.delete(r.start(c),i.end(c));if(c>0&&(f||r.node(c-1).canReplace(r.index(c-1),i.indexAfter(c-1))))return n.delete(r.before(c),i.after(c))}for(let a=1;a<=r.depth&&a<=i.depth;a++)if(e-r.start(a)==r.depth-a&&t>r.end(a)&&i.end(a)-t!=i.depth-a&&r.start(a-1)==i.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),i.index(a-1)))return n.delete(r.before(a),t);n.delete(e,t)}function Kk(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let i=r;i>=0;i--){let o=n.start(i);if(o<n.pos-(n.depth-i)||e.end(i)>e.pos+(e.depth-i)||n.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==n.depth&&i==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&t.push(i)}return t}class td extends pi{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return wr.fail("No node at attribute step's position");let r=Object.create(null);for(let o in t.attrs)r[o]=t.attrs[o];r[this.attr]=this.value;let i=t.type.create(r,null,t.marks);return wr.fromReplace(e,this.pos,this.pos+1,new it(ze.from(i),0,t.isLeaf?0:1))}getMap(){return mo.empty}invert(e){return new td(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new td(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new td(t.pos,t.attr,t.value)}}pi.jsonID("attr",td);class Op extends pi{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let i in e.attrs)t[i]=e.attrs[i];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return wr.ok(r)}getMap(){return mo.empty}invert(e){return new Op(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Op(t.attr,t.value)}}pi.jsonID("docAttr",Op);let rd=class extends Error{};rd=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};rd.prototype=Object.create(Error.prototype);rd.prototype.constructor=rd;rd.prototype.name="TransformError";class Jk{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Mp}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new rd(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=it.empty){let i=Gy(this.doc,e,t,r);return i&&this.step(i),this}replaceWith(e,t,r){return this.replace(e,t,new it(ze.from(r),0,0))}delete(e,t){return this.replace(e,t,it.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return lD(this,e,t,r),this}replaceRangeWith(e,t,r){return uD(this,e,t,r),this}deleteRange(e,t){return cD(this,e,t),this}lift(e,t){return KA(this,e,t),this}join(e,t=1){return rD(this,e,t),this}wrap(e,t){return XA(this,e,t),this}setBlockType(e,t=e,r,i=null){return QA(this,e,t,r,i),this}setNodeMarkup(e,t,r=null,i){return eD(this,e,t,r,i),this}setNodeAttribute(e,t,r){return this.step(new td(e,t,r)),this}setDocAttribute(e,t){return this.step(new Op(e,t)),this}addNodeMark(e,t){return this.step(new Ul(e,t)),this}removeNodeMark(e,t){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t instanceof Dn)t.isInSet(r.marks)&&this.step(new dc(e,t));else{let i=r.marks,o,a=[];for(;o=t.isInSet(i);)a.push(new dc(e,o)),i=o.removeFromSet(i);for(let c=a.length-1;c>=0;c--)this.step(a[c])}return this}split(e,t=1,r){return tD(this,e,t,r),this}addMark(e,t,r){return VA(this,e,t,r),this}removeMark(e,t,r){return qA(this,e,t,r),this}clearIncompatible(e,t,r){return ox(this,e,t,r),this}}const b0=Object.create(null);class Jt{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new fD(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=it.empty){let r=t.content.lastChild,i=null;for(let c=0;c<t.openEnd;c++)i=r,r=r.lastChild;let o=e.steps.length,a=this.ranges;for(let c=0;c<a.length;c++){let{$from:f,$to:p}=a[c],m=e.mapping.slice(o);e.replaceRange(m.map(f.pos),m.map(p.pos),c?it.empty:t),c==0&&g1(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:a,$to:c}=i[o],f=e.mapping.slice(r),p=f.map(a.pos),m=f.map(c.pos);o?e.deleteRange(p,m):(e.replaceRangeWith(p,m,t),g1(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let i=e.parent.inlineContent?new Ht(e):Gf(e.node(0),e.parent,e.pos,e.index(),t,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let a=t<0?Gf(e.node(0),e.node(o),e.before(o+1),e.index(o),t,r):Gf(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,r);if(a)return a}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new yo(e.node(0))}static atStart(e){return Gf(e,e,0,0,1)||new yo(e)}static atEnd(e){return Gf(e,e,e.content.size,e.childCount,-1)||new yo(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=b0[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in b0)throw new RangeError("Duplicate use of selection JSON ID "+e);return b0[e]=t,t.prototype.jsonID=e,t}getBookmark(){return Ht.between(this.$anchor,this.$head).getBookmark()}}Jt.prototype.visible=!0;class fD{constructor(e,t){this.$from=e,this.$to=t}}let p1=!1;function m1(n){!p1&&!n.parent.inlineContent&&(p1=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class Ht extends Jt{constructor(e,t=e){m1(e),m1(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return Jt.near(r);let i=e.resolve(t.map(this.anchor));return new Ht(i.parent.inlineContent?i:r,r)}replace(e,t=it.empty){if(super.replace(e,t),t==it.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Ht&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Ky(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ht(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let i=e.resolve(t);return new this(i,r==t?i:e.resolve(r))}static between(e,t,r){let i=e.pos-t.pos;if((!r||i)&&(r=i>=0?1:-1),!t.parent.inlineContent){let o=Jt.findFrom(t,r,!0)||Jt.findFrom(t,-r,!0);if(o)t=o.$head;else return Jt.near(t,r)}return e.parent.inlineContent||(i==0?e=t:(e=(Jt.findFrom(e,-r,!0)||Jt.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=i<0&&(e=t))),new Ht(e,t)}}Jt.jsonID("text",Ht);class Ky{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Ky(e.map(this.anchor),e.map(this.head))}resolve(e){return Ht.between(e.resolve(this.anchor),e.resolve(this.head))}}class kt extends Jt{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:i}=t.mapResult(this.anchor),o=e.resolve(i);return r?Jt.near(o):new kt(o)}content(){return new it(ze.from(this.node),0,0)}eq(e){return e instanceof kt&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new ax(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new kt(e.resolve(t.anchor))}static create(e,t){return new kt(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}kt.prototype.visible=!1;Jt.jsonID("node",kt);class ax{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new Ky(r,r):new ax(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&kt.isSelectable(r)?new kt(t):Jt.near(t)}}class yo extends Jt{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=it.empty){if(t==it.empty){e.delete(0,e.doc.content.size);let r=Jt.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new yo(e)}map(e){return new yo(e)}eq(e){return e instanceof yo}getBookmark(){return dD}}Jt.jsonID("all",yo);const dD={map(){return this},resolve(n){return new yo(n)}};function Gf(n,e,t,r,i,o=!1){if(e.inlineContent)return Ht.create(n,t);for(let a=r-(i>0?0:1);i>0?a<e.childCount:a>=0;a+=i){let c=e.child(a);if(c.isAtom){if(!o&&kt.isSelectable(c))return kt.create(n,t-(i<0?c.nodeSize:0))}else{let f=Gf(n,c,t+i,i<0?c.childCount:0,i,o);if(f)return f}t+=c.nodeSize*i}return null}function g1(n,e,t){let r=n.steps.length-1;if(r<e)return;let i=n.steps[r];if(!(i instanceof Fr||i instanceof Hr))return;let o=n.mapping.maps[r],a;o.forEach((c,f,p,m)=>{a==null&&(a=m)}),n.setSelection(Jt.near(n.doc.resolve(a),t))}const y1=1,yg=2,v1=4;class hD extends Jk{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|y1)&~yg,this.storedMarks=null,this}get selectionSet(){return(this.updated&y1)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=yg,this}ensureMarks(e){return Dn.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&yg)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~yg,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Dn.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let i=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),r=r??t,!e)return this.deleteRange(t,r);let o=this.storedMarks;if(!o){let a=this.doc.resolve(t);o=r==t?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,i.text(e,o)),this.selection.empty||this.setSelection(Jt.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=v1,this}get scrolledIntoView(){return(this.updated&v1)>0}}function w1(n,e){return!e||!n?n:n.bind(e)}class op{constructor(e,t,r){this.name=e,this.init=w1(t.init,r),this.apply=w1(t.apply,r)}}const pD=[new op("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new op("selection",{init(n,e){return n.selection||Jt.atStart(e.doc)},apply(n){return n.selection}}),new op("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new op("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class S0{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=pD.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new op(r.key,r.spec.state,r))})}}class Qf{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let a=0;a<this.config.plugins.length;a++){let c=this.config.plugins[a];if(c.spec.appendTransaction){let f=i?i[a].n:0,p=i?i[a].state:this,m=f<t.length&&c.spec.appendTransaction.call(c,f?t.slice(f):t,p,r);if(m&&r.filterTransaction(m,a)){if(m.setMeta("appendedTransaction",e),!i){i=[];for(let v=0;v<this.config.plugins.length;v++)i.push(v<a?{state:r,n:t.length}:{state:this,n:0})}t.push(m),r=r.applyInner(m),o=!0}i&&(i[a]={state:r,n:t.length})}}if(!o)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new Qf(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];t[o.name]=o.apply(e,this[o.name],this,t)}return t}get tr(){return new hD(this)}static create(e){let t=new S0(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Qf(t);for(let i=0;i<t.fields.length;i++)r[t.fields[i].name]=t.fields[i].init(e,r);return r}reconfigure(e){let t=new S0(this.schema,e.plugins),r=t.fields,i=new Qf(t);for(let o=0;o<r.length;o++){let a=r[o].name;i[a]=this.hasOwnProperty(a)?this[a]:r[o].init(e,i)}return i}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(t[r]=o.toJSON.call(i,this[i.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new S0(e.schema,e.plugins),o=new Qf(i);return i.fields.forEach(a=>{if(a.name=="doc")o.doc=ql.fromJSON(e.schema,t.doc);else if(a.name=="selection")o.selection=Jt.fromJSON(o.doc,t.selection);else if(a.name=="storedMarks")t.storedMarks&&(o.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let c in r){let f=r[c],p=f.spec.state;if(f.key==a.name&&p&&p.fromJSON&&Object.prototype.hasOwnProperty.call(t,c)){o[a.name]=p.fromJSON.call(f,e,t[c],o);return}}o[a.name]=a.init(e,o)}}),o}}function Yk(n,e,t){for(let r in n){let i=n[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=Yk(i,e,{})),t[r]=i}return t}class Tr{constructor(e){this.spec=e,this.props={},e.props&&Yk(e.props,this,this.props),this.key=e.key?e.key.key:Xk("plugin")}getState(e){return e[this.key]}}const E0=Object.create(null);function Xk(n){return n in E0?n+"$"+ ++E0[n]:(E0[n]=0,n+"$")}class Ti{constructor(e="key"){this.key=Xk(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const ti=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},id=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let mw=null;const Ha=function(n,e,t){let r=mw||(mw=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},mD=function(){mw=null},hc=function(n,e,t,r){return t&&(x1(n,e,t,r,-1)||x1(n,e,t,r,1))},gD=/^(img|br|input|textarea|hr)$/i;function x1(n,e,t,r,i){for(var o;;){if(n==t&&e==r)return!0;if(e==(i<0?0:Wo(n))){let a=n.parentNode;if(!a||a.nodeType!=1||Vp(n)||gD.test(n.nodeName)||n.contentEditable=="false")return!1;e=ti(n)+(i<0?0:1),n=a}else if(n.nodeType==1){let a=n.childNodes[e+(i<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((o=a.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)e+=i;else return!1;else n=a,e=i<0?Wo(n):0}else return!1}}function Wo(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function yD(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=Wo(n)}else if(n.parentNode&&!Vp(n))e=ti(n),n=n.parentNode;else return null}}function vD(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!Vp(n))e=ti(n)+1,n=n.parentNode;else return null}}function wD(n,e,t){for(let r=e==0,i=e==Wo(n);r||i;){if(n==t)return!0;let o=ti(n);if(n=n.parentNode,!n)return!1;r=r&&o==0,i=i&&o==Wo(n)}}function Vp(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const Jy=function(n){return n.focusNode&&hc(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function Qu(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function xD(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function bD(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(Wo(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(Wo(r.startContainer),r.startOffset)}}}const Zs=typeof navigator<"u"?navigator:null,b1=typeof document<"u"?document:null,tu=Zs&&Zs.userAgent||"",gw=/Edge\/(\d+)/.exec(tu),Qk=/MSIE \d/.exec(tu),yw=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(tu),Ji=!!(Qk||yw||gw),Kl=Qk?document.documentMode:yw?+yw[1]:gw?+gw[1]:0,ws=!Ji&&/gecko\/(\d+)/i.test(tu);ws&&+(/Firefox\/(\d+)/.exec(tu)||[0,0])[1];const vw=!Ji&&/Chrome\/(\d+)/.exec(tu),hi=!!vw,Zk=vw?+vw[1]:0,Mi=!Ji&&!!Zs&&/Apple Computer/.test(Zs.vendor),od=Mi&&(/Mobile\/\w+/.test(tu)||!!Zs&&Zs.maxTouchPoints>2),Uo=od||(Zs?/Mac/.test(Zs.platform):!1),SD=Zs?/Win/.test(Zs.platform):!1,$a=/Android \d/.test(tu),qp=!!b1&&"webkitFontSmoothing"in b1.documentElement.style,ED=qp?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function kD(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function Pa(n,e){return typeof n=="number"?n:n[e]}function CD(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function S1(n,e,t){let r=n.someProp("scrollThreshold")||0,i=n.someProp("scrollMargin")||5,o=n.dom.ownerDocument;for(let a=t||n.dom;a;){if(a.nodeType!=1){a=id(a);continue}let c=a,f=c==o.body,p=f?kD(o):CD(c),m=0,v=0;if(e.top<p.top+Pa(r,"top")?v=-(p.top-e.top+Pa(i,"top")):e.bottom>p.bottom-Pa(r,"bottom")&&(v=e.bottom-e.top>p.bottom-p.top?e.top+Pa(i,"top")-p.top:e.bottom-p.bottom+Pa(i,"bottom")),e.left<p.left+Pa(r,"left")?m=-(p.left-e.left+Pa(i,"left")):e.right>p.right-Pa(r,"right")&&(m=e.right-p.right+Pa(i,"right")),m||v)if(f)o.defaultView.scrollBy(m,v);else{let x=c.scrollLeft,E=c.scrollTop;v&&(c.scrollTop+=v),m&&(c.scrollLeft+=m);let C=c.scrollLeft-x,k=c.scrollTop-E;e={left:e.left-C,top:e.top-k,right:e.right-C,bottom:e.bottom-k}}let w=f?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(w))break;a=w=="absolute"?a.offsetParent:id(a)}}function MD(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,a=t+1;a<Math.min(innerHeight,e.bottom);a+=5){let c=n.root.elementFromPoint(o,a);if(!c||c==n.dom||!n.dom.contains(c))continue;let f=c.getBoundingClientRect();if(f.top>=t-20){r=c,i=f.top;break}}return{refDOM:r,refTop:i,stack:eC(n.dom)}}function eC(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=id(r));return e}function OD({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;tC(t,r==0?0:r-e)}function tC(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:i,left:o}=n[t];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let Hf=null;function RD(n){if(n.setActive)return n.setActive();if(Hf)return n.focus(Hf);let e=eC(n);n.focus(Hf==null?{get preventScroll(){return Hf={preventScroll:!0},!0}}:void 0),Hf||(Hf=!1,tC(e,0))}function nC(n,e){let t,r=2e8,i,o=0,a=e.top,c=e.top,f,p;for(let m=n.firstChild,v=0;m;m=m.nextSibling,v++){let w;if(m.nodeType==1)w=m.getClientRects();else if(m.nodeType==3)w=Ha(m).getClientRects();else continue;for(let x=0;x<w.length;x++){let E=w[x];if(E.top<=a&&E.bottom>=c){a=Math.max(E.bottom,a),c=Math.min(E.top,c);let C=E.left>e.left?E.left-e.left:E.right<e.left?e.left-E.right:0;if(C<r){t=m,r=C,i=C&&t.nodeType==3?{left:E.right<e.left?E.right:E.left,top:e.top}:e,m.nodeType==1&&C&&(o=v+(e.left>=(E.left+E.right)/2?1:0));continue}}else E.top>e.top&&!f&&E.left<=e.left&&E.right>=e.left&&(f=m,p={left:Math.max(E.left,Math.min(E.right,e.left)),top:E.top});!t&&(e.left>=E.right&&e.top>=E.top||e.left>=E.left&&e.top>=E.bottom)&&(o=v+1)}}return!t&&f&&(t=f,i=p,r=0),t&&t.nodeType==3?TD(t,i):!t||r&&t.nodeType==1?{node:n,offset:o}:nC(t,i)}function TD(n,e){let t=n.nodeValue.length,r=document.createRange();for(let i=0;i<t;i++){r.setEnd(n,i+1),r.setStart(n,i);let o=Ll(r,1);if(o.top!=o.bottom&&lx(e,o))return{node:n,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:n,offset:0}}function lx(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function _D(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function ND(n,e,t){let{node:r,offset:i}=nC(e,t),o=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();o=a.left!=a.right&&t.left>(a.left+a.right)/2?1:-1}return n.docView.posFromDOM(r,i,o)}function AD(n,e,t,r){let i=-1;for(let o=e,a=!1;o!=n.dom;){let c=n.docView.nearestDesc(o,!0),f;if(!c)return null;if(c.dom.nodeType==1&&(c.node.isBlock&&c.parent||!c.contentDOM)&&((f=c.dom.getBoundingClientRect()).width||f.height)&&(c.node.isBlock&&c.parent&&(!a&&f.left>r.left||f.top>r.top?i=c.posBefore:(!a&&f.right<r.left||f.bottom<r.top)&&(i=c.posAfter),a=!0),!c.contentDOM&&i<0&&!c.node.isText))return(c.node.isBlock?r.top<(f.top+f.bottom)/2:r.left<(f.left+f.right)/2)?c.posBefore:c.posAfter;o=c.dom.parentNode}return i>-1?i:n.docView.posFromDOM(e,t,-1)}function rC(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),o=i;;){let a=n.childNodes[o];if(a.nodeType==1){let c=a.getClientRects();for(let f=0;f<c.length;f++){let p=c[f];if(lx(e,p))return rC(a,e,p)}}if((o=(o+1)%r)==i)break}return n}function DD(n,e){let t=n.dom.ownerDocument,r,i=0,o=bD(t,e.left,e.top);o&&({node:r,offset:i}=o);let a=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),c;if(!a||!n.dom.contains(a.nodeType!=1?a.parentNode:a)){let p=n.dom.getBoundingClientRect();if(!lx(e,p)||(a=rC(n.dom,e,p),!a))return null}if(Mi)for(let p=a;r&&p;p=id(p))p.draggable&&(r=void 0);if(a=_D(a,e),r){if(ws&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let m=r.childNodes[i],v;m.nodeName=="IMG"&&(v=m.getBoundingClientRect()).right<=e.left&&v.bottom>e.top&&i++}let p;qp&&i&&r.nodeType==1&&(p=r.childNodes[i-1]).nodeType==1&&p.contentEditable=="false"&&p.getBoundingClientRect().top>=e.top&&i--,r==n.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?c=n.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(c=AD(n,r,i,e))}c==null&&(c=ND(n,a,e));let f=n.docView.nearestDesc(a,!0);return{pos:c,inside:f?f.posAtStart-f.border:-1}}function E1(n){return n.top<n.bottom||n.left<n.right}function Ll(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(E1(r))return r}return Array.prototype.find.call(t,E1)||n.getBoundingClientRect()}const PD=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function iC(n,e,t){let{node:r,offset:i,atom:o}=n.docView.domFromPos(e,t<0?-1:1),a=qp||ws;if(r.nodeType==3)if(a&&(PD.test(r.nodeValue)||(t<0?!i:i==r.nodeValue.length))){let f=Ll(Ha(r,i,i),t);if(ws&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let p=Ll(Ha(r,i-1,i-1),-1);if(p.top==f.top){let m=Ll(Ha(r,i,i+1),-1);if(m.top!=f.top)return Hh(m,m.left<p.left)}}return f}else{let f=i,p=i,m=t<0?1:-1;return t<0&&!i?(p++,m=-1):t>=0&&i==r.nodeValue.length?(f--,m=1):t<0?f--:p++,Hh(Ll(Ha(r,f,p),m),m<0)}if(!n.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(t<0||i==Wo(r))){let f=r.childNodes[i-1];if(f.nodeType==1)return k0(f.getBoundingClientRect(),!1)}if(o==null&&i<Wo(r)){let f=r.childNodes[i];if(f.nodeType==1)return k0(f.getBoundingClientRect(),!0)}return k0(r.getBoundingClientRect(),t>=0)}if(o==null&&i&&(t<0||i==Wo(r))){let f=r.childNodes[i-1],p=f.nodeType==3?Ha(f,Wo(f)-(a?0:1)):f.nodeType==1&&(f.nodeName!="BR"||!f.nextSibling)?f:null;if(p)return Hh(Ll(p,1),!1)}if(o==null&&i<Wo(r)){let f=r.childNodes[i];for(;f.pmViewDesc&&f.pmViewDesc.ignoreForCoords;)f=f.nextSibling;let p=f?f.nodeType==3?Ha(f,0,a?0:1):f.nodeType==1?f:null:null;if(p)return Hh(Ll(p,-1),!0)}return Hh(Ll(r.nodeType==3?Ha(r):r,-t),t>=0)}function Hh(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function k0(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function oC(n,e,t){let r=n.state,i=n.root.activeElement;r!=e&&n.updateState(e),i!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),i!=n.dom&&i&&i.focus()}}function LD(n,e,t){let r=e.selection,i=t=="up"?r.$from:r.$to;return oC(n,e,()=>{let{node:o}=n.docView.domFromPos(i.pos,t=="up"?-1:1);for(;;){let c=n.docView.nearestDesc(o,!0);if(!c)break;if(c.node.isBlock){o=c.contentDOM||c.dom;break}o=c.dom.parentNode}let a=iC(n,i.pos,1);for(let c=o.firstChild;c;c=c.nextSibling){let f;if(c.nodeType==1)f=c.getClientRects();else if(c.nodeType==3)f=Ha(c,0,c.nodeValue.length).getClientRects();else continue;for(let p=0;p<f.length;p++){let m=f[p];if(m.bottom>m.top+1&&(t=="up"?a.top-m.top>(m.bottom-a.top)*2:m.bottom-a.bottom>(a.bottom-m.top)*2))return!1}}return!0})}const ID=/[\u0590-\u08ac]/;function zD(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,a=i==r.parent.content.size,c=n.domSelection();return c?!ID.test(r.parent.textContent)||!c.modify?t=="left"||t=="backward"?o:a:oC(n,e,()=>{let{focusNode:f,focusOffset:p,anchorNode:m,anchorOffset:v}=n.domSelectionRange(),w=c.caretBidiLevel;c.modify("move",t,"character");let x=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:E,focusOffset:C}=n.domSelectionRange(),k=E&&!x.contains(E.nodeType==1?E:E.parentNode)||f==E&&p==C;try{c.collapse(m,v),f&&(f!=m||p!=v)&&c.extend&&c.extend(f,p)}catch{}return w!=null&&(c.caretBidiLevel=w),k}):r.pos==r.start()||r.pos==r.end()}let k1=null,C1=null,M1=!1;function BD(n,e,t){return k1==e&&C1==t?M1:(k1=e,C1=t,M1=t=="up"||t=="down"?LD(n,e,t):zD(n,e,t))}const Vo=0,O1=1,tc=2,ea=3;class Gp{constructor(e,t,r,i){this.parent=e,this.children=t,this.dom=r,this.contentDOM=i,this.dirty=Vo,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let i=this.children[t];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,a;if(e==this.contentDOM)o=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(a)+a.size:this.posAtStart}else{let o,a;if(e==this.contentDOM)o=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(a):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=t>ti(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&t==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),a;if(o&&(!t||o.node))if(r&&(a=o.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return o}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let i=this.children[t],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)for(let a=0;a<i.children.length;a++){let c=i.children[a];if(c.size){i=c;break}}return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let a=this.children[r],c=o+a.size;if(c>e||a instanceof aC){i=e-o;break}o=c}if(i)return this.children[r].domFromPos(i-this.children[r].border,t);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof sC&&o.side>=0;r--);if(t<=0){let o,a=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,a=!1);return o&&t&&a&&!o.border&&!o.domAtom?o.domFromPos(o.size,t):{node:this.contentDOM,offset:o?ti(o.dom)+1:0}}else{let o,a=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,a=!1);return o&&a&&!o.border&&!o.domAtom?o.domFromPos(0,t):{node:this.contentDOM,offset:o?ti(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let a=r,c=0;;c++){let f=this.children[c],p=a+f.size;if(i==-1&&e<=p){let m=a+f.border;if(e>=m&&t<=p-f.border&&f.node&&f.contentDOM&&this.contentDOM.contains(f.contentDOM))return f.parseRange(e,t,m);e=a;for(let v=c;v>0;v--){let w=this.children[v-1];if(w.size&&w.dom.parentNode==this.contentDOM&&!w.emptyChildAt(1)){i=ti(w.dom)+1;break}e-=w.size}i==-1&&(i=0)}if(i>-1&&(p>t||c==this.children.length-1)){t=p;for(let m=c+1;m<this.children.length;m++){let v=this.children[m];if(v.size&&v.dom.parentNode==this.contentDOM&&!v.emptyChildAt(-1)){o=ti(v.dom);break}t+=v.size}o==-1&&(o=this.contentDOM.childNodes.length);break}a=p}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,i=!1){let o=Math.min(e,t),a=Math.max(e,t);for(let x=0,E=0;x<this.children.length;x++){let C=this.children[x],k=E+C.size;if(o>E&&a<k)return C.setSelection(e-E-C.border,t-E-C.border,r,i);E=k}let c=this.domFromPos(e,e?-1:1),f=t==e?c:this.domFromPos(t,t?-1:1),p=r.root.getSelection(),m=r.domSelectionRange(),v=!1;if((ws||Mi)&&e==t){let{node:x,offset:E}=c;if(x.nodeType==3){if(v=!!(E&&x.nodeValue[E-1]==`
`),v&&E==x.nodeValue.length)for(let C=x,k;C;C=C.parentNode){if(k=C.nextSibling){k.nodeName=="BR"&&(c=f={node:k.parentNode,offset:ti(k)+1});break}let S=C.pmViewDesc;if(S&&S.node&&S.node.isBlock)break}}else{let C=x.childNodes[E-1];v=C&&(C.nodeName=="BR"||C.contentEditable=="false")}}if(ws&&m.focusNode&&m.focusNode!=f.node&&m.focusNode.nodeType==1){let x=m.focusNode.childNodes[m.focusOffset];x&&x.contentEditable=="false"&&(i=!0)}if(!(i||v&&Mi)&&hc(c.node,c.offset,m.anchorNode,m.anchorOffset)&&hc(f.node,f.offset,m.focusNode,m.focusOffset))return;let w=!1;if((p.extend||e==t)&&!v){p.collapse(c.node,c.offset);try{e!=t&&p.extend(f.node,f.offset),w=!0}catch{}}if(!w){if(e>t){let E=c;c=f,f=E}let x=document.createRange();x.setEnd(f.node,f.offset),x.setStart(c.node,c.offset),p.removeAllRanges(),p.addRange(x)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],a=r+o.size;if(r==a?e<=a&&t>=r:e<a&&t>r){let c=r+o.border,f=a-o.border;if(e>=c&&t<=f){this.dirty=e==r||t==a?tc:O1,e==c&&t==f&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=ea:o.markDirty(e-c,t-c);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?tc:ea}r=a}this.dirty=tc}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?tc:O1;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class sC extends Gp{constructor(e,t,r,i){let o,a=t.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!t.type.spec.raw){if(a.nodeType!=1){let c=document.createElement("span");c.appendChild(a),a=c}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=t,this.widget=t,o=this}matchesWidget(e){return this.dirty==Vo&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class jD extends Gp{constructor(e,t,r,i){super(e,[],t,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class pc extends Gp{constructor(e,t,r,i,o){super(e,[],r,i),this.mark=t,this.spec=o}static create(e,t,r,i){let o=i.nodeViews[t.type.name],a=o&&o(t,i,r);return(!a||!a.dom)&&(a=wc.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new pc(e,t,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&ea||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=ea&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=Vo){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Vo}}slice(e,t,r){let i=pc.create(this.parent,this.mark,!0,r),o=this.children,a=this.size;t<a&&(o=xw(o,t,a,r)),e>0&&(o=xw(o,0,e,r));for(let c=0;c<o.length;c++)o[c].parent=i;return i.children=o,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Jl extends Gp{constructor(e,t,r,i,o,a,c,f,p){super(e,[],o,a),this.node=t,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=c}static create(e,t,r,i,o,a){let c=o.nodeViews[t.type.name],f,p=c&&c(t,o,()=>{if(!f)return a;if(f.parent)return f.parent.posBeforeChild(f)},r,i),m=p&&p.dom,v=p&&p.contentDOM;if(t.isText){if(!m)m=document.createTextNode(t.text);else if(m.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else m||({dom:m,contentDOM:v}=wc.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!v&&!t.isText&&m.nodeName!="BR"&&(m.hasAttribute("contenteditable")||(m.contentEditable="false"),t.type.spec.draggable&&(m.draggable=!0));let w=m;return m=cC(m,r,t),p?f=new FD(e,t,r,i,m,v||null,w,p,o,a+1):t.isText?new Yy(e,t,r,i,m,w,o):new Jl(e,t,r,i,m,v||null,w,o,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ze.empty)}return e}matchesNode(e,t,r){return this.dirty==Vo&&e.eq(this.node)&&ty(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,i=t,o=e.composing?this.localCompositionInfo(e,t):null,a=o&&o.pos>-1?o:null,c=o&&o.pos<0,f=new $D(this,a&&a.node,e);VD(this.node,this.innerDeco,(p,m,v)=>{p.spec.marks?f.syncToMarks(p.spec.marks,r,e):p.type.side>=0&&!v&&f.syncToMarks(m==this.node.childCount?Dn.none:this.node.child(m).marks,r,e),f.placeWidget(p,e,i)},(p,m,v,w)=>{f.syncToMarks(p.marks,r,e);let x;f.findNodeMatch(p,m,v,w)||c&&e.state.selection.from>i&&e.state.selection.to<i+p.nodeSize&&(x=f.findIndexWithChild(o.node))>-1&&f.updateNodeAt(p,m,v,x,e)||f.updateNextNode(p,m,v,e,w,i)||f.addNode(p,m,v,e,i),i+=p.nodeSize}),f.syncToMarks([],r,e),this.node.isTextblock&&f.addTextblockHacks(),f.destroyRest(),(f.changed||this.dirty==tc)&&(a&&this.protectLocalComposition(e,a),lC(this.contentDOM,this.children,e),od&&qD(this.dom))}localCompositionInfo(e,t){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof Ht)||r<t||i>t+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let a=o.nodeValue,c=GD(this.node.content,a,r-t,i-t);return c<0?null:{node:o,pos:c,text:a}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:i}){if(this.getDesc(t))return;let o=t;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let a=new jD(this,o,t,i);e.input.compositionNodes.push(a),this.children=xw(this.children,r,r+i.length,e,a)}update(e,t,r,i){return this.dirty==ea||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,i),!0)}updateInner(e,t,r,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Vo}updateOuterDeco(e){if(ty(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=uC(this.dom,this.nodeDOM,ww(this.outerDeco,this.node,t),ww(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function R1(n,e,t,r,i){cC(r,e,n);let o=new Jl(void 0,n,e,t,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class Yy extends Jl{constructor(e,t,r,i,o,a,c){super(e,t,r,i,o,null,a,c,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,i){return this.dirty==ea||this.dirty!=Vo&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=Vo||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Vo,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let i=this.node.cut(e,t),o=document.createTextNode(i.text);return new Yy(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=ea)}get domAtom(){return!1}isText(e){return this.node.text==e}}class aC extends Gp{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Vo&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class FD extends Jl{constructor(e,t,r,i,o,a,c,f,p,m){super(e,t,r,i,o,a,c,p,m),this.spec=f}update(e,t,r,i){if(this.dirty==ea)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,t,r);return o&&this.updateInner(e,t,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,i){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function lC(n,e,t){let r=n.firstChild,i=!1;for(let o=0;o<e.length;o++){let a=e[o],c=a.dom;if(c.parentNode==n){for(;c!=r;)r=T1(r),i=!0;r=r.nextSibling}else i=!0,n.insertBefore(c,r);if(a instanceof pc){let f=r?r.previousSibling:n.lastChild;lC(a.contentDOM,a.children,t),r=f?f.nextSibling:n.firstChild}}for(;r;)r=T1(r),i=!0;i&&t.trackWrites==n&&(t.trackWrites=null)}const fp=function(n){n&&(this.nodeName=n)};fp.prototype=Object.create(null);const nc=[new fp];function ww(n,e,t){if(n.length==0)return nc;let r=t?nc[0]:new fp,i=[r];for(let o=0;o<n.length;o++){let a=n[o].type.attrs;if(a){a.nodeName&&i.push(r=new fp(a.nodeName));for(let c in a){let f=a[c];f!=null&&(t&&i.length==1&&i.push(r=new fp(e.isInline?"span":"div")),c=="class"?r.class=(r.class?r.class+" ":"")+f:c=="style"?r.style=(r.style?r.style+";":"")+f:c!="nodeName"&&(r[c]=f))}}}return i}function uC(n,e,t,r){if(t==nc&&r==nc)return e;let i=e;for(let o=0;o<r.length;o++){let a=r[o],c=t[o];if(o){let f;c&&c.nodeName==a.nodeName&&i!=n&&(f=i.parentNode)&&f.nodeName.toLowerCase()==a.nodeName||(f=document.createElement(a.nodeName),f.pmIsDeco=!0,f.appendChild(i),c=nc[0]),i=f}HD(i,c||nc[0],a)}return i}function HD(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=t.class?t.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&n.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&n.classList.add(i[o]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)n.style.removeProperty(i[1])}t.style&&(n.style.cssText+=t.style)}}function cC(n,e,t){return uC(n,n,nc,ww(e,t,n.nodeType!=1))}function ty(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function T1(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class $D{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=UD(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let i=0,o=this.stack.length>>1,a=Math.min(o,e.length);for(;i<a&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=Vo,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let c=-1;for(let f=this.index;f<Math.min(this.index+3,this.top.children.length);f++){let p=this.top.children[f];if(p.matchesMark(e[o])&&!this.isLocked(p.dom)){c=f;break}}if(c>-1)c>this.index&&(this.changed=!0,this.destroyBetween(this.index,c)),this.top=this.top.children[this.index];else{let f=pc.create(this.top,e[o],t,r);this.top.children.splice(this.index,0,f),this.top=f,this.changed=!0}this.index=0,o++}}findNodeMatch(e,t,r,i){let o=-1,a;if(i>=this.preMatch.index&&(a=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&a.matchesNode(e,t,r))o=this.top.children.indexOf(a,this.index);else for(let c=this.index,f=Math.min(this.top.children.length,c+5);c<f;c++){let p=this.top.children[c];if(p.matchesNode(e,t,r)&&!this.preMatch.matched.has(p)){o=c;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,t,r,i,o){let a=this.top.children[i];return a.dirty==ea&&a.dom==a.contentDOM&&(a.dirty=tc),a.update(e,t,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=t}}updateNextNode(e,t,r,i,o,a){for(let c=this.index;c<this.top.children.length;c++){let f=this.top.children[c];if(f instanceof Jl){let p=this.preMatch.matched.get(f);if(p!=null&&p!=o)return!1;let m=f.dom,v,w=this.isLocked(m)&&!(e.isText&&f.node&&f.node.isText&&f.nodeDOM.nodeValue==e.text&&f.dirty!=ea&&ty(t,f.outerDeco));if(!w&&f.update(e,t,r,i))return this.destroyBetween(this.index,c),f.dom!=m&&(this.changed=!0),this.index++,!0;if(!w&&(v=this.recreateWrapper(f,e,t,r,i,a)))return this.destroyBetween(this.index,c),this.top.children[this.index]=v,v.contentDOM&&(v.dirty=tc,v.updateChildren(i,a+1),v.dirty=Vo),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,i,o,a){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!ty(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let c=Jl.create(this.top,t,r,i,o,a);if(c.contentDOM){c.children=e.children,e.children=[];for(let f of c.children)f.parent=c}return e.destroy(),c}addNode(e,t,r,i,o){let a=Jl.create(this.top,e,t,r,i,o);a.contentDOM&&a.updateChildren(i,o+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,t,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new sC(this.top,e,t,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof pc;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof Yy)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Mi||hi)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new aC(this.top,[],r,null);t!=this.top?t.children.push(i):t.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function UD(n,e){let t=e,r=t.children.length,i=n.childCount,o=new Map,a=[];e:for(;i>0;){let c;for(;;)if(r){let p=t.children[r-1];if(p instanceof pc)t=p,r=p.children.length;else{c=p,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let f=c.node;if(f){if(f!=n.child(i-1))break;--i,o.set(c,i),a.push(c)}}return{index:i,matched:o,matches:a.reverse()}}function WD(n,e){return n.type.side-e.type.side}function VD(n,e,t,r){let i=e.locals(n),o=0;if(i.length==0){for(let p=0;p<n.childCount;p++){let m=n.child(p);r(m,i,e.forChild(o,m),p),o+=m.nodeSize}return}let a=0,c=[],f=null;for(let p=0;;){let m,v;for(;a<i.length&&i[a].to==o;){let k=i[a++];k.widget&&(m?(v||(v=[m])).push(k):m=k)}if(m)if(v){v.sort(WD);for(let k=0;k<v.length;k++)t(v[k],p,!!f)}else t(m,p,!!f);let w,x;if(f)x=-1,w=f,f=null;else if(p<n.childCount)x=p,w=n.child(p++);else break;for(let k=0;k<c.length;k++)c[k].to<=o&&c.splice(k--,1);for(;a<i.length&&i[a].from<=o&&i[a].to>o;)c.push(i[a++]);let E=o+w.nodeSize;if(w.isText){let k=E;a<i.length&&i[a].from<k&&(k=i[a].from);for(let S=0;S<c.length;S++)c[S].to<k&&(k=c[S].to);k<E&&(f=w.cut(k-o),w=w.cut(0,k-o),E=k,x=-1)}else for(;a<i.length&&i[a].to<E;)a++;let C=w.isInline&&!w.isLeaf?c.filter(k=>!k.inline):c.slice();r(w,C,e.forChild(o,w),x),o=E}}function qD(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function GD(n,e,t,r){for(let i=0,o=0;i<n.childCount&&o<=r;){let a=n.child(i++),c=o;if(o+=a.nodeSize,!a.isText)continue;let f=a.text;for(;i<n.childCount;){let p=n.child(i++);if(o+=p.nodeSize,!p.isText)break;f+=p.text}if(o>=t){if(o>=r&&f.slice(r-e.length-c,r-c)==e)return r-e.length;let p=c<r?f.lastIndexOf(e,r-c-1):-1;if(p>=0&&p+e.length+c>=t)return c+p;if(t==r&&f.length>=r+e.length-c&&f.slice(r-c,r-c+e.length)==e)return r}}return-1}function xw(n,e,t,r,i){let o=[];for(let a=0,c=0;a<n.length;a++){let f=n[a],p=c,m=c+=f.size;p>=t||m<=e?o.push(f):(p<e&&o.push(f.slice(0,e-p,r)),i&&(o.push(i),i=void 0),m>t&&o.push(f.slice(t-p,f.size,r)))}return o}function ux(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let i=n.docView.nearestDesc(t.focusNode),o=i&&i.size==0,a=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(a<0)return null;let c=r.resolve(a),f,p;if(Jy(t)){for(f=a;i&&!i.node;)i=i.parent;let v=i.node;if(i&&v.isAtom&&kt.isSelectable(v)&&i.parent&&!(v.isInline&&wD(t.focusNode,t.focusOffset,i.dom))){let w=i.posBefore;p=new kt(a==w?c:r.resolve(w))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let v=a,w=a;for(let x=0;x<t.rangeCount;x++){let E=t.getRangeAt(x);v=Math.min(v,n.docView.posFromDOM(E.startContainer,E.startOffset,1)),w=Math.max(w,n.docView.posFromDOM(E.endContainer,E.endOffset,-1))}if(v<0)return null;[f,a]=w==n.state.selection.anchor?[w,v]:[v,w],c=r.resolve(a)}else f=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(f<0)return null}let m=r.resolve(f);if(!p){let v=e=="pointer"||n.state.selection.head<c.pos&&!o?1:-1;p=cx(n,m,c,v)}return p}function fC(n){return n.editable?n.hasFocus():hC(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function Va(n,e=!1){let t=n.state.selection;if(dC(n,t),!!fC(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&hi){let r=n.domSelectionRange(),i=n.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&hc(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)JD(n);else{let{anchor:r,head:i}=t,o,a;_1&&!(t instanceof Ht)&&(t.$from.parent.inlineContent||(o=N1(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(a=N1(n,t.to))),n.docView.setSelection(r,i,n,e),_1&&(o&&A1(o),a&&A1(a)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&KD(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const _1=Mi||hi&&Zk<63;function N1(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),i=r<t.childNodes.length?t.childNodes[r]:null,o=r?t.childNodes[r-1]:null;if(Mi&&i&&i.contentEditable=="false")return C0(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return C0(i);if(o)return C0(o)}}function C0(n){return n.contentEditable="true",Mi&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function A1(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function KD(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,i=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=i)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!fC(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function JD(n){let e=n.domSelection(),t=document.createRange();if(!e)return;let r=n.cursorWrapper.dom,i=r.nodeName=="IMG";i?t.setStart(r.parentNode,ti(r)+1):t.setStart(r,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!i&&!n.state.selection.visible&&Ji&&Kl<=11&&(r.disabled=!0,r.disabled=!1)}function dC(n,e){if(e instanceof kt){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(D1(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else D1(n)}function D1(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function cx(n,e,t,r){return n.someProp("createSelectionBetween",i=>i(n,e,t))||Ht.between(e,t,r)}function P1(n){return n.editable&&!n.hasFocus()?!1:hC(n)}function hC(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function YD(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return hc(e.node,e.offset,t.anchorNode,t.anchorOffset)}function bw(n,e){let{$anchor:t,$head:r}=n.selection,i=e>0?t.max(r):t.min(r),o=i.parent.inlineContent?i.depth?n.doc.resolve(e>0?i.after():i.before()):null:i;return o&&Jt.findFrom(o,e)}function Il(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function L1(n,e,t){let r=n.state.selection;if(r instanceof Ht)if(t.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let a=n.state.doc.resolve(i.pos+o.nodeSize*(e<0?-1:1));return Il(n,new Ht(r.$anchor,a))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let i=bw(n.state,e);return i&&i instanceof kt?Il(n,i):!1}else if(!(Uo&&t.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,a;if(!o||o.isText)return!1;let c=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(a=n.docView.descAt(c))&&!a.contentDOM?kt.isSelectable(o)?Il(n,new kt(e<0?n.state.doc.resolve(i.pos-o.nodeSize):i)):qp?Il(n,new Ht(n.state.doc.resolve(e<0?c:c+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof kt&&r.node.isInline)return Il(n,new Ht(e>0?r.$to:r.$from));{let i=bw(n.state,e);return i?Il(n,i):!1}}}function ny(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function dp(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function $f(n,e){return e<0?XD(n):QD(n)}function XD(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i,o,a=!1;for(ws&&t.nodeType==1&&r<ny(t)&&dp(t.childNodes[r],-1)&&(a=!0);;)if(r>0){if(t.nodeType!=1)break;{let c=t.childNodes[r-1];if(dp(c,-1))i=t,o=--r;else if(c.nodeType==3)t=c,r=t.nodeValue.length;else break}}else{if(pC(t))break;{let c=t.previousSibling;for(;c&&dp(c,-1);)i=t.parentNode,o=ti(c),c=c.previousSibling;if(c)t=c,r=ny(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}a?Sw(n,t,r):i&&Sw(n,i,o)}function QD(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i=ny(t),o,a;for(;;)if(r<i){if(t.nodeType!=1)break;let c=t.childNodes[r];if(dp(c,1))o=t,a=++r;else break}else{if(pC(t))break;{let c=t.nextSibling;for(;c&&dp(c,1);)o=c.parentNode,a=ti(c)+1,c=c.nextSibling;if(c)t=c,r=0,i=ny(t);else{if(t=t.parentNode,t==n.dom)break;r=i=0}}}o&&Sw(n,o,a)}function pC(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function ZD(n,e){for(;n&&e==n.childNodes.length&&!Vp(n);)e=ti(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function eP(n,e){for(;n&&!e&&!Vp(n);)e=ti(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function Sw(n,e,t){if(e.nodeType!=3){let o,a;(a=ZD(e,t))?(e=a,t=0):(o=eP(e,t))&&(e=o,t=o.nodeValue.length)}let r=n.domSelection();if(!r)return;if(Jy(r)){let o=document.createRange();o.setEnd(e,t),o.setStart(e,t),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:i}=n;setTimeout(()=>{n.state==i&&Va(n)},50)}function I1(n,e){let t=n.state.doc.resolve(e);if(!(hi||SD)&&t.parent.inlineContent){let i=n.coordsAtPos(e);if(e>t.start()){let o=n.coordsAtPos(e-1),a=(o.top+o.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<t.end()){let o=n.coordsAtPos(e+1),a=(o.top+o.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function z1(n,e,t){let r=n.state.selection;if(r instanceof Ht&&!r.empty||t.indexOf("s")>-1||Uo&&t.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let a=bw(n.state,e);if(a&&a instanceof kt)return Il(n,a)}if(!i.parent.inlineContent){let a=e<0?i:o,c=r instanceof yo?Jt.near(a,e):Jt.findFrom(a,e);return c?Il(n,c):!1}return!1}function B1(n,e){if(!(n.state.selection instanceof Ht))return!0;let{$head:t,$anchor:r,empty:i}=n.state.selection;if(!t.sameParent(r))return!0;if(!i)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(o&&!o.isText){let a=n.state.tr;return e<0?a.delete(t.pos-o.nodeSize,t.pos):a.delete(t.pos,t.pos+o.nodeSize),n.dispatch(a),!0}return!1}function j1(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function tP(n){if(!Mi||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;j1(n,r,"true"),setTimeout(()=>j1(n,r,"false"),20)}return!1}function nP(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function rP(n,e){let t=e.keyCode,r=nP(e);if(t==8||Uo&&t==72&&r=="c")return B1(n,-1)||$f(n,-1);if(t==46&&!e.shiftKey||Uo&&t==68&&r=="c")return B1(n,1)||$f(n,1);if(t==13||t==27)return!0;if(t==37||Uo&&t==66&&r=="c"){let i=t==37?I1(n,n.state.selection.from)=="ltr"?-1:1:-1;return L1(n,i,r)||$f(n,i)}else if(t==39||Uo&&t==70&&r=="c"){let i=t==39?I1(n,n.state.selection.from)=="ltr"?1:-1:1;return L1(n,i,r)||$f(n,i)}else{if(t==38||Uo&&t==80&&r=="c")return z1(n,-1,r)||$f(n,-1);if(t==40||Uo&&t==78&&r=="c")return tP(n)||z1(n,1,r)||$f(n,1);if(r==(Uo?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function fx(n,e){n.someProp("transformCopied",x=>{e=x(e,n)});let t=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let x=r.firstChild;t.push(x.type.name,x.attrs!=x.type.defaultAttrs?x.attrs:null),r=x.content}let a=n.someProp("clipboardSerializer")||wc.fromSchema(n.state.schema),c=xC(),f=c.createElement("div");f.appendChild(a.serializeFragment(r,{document:c}));let p=f.firstChild,m,v=0;for(;p&&p.nodeType==1&&(m=wC[p.nodeName.toLowerCase()]);){for(let x=m.length-1;x>=0;x--){let E=c.createElement(m[x]);for(;f.firstChild;)E.appendChild(f.firstChild);f.appendChild(E),v++}p=f.firstChild}p&&p.nodeType==1&&p.setAttribute("data-pm-slice",`${i} ${o}${v?` -${v}`:""} ${JSON.stringify(t)}`);let w=n.someProp("clipboardTextSerializer",x=>x(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:f,text:w,slice:e}}function mC(n,e,t,r,i){let o=i.parent.type.spec.code,a,c;if(!t&&!e)return null;let f=e&&(r||o||!t);if(f){if(n.someProp("transformPastedText",w=>{e=w(e,o||r,n)}),o)return e?new it(ze.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):it.empty;let v=n.someProp("clipboardTextParser",w=>w(e,i,r,n));if(v)c=v;else{let w=i.marks(),{schema:x}=n.state,E=wc.fromSchema(x);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(C=>{let k=a.appendChild(document.createElement("p"));C&&k.appendChild(E.serializeNode(x.text(C,w)))})}}else n.someProp("transformPastedHTML",v=>{t=v(t,n)}),a=aP(t),qp&&lP(a);let p=a&&a.querySelector("[data-pm-slice]"),m=p&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(p.getAttribute("data-pm-slice")||"");if(m&&m[3])for(let v=+m[3];v>0;v--){let w=a.firstChild;for(;w&&w.nodeType!=1;)w=w.nextSibling;if(!w)break;a=w}if(c||(c=(n.someProp("clipboardParser")||n.someProp("domParser")||Gl.fromSchema(n.state.schema)).parseSlice(a,{preserveWhitespace:!!(f||m),context:i,ruleFromNode(w){return w.nodeName=="BR"&&!w.nextSibling&&w.parentNode&&!iP.test(w.parentNode.nodeName)?{ignore:!0}:null}})),m)c=uP(F1(c,+m[1],+m[2]),m[4]);else if(c=it.maxOpen(oP(c.content,i),!0),c.openStart||c.openEnd){let v=0,w=0;for(let x=c.content.firstChild;v<c.openStart&&!x.type.spec.isolating;v++,x=x.firstChild);for(let x=c.content.lastChild;w<c.openEnd&&!x.type.spec.isolating;w++,x=x.lastChild);c=F1(c,v,w)}return n.someProp("transformPasted",v=>{c=v(c,n)}),c}const iP=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function oP(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let i=e.node(t).contentMatchAt(e.index(t)),o,a=[];if(n.forEach(c=>{if(!a)return;let f=i.findWrapping(c.type),p;if(!f)return a=null;if(p=a.length&&o.length&&yC(f,o,c,a[a.length-1],0))a[a.length-1]=p;else{a.length&&(a[a.length-1]=vC(a[a.length-1],o.length));let m=gC(c,f);a.push(m),i=i.matchType(m.type),o=f}}),a)return ze.from(a)}return n}function gC(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,ze.from(n));return n}function yC(n,e,t,r,i){if(i<n.length&&i<e.length&&n[i]==e[i]){let o=yC(n,e,t,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==n.length-1?t.type:n[i+1]))return r.copy(r.content.append(ze.from(gC(t,n,i+1))))}}function vC(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,vC(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(ze.empty,!0);return n.copy(t.append(r))}function Ew(n,e,t,r,i,o){let a=e<0?n.firstChild:n.lastChild,c=a.content;return n.childCount>1&&(o=0),i<r-1&&(c=Ew(c,e,t,r,i+1,o)),i>=t&&(c=e<0?a.contentMatchAt(0).fillBefore(c,o<=i).append(c):c.append(a.contentMatchAt(a.childCount).fillBefore(ze.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,a.copy(c))}function F1(n,e,t){return e<n.openStart&&(n=new it(Ew(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new it(Ew(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const wC={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let H1=null;function xC(){return H1||(H1=document.implementation.createHTMLDocument("title"))}let M0=null;function sP(n){let e=window.trustedTypes;return e?(M0||(M0=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),M0.createHTML(n)):n}function aP(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=xC().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),i;if((i=r&&wC[r[1].toLowerCase()])&&(n=i.map(o=>"<"+o+">").join("")+n+i.map(o=>"</"+o+">").reverse().join("")),t.innerHTML=sP(n),i)for(let o=0;o<i.length;o++)t=t.querySelector(i[o])||t;return t}function lP(n){let e=n.querySelectorAll(hi?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function uP(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:i,openStart:o,openEnd:a}=n;for(let c=r.length-2;c>=0;c-=2){let f=t.nodes[r[c]];if(!f||f.hasRequiredAttrs())break;i=ze.from(f.create(r[c+1],i)),o++,a++}return new it(i,o,a)}const Oi={},Ri={},cP={touchstart:!0,touchmove:!0};class fP{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function dP(n){for(let e in Oi){let t=Oi[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{pP(n,r)&&!dx(n,r)&&(n.editable||!(r.type in Ri))&&t(n,r)},cP[e]?{passive:!0}:void 0)}Mi&&n.dom.addEventListener("input",()=>null),kw(n)}function Wl(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function hP(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function kw(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>dx(n,r))})}function dx(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function pP(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function mP(n,e){!dx(n,e)&&Oi[e.type]&&(n.editable||!(e.type in Ri))&&Oi[e.type](n,e)}Ri.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!SC(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!($a&&hi&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),od&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",i=>i(n,Qu(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||rP(n,t)?t.preventDefault():Wl(n,"key")};Ri.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};Ri.keypress=(n,e)=>{let t=e;if(SC(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||Uo&&t.metaKey)return;if(n.someProp("handleKeyPress",i=>i(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof Ht)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(t.charCode),o=()=>n.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!n.someProp("handleTextInput",a=>a(n,r.$from.pos,r.$to.pos,i,o))&&n.dispatch(o()),t.preventDefault()}};function Xy(n){return{left:n.clientX,top:n.clientY}}function gP(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function hx(n,e,t,r,i){if(r==-1)return!1;let o=n.state.doc.resolve(r);for(let a=o.depth+1;a>0;a--)if(n.someProp(e,c=>a>o.depth?c(n,t,o.nodeAfter,o.before(a),i,!0):c(n,t,o.node(a),o.before(a),i,!1)))return!0;return!1}function nd(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);r.setMeta("pointer",!0),n.dispatch(r)}function yP(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&kt.isSelectable(r)?(nd(n,new kt(t)),!0):!1}function vP(n,e){if(e==-1)return!1;let t=n.state.selection,r,i;t instanceof kt&&(r=t.node);let o=n.state.doc.resolve(e);for(let a=o.depth+1;a>0;a--){let c=a>o.depth?o.nodeAfter:o.node(a);if(kt.isSelectable(c)){r&&t.$from.depth>0&&a>=t.$from.depth&&o.before(t.$from.depth+1)==t.$from.pos?i=o.before(t.$from.depth):i=o.before(a);break}}return i!=null?(nd(n,kt.create(n.state.doc,i)),!0):!1}function wP(n,e,t,r,i){return hx(n,"handleClickOn",e,t,r)||n.someProp("handleClick",o=>o(n,e,r))||(i?vP(n,t):yP(n,t))}function xP(n,e,t,r){return hx(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",i=>i(n,e,r))}function bP(n,e,t,r){return hx(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",i=>i(n,e,r))||SP(n,t,r)}function SP(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(nd(n,Ht.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let a=o>i.depth?i.nodeAfter:i.node(o),c=i.before(o);if(a.inlineContent)nd(n,Ht.create(r,c+1,c+1+a.content.size));else if(kt.isSelectable(a))nd(n,kt.create(r,c));else continue;return!0}}function px(n){return ry(n)}const bC=Uo?"metaKey":"ctrlKey";Oi.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=px(n),i=Date.now(),o="singleClick";i-n.input.lastClick.time<500&&gP(t,n.input.lastClick)&&!t[bC]&&n.input.lastClick.button==t.button&&(n.input.lastClick.type=="singleClick"?o="doubleClick":n.input.lastClick.type=="doubleClick"&&(o="tripleClick")),n.input.lastClick={time:i,x:t.clientX,y:t.clientY,type:o,button:t.button};let a=n.posAtCoords(Xy(t));a&&(o=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new EP(n,a,t,!!r)):(o=="doubleClick"?xP:bP)(n,a.pos,a.inside,t)?t.preventDefault():Wl(n,"pointer"))};class EP{constructor(e,t,r,i){this.view=e,this.pos=t,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[bC],this.allowDefault=r.shiftKey;let o,a;if(t.inside>-1)o=e.state.doc.nodeAt(t.inside),a=t.inside;else{let m=e.state.doc.resolve(t.pos);o=m.parent,a=m.depth?m.before():0}const c=i?null:r.target,f=c?e.docView.nearestDesc(c,!0):null;this.target=f&&f.dom.nodeType==1?f.dom:null;let{selection:p}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||p instanceof kt&&p.from<=a&&p.to>a)&&(this.mightDrag={node:o,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&ws&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Wl(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Va(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Xy(e))),this.updateAllowDefault(e),this.allowDefault||!t?Wl(this.view,"pointer"):wP(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Mi&&this.mightDrag&&!this.mightDrag.node.isAtom||hi&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(nd(this.view,Jt.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):Wl(this.view,"pointer")}move(e){this.updateAllowDefault(e),Wl(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Oi.touchstart=n=>{n.input.lastTouch=Date.now(),px(n),Wl(n,"pointer")};Oi.touchmove=n=>{n.input.lastTouch=Date.now(),Wl(n,"pointer")};Oi.contextmenu=n=>px(n);function SC(n,e){return n.composing?!0:Mi&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const kP=$a?5e3:-1;Ri.compositionstart=Ri.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof Ht&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),ry(n,!0),n.markCursor=null;else if(ry(n,!e.selection.empty),ws&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let a=o<0?i.lastChild:i.childNodes[o-1];if(!a)break;if(a.nodeType==3){let c=n.domSelection();c&&c.collapse(a,a.nodeValue.length);break}else i=a,o=-1}}n.input.composing=!0}EC(n,kP)};Ri.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,EC(n,20))};function EC(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>ry(n),e))}function kC(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=MP());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function CP(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=yD(e.focusNode,e.focusOffset),r=vD(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let i=r.pmViewDesc,o=n.domObserver.lastChangedTextNode;if(t==o||r==o)return o;if(!i||!i.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let a=t.pmViewDesc;if(!(!a||!a.isText(t.nodeValue)))return r}}return t||r}function MP(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function ry(n,e=!1){if(!($a&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),kC(n),e||n.docView&&n.docView.dirty){let t=ux(n),r=n.state.selection;return t&&!t.eq(r)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function OP(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const Rp=Ji&&Kl<15||od&&ED<604;Oi.copy=Ri.cut=(n,e)=>{let t=e,r=n.state.selection,i=t.type=="cut";if(r.empty)return;let o=Rp?null:t.clipboardData,a=r.content(),{dom:c,text:f}=fx(n,a);o?(t.preventDefault(),o.clearData(),o.setData("text/html",c.innerHTML),o.setData("text/plain",f)):OP(n,c),i&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function RP(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function TP(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?Tp(n,r.value,null,i,e):Tp(n,r.textContent,r.innerHTML,i,e)},50)}function Tp(n,e,t,r,i){let o=mC(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",f=>f(n,i,o||it.empty)))return!0;if(!o)return!1;let a=RP(o),c=a?n.state.tr.replaceSelectionWith(a,r):n.state.tr.replaceSelection(o);return n.dispatch(c.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function CC(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}Ri.paste=(n,e)=>{let t=e;if(n.composing&&!$a)return;let r=Rp?null:t.clipboardData,i=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&Tp(n,CC(r),r.getData("text/html"),i,t)?t.preventDefault():TP(n,t)};class MC{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const _P=Uo?"altKey":"ctrlKey";function OC(n,e){let t=n.someProp("dragCopies",r=>!r(e));return t??!e[_P]}Oi.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let i=n.state.selection,o=i.empty?null:n.posAtCoords(Xy(t)),a;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof kt?i.to-1:i.to))){if(r&&r.mightDrag)a=kt.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let v=n.docView.nearestDesc(t.target,!0);v&&v.node.type.spec.draggable&&v!=n.docView&&(a=kt.create(n.state.doc,v.posBefore))}}let c=(a||n.state.selection).content(),{dom:f,text:p,slice:m}=fx(n,c);(!t.dataTransfer.files.length||!hi||Zk>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(Rp?"Text":"text/html",f.innerHTML),t.dataTransfer.effectAllowed="copyMove",Rp||t.dataTransfer.setData("text/plain",p),n.dragging=new MC(m,OC(n,t),a)};Oi.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};Ri.dragover=Ri.dragenter=(n,e)=>e.preventDefault();Ri.drop=(n,e)=>{let t=e,r=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let i=n.posAtCoords(Xy(t));if(!i)return;let o=n.state.doc.resolve(i.pos),a=r&&r.slice;a?n.someProp("transformPasted",E=>{a=E(a,n)}):a=mC(n,CC(t.dataTransfer),Rp?null:t.dataTransfer.getData("text/html"),!1,o);let c=!!(r&&OC(n,t));if(n.someProp("handleDrop",E=>E(n,t,a||it.empty,c))){t.preventDefault();return}if(!a)return;t.preventDefault();let f=a?Wk(n.state.doc,o.pos,a):o.pos;f==null&&(f=o.pos);let p=n.state.tr;if(c){let{node:E}=r;E?E.replace(p):p.deleteSelection()}let m=p.mapping.map(f),v=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,w=p.doc;if(v?p.replaceRangeWith(m,m,a.content.firstChild):p.replaceRange(m,m,a),p.doc.eq(w))return;let x=p.doc.resolve(m);if(v&&kt.isSelectable(a.content.firstChild)&&x.nodeAfter&&x.nodeAfter.sameMarkup(a.content.firstChild))p.setSelection(new kt(x));else{let E=p.mapping.map(f);p.mapping.maps[p.mapping.maps.length-1].forEach((C,k,S,R)=>E=R),p.setSelection(cx(n,x,p.doc.resolve(E)))}n.focus(),n.dispatch(p.setMeta("uiEvent","drop"))};Oi.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&Va(n)},20))};Oi.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};Oi.beforeinput=(n,e)=>{if(hi&&$a&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",o=>o(n,Qu(8,"Backspace")))))return;let{$cursor:i}=n.state.selection;i&&i.pos>0&&n.dispatch(n.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let n in Ri)Oi[n]=Ri[n];function _p(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class iy{constructor(e,t){this.toDOM=e,this.spec=t||sc,this.side=this.spec.side||0}map(e,t,r,i){let{pos:o,deleted:a}=e.mapResult(t.from+i,this.side<0?-1:1);return a?null:new go(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof iy&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&_p(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Yl{constructor(e,t){this.attrs=e,this.spec=t||sc}map(e,t,r,i){let o=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-r,a=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=a?null:new go(o,a,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof Yl&&_p(this.attrs,e.attrs)&&_p(this.spec,e.spec)}static is(e){return e.type instanceof Yl}destroy(){}}class mx{constructor(e,t){this.attrs=e,this.spec=t||sc}map(e,t,r,i){let o=e.mapResult(t.from+i,1);if(o.deleted)return null;let a=e.mapResult(t.to+i,-1);return a.deleted||a.pos<=o.pos?null:new go(o.pos-r,a.pos-r,this)}valid(e,t){let{index:r,offset:i}=e.content.findIndex(t.from),o;return i==t.from&&!(o=e.child(r)).isText&&i+o.nodeSize==t.to}eq(e){return this==e||e instanceof mx&&_p(this.attrs,e.attrs)&&_p(this.spec,e.spec)}destroy(){}}class go{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new go(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new go(e,e,new iy(t,r))}static inline(e,t,r,i){return new go(e,t,new Yl(r,i))}static node(e,t,r,i){return new go(e,t,new mx(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Yl}get widget(){return this.type instanceof iy}}const Kf=[],sc={};class vr{constructor(e,t){this.local=e.length?e:Kf,this.children=t.length?t:Kf}static create(e,t){return t.length?oy(t,e,0,sc):di}find(e,t,r){let i=[];return this.findInner(e??0,t??1e9,i,0,r),i}findInner(e,t,r,i,o){for(let a=0;a<this.local.length;a++){let c=this.local[a];c.from<=t&&c.to>=e&&(!o||o(c.spec))&&r.push(c.copy(c.from+i,c.to+i))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<t&&this.children[a+1]>e){let c=this.children[a]+1;this.children[a+2].findInner(e-c,t-c,r,i+c,o)}}map(e,t,r){return this==di||e.maps.length==0?this:this.mapInner(e,t,0,0,r||sc)}mapInner(e,t,r,i,o){let a;for(let c=0;c<this.local.length;c++){let f=this.local[c].map(e,r,i);f&&f.type.valid(t,f)?(a||(a=[])).push(f):o.onRemove&&o.onRemove(this.local[c].spec)}return this.children.length?NP(this.children,a||[],e,t,r,i,o):a?new vr(a.sort(ac),Kf):di}add(e,t){return t.length?this==di?vr.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let i,o=0;e.forEach((c,f)=>{let p=f+r,m;if(m=TC(t,c,p)){for(i||(i=this.children.slice());o<i.length&&i[o]<f;)o+=3;i[o]==f?i[o+2]=i[o+2].addInner(c,m,p+1):i.splice(o,0,f,f+c.nodeSize,oy(m,c,p+1,sc)),o+=3}});let a=RC(o?_C(t):t,-r);for(let c=0;c<a.length;c++)a[c].type.valid(e,a[c])||a.splice(c--,1);return new vr(a.length?this.local.concat(a).sort(ac):this.local,i||this.children)}remove(e){return e.length==0||this==di?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let a,c=r[o]+t,f=r[o+1]+t;for(let m=0,v;m<e.length;m++)(v=e[m])&&v.from>c&&v.to<f&&(e[m]=null,(a||(a=[])).push(v));if(!a)continue;r==this.children&&(r=this.children.slice());let p=r[o+2].removeInner(a,c+1);p!=di?r[o+2]=p:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,a;o<e.length;o++)if(a=e[o])for(let c=0;c<i.length;c++)i[c].eq(a,t)&&(i==this.local&&(i=this.local.slice()),i.splice(c--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new vr(i,r):di}forChild(e,t){if(this==di)return this;if(t.isLeaf)return vr.empty;let r,i;for(let c=0;c<this.children.length;c+=3)if(this.children[c]>=e){this.children[c]==e&&(r=this.children[c+2]);break}let o=e+1,a=o+t.content.size;for(let c=0;c<this.local.length;c++){let f=this.local[c];if(f.from<a&&f.to>o&&f.type instanceof Yl){let p=Math.max(o,f.from)-o,m=Math.min(a,f.to)-o;p<m&&(i||(i=[])).push(f.copy(p,m))}}if(i){let c=new vr(i.sort(ac),Kf);return r?new Fl([c,r]):c}return r||di}eq(e){if(this==e)return!0;if(!(e instanceof vr)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return gx(this.localsInner(e))}localsInner(e){if(this==di)return Kf;if(e.inlineContent||!this.local.some(Yl.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Yl||t.push(this.local[r]);return t}forEachSet(e){e(this)}}vr.empty=new vr([],[]);vr.removeOverlap=gx;const di=vr.empty;class Fl{constructor(e){this.members=e}map(e,t){const r=this.members.map(i=>i.map(e,t,sc));return Fl.from(r)}forChild(e,t){if(t.isLeaf)return vr.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,t);o!=di&&(o instanceof Fl?r=r.concat(o.members):r.push(o))}return Fl.from(r)}eq(e){if(!(e instanceof Fl)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!t)t=o;else{r&&(t=t.slice(),r=!1);for(let a=0;a<o.length;a++)t.push(o[a])}}return t?gx(r?t:t.sort(ac)):Kf}static from(e){switch(e.length){case 0:return di;case 1:return e[0];default:return new Fl(e.every(t=>t instanceof vr)?e:e.reduce((t,r)=>t.concat(r instanceof vr?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function NP(n,e,t,r,i,o,a){let c=n.slice();for(let p=0,m=o;p<t.maps.length;p++){let v=0;t.maps[p].forEach((w,x,E,C)=>{let k=C-E-(x-w);for(let S=0;S<c.length;S+=3){let R=c[S+1];if(R<0||w>R+m-v)continue;let N=c[S]+m-v;x>=N?c[S+1]=w<=N?-2:-1:w>=m&&k&&(c[S]+=k,c[S+1]+=k)}v+=k}),m=t.maps[p].map(m,-1)}let f=!1;for(let p=0;p<c.length;p+=3)if(c[p+1]<0){if(c[p+1]==-2){f=!0,c[p+1]=-1;continue}let m=t.map(n[p]+o),v=m-i;if(v<0||v>=r.content.size){f=!0;continue}let w=t.map(n[p+1]+o,-1),x=w-i,{index:E,offset:C}=r.content.findIndex(v),k=r.maybeChild(E);if(k&&C==v&&C+k.nodeSize==x){let S=c[p+2].mapInner(t,k,m+1,n[p]+o+1,a);S!=di?(c[p]=v,c[p+1]=x,c[p+2]=S):(c[p+1]=-2,f=!0)}else f=!0}if(f){let p=AP(c,n,e,t,i,o,a),m=oy(p,r,0,a);e=m.local;for(let v=0;v<c.length;v+=3)c[v+1]<0&&(c.splice(v,3),v-=3);for(let v=0,w=0;v<m.children.length;v+=3){let x=m.children[v];for(;w<c.length&&c[w]<x;)w+=3;c.splice(w,0,m.children[v],m.children[v+1],m.children[v+2])}}return new vr(e.sort(ac),c)}function RC(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let i=n[r];t.push(new go(i.from+e,i.to+e,i.type))}return t}function AP(n,e,t,r,i,o,a){function c(f,p){for(let m=0;m<f.local.length;m++){let v=f.local[m].map(r,i,p);v?t.push(v):a.onRemove&&a.onRemove(f.local[m].spec)}for(let m=0;m<f.children.length;m+=3)c(f.children[m+2],f.children[m]+p+1)}for(let f=0;f<n.length;f+=3)n[f+1]==-1&&c(n[f+2],e[f]+o+1);return t}function TC(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,i=null;for(let o=0,a;o<n.length;o++)(a=n[o])&&a.from>t&&a.to<r&&((i||(i=[])).push(a),n[o]=null);return i}function _C(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function oy(n,e,t,r){let i=[],o=!1;e.forEach((c,f)=>{let p=TC(n,c,f+t);if(p){o=!0;let m=oy(p,c,t+f+1,r);m!=di&&i.push(f,f+c.nodeSize,m)}});let a=RC(o?_C(n):n,-t).sort(ac);for(let c=0;c<a.length;c++)a[c].type.valid(e,a[c])||(r.onRemove&&r.onRemove(a[c].spec),a.splice(c--,1));return a.length||i.length?new vr(a,i):di}function ac(n,e){return n.from-e.from||n.to-e.to}function gx(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let i=t+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==n&&(e=n.slice()),e[i]=o.copy(o.from,r.to),$1(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,o.from),$1(e,i,r.copy(o.from,r.to)));break}}}return e}function $1(n,e,t){for(;e<n.length&&ac(t,n[e])>0;)e++;n.splice(e,0,t)}function O0(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=di&&e.push(r)}),n.cursorWrapper&&e.push(vr.create(n.state.doc,[n.cursorWrapper.deco])),Fl.from(e)}const DP={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},PP=Ji&&Kl<=11;class LP{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class IP{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new LP,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Ji&&Kl<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),PP&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,DP)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(P1(this.view)){if(this.suppressingSelectionUpdates)return Va(this.view);if(Ji&&Kl<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&hc(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let o=e.focusNode;o;o=id(o))t.add(o);for(let o=e.anchorNode;o;o=id(o))if(t.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&P1(e)&&!this.ignoreSelectionChange(r),o=-1,a=-1,c=!1,f=[];if(e.editable)for(let m=0;m<t.length;m++){let v=this.registerMutation(t[m],f);v&&(o=o<0?v.from:Math.min(v.from,o),a=a<0?v.to:Math.max(v.to,a),v.typeOver&&(c=!0))}if(ws&&f.length){let m=f.filter(v=>v.nodeName=="BR");if(m.length==2){let[v,w]=m;v.parentNode&&v.parentNode.parentNode==w.parentNode?w.remove():v.remove()}else{let{focusNode:v}=this.currentSelection;for(let w of m){let x=w.parentNode;x&&x.nodeName=="LI"&&(!v||jP(e,v)!=x)&&w.remove()}}}let p=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Jy(r)&&(p=ux(e))&&p.eq(Jt.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Va(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,a),zP(e)),this.handleDOMChange(o,a,c,f),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Va(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let m=0;m<e.addedNodes.length;m++){let v=e.addedNodes[m];t.push(v),v.nodeType==3&&(this.lastChangedTextNode=v)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if(Ji&&Kl<=11&&e.addedNodes.length)for(let m=0;m<e.addedNodes.length;m++){let{previousSibling:v,nextSibling:w}=e.addedNodes[m];(!v||Array.prototype.indexOf.call(e.addedNodes,v)<0)&&(i=v),(!w||Array.prototype.indexOf.call(e.addedNodes,w)<0)&&(o=w)}let a=i&&i.parentNode==e.target?ti(i)+1:0,c=r.localPosFromDOM(e.target,a,-1),f=o&&o.parentNode==e.target?ti(o):e.target.childNodes.length,p=r.localPosFromDOM(e.target,f,1);return{from:c,to:p}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let U1=new WeakMap,W1=!1;function zP(n){if(!U1.has(n)&&(U1.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=ws,W1)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),W1=!0}}function V1(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,a=n.domAtPos(n.state.selection.anchor);return hc(a.node,a.offset,i,o)&&([t,r,i,o]=[i,o,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:o}}function BP(n,e){if(e.getComposedRanges){let i=e.getComposedRanges(n.root)[0];if(i)return V1(n,i)}let t;function r(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?V1(n,t):null}function jP(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function FP(n,e,t){let{node:r,fromOffset:i,toOffset:o,from:a,to:c}=n.docView.parseRange(e,t),f=n.domSelectionRange(),p,m=f.anchorNode;if(m&&n.dom.contains(m.nodeType==1?m:m.parentNode)&&(p=[{node:m,offset:f.anchorOffset}],Jy(f)||p.push({node:f.focusNode,offset:f.focusOffset})),hi&&n.input.lastKeyCode===8)for(let k=o;k>i;k--){let S=r.childNodes[k-1],R=S.pmViewDesc;if(S.nodeName=="BR"&&!R){o=k;break}if(!R||R.size)break}let v=n.state.doc,w=n.someProp("domParser")||Gl.fromSchema(n.state.schema),x=v.resolve(a),E=null,C=w.parse(r,{topNode:x.parent,topMatch:x.parent.contentMatchAt(x.index()),topOpen:!0,from:i,to:o,preserveWhitespace:x.parent.type.whitespace=="pre"?"full":!0,findPositions:p,ruleFromNode:HP,context:x});if(p&&p[0].pos!=null){let k=p[0].pos,S=p[1]&&p[1].pos;S==null&&(S=k),E={anchor:k+a,head:S+a}}return{doc:C,sel:E,from:a,to:c}}function HP(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(Mi&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||Mi&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const $P=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function UP(n,e,t,r,i){let o=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let z=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,W=ux(n,z);if(W&&!n.state.selection.eq(W)){if(hi&&$a&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",xe=>xe(n,Qu(13,"Enter"))))return;let se=n.state.tr.setSelection(W);z=="pointer"?se.setMeta("pointer",!0):z=="key"&&se.scrollIntoView(),o&&se.setMeta("composition",o),n.dispatch(se)}return}let a=n.state.doc.resolve(e),c=a.sharedDepth(t);e=a.before(c+1),t=n.state.doc.resolve(t).after(c+1);let f=n.state.selection,p=FP(n,e,t),m=n.state.doc,v=m.slice(p.from,p.to),w,x;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(w=n.state.selection.to,x="end"):(w=n.state.selection.from,x="start"),n.input.lastKeyCode=null;let E=qP(v.content,p.doc.content,p.from,w,x);if(E&&n.input.domChangeCount++,(od&&n.input.lastIOSEnter>Date.now()-225||$a)&&i.some(z=>z.nodeType==1&&!$P.test(z.nodeName))&&(!E||E.endA>=E.endB)&&n.someProp("handleKeyDown",z=>z(n,Qu(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!E)if(r&&f instanceof Ht&&!f.empty&&f.$head.sameParent(f.$anchor)&&!n.composing&&!(p.sel&&p.sel.anchor!=p.sel.head))E={start:f.from,endA:f.to,endB:f.to};else{if(p.sel){let z=q1(n,n.state.doc,p.sel);if(z&&!z.eq(n.state.selection)){let W=n.state.tr.setSelection(z);o&&W.setMeta("composition",o),n.dispatch(W)}}return}n.state.selection.from<n.state.selection.to&&E.start==E.endB&&n.state.selection instanceof Ht&&(E.start>n.state.selection.from&&E.start<=n.state.selection.from+2&&n.state.selection.from>=p.from?E.start=n.state.selection.from:E.endA<n.state.selection.to&&E.endA>=n.state.selection.to-2&&n.state.selection.to<=p.to&&(E.endB+=n.state.selection.to-E.endA,E.endA=n.state.selection.to)),Ji&&Kl<=11&&E.endB==E.start+1&&E.endA==E.start&&E.start>p.from&&p.doc.textBetween(E.start-p.from-1,E.start-p.from+1)=="  "&&(E.start--,E.endA--,E.endB--);let C=p.doc.resolveNoCache(E.start-p.from),k=p.doc.resolveNoCache(E.endB-p.from),S=m.resolve(E.start),R=C.sameParent(k)&&C.parent.inlineContent&&S.end()>=E.endA,N;if((od&&n.input.lastIOSEnter>Date.now()-225&&(!R||i.some(z=>z.nodeName=="DIV"||z.nodeName=="P"))||!R&&C.pos<p.doc.content.size&&(!C.sameParent(k)||!C.parent.inlineContent)&&!/\S/.test(p.doc.textBetween(C.pos,k.pos,"",""))&&(N=Jt.findFrom(p.doc.resolve(C.pos+1),1,!0))&&N.head>C.pos)&&n.someProp("handleKeyDown",z=>z(n,Qu(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>E.start&&VP(m,E.start,E.endA,C,k)&&n.someProp("handleKeyDown",z=>z(n,Qu(8,"Backspace")))){$a&&hi&&n.domObserver.suppressSelectionUpdates();return}hi&&E.endB==E.start&&(n.input.lastChromeDelete=Date.now()),$a&&!R&&C.start()!=k.start()&&k.parentOffset==0&&C.depth==k.depth&&p.sel&&p.sel.anchor==p.sel.head&&p.sel.head==E.endA&&(E.endB-=2,k=p.doc.resolveNoCache(E.endB-p.from),setTimeout(()=>{n.someProp("handleKeyDown",function(z){return z(n,Qu(13,"Enter"))})},20));let T=E.start,D=E.endA,_=z=>{let W=z||n.state.tr.replace(T,D,p.doc.slice(E.start-p.from,E.endB-p.from));if(p.sel){let se=q1(n,W.doc,p.sel);se&&!(hi&&n.composing&&se.empty&&(E.start!=E.endB||n.input.lastChromeDelete<Date.now()-100)&&(se.head==T||se.head==W.mapping.map(D)-1)||Ji&&se.empty&&se.head==T)&&W.setSelection(se)}return o&&W.setMeta("composition",o),W.scrollIntoView()},L;if(R){if(C.pos==k.pos){Ji&&Kl<=11&&C.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>Va(n),20));let z=_(n.state.tr.delete(T,D)),W=m.resolve(E.start).marksAcross(m.resolve(E.endA));W&&z.ensureMarks(W),n.dispatch(z)}else if(E.endA==E.endB&&(L=WP(C.parent.content.cut(C.parentOffset,k.parentOffset),S.parent.content.cut(S.parentOffset,E.endA-S.start())))){let z=_(n.state.tr);L.type=="add"?z.addMark(T,D,L.mark):z.removeMark(T,D,L.mark),n.dispatch(z)}else if(C.parent.child(C.index()).isText&&C.index()==k.index()-(k.textOffset?0:1)){let z=C.parent.textBetween(C.parentOffset,k.parentOffset),W=()=>_(n.state.tr.insertText(z,T,D));n.someProp("handleTextInput",se=>se(n,T,D,z,W))||n.dispatch(W())}}else n.dispatch(_())}function q1(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:cx(n,e.resolve(t.anchor),e.resolve(t.head))}function WP(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,i=t,o=r,a,c,f;for(let m=0;m<r.length;m++)i=r[m].removeFromSet(i);for(let m=0;m<t.length;m++)o=t[m].removeFromSet(o);if(i.length==1&&o.length==0)c=i[0],a="add",f=m=>m.mark(c.addToSet(m.marks));else if(i.length==0&&o.length==1)c=o[0],a="remove",f=m=>m.mark(c.removeFromSet(m.marks));else return null;let p=[];for(let m=0;m<e.childCount;m++)p.push(f(e.child(m)));if(ze.from(p).eq(n))return{mark:c,type:a}}function VP(n,e,t,r,i){if(t-e<=i.pos-r.pos||R0(r,!0,!1)<i.pos)return!1;let o=n.resolve(e);if(!r.parent.isTextblock){let c=o.nodeAfter;return c!=null&&t==e+c.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let a=n.resolve(R0(o,!0,!0));return!a.parent.isTextblock||a.pos>t||R0(a,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function R0(n,e,t){let r=n.depth,i=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,i++,e=!1;if(t){let o=n.node(r).maybeChild(n.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function qP(n,e,t,r,i){let o=n.findDiffStart(e,t);if(o==null)return null;let{a,b:c}=n.findDiffEnd(e,t+n.size,t+e.size);if(i=="end"){let f=Math.max(0,o-Math.min(a,c));r-=a+f-o}if(a<o&&n.size<e.size){let f=r<=o&&r>=a?o-r:0;o-=f,o&&o<e.size&&G1(e.textBetween(o-1,o+1))&&(o+=f?1:-1),c=o+(c-a),a=o}else if(c<o){let f=r<=o&&r>=c?o-r:0;o-=f,o&&o<n.size&&G1(n.textBetween(o-1,o+1))&&(o+=f?1:-1),a=o+(a-c),c=o}return{start:o,endA:a,endB:c}}function G1(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class NC{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new fP,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(Q1),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Y1(this),J1(this),this.nodeViews=X1(this),this.docView=R1(this.state.doc,K1(this),O0(this),this.dom,this),this.domObserver=new IP(this,(r,i,o,a)=>UP(this,r,i,o,a)),this.domObserver.start(),dP(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&kw(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Q1),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let i=this.state,o=!1,a=!1;e.storedMarks&&this.composing&&(kC(this),a=!0),this.state=e;let c=i.plugins!=e.plugins||this._props.plugins!=t.plugins;if(c||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let x=X1(this);KP(x,this.nodeViews)&&(this.nodeViews=x,o=!0)}(c||t.handleDOMEvents!=this._props.handleDOMEvents)&&kw(this),this.editable=Y1(this),J1(this);let f=O0(this),p=K1(this),m=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",v=o||!this.docView.matchesNode(e.doc,p,f);(v||!e.selection.eq(i.selection))&&(a=!0);let w=m=="preserve"&&a&&this.dom.style.overflowAnchor==null&&MD(this);if(a){this.domObserver.stop();let x=v&&(Ji||hi)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&GP(i.selection,e.selection);if(v){let E=hi?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=CP(this)),(o||!this.docView.update(e.doc,p,f,this))&&(this.docView.updateOuterDeco(p),this.docView.destroy(),this.docView=R1(e.doc,p,f,this.dom,this)),E&&!this.trackWrites&&(x=!0)}x||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&YD(this))?Va(this,x):(dC(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),m=="reset"?this.dom.scrollTop=0:m=="to selection"?this.scrollToSelection():w&&OD(w)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof kt){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&S1(this,t.getBoundingClientRect(),e)}else S1(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let o=r.from+(this.state.doc.content.size-t.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(i=o)}this.dragging=new MC(e.slice,e.move,i<0?void 0:kt.create(this.state.doc,i))}someProp(e,t){let r=this._props&&this._props[e],i;if(r!=null&&(i=t?t(r):r))return i;for(let a=0;a<this.directPlugins.length;a++){let c=this.directPlugins[a].props[e];if(c!=null&&(i=t?t(c):c))return i}let o=this.state.plugins;if(o)for(let a=0;a<o.length;a++){let c=o[a].props[e];if(c!=null&&(i=t?t(c):c))return i}}hasFocus(){if(Ji){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&RD(this.dom),Va(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return DD(this,e)}coordsAtPos(e,t=1){return iC(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let i=this.docView.posFromDOM(e,t,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,t){return BD(this,t||this.state,e)}pasteHTML(e,t){return Tp(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return Tp(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return fx(this,e)}destroy(){this.docView&&(hP(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],O0(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,mD())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return mP(this,e)}domSelectionRange(){let e=this.domSelection();return e?Mi&&this.root.nodeType===11&&xD(this.dom.ownerDocument)==this.dom&&BP(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}NC.prototype.dispatch=function(n){let e=this._props.dispatchTransaction;e?e.call(this,n):this.updateState(this.state.apply(n))};function K1(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[go.node(0,n.state.doc.content.size,e)]}function J1(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:go.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function Y1(n){return!n.someProp("editable",e=>e(n.state)===!1)}function GP(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function X1(n){let e=Object.create(null);function t(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function KP(n,e){let t=0,r=0;for(let i in n){if(n[i]!=e[i])return!0;t++}for(let i in e)r++;return t!=r}function Q1(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Ql={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},sy={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},JP=typeof navigator<"u"&&/Mac/.test(navigator.platform),YP=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var ni=0;ni<10;ni++)Ql[48+ni]=Ql[96+ni]=String(ni);for(var ni=1;ni<=24;ni++)Ql[ni+111]="F"+ni;for(var ni=65;ni<=90;ni++)Ql[ni]=String.fromCharCode(ni+32),sy[ni]=String.fromCharCode(ni);for(var T0 in Ql)sy.hasOwnProperty(T0)||(sy[T0]=Ql[T0]);function XP(n){var e=JP&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||YP&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?sy:Ql)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const QP=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),ZP=typeof navigator<"u"&&/Win/.test(navigator.platform);function eL(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,i,o,a;for(let c=0;c<e.length-1;c++){let f=e[c];if(/^(cmd|meta|m)$/i.test(f))a=!0;else if(/^a(lt)?$/i.test(f))r=!0;else if(/^(c|ctrl|control)$/i.test(f))i=!0;else if(/^s(hift)?$/i.test(f))o=!0;else if(/^mod$/i.test(f))QP?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+f)}return r&&(t="Alt-"+t),i&&(t="Ctrl-"+t),a&&(t="Meta-"+t),o&&(t="Shift-"+t),t}function tL(n){let e=Object.create(null);for(let t in n)e[eL(t)]=n[t];return e}function _0(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function nL(n){return new Tr({props:{handleKeyDown:AC(n)}})}function AC(n){let e=tL(n);return function(t,r){let i=XP(r),o,a=e[_0(i,r)];if(a&&a(t.state,t.dispatch,t))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let c=e[_0(i,r,!1)];if(c&&c(t.state,t.dispatch,t))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(ZP&&r.ctrlKey&&r.altKey)&&(o=Ql[r.keyCode])&&o!=i){let c=e[_0(o,r)];if(c&&c(t.state,t.dispatch,t))return!0}}return!1}}const yx=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function DC(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const PC=(n,e,t)=>{let r=DC(n,t);if(!r)return!1;let i=vx(r);if(!i){let a=r.blockRange(),c=a&&md(a);return c==null?!1:(e&&e(n.tr.lift(a,c).scrollIntoView()),!0)}let o=i.nodeBefore;if(UC(n,i,e,-1))return!0;if(r.parent.content.size==0&&(sd(o,"end")||kt.isSelectable(o)))for(let a=r.depth;;a--){let c=Gy(n.doc,r.before(a),r.after(a),it.empty);if(c&&c.slice.size<c.to-c.from){if(e){let f=n.tr.step(c);f.setSelection(sd(o,"end")?Jt.findFrom(f.doc.resolve(f.mapping.map(i.pos,-1)),-1):kt.create(f.doc,i.pos-o.nodeSize)),e(f.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return o.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1},rL=(n,e,t)=>{let r=DC(n,t);if(!r)return!1;let i=vx(r);return i?LC(n,i,e):!1},iL=(n,e,t)=>{let r=zC(n,t);if(!r)return!1;let i=wx(r);return i?LC(n,i,e):!1};function LC(n,e,t){let r=e.nodeBefore,i=r,o=e.pos-1;for(;!i.isTextblock;o--){if(i.type.spec.isolating)return!1;let m=i.lastChild;if(!m)return!1;i=m}let a=e.nodeAfter,c=a,f=e.pos+1;for(;!c.isTextblock;f++){if(c.type.spec.isolating)return!1;let m=c.firstChild;if(!m)return!1;c=m}let p=Gy(n.doc,o,f,it.empty);if(!p||p.from!=o||p instanceof Fr&&p.slice.size>=f-o)return!1;if(t){let m=n.tr.step(p);m.setSelection(Ht.create(m.doc,o)),t(m.scrollIntoView())}return!0}function sd(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const IC=(n,e,t)=>{let{$head:r,empty:i}=n.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;o=vx(r)}let a=o&&o.nodeBefore;return!a||!kt.isSelectable(a)?!1:(e&&e(n.tr.setSelection(kt.create(n.doc,o.pos-a.nodeSize)).scrollIntoView()),!0)};function vx(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function zC(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const BC=(n,e,t)=>{let r=zC(n,t);if(!r)return!1;let i=wx(r);if(!i)return!1;let o=i.nodeAfter;if(UC(n,i,e,1))return!0;if(r.parent.content.size==0&&(sd(o,"start")||kt.isSelectable(o))){let a=Gy(n.doc,r.before(),r.after(),it.empty);if(a&&a.slice.size<a.to-a.from){if(e){let c=n.tr.step(a);c.setSelection(sd(o,"start")?Jt.findFrom(c.doc.resolve(c.mapping.map(i.pos)),1):kt.create(c.doc,c.mapping.map(i.pos))),e(c.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},jC=(n,e,t)=>{let{$head:r,empty:i}=n.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;o=wx(r)}let a=o&&o.nodeAfter;return!a||!kt.isSelectable(a)?!1:(e&&e(n.tr.setSelection(kt.create(n.doc,o.pos)).scrollIntoView()),!0)};function wx(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const oL=(n,e)=>{let t=n.selection,r=t instanceof kt,i;if(r){if(t.node.isTextblock||!eu(n.doc,t.from))return!1;i=t.from}else if(i=qy(n.doc,t.from,-1),i==null)return!1;if(e){let o=n.tr.join(i);r&&o.setSelection(kt.create(o.doc,i-n.doc.resolve(i).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},sL=(n,e)=>{let t=n.selection,r;if(t instanceof kt){if(t.node.isTextblock||!eu(n.doc,t.to))return!1;r=t.to}else if(r=qy(n.doc,t.to,1),r==null)return!1;return e&&e(n.tr.join(r).scrollIntoView()),!0},aL=(n,e)=>{let{$from:t,$to:r}=n.selection,i=t.blockRange(r),o=i&&md(i);return o==null?!1:(e&&e(n.tr.lift(i,o).scrollIntoView()),!0)},FC=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function xx(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const lL=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let i=t.node(-1),o=t.indexAfter(-1),a=xx(i.contentMatchAt(o));if(!a||!i.canReplaceWith(o,o,a))return!1;if(e){let c=t.after(),f=n.tr.replaceWith(c,c,a.createAndFill());f.setSelection(Jt.near(f.doc.resolve(c),1)),e(f.scrollIntoView())}return!0},HC=(n,e)=>{let t=n.selection,{$from:r,$to:i}=t;if(t instanceof yo||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=xx(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let a=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,c=n.tr.insert(a,o.createAndFill());c.setSelection(Ht.create(c.doc,a+1)),e(c.scrollIntoView())}return!0},$C=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let o=t.before();if(Wa(n.doc,o))return e&&e(n.tr.split(o).scrollIntoView()),!0}let r=t.blockRange(),i=r&&md(r);return i==null?!1:(e&&e(n.tr.lift(r,i).scrollIntoView()),!0)};function uL(n){return(e,t)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof kt&&e.selection.node.isBlock)return!r.parentOffset||!Wa(e.doc,r.pos)?!1:(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let o=[],a,c,f=!1,p=!1;for(let x=r.depth;;x--)if(r.node(x).isBlock){f=r.end(x)==r.pos+(r.depth-x),p=r.start(x)==r.pos-(r.depth-x),c=xx(r.node(x-1).contentMatchAt(r.indexAfter(x-1))),o.unshift(f&&c?{type:c}:null),a=x;break}else{if(x==1)return!1;o.unshift(null)}let m=e.tr;(e.selection instanceof Ht||e.selection instanceof yo)&&m.deleteSelection();let v=m.mapping.map(r.pos),w=Wa(m.doc,v,o.length,o);if(w||(o[0]=c?{type:c}:null,w=Wa(m.doc,v,o.length,o)),!w)return!1;if(m.split(v,o.length,o),!f&&p&&r.node(a).type!=c){let x=m.mapping.map(r.before(a)),E=m.doc.resolve(x);c&&r.node(a-1).canReplaceWith(E.index(),E.index()+1,c)&&m.setNodeMarkup(m.mapping.map(r.before(a)),c)}return t&&t(m.scrollIntoView()),!0}}const cL=uL(),fL=(n,e)=>{let{$from:t,to:r}=n.selection,i,o=t.sharedDepth(r);return o==0?!1:(i=t.before(o),e&&e(n.tr.setSelection(kt.create(n.doc,i))),!0)};function dL(n,e,t){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||eu(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function UC(n,e,t,r){let i=e.nodeBefore,o=e.nodeAfter,a,c,f=i.type.spec.isolating||o.type.spec.isolating;if(!f&&dL(n,e,t))return!0;let p=!f&&e.parent.canReplace(e.index(),e.index()+1);if(p&&(a=(c=i.contentMatchAt(i.childCount)).findWrapping(o.type))&&c.matchType(a[0]||o.type).validEnd){if(t){let x=e.pos+o.nodeSize,E=ze.empty;for(let S=a.length-1;S>=0;S--)E=ze.from(a[S].create(null,E));E=ze.from(i.copy(E));let C=n.tr.step(new Hr(e.pos-1,x,e.pos,x,new it(E,1,0),a.length,!0)),k=C.doc.resolve(x+2*a.length);k.nodeAfter&&k.nodeAfter.type==i.type&&eu(C.doc,k.pos)&&C.join(k.pos),t(C.scrollIntoView())}return!0}let m=o.type.spec.isolating||r>0&&f?null:Jt.findFrom(e,1),v=m&&m.$from.blockRange(m.$to),w=v&&md(v);if(w!=null&&w>=e.depth)return t&&t(n.tr.lift(v,w).scrollIntoView()),!0;if(p&&sd(o,"start",!0)&&sd(i,"end")){let x=i,E=[];for(;E.push(x),!x.isTextblock;)x=x.lastChild;let C=o,k=1;for(;!C.isTextblock;C=C.firstChild)k++;if(x.canReplace(x.childCount,x.childCount,C.content)){if(t){let S=ze.empty;for(let N=E.length-1;N>=0;N--)S=ze.from(E[N].copy(S));let R=n.tr.step(new Hr(e.pos-E.length,e.pos+o.nodeSize,e.pos+k,e.pos+o.nodeSize-k,new it(S,E.length,0),0,!0));t(R.scrollIntoView())}return!0}}return!1}function WC(n){return function(e,t){let r=e.selection,i=n<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(t&&t(e.tr.setSelection(Ht.create(e.doc,n<0?i.start(o):i.end(o)))),!0):!1}}const hL=WC(-1),pL=WC(1);function mL(n,e=null){return function(t,r){let{$from:i,$to:o}=t.selection,a=i.blockRange(o),c=a&&sx(a,n,e);return c?(r&&r(t.tr.wrap(a,c).scrollIntoView()),!0):!1}}function Z1(n,e=null){return function(t,r){let i=!1;for(let o=0;o<t.selection.ranges.length&&!i;o++){let{$from:{pos:a},$to:{pos:c}}=t.selection.ranges[o];t.doc.nodesBetween(a,c,(f,p)=>{if(i)return!1;if(!(!f.isTextblock||f.hasMarkup(n,e)))if(f.type==n)i=!0;else{let m=t.doc.resolve(p),v=m.index();i=m.parent.canReplaceWith(v,v+1,n)}})}if(!i)return!1;if(r){let o=t.tr;for(let a=0;a<t.selection.ranges.length;a++){let{$from:{pos:c},$to:{pos:f}}=t.selection.ranges[a];o.setBlockType(c,f,n,e)}r(o.scrollIntoView())}return!0}}function bx(...n){return function(e,t,r){for(let i=0;i<n.length;i++)if(n[i](e,t,r))return!0;return!1}}bx(yx,PC,IC);bx(yx,BC,jC);bx(FC,HC,$C,cL);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function gL(n,e=null){return function(t,r){let{$from:i,$to:o}=t.selection,a=i.blockRange(o);if(!a)return!1;let c=r?t.tr:null;return yL(c,a,n,e)?(r&&r(c.scrollIntoView()),!0):!1}}function yL(n,e,t,r=null){let i=!1,o=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let f=a.resolve(e.start-2);o=new Zg(f,f,e.depth),e.endIndex<e.parent.childCount&&(e=new Zg(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let c=sx(o,t,r,e);return c?(n&&vL(n,e,c,i,t),!0):!1}function vL(n,e,t,r,i){let o=ze.empty;for(let m=t.length-1;m>=0;m--)o=ze.from(t[m].type.create(t[m].attrs,o));n.step(new Hr(e.start-(r?2:0),e.end,e.start,e.end,new it(o,0,0),t.length,!0));let a=0;for(let m=0;m<t.length;m++)t[m].type==i&&(a=m+1);let c=t.length-a,f=e.start+t.length-(r?2:0),p=e.parent;for(let m=e.startIndex,v=e.endIndex,w=!0;m<v;m++,w=!1)!w&&Wa(n.doc,f,c)&&(n.split(f,c),f+=2*c),f+=p.child(m).nodeSize;return n}function wL(n){return function(e,t){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,a=>a.childCount>0&&a.firstChild.type==n);return o?t?r.node(o.depth-1).type==n?xL(e,t,n,o):bL(e,t,o):!0:!1}}function xL(n,e,t,r){let i=n.tr,o=r.end,a=r.$to.end(r.depth);o<a&&(i.step(new Hr(o-1,a,o,a,new it(ze.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new Zg(i.doc.resolve(r.$from.pos),i.doc.resolve(a),r.depth));const c=md(r);if(c==null)return!1;i.lift(r,c);let f=i.doc.resolve(i.mapping.map(o,-1)-1);return eu(i.doc,f.pos)&&f.nodeBefore.type==f.nodeAfter.type&&i.join(f.pos),e(i.scrollIntoView()),!0}function bL(n,e,t){let r=n.tr,i=t.parent;for(let x=t.end,E=t.endIndex-1,C=t.startIndex;E>C;E--)x-=i.child(E).nodeSize,r.delete(x-1,x+1);let o=r.doc.resolve(t.start),a=o.nodeAfter;if(r.mapping.map(t.end)!=t.start+o.nodeAfter.nodeSize)return!1;let c=t.startIndex==0,f=t.endIndex==i.childCount,p=o.node(-1),m=o.index(-1);if(!p.canReplace(m+(c?0:1),m+1,a.content.append(f?ze.empty:ze.from(i))))return!1;let v=o.pos,w=v+a.nodeSize;return r.step(new Hr(v-(c?1:0),w+(f?1:0),v+1,w-1,new it((c?ze.empty:ze.from(i.copy(ze.empty))).append(f?ze.empty:ze.from(i.copy(ze.empty))),c?0:1,f?0:1),c?0:1)),e(r.scrollIntoView()),!0}function SL(n){return function(e,t){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,p=>p.childCount>0&&p.firstChild.type==n);if(!o)return!1;let a=o.startIndex;if(a==0)return!1;let c=o.parent,f=c.child(a-1);if(f.type!=n)return!1;if(t){let p=f.lastChild&&f.lastChild.type==c.type,m=ze.from(p?n.create():null),v=new it(ze.from(n.create(null,ze.from(c.type.create(null,m)))),p?3:1,0),w=o.start,x=o.end;t(e.tr.step(new Hr(w-(p?3:1),x,w,x,v,1,!0)).scrollIntoView())}return!0}}function Qy(n){const{state:e,transaction:t}=n;let{selection:r}=t,{doc:i}=t,{storedMarks:o}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=t.selection,i=t.doc,o=t.storedMarks,t}}}class Zy{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:i}=t,{tr:o}=r,a=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(([c,f])=>[c,(...m)=>{const v=f(...m)(a);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(o),v}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:i,state:o}=this,{view:a}=i,c=[],f=!!e,p=e||o.tr,m=()=>(!f&&t&&!p.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(p),c.every(w=>w===!0)),v={...Object.fromEntries(Object.entries(r).map(([w,x])=>[w,(...C)=>{const k=this.buildProps(p,t),S=x(...C)(k);return c.push(S),v}])),run:m};return v}createCan(e){const{rawCommands:t,state:r}=this,i=!1,o=e||r.tr,a=this.buildProps(o,i);return{...Object.fromEntries(Object.entries(t).map(([f,p])=>[f,(...m)=>p(...m)({...a,dispatch:void 0})])),chain:()=>this.createChain(o,i)}}buildProps(e,t=!0){const{rawCommands:r,editor:i,state:o}=this,{view:a}=i,c={tr:e,editor:i,view:a,state:Qy({state:o,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([f,p])=>[f,(...m)=>p(...m)(c)]))}};return c}}class EL{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,t)),this}off(e,t){const r=this.callbacks[e];return r&&(t?this.callbacks[e]=r.filter(i=>i!==t):delete this.callbacks[e]),this}once(e,t){const r=(...i)=>{this.off(e,r),t.apply(this,i)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function yt(n,e,t){return n.config[e]===void 0&&n.parent?yt(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?yt(n.parent,e,t):null}):n.config[e]}function ev(n){const e=n.filter(i=>i.type==="extension"),t=n.filter(i=>i.type==="node"),r=n.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function VC(n){const e=[],{nodeExtensions:t,markExtensions:r}=ev(n),i=[...t,...r],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(a=>{const c={name:a.name,options:a.options,storage:a.storage,extensions:i},f=yt(a,"addGlobalAttributes",c);if(!f)return;f().forEach(m=>{m.types.forEach(v=>{Object.entries(m.attributes).forEach(([w,x])=>{e.push({type:v,name:w,attribute:{...o,...x}})})})})}),i.forEach(a=>{const c={name:a.name,options:a.options,storage:a.storage},f=yt(a,"addAttributes",c);if(!f)return;const p=f();Object.entries(p).forEach(([m,v])=>{const w={...o,...v};typeof(w==null?void 0:w.default)=="function"&&(w.default=w.default()),w!=null&&w.isRequired&&(w==null?void 0:w.default)===void 0&&delete w.default,e.push({type:a.name,name:m,attribute:w})})}),e}function Ur(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}function Bn(...n){return n.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}if(i==="class"){const c=o?String(o).split(" "):[],f=r[i]?r[i].split(" "):[],p=c.filter(m=>!f.includes(m));r[i]=[...f,...p].join(" ")}else if(i==="style"){const c=o?o.split(";").map(m=>m.trim()).filter(Boolean):[],f=r[i]?r[i].split(";").map(m=>m.trim()).filter(Boolean):[],p=new Map;f.forEach(m=>{const[v,w]=m.split(":").map(x=>x.trim());p.set(v,w)}),c.forEach(m=>{const[v,w]=m.split(":").map(x=>x.trim());p.set(v,w)}),r[i]=Array.from(p.entries()).map(([m,v])=>`${m}: ${v}`).join("; ")}else r[i]=o}),r},{})}function ay(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,r)=>Bn(t,r),{})}function qC(n){return typeof n=="function"}function nn(n,e=void 0,...t){return qC(n)?e?n.bind(e)(...t):n(...t):n}function kL(n={}){return Object.keys(n).length===0&&n.constructor===Object}function CL(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function eS(n,e){return"style"in n?n:{...n,getAttrs:t=>{const r=n.getAttrs?n.getAttrs(t):n.attrs;if(r===!1)return!1;const i=e.reduce((o,a)=>{const c=a.attribute.parseHTML?a.attribute.parseHTML(t):CL(t.getAttribute(a.name));return c==null?o:{...o,[a.name]:c}},{});return{...r,...i}}}}function tS(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&kL(t)?!1:t!=null))}function ML(n,e){var t;const r=VC(n),{nodeExtensions:i,markExtensions:o}=ev(n),a=(t=i.find(p=>yt(p,"topNode")))===null||t===void 0?void 0:t.name,c=Object.fromEntries(i.map(p=>{const m=r.filter(S=>S.type===p.name),v={name:p.name,options:p.options,storage:p.storage,editor:e},w=n.reduce((S,R)=>{const N=yt(R,"extendNodeSchema",v);return{...S,...N?N(p):{}}},{}),x=tS({...w,content:nn(yt(p,"content",v)),marks:nn(yt(p,"marks",v)),group:nn(yt(p,"group",v)),inline:nn(yt(p,"inline",v)),atom:nn(yt(p,"atom",v)),selectable:nn(yt(p,"selectable",v)),draggable:nn(yt(p,"draggable",v)),code:nn(yt(p,"code",v)),whitespace:nn(yt(p,"whitespace",v)),linebreakReplacement:nn(yt(p,"linebreakReplacement",v)),defining:nn(yt(p,"defining",v)),isolating:nn(yt(p,"isolating",v)),attrs:Object.fromEntries(m.map(S=>{var R;return[S.name,{default:(R=S==null?void 0:S.attribute)===null||R===void 0?void 0:R.default}]}))}),E=nn(yt(p,"parseHTML",v));E&&(x.parseDOM=E.map(S=>eS(S,m)));const C=yt(p,"renderHTML",v);C&&(x.toDOM=S=>C({node:S,HTMLAttributes:ay(S,m)}));const k=yt(p,"renderText",v);return k&&(x.toText=k),[p.name,x]})),f=Object.fromEntries(o.map(p=>{const m=r.filter(k=>k.type===p.name),v={name:p.name,options:p.options,storage:p.storage,editor:e},w=n.reduce((k,S)=>{const R=yt(S,"extendMarkSchema",v);return{...k,...R?R(p):{}}},{}),x=tS({...w,inclusive:nn(yt(p,"inclusive",v)),excludes:nn(yt(p,"excludes",v)),group:nn(yt(p,"group",v)),spanning:nn(yt(p,"spanning",v)),code:nn(yt(p,"code",v)),attrs:Object.fromEntries(m.map(k=>{var S;return[k.name,{default:(S=k==null?void 0:k.attribute)===null||S===void 0?void 0:S.default}]}))}),E=nn(yt(p,"parseHTML",v));E&&(x.parseDOM=E.map(k=>eS(k,m)));const C=yt(p,"renderHTML",v);return C&&(x.toDOM=k=>C({mark:k,HTMLAttributes:ay(k,m)})),[p.name,x]}));return new Dk({topNode:a,nodes:c,marks:f})}function N0(n,e){return e.nodes[n]||e.marks[n]||null}function nS(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}function Sx(n,e){const t=wc.fromSchema(e).serializeFragment(n),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(t),i.innerHTML}const OL=(n,e=500)=>{let t="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-e),r,(i,o,a,c)=>{var f,p;const m=((p=(f=i.type.spec).toText)===null||p===void 0?void 0:p.call(f,{node:i,pos:o,parent:a,index:c}))||i.textContent||"%leaf%";t+=i.isAtom&&!i.isText?m:m.slice(0,Math.max(0,r-o))}),t};function Ex(n){return Object.prototype.toString.call(n)==="[object RegExp]"}class tv{constructor(e){this.find=e.find,this.handler=e.handler}}const RL=(n,e)=>{if(Ex(e))return e.exec(n);const t=e(n);if(!t)return null;const r=[t.text];return r.index=t.index,r.input=n,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function vg(n){var e;const{editor:t,from:r,to:i,text:o,rules:a,plugin:c}=n,{view:f}=t;if(f.composing)return!1;const p=f.state.doc.resolve(r);if(p.parent.type.spec.code||!((e=p.nodeBefore||p.nodeAfter)===null||e===void 0)&&e.marks.find(w=>w.type.spec.code))return!1;let m=!1;const v=OL(p)+o;return a.forEach(w=>{if(m)return;const x=RL(v,w.find);if(!x)return;const E=f.state.tr,C=Qy({state:f.state,transaction:E}),k={from:r-(x[0].length-o.length),to:i},{commands:S,chain:R,can:N}=new Zy({editor:t,state:C});w.handler({state:C,range:k,match:x,commands:S,chain:R,can:N})===null||!E.steps.length||(E.setMeta(c,{transform:E,from:r,to:i,text:o}),f.dispatch(E),m=!0)}),m}function TL(n){const{editor:e,rules:t}=n,r=new Tr({state:{init(){return null},apply(i,o,a){const c=i.getMeta(r);if(c)return c;const f=i.getMeta("applyInputRules");return!!f&&setTimeout(()=>{let{text:m}=f;typeof m=="string"?m=m:m=Sx(ze.from(m),a.schema);const{from:v}=f,w=v+m.length;vg({editor:e,from:v,to:w,text:m,rules:t,plugin:r})}),i.selectionSet||i.docChanged?null:o}},props:{handleTextInput(i,o,a,c){return vg({editor:e,from:o,to:a,text:c,rules:t,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&vg({editor:e,from:o.pos,to:o.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:a}=i.state.selection;return a?vg({editor:e,from:a.pos,to:a.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function _L(n){return Object.prototype.toString.call(n).slice(8,-1)}function wg(n){return _L(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function nv(n,e){const t={...n};return wg(n)&&wg(e)&&Object.keys(e).forEach(r=>{wg(e[r])&&wg(n[r])?t[r]=nv(n[r],e[r]):t[r]=e[r]}),t}class xs{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=nn(yt(this,"addOptions",{name:this.name}))),this.storage=nn(yt(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new xs(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>nv(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new xs(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=nn(yt(t,"addOptions",{name:t.name})),t.storage=nn(yt(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const a=i.marks();if(!!!a.find(p=>(p==null?void 0:p.type.name)===t.name))return!1;const f=a.find(p=>(p==null?void 0:p.type.name)===t.name);return f&&r.removeStoredMark(f),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}function NL(n){return typeof n=="number"}class AL{constructor(e){this.find=e.find,this.handler=e.handler}}const DL=(n,e,t)=>{if(Ex(e))return[...n.matchAll(e)];const r=e(n,t);return r?r.map(i=>{const o=[i.text];return o.index=i.index,o.input=n,o.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(i.replaceWith)),o}):[]};function PL(n){const{editor:e,state:t,from:r,to:i,rule:o,pasteEvent:a,dropEvent:c}=n,{commands:f,chain:p,can:m}=new Zy({editor:e,state:t}),v=[];return t.doc.nodesBetween(r,i,(x,E)=>{if(!x.isTextblock||x.type.spec.code)return;const C=Math.max(r,E),k=Math.min(i,E+x.content.size),S=x.textBetween(C-E,k-E,void 0,"￼");DL(S,o.find,a).forEach(N=>{if(N.index===void 0)return;const T=C+N.index+1,D=T+N[0].length,_={from:t.tr.mapping.map(T),to:t.tr.mapping.map(D)},L=o.handler({state:t,range:_,match:N,commands:f,chain:p,can:m,pasteEvent:a,dropEvent:c});v.push(L)})}),v.every(x=>x!==null)}let xg=null;const LL=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)===null||e===void 0||e.setData("text/html",n),t};function IL(n){const{editor:e,rules:t}=n;let r=null,i=!1,o=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,c;try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}const f=({state:m,from:v,to:w,rule:x,pasteEvt:E})=>{const C=m.tr,k=Qy({state:m,transaction:C});if(!(!PL({editor:e,state:k,from:Math.max(v-1,0),to:w.b-1,rule:x,pasteEvent:E,dropEvent:c})||!C.steps.length)){try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,C}};return t.map(m=>new Tr({view(v){const w=E=>{var C;r=!((C=v.dom.parentElement)===null||C===void 0)&&C.contains(E.target)?v.dom.parentElement:null,r&&(xg=e)},x=()=>{xg&&(xg=null)};return window.addEventListener("dragstart",w),window.addEventListener("dragend",x),{destroy(){window.removeEventListener("dragstart",w),window.removeEventListener("dragend",x)}}},props:{handleDOMEvents:{drop:(v,w)=>{if(o=r===v.dom.parentElement,c=w,!o){const x=xg;x&&setTimeout(()=>{const E=x.state.selection;E&&x.commands.deleteRange({from:E.from,to:E.to})},10)}return!1},paste:(v,w)=>{var x;const E=(x=w.clipboardData)===null||x===void 0?void 0:x.getData("text/html");return a=w,i=!!(E!=null&&E.includes("data-pm-slice")),!1}}},appendTransaction:(v,w,x)=>{const E=v[0],C=E.getMeta("uiEvent")==="paste"&&!i,k=E.getMeta("uiEvent")==="drop"&&!o,S=E.getMeta("applyPasteRules"),R=!!S;if(!C&&!k&&!R)return;if(R){let{text:D}=S;typeof D=="string"?D=D:D=Sx(ze.from(D),x.schema);const{from:_}=S,L=_+D.length,z=LL(D);return f({rule:m,state:x,from:_,to:{b:L},pasteEvt:z})}const N=w.doc.content.findDiffStart(x.doc.content),T=w.doc.content.findDiffEnd(x.doc.content);if(!(!NL(N)||!T||N===T.b))return f({rule:m,state:x,from:N,to:T,pasteEvt:a})}}))}function zL(n){const e=n.filter((t,r)=>n.indexOf(t)!==r);return Array.from(new Set(e))}class Zf{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=Zf.resolve(e),this.schema=ML(this.extensions,t),this.setupExtensions()}static resolve(e){const t=Zf.sort(Zf.flatten(e)),r=zL(t.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const r={name:t.name,options:t.options,storage:t.storage},i=yt(t,"addExtensions",r);return i?[t,...this.flatten(i())]:t}).flat(10)}static sort(e){return e.sort((r,i)=>{const o=yt(r,"priority")||100,a=yt(i,"priority")||100;return o>a?-1:o<a?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:N0(t.name,this.schema)},i=yt(t,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,t=Zf.sort([...this.extensions].reverse()),r=[],i=[],o=t.map(a=>{const c={name:a.name,options:a.options,storage:a.storage,editor:e,type:N0(a.name,this.schema)},f=[],p=yt(a,"addKeyboardShortcuts",c);let m={};if(a.type==="mark"&&yt(a,"exitable",c)&&(m.ArrowRight=()=>xs.handleExit({editor:e,mark:a})),p){const C=Object.fromEntries(Object.entries(p()).map(([k,S])=>[k,()=>S({editor:e})]));m={...m,...C}}const v=nL(m);f.push(v);const w=yt(a,"addInputRules",c);nS(a,e.options.enableInputRules)&&w&&r.push(...w());const x=yt(a,"addPasteRules",c);nS(a,e.options.enablePasteRules)&&x&&i.push(...x());const E=yt(a,"addProseMirrorPlugins",c);if(E){const C=E();f.push(...C)}return f}).flat();return[TL({editor:e,rules:r}),...IL({editor:e,rules:i}),...o]}get attributes(){return VC(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=ev(this.extensions);return Object.fromEntries(t.filter(r=>!!yt(r,"addNodeView")).map(r=>{const i=this.attributes.filter(f=>f.type===r.name),o={name:r.name,options:r.options,storage:r.storage,editor:e,type:Ur(r.name,this.schema)},a=yt(r,"addNodeView",o);if(!a)return[];const c=(f,p,m,v,w)=>{const x=ay(f,i);return a()({node:f,view:p,getPos:m,decorations:v,innerDecorations:w,editor:e,extension:r,HTMLAttributes:x})};return[r.name,c]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:N0(e.name,this.schema)};e.type==="mark"&&(!((t=nn(yt(e,"keepOnSplit",r)))!==null&&t!==void 0)||t)&&this.splittableMarks.push(e.name);const i=yt(e,"onBeforeCreate",r),o=yt(e,"onCreate",r),a=yt(e,"onUpdate",r),c=yt(e,"onSelectionUpdate",r),f=yt(e,"onTransaction",r),p=yt(e,"onFocus",r),m=yt(e,"onBlur",r),v=yt(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),o&&this.editor.on("create",o),a&&this.editor.on("update",a),c&&this.editor.on("selectionUpdate",c),f&&this.editor.on("transaction",f),p&&this.editor.on("focus",p),m&&this.editor.on("blur",m),v&&this.editor.on("destroy",v)})}}class Wr{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=nn(yt(this,"addOptions",{name:this.name}))),this.storage=nn(yt(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Wr(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>nv(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Wr({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=nn(yt(t,"addOptions",{name:t.name})),t.storage=nn(yt(t,"addStorage",{name:t.name,options:t.options})),t}}function GC(n,e,t){const{from:r,to:i}=e,{blockSeparator:o=`

`,textSerializers:a={}}=t||{};let c="";return n.nodesBetween(r,i,(f,p,m,v)=>{var w;f.isBlock&&p>r&&(c+=o);const x=a==null?void 0:a[f.type.name];if(x)return m&&(c+=x({node:f,pos:p,parent:m,index:v,range:e})),!1;f.isText&&(c+=(w=f==null?void 0:f.text)===null||w===void 0?void 0:w.slice(Math.max(r,p)-p,i-p))}),c}function KC(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const BL=Wr.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Tr({key:new Ti("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:r,selection:i}=e,{ranges:o}=i,a=Math.min(...o.map(m=>m.$from.pos)),c=Math.max(...o.map(m=>m.$to.pos)),f=KC(t);return GC(r,{from:a,to:c},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:f})}}})]}}),jL=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),FL=(n=!1)=>({commands:e})=>e.setContent("",n),HL=()=>({state:n,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:i}=r;return t&&i.forEach(({$from:o,$to:a})=>{n.doc.nodesBetween(o.pos,a.pos,(c,f)=>{if(c.type.isText)return;const{doc:p,mapping:m}=e,v=p.resolve(m.map(f)),w=p.resolve(m.map(f+c.nodeSize)),x=v.blockRange(w);if(!x)return;const E=md(x);if(c.type.isTextblock){const{defaultType:C}=v.parent.contentMatchAt(v.index());e.setNodeMarkup(x.start,C)}(E||E===0)&&e.lift(x,E)})}),!0},$L=n=>e=>n(e),UL=()=>({state:n,dispatch:e})=>HC(n,e),WL=(n,e)=>({editor:t,tr:r})=>{const{state:i}=t,o=i.doc.slice(n.from,n.to);r.deleteRange(n.from,n.to);const a=r.mapping.map(e);return r.insert(a,o.content),r.setSelection(new Ht(r.doc.resolve(a-1))),!0},VL=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,r=t.$anchor.node();if(r.content.size>0)return!1;const i=n.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r.type){if(e){const c=i.before(o),f=i.after(o);n.delete(c,f).scrollIntoView()}return!0}return!1},qL=n=>({tr:e,state:t,dispatch:r})=>{const i=Ur(n,t.schema),o=e.selection.$anchor;for(let a=o.depth;a>0;a-=1)if(o.node(a).type===i){if(r){const f=o.before(a),p=o.after(a);e.delete(f,p).scrollIntoView()}return!0}return!1},GL=n=>({tr:e,dispatch:t})=>{const{from:r,to:i}=n;return t&&e.delete(r,i),!0},KL=()=>({state:n,dispatch:e})=>yx(n,e),JL=()=>({commands:n})=>n.keyboardShortcut("Enter"),YL=()=>({state:n,dispatch:e})=>lL(n,e);function ly(n,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>t.strict?e[i]===n[i]:Ex(e[i])?e[i].test(n[i]):e[i]===n[i]):!0}function JC(n,e,t={}){return n.find(r=>r.type===e&&ly(Object.fromEntries(Object.keys(t).map(i=>[i,r.attrs[i]])),t))}function rS(n,e,t={}){return!!JC(n,e,t)}function kx(n,e,t){var r;if(!n||!e)return;let i=n.parent.childAfter(n.parentOffset);if((!i.node||!i.node.marks.some(m=>m.type===e))&&(i=n.parent.childBefore(n.parentOffset)),!i.node||!i.node.marks.some(m=>m.type===e)||(t=t||((r=i.node.marks[0])===null||r===void 0?void 0:r.attrs),!JC([...i.node.marks],e,t)))return;let a=i.index,c=n.start()+i.offset,f=a+1,p=c+i.node.nodeSize;for(;a>0&&rS([...n.parent.child(a-1).marks],e,t);)a-=1,c-=n.parent.child(a).nodeSize;for(;f<n.parent.childCount&&rS([...n.parent.child(f).marks],e,t);)p+=n.parent.child(f).nodeSize,f+=1;return{from:c,to:p}}function nu(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}const XL=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const o=nu(n,r.schema),{doc:a,selection:c}=t,{$from:f,from:p,to:m}=c;if(i){const v=kx(f,o,e);if(v&&v.from<=p&&v.to>=m){const w=Ht.create(a,v.from,v.to);t.setSelection(w)}}return!0},QL=n=>e=>{const t=typeof n=="function"?n(e):n;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function Cx(n){return n instanceof Ht}function Ua(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function YC(n,e=null){if(!e)return null;const t=Jt.atStart(n),r=Jt.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return r;const i=t.from,o=r.to;return e==="all"?Ht.create(n,Ua(0,i,o),Ua(n.content.size,i,o)):Ht.create(n,Ua(e,i,o),Ua(e,i,o))}function XC(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function rv(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const ZL=(n=null,e={})=>({editor:t,view:r,tr:i,dispatch:o})=>{e={scrollIntoView:!0,...e};const a=()=>{(rv()||XC())&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(r.hasFocus()&&n===null||n===!1)return!0;if(o&&n===null&&!Cx(t.state.selection))return a(),!0;const c=YC(i.doc,n)||t.state.selection,f=t.state.selection.eq(c);return o&&(f||i.setSelection(c),f&&i.storedMarks&&i.setStoredMarks(i.storedMarks),a()),!0},eI=(n,e)=>t=>n.every((r,i)=>e(r,{...t,index:i})),tI=(n,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),QC=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const r=e[t];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?n.removeChild(r):r.nodeType===1&&QC(r)}return n};function bg(n){const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return QC(t)}function Np(n,e,t){if(n instanceof ql||n instanceof ze)return n;t={slice:!0,parseOptions:{},...t};const r=typeof n=="object"&&n!==null,i=typeof n=="string";if(r)try{if(Array.isArray(n)&&n.length>0)return ze.fromArray(n.map(c=>e.nodeFromJSON(c)));const a=e.nodeFromJSON(n);return t.errorOnInvalidContent&&a.check(),a}catch(o){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",o),Np("",e,t)}if(i){if(t.errorOnInvalidContent){let a=!1,c="";const f=new Dk({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:p=>(a=!0,c=typeof p=="string"?p:p.outerHTML,null)}]}})});if(t.slice?Gl.fromSchema(f).parseSlice(bg(n),t.parseOptions):Gl.fromSchema(f).parse(bg(n),t.parseOptions),t.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${c}`)})}const o=Gl.fromSchema(e);return t.slice?o.parseSlice(bg(n),t.parseOptions).content:o.parse(bg(n),t.parseOptions)}return Np("",e,t)}function nI(n,e,t){const r=n.steps.length-1;if(r<e)return;const i=n.steps[r];if(!(i instanceof Fr||i instanceof Hr))return;const o=n.mapping.maps[r];let a=0;o.forEach((c,f,p,m)=>{a===0&&(a=m)}),n.setSelection(Jt.near(n.doc.resolve(a),t))}const rI=n=>!("type"in n),iI=(n,e,t)=>({tr:r,dispatch:i,editor:o})=>{var a;if(i){t={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let c;const f=k=>{o.emit("contentError",{editor:o,error:k,disableCollaboration:()=>{o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}})},p={preserveWhitespace:"full",...t.parseOptions};if(!t.errorOnInvalidContent&&!o.options.enableContentCheck&&o.options.emitContentError)try{Np(e,o.schema,{parseOptions:p,errorOnInvalidContent:!0})}catch(k){f(k)}try{c=Np(e,o.schema,{parseOptions:p,errorOnInvalidContent:(a=t.errorOnInvalidContent)!==null&&a!==void 0?a:o.options.enableContentCheck})}catch(k){return f(k),!1}let{from:m,to:v}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},w=!0,x=!0;if((rI(c)?c:[c]).forEach(k=>{k.check(),w=w?k.isText&&k.marks.length===0:!1,x=x?k.isBlock:!1}),m===v&&x){const{parent:k}=r.doc.resolve(m);k.isTextblock&&!k.type.spec.code&&!k.childCount&&(m-=1,v+=1)}let C;if(w){if(Array.isArray(e))C=e.map(k=>k.text||"").join("");else if(e instanceof ze){let k="";e.forEach(S=>{S.text&&(k+=S.text)}),C=k}else typeof e=="object"&&e&&e.text?C=e.text:C=e;r.insertText(C,m,v)}else C=c,r.replaceWith(m,v,C);t.updateSelection&&nI(r,r.steps.length-1,-1),t.applyInputRules&&r.setMeta("applyInputRules",{from:m,text:C}),t.applyPasteRules&&r.setMeta("applyPasteRules",{from:m,text:C})}return!0},oI=()=>({state:n,dispatch:e})=>oL(n,e),sI=()=>({state:n,dispatch:e})=>sL(n,e),aI=()=>({state:n,dispatch:e})=>PC(n,e),lI=()=>({state:n,dispatch:e})=>BC(n,e),uI=()=>({state:n,dispatch:e,tr:t})=>{try{const r=qy(n.doc,n.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},cI=()=>({state:n,dispatch:e,tr:t})=>{try{const r=qy(n.doc,n.selection.$from.pos,1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},fI=()=>({state:n,dispatch:e})=>rL(n,e),dI=()=>({state:n,dispatch:e})=>iL(n,e);function ZC(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function hI(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,i,o,a;for(let c=0;c<e.length-1;c+=1){const f=e[c];if(/^(cmd|meta|m)$/i.test(f))a=!0;else if(/^a(lt)?$/i.test(f))r=!0;else if(/^(c|ctrl|control)$/i.test(f))i=!0;else if(/^s(hift)?$/i.test(f))o=!0;else if(/^mod$/i.test(f))rv()||ZC()?a=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${f}`)}return r&&(t=`Alt-${t}`),i&&(t=`Ctrl-${t}`),a&&(t=`Meta-${t}`),o&&(t=`Shift-${t}`),t}const pI=n=>({editor:e,view:t,tr:r,dispatch:i})=>{const o=hI(n).split(/-(?!$)/),a=o.find(p=>!["Alt","Ctrl","Meta","Shift"].includes(p)),c=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),f=e.captureTransaction(()=>{t.someProp("handleKeyDown",p=>p(t,c))});return f==null||f.steps.forEach(p=>{const m=p.map(r.mapping);m&&i&&r.maybeStep(m)}),!0};function Ap(n,e,t={}){const{from:r,to:i,empty:o}=n.selection,a=e?Ur(e,n.schema):null,c=[];n.doc.nodesBetween(r,i,(v,w)=>{if(v.isText)return;const x=Math.max(r,w),E=Math.min(i,w+v.nodeSize);c.push({node:v,from:x,to:E})});const f=i-r,p=c.filter(v=>a?a.name===v.node.type.name:!0).filter(v=>ly(v.node.attrs,t,{strict:!1}));return o?!!p.length:p.reduce((v,w)=>v+w.to-w.from,0)>=f}const mI=(n,e={})=>({state:t,dispatch:r})=>{const i=Ur(n,t.schema);return Ap(t,i,e)?aL(t,r):!1},gI=()=>({state:n,dispatch:e})=>$C(n,e),yI=n=>({state:e,dispatch:t})=>{const r=Ur(n,e.schema);return wL(r)(e,t)},vI=()=>({state:n,dispatch:e})=>FC(n,e);function iv(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function iS(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((r,i)=>(t.includes(i)||(r[i]=n[i]),r),{})}const wI=(n,e)=>({tr:t,state:r,dispatch:i})=>{let o=null,a=null;const c=iv(typeof n=="string"?n:n.name,r.schema);return c?(c==="node"&&(o=Ur(n,r.schema)),c==="mark"&&(a=nu(n,r.schema)),i&&t.selection.ranges.forEach(f=>{r.doc.nodesBetween(f.$from.pos,f.$to.pos,(p,m)=>{o&&o===p.type&&t.setNodeMarkup(m,void 0,iS(p.attrs,e)),a&&p.marks.length&&p.marks.forEach(v=>{a===v.type&&t.addMark(m,m+p.nodeSize,a.create(iS(v.attrs,e)))})})}),!0):!1},xI=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),bI=()=>({tr:n,dispatch:e})=>{if(e){const t=new yo(n.doc);n.setSelection(t)}return!0},SI=()=>({state:n,dispatch:e})=>IC(n,e),EI=()=>({state:n,dispatch:e})=>jC(n,e),kI=()=>({state:n,dispatch:e})=>fL(n,e),CI=()=>({state:n,dispatch:e})=>pL(n,e),MI=()=>({state:n,dispatch:e})=>hL(n,e);function Cw(n,e,t={},r={}){return Np(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:r.errorOnInvalidContent})}const OI=(n,e=!1,t={},r={})=>({editor:i,tr:o,dispatch:a,commands:c})=>{var f,p;const{doc:m}=o;if(t.preserveWhitespace!=="full"){const v=Cw(n,i.schema,t,{errorOnInvalidContent:(f=r.errorOnInvalidContent)!==null&&f!==void 0?f:i.options.enableContentCheck});return a&&o.replaceWith(0,m.content.size,v).setMeta("preventUpdate",!e),!0}return a&&o.setMeta("preventUpdate",!e),c.insertContentAt({from:0,to:m.content.size},n,{parseOptions:t,errorOnInvalidContent:(p=r.errorOnInvalidContent)!==null&&p!==void 0?p:i.options.enableContentCheck})};function eM(n,e){const t=nu(e,n.schema),{from:r,to:i,empty:o}=n.selection,a=[];o?(n.storedMarks&&a.push(...n.storedMarks),a.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,i,f=>{a.push(...f.marks)});const c=a.find(f=>f.type.name===t.name);return c?{...c.attrs}:{}}function RI(n,e){const t=new Jk(n);return e.forEach(r=>{r.steps.forEach(i=>{t.step(i)})}),t}function TI(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function Mw(n,e){const t=[];return n.descendants((r,i)=>{e(r)&&t.push({node:r,pos:i})}),t}function _I(n,e,t){const r=[];return n.nodesBetween(e.from,e.to,(i,o)=>{t(i)&&r.push({node:i,pos:o})}),r}function NI(n,e){for(let t=n.depth;t>0;t-=1){const r=n.node(t);if(e(r))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:r}}}function Mx(n){return e=>NI(e.$from,n)}function AI(n,e){const t={from:0,to:n.content.size};return GC(n,t,e)}function DI(n,e){const t=Ur(e,n.schema),{from:r,to:i}=n.selection,o=[];n.doc.nodesBetween(r,i,c=>{o.push(c)});const a=o.reverse().find(c=>c.type.name===t.name);return a?{...a.attrs}:{}}function tM(n,e){const t=iv(typeof e=="string"?e:e.name,n.schema);return t==="node"?DI(n,e):t==="mark"?eM(n,e):{}}function PI(n,e=JSON.stringify){const t={};return n.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(t,i)?!1:t[i]=!0})}function LI(n){const e=PI(n);return e.length===1?e:e.filter((t,r)=>!e.filter((o,a)=>a!==r).some(o=>t.oldRange.from>=o.oldRange.from&&t.oldRange.to<=o.oldRange.to&&t.newRange.from>=o.newRange.from&&t.newRange.to<=o.newRange.to))}function II(n){const{mapping:e,steps:t}=n,r=[];return e.maps.forEach((i,o)=>{const a=[];if(i.ranges.length)i.forEach((c,f)=>{a.push({from:c,to:f})});else{const{from:c,to:f}=t[o];if(c===void 0||f===void 0)return;a.push({from:c,to:f})}a.forEach(({from:c,to:f})=>{const p=e.slice(o).map(c,-1),m=e.slice(o).map(f),v=e.invert().map(p,-1),w=e.invert().map(m);r.push({oldRange:{from:v,to:w},newRange:{from:p,to:m}})})}),LI(r)}function Ox(n,e,t){const r=[];return n===e?t.resolve(n).marks().forEach(i=>{const o=t.resolve(n),a=kx(o,i.type);a&&r.push({mark:i,...a})}):t.nodesBetween(n,e,(i,o)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(a=>({from:o,to:o+i.nodeSize,mark:a})))}),r}function $g(n,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const i=n.find(o=>o.type===e&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}function Ow(n,e,t={}){const{empty:r,ranges:i}=n.selection,o=e?nu(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(v=>o?o.name===v.type.name:!0).find(v=>ly(v.attrs,t,{strict:!1}));let a=0;const c=[];if(i.forEach(({$from:v,$to:w})=>{const x=v.pos,E=w.pos;n.doc.nodesBetween(x,E,(C,k)=>{if(!C.isText&&!C.marks.length)return;const S=Math.max(x,k),R=Math.min(E,k+C.nodeSize),N=R-S;a+=N,c.push(...C.marks.map(T=>({mark:T,from:S,to:R})))})}),a===0)return!1;const f=c.filter(v=>o?o.name===v.mark.type.name:!0).filter(v=>ly(v.mark.attrs,t,{strict:!1})).reduce((v,w)=>v+w.to-w.from,0),p=c.filter(v=>o?v.mark.type!==o&&v.mark.type.excludes(o):!0).reduce((v,w)=>v+w.to-w.from,0);return(f>0?f+p:f)>=a}function zI(n,e,t={}){if(!e)return Ap(n,null,t)||Ow(n,null,t);const r=iv(e,n.schema);return r==="node"?Ap(n,e,t):r==="mark"?Ow(n,e,t):!1}function oS(n,e){const{nodeExtensions:t}=ev(e),r=t.find(a=>a.name===n);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=nn(yt(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function Rx(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var r;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((r=n.text)!==null&&r!==void 0?r:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let i=!0;return n.content.forEach(o=>{i!==!1&&(Rx(o,{ignoreWhitespace:t,checkChildren:e})||(i=!1))}),i}return!1}function nM(n){return n instanceof kt}function BI(n,e,t){const i=n.state.doc.content.size,o=Ua(e,0,i),a=Ua(t,0,i),c=n.coordsAtPos(o),f=n.coordsAtPos(a,-1),p=Math.min(c.top,f.top),m=Math.max(c.bottom,f.bottom),v=Math.min(c.left,f.left),w=Math.max(c.right,f.right),x=w-v,E=m-p,S={top:p,bottom:m,left:v,right:w,width:x,height:E,x:v,y:p};return{...S,toJSON:()=>S}}function jI(n,e,t){var r;const{selection:i}=e;let o=null;if(Cx(i)&&(o=i.$cursor),o){const c=(r=n.storedMarks)!==null&&r!==void 0?r:o.marks();return!!t.isInSet(c)||!c.some(f=>f.type.excludes(t))}const{ranges:a}=i;return a.some(({$from:c,$to:f})=>{let p=c.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(c.pos,f.pos,(m,v,w)=>{if(p)return!1;if(m.isInline){const x=!w||w.type.allowsMarkType(t),E=!!t.isInSet(m.marks)||!m.marks.some(C=>C.type.excludes(t));p=x&&E}return!p}),p})}const FI=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const{selection:o}=t,{empty:a,ranges:c}=o,f=nu(n,r.schema);if(i)if(a){const p=eM(r,f);t.addStoredMark(f.create({...p,...e}))}else c.forEach(p=>{const m=p.$from.pos,v=p.$to.pos;r.doc.nodesBetween(m,v,(w,x)=>{const E=Math.max(x,m),C=Math.min(x+w.nodeSize,v);w.marks.find(S=>S.type===f)?w.marks.forEach(S=>{f===S.type&&t.addMark(E,C,f.create({...S.attrs,...e}))}):t.addMark(E,C,f.create(e))})});return jI(r,t,f)},HI=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),$I=(n,e={})=>({state:t,dispatch:r,chain:i})=>{const o=Ur(n,t.schema);let a;return t.selection.$anchor.sameParent(t.selection.$head)&&(a=t.selection.$anchor.parent.attrs),o.isTextblock?i().command(({commands:c})=>Z1(o,{...a,...e})(t)?!0:c.clearNodes()).command(({state:c})=>Z1(o,{...a,...e})(c,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},UI=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,i=Ua(n,0,r.content.size),o=kt.create(r,i);e.setSelection(o)}return!0},WI=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:i,to:o}=typeof n=="number"?{from:n,to:n}:n,a=Ht.atStart(r).from,c=Ht.atEnd(r).to,f=Ua(i,a,c),p=Ua(o,a,c),m=Ht.create(r,f,p);e.setSelection(m)}return!0},VI=n=>({state:e,dispatch:t})=>{const r=Ur(n,e.schema);return SL(r)(e,t)};function sS(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const r=t.filter(i=>e==null?void 0:e.includes(i.type.name));n.tr.ensureMarks(r)}}const qI=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:r,editor:i})=>{const{selection:o,doc:a}=e,{$from:c,$to:f}=o,p=i.extensionManager.attributes,m=$g(p,c.node().type.name,c.node().attrs);if(o instanceof kt&&o.node.isBlock)return!c.parentOffset||!Wa(a,c.pos)?!1:(r&&(n&&sS(t,i.extensionManager.splittableMarks),e.split(c.pos).scrollIntoView()),!0);if(!c.parent.isBlock)return!1;const v=f.parentOffset===f.parent.content.size,w=c.depth===0?void 0:TI(c.node(-1).contentMatchAt(c.indexAfter(-1)));let x=v&&w?[{type:w,attrs:m}]:void 0,E=Wa(e.doc,e.mapping.map(c.pos),1,x);if(!x&&!E&&Wa(e.doc,e.mapping.map(c.pos),1,w?[{type:w}]:void 0)&&(E=!0,x=w?[{type:w,attrs:m}]:void 0),r){if(E&&(o instanceof Ht&&e.deleteSelection(),e.split(e.mapping.map(c.pos),1,x),w&&!v&&!c.parentOffset&&c.parent.type!==w)){const C=e.mapping.map(c.before()),k=e.doc.resolve(C);c.node(-1).canReplaceWith(k.index(),k.index()+1,w)&&e.setNodeMarkup(e.mapping.map(c.before()),w)}n&&sS(t,i.extensionManager.splittableMarks),e.scrollIntoView()}return E},GI=(n,e={})=>({tr:t,state:r,dispatch:i,editor:o})=>{var a;const c=Ur(n,r.schema),{$from:f,$to:p}=r.selection,m=r.selection.node;if(m&&m.isBlock||f.depth<2||!f.sameParent(p))return!1;const v=f.node(-1);if(v.type!==c)return!1;const w=o.extensionManager.attributes;if(f.parent.content.size===0&&f.node(-1).childCount===f.indexAfter(-1)){if(f.depth===2||f.node(-3).type!==c||f.index(-2)!==f.node(-2).childCount-1)return!1;if(i){let S=ze.empty;const R=f.index(-1)?1:f.index(-2)?2:3;for(let z=f.depth-R;z>=f.depth-3;z-=1)S=ze.from(f.node(z).copy(S));const N=f.indexAfter(-1)<f.node(-2).childCount?1:f.indexAfter(-2)<f.node(-3).childCount?2:3,T={...$g(w,f.node().type.name,f.node().attrs),...e},D=((a=c.contentMatch.defaultType)===null||a===void 0?void 0:a.createAndFill(T))||void 0;S=S.append(ze.from(c.createAndFill(null,D)||void 0));const _=f.before(f.depth-(R-1));t.replace(_,f.after(-N),new it(S,4-R,0));let L=-1;t.doc.nodesBetween(_,t.doc.content.size,(z,W)=>{if(L>-1)return!1;z.isTextblock&&z.content.size===0&&(L=W+1)}),L>-1&&t.setSelection(Ht.near(t.doc.resolve(L))),t.scrollIntoView()}return!0}const x=p.pos===f.end()?v.contentMatchAt(0).defaultType:null,E={...$g(w,v.type.name,v.attrs),...e},C={...$g(w,f.node().type.name,f.node().attrs),...e};t.delete(f.pos,p.pos);const k=x?[{type:c,attrs:E},{type:x,attrs:C}]:[{type:c,attrs:E}];if(!Wa(t.doc,f.pos,2))return!1;if(i){const{selection:S,storedMarks:R}=r,{splittableMarks:N}=o.extensionManager,T=R||S.$to.parentOffset&&S.$from.marks();if(t.split(f.pos,2,k).scrollIntoView(),!T||!i)return!0;const D=T.filter(_=>N.includes(_.type.name));t.ensureMarks(D)}return!0},A0=(n,e)=>{const t=Mx(a=>a.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===(i==null?void 0:i.type)&&eu(n.doc,t.pos)&&n.join(t.pos),!0},D0=(n,e)=>{const t=Mx(a=>a.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===(i==null?void 0:i.type)&&eu(n.doc,r)&&n.join(r),!0},KI=(n,e,t,r={})=>({editor:i,tr:o,state:a,dispatch:c,chain:f,commands:p,can:m})=>{const{extensions:v,splittableMarks:w}=i.extensionManager,x=Ur(n,a.schema),E=Ur(e,a.schema),{selection:C,storedMarks:k}=a,{$from:S,$to:R}=C,N=S.blockRange(R),T=k||C.$to.parentOffset&&C.$from.marks();if(!N)return!1;const D=Mx(_=>oS(_.type.name,v))(C);if(N.depth>=1&&D&&N.depth-D.depth<=1){if(D.node.type===x)return p.liftListItem(E);if(oS(D.node.type.name,v)&&x.validContent(D.node.content)&&c)return f().command(()=>(o.setNodeMarkup(D.pos,x),!0)).command(()=>A0(o,x)).command(()=>D0(o,x)).run()}return!t||!T||!c?f().command(()=>m().wrapInList(x,r)?!0:p.clearNodes()).wrapInList(x,r).command(()=>A0(o,x)).command(()=>D0(o,x)).run():f().command(()=>{const _=m().wrapInList(x,r),L=T.filter(z=>w.includes(z.type.name));return o.ensureMarks(L),_?!0:p.clearNodes()}).wrapInList(x,r).command(()=>A0(o,x)).command(()=>D0(o,x)).run()},JI=(n,e={},t={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=t,a=nu(n,r.schema);return Ow(r,a,e)?i.unsetMark(a,{extendEmptyMarkRange:o}):i.setMark(a,e)},YI=(n,e,t={})=>({state:r,commands:i})=>{const o=Ur(n,r.schema),a=Ur(e,r.schema),c=Ap(r,o,t);let f;return r.selection.$anchor.sameParent(r.selection.$head)&&(f=r.selection.$anchor.parent.attrs),c?i.setNode(a,f):i.setNode(o,{...f,...t})},XI=(n,e={})=>({state:t,commands:r})=>{const i=Ur(n,t.schema);return Ap(t,i,e)?r.lift(i):r.wrapIn(i,e)},QI=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let r=0;r<t.length;r+=1){const i=t[r];let o;if(i.spec.isInputRules&&(o=i.getState(n))){if(e){const a=n.tr,c=o.transform;for(let f=c.steps.length-1;f>=0;f-=1)a.step(c.steps[f].invert(c.docs[f]));if(o.text){const f=a.doc.resolve(o.from).marks();a.replaceWith(o.from,o.to,n.schema.text(o.text,f))}else a.delete(o.from,o.to)}return!0}}return!1},ZI=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:r,ranges:i}=t;return r||e&&i.forEach(o=>{n.removeMark(o.$from.pos,o.$to.pos)}),!0},e2=(n,e={})=>({tr:t,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:a=!1}=e,{selection:c}=t,f=nu(n,r.schema),{$from:p,empty:m,ranges:v}=c;if(!i)return!0;if(m&&a){let{from:w,to:x}=c;const E=(o=p.marks().find(k=>k.type===f))===null||o===void 0?void 0:o.attrs,C=kx(p,f,E);C&&(w=C.from,x=C.to),t.removeMark(w,x,f)}else v.forEach(w=>{t.removeMark(w.$from.pos,w.$to.pos,f)});return t.removeStoredMark(f),!0},t2=(n,e={})=>({tr:t,state:r,dispatch:i})=>{let o=null,a=null;const c=iv(typeof n=="string"?n:n.name,r.schema);return c?(c==="node"&&(o=Ur(n,r.schema)),c==="mark"&&(a=nu(n,r.schema)),i&&t.selection.ranges.forEach(f=>{const p=f.$from.pos,m=f.$to.pos;let v,w,x,E;t.selection.empty?r.doc.nodesBetween(p,m,(C,k)=>{o&&o===C.type&&(x=Math.max(k,p),E=Math.min(k+C.nodeSize,m),v=k,w=C)}):r.doc.nodesBetween(p,m,(C,k)=>{k<p&&o&&o===C.type&&(x=Math.max(k,p),E=Math.min(k+C.nodeSize,m),v=k,w=C),k>=p&&k<=m&&(o&&o===C.type&&t.setNodeMarkup(k,void 0,{...C.attrs,...e}),a&&C.marks.length&&C.marks.forEach(S=>{if(a===S.type){const R=Math.max(k,p),N=Math.min(k+C.nodeSize,m);t.addMark(R,N,a.create({...S.attrs,...e}))}}))}),w&&(v!==void 0&&t.setNodeMarkup(v,void 0,{...w.attrs,...e}),a&&w.marks.length&&w.marks.forEach(C=>{a===C.type&&t.addMark(x,E,a.create({...C.attrs,...e}))}))}),!0):!1},n2=(n,e={})=>({state:t,dispatch:r})=>{const i=Ur(n,t.schema);return mL(i,e)(t,r)},r2=(n,e={})=>({state:t,dispatch:r})=>{const i=Ur(n,t.schema);return gL(i,e)(t,r)};var i2=Object.freeze({__proto__:null,blur:jL,clearContent:FL,clearNodes:HL,command:$L,createParagraphNear:UL,cut:WL,deleteCurrentNode:VL,deleteNode:qL,deleteRange:GL,deleteSelection:KL,enter:JL,exitCode:YL,extendMarkRange:XL,first:QL,focus:ZL,forEach:eI,insertContent:tI,insertContentAt:iI,joinBackward:aI,joinDown:sI,joinForward:lI,joinItemBackward:uI,joinItemForward:cI,joinTextblockBackward:fI,joinTextblockForward:dI,joinUp:oI,keyboardShortcut:pI,lift:mI,liftEmptyBlock:gI,liftListItem:yI,newlineInCode:vI,resetAttributes:wI,scrollIntoView:xI,selectAll:bI,selectNodeBackward:SI,selectNodeForward:EI,selectParentNode:kI,selectTextblockEnd:CI,selectTextblockStart:MI,setContent:OI,setMark:FI,setMeta:HI,setNode:$I,setNodeSelection:UI,setTextSelection:WI,sinkListItem:VI,splitBlock:qI,splitListItem:GI,toggleList:KI,toggleMark:JI,toggleNode:YI,toggleWrap:XI,undoInputRule:QI,unsetAllMarks:ZI,unsetMark:e2,updateAttributes:t2,wrapIn:n2,wrapInList:r2});const o2=Wr.create({name:"commands",addCommands(){return{...i2}}}),s2=Wr.create({name:"drop",addProseMirrorPlugins(){return[new Tr({key:new Ti("tiptapDrop"),props:{handleDrop:(n,e,t,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:r})}}})]}}),a2=Wr.create({name:"editable",addProseMirrorPlugins(){return[new Tr({key:new Ti("editable"),props:{editable:()=>this.editor.options.editable}})]}}),l2=new Ti("focusEvents"),u2=Wr.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new Tr({key:l2,props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),c2=Wr.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:c})=>{const{selection:f,doc:p}=c,{empty:m,$anchor:v}=f,{pos:w,parent:x}=v,E=v.parent.isTextblock&&w>0?c.doc.resolve(w-1):v,C=E.parent.type.spec.isolating,k=v.pos-v.parentOffset,S=C&&E.parent.childCount===1?k===v.pos:Jt.atStart(p).from===w;return!m||!x.type.isTextblock||x.textContent.length||!S||S&&v.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return rv()||ZC()?o:i},addProseMirrorPlugins(){return[new Tr({key:new Ti("clearDocument"),appendTransaction:(n,e,t)=>{if(n.some(C=>C.getMeta("composition")))return;const r=n.some(C=>C.docChanged)&&!e.doc.eq(t.doc),i=n.some(C=>C.getMeta("preventClearDocument"));if(!r||i)return;const{empty:o,from:a,to:c}=e.selection,f=Jt.atStart(e.doc).from,p=Jt.atEnd(e.doc).to;if(o||!(a===f&&c===p)||!Rx(t.doc))return;const w=t.tr,x=Qy({state:t,transaction:w}),{commands:E}=new Zy({editor:this.editor,state:x});if(E.clearNodes(),!!w.steps.length)return w}})]}}),f2=Wr.create({name:"paste",addProseMirrorPlugins(){return[new Tr({key:new Ti("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),d2=Wr.create({name:"tabindex",addProseMirrorPlugins(){return[new Tr({key:new Ti("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Zu{get name(){return this.node.type.name}constructor(e,t,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=t,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:t,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new Zu(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Zu(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Zu(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,r)=>{const i=t.isBlock&&!t.isTextblock,o=t.isAtom&&!t.isText,a=this.pos+r+(o?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const c=this.resolvedPos.doc.resolve(a);if(!i&&c.depth<=this.depth)return;const f=new Zu(c,this.editor,i,i?t:null);i&&(f.actualDepth=this.depth+1),e.push(new Zu(c,this.editor,i,i?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(t).length>0){const o=i.node.attrs,a=Object.keys(t);for(let c=0;c<a.length;c+=1){const f=a[c];if(o[f]!==t[f])break}}else r=i;i=i.parent}return r}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const o=Object.keys(t);return this.children.forEach(a=>{r&&i.length>0||(a.node.type.name===e&&o.every(f=>t[f]===a.node.attrs[f])&&i.push(a),!(r&&i.length>0)&&(i=i.concat(a.querySelectorAll(e,t,r))))}),i}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}const h2=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function p2(n,e,t){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(i),i}class m2 extends EL{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:r,moved:i})=>this.options.onDrop(t,r,i)),this.on("paste",({event:t,slice:r})=>this.options.onPaste(t,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=p2(h2,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const r=qC(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let r=t;if([].concat(e).forEach(o=>{const a=typeof o=="string"?`${o}$`:o.key;r=r.filter(c=>!c.key.startsWith(a))}),t.length===r.length)return;const i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}createExtensionManager(){var e,t;const i=[...this.options.enableCoreExtensions?[a2,BL.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),o2,u2,c2,d2,s2,f2].filter(o=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[o.name]!==!1:!0):[],...this.options.extensions].filter(o=>["extension","node","mark"].includes(o==null?void 0:o.type));this.extensionManager=new Zf(i,this)}createCommandManager(){this.commandManager=new Zy({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=Cw(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(a){if(!(a instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(a.message))throw a;this.emit("contentError",{editor:this,error:a,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(c=>c.name!=="collaboration"),this.createExtensionManager()}}),t=Cw(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=YC(t,this.options.autofocus);this.view=new NC(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:Qf.create({doc:t,selection:r||void 0})});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.createNodeViews(),this.prependClass();const o=this.view.dom;o.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(a=>{var c;return(c=this.capturedTransaction)===null||c===void 0?void 0:c.step(a)});return}const t=this.state.apply(e),r=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),o=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),o&&this.emit("blur",{editor:this,event:o.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return tM(this.state,e)}isActive(e,t){const r=typeof e=="string"?e:null,i=typeof e=="string"?t:e;return zI(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Sx(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:r={}}=e||{};return AI(this.state.doc,{blockSeparator:t,textSerializers:{...KC(this.schema),...r}})}get isEmpty(){return Rx(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,t))||null}$nodes(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new Zu(t,this)}get $doc(){return this.$pos(0)}}function ad(n){return new tv({find:n.find,handler:({state:e,range:t,match:r})=>{const i=nn(n.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=e,a=r[r.length-1],c=r[0];if(a){const f=c.search(/\S/),p=t.from+c.indexOf(a),m=p+a.length;if(Ox(t.from,t.to,e.doc).filter(x=>x.mark.type.excluded.find(C=>C===n.type&&C!==x.mark.type)).filter(x=>x.to>p).length)return null;m<t.to&&o.delete(m,t.to),p>t.from&&o.delete(t.from+f,p);const w=t.from+f+a.length;o.addMark(t.from+f,w,n.type.create(i||{})),o.removeStoredMark(n.type)}}})}function rM(n){return new tv({find:n.find,handler:({state:e,range:t,match:r})=>{const i=nn(n.getAttributes,void 0,r)||{},{tr:o}=e,a=t.from;let c=t.to;const f=n.type.create(i);if(r[1]){const p=r[0].lastIndexOf(r[1]);let m=a+p;m>c?m=c:c=m+r[1].length;const v=r[0][r[0].length-1];o.insertText(v,a+r[0].length-1),o.replaceWith(m,c,f)}else if(r[0]){const p=n.type.isInline?a:a-1;o.insert(p,n.type.create(i)).delete(o.mapping.map(a),o.mapping.map(c))}o.scrollIntoView()}})}function Rw(n){return new tv({find:n.find,handler:({state:e,range:t,match:r})=>{const i=e.doc.resolve(t.from),o=nn(n.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,o)}})}function Dp(n){return new tv({find:n.find,handler:({state:e,range:t,match:r,chain:i})=>{const o=nn(n.getAttributes,void 0,r)||{},a=e.tr.delete(t.from,t.to),f=a.doc.resolve(t.from).blockRange(),p=f&&sx(f,n.type,o);if(!p)return null;if(a.wrap(f,p),n.keepMarks&&n.editor){const{selection:v,storedMarks:w}=e,{splittableMarks:x}=n.editor.extensionManager,E=w||v.$to.parentOffset&&v.$from.marks();if(E){const C=E.filter(k=>x.includes(k.type.name));a.ensureMarks(C)}}if(n.keepAttributes){const v=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(v,o).run()}const m=a.doc.resolve(t.from-1).nodeBefore;m&&m.type===n.type&&eu(a.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(r,m))&&a.join(t.from-1)}})}class hr{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=nn(yt(this,"addOptions",{name:this.name}))),this.storage=nn(yt(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new hr(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>nv(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new hr(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=nn(yt(t,"addOptions",{name:t.name})),t.storage=nn(yt(t,"addStorage",{name:t.name,options:t.options})),t}}class g2{constructor(e,t,r){this.isDragging=!1,this.component=e,this.editor=t.editor,this.options={stopEvent:null,ignoreMutation:null,...r},this.extension=t.extension,this.node=t.node,this.decorations=t.decorations,this.innerDecorations=t.innerDecorations,this.view=t.view,this.HTMLAttributes=t.HTMLAttributes,this.getPos=t.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(e){var t,r,i,o,a,c,f;const{view:p}=this.editor,m=e.target,v=m.nodeType===3?(t=m.parentElement)===null||t===void 0?void 0:t.closest("[data-drag-handle]"):m.closest("[data-drag-handle]");if(!this.dom||!((r=this.contentDOM)===null||r===void 0)&&r.contains(m)||!v)return;let w=0,x=0;if(this.dom!==v){const R=this.dom.getBoundingClientRect(),N=v.getBoundingClientRect(),T=(i=e.offsetX)!==null&&i!==void 0?i:(o=e.nativeEvent)===null||o===void 0?void 0:o.offsetX,D=(a=e.offsetY)!==null&&a!==void 0?a:(c=e.nativeEvent)===null||c===void 0?void 0:c.offsetY;w=N.x-R.x+T,x=N.y-R.y+D}const E=this.dom.cloneNode(!0);(f=e.dataTransfer)===null||f===void 0||f.setDragImage(E,w,x);const C=this.getPos();if(typeof C!="number")return;const k=kt.create(p.state.doc,C),S=p.state.tr.setSelection(k);p.dispatch(S)}stopEvent(e){var t;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:e});const r=e.target;if(!(this.dom.contains(r)&&!(!((t=this.contentDOM)===null||t===void 0)&&t.contains(r))))return!1;const o=e.type.startsWith("drag"),a=e.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(r.tagName)||r.isContentEditable)&&!a&&!o)return!0;const{isEditable:f}=this.editor,{isDragging:p}=this,m=!!this.node.type.spec.draggable,v=kt.isSelectable(this.node),w=e.type==="copy",x=e.type==="paste",E=e.type==="cut",C=e.type==="mousedown";if(!m&&v&&o&&e.target===this.dom&&e.preventDefault(),m&&o&&!p&&e.target===this.dom)return e.preventDefault(),!1;if(m&&f&&!p&&C){const k=r.closest("[data-drag-handle]");k&&(this.dom===k||this.dom.contains(k))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(p||a||w||x||E||C&&v)}ignoreMutation(e){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:e}):this.node.isLeaf||this.node.isAtom?!0:e.type==="selection"||this.dom.contains(e.target)&&e.type==="childList"&&(rv()||XC())&&this.editor.isFocused&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(r=>r.isContentEditable)?!1:this.contentDOM===e.target&&e.type==="attributes"?!0:!this.contentDOM.contains(e.target)}updateAttributes(e){this.editor.commands.command(({tr:t})=>{const r=this.getPos();return typeof r!="number"?!1:(t.setNodeMarkup(r,void 0,{...this.node.attrs,...e}),!0)})}deleteNode(){const e=this.getPos();if(typeof e!="number")return;const t=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:t})}}function mc(n){return new AL({find:n.find,handler:({state:e,range:t,match:r,pasteEvent:i})=>{const o=nn(n.getAttributes,void 0,r,i);if(o===!1||o===null)return null;const{tr:a}=e,c=r[r.length-1],f=r[0];let p=t.to;if(c){const m=f.search(/\S/),v=t.from+f.indexOf(c),w=v+c.length;if(Ox(t.from,t.to,e.doc).filter(E=>E.mark.type.excluded.find(k=>k===n.type&&k!==E.mark.type)).filter(E=>E.to>v).length)return null;w<t.to&&a.delete(w,t.to),v>t.from&&a.delete(t.from+m,v),p=t.from+m+c.length,a.addMark(t.from+m,p,n.type.create(o||{})),a.removeStoredMark(n.type)}}})}function y2(n,e){const{selection:t}=n,{$from:r}=t;if(t instanceof kt){const o=r.index();return r.parent.canReplaceWith(o,o+1,e)}let i=r.depth;for(;i>=0;){const o=r.index(i);if(r.node(i).contentMatchAt(o).matchType(e))return!0;i-=1}return!1}var Yi="top",Ko="bottom",Jo="right",Xi="left",Tx="auto",Kp=[Yi,Ko,Jo,Xi],ld="start",Pp="end",v2="clippingParents",iM="viewport",$h="popper",w2="reference",aS=Kp.reduce(function(n,e){return n.concat([e+"-"+ld,e+"-"+Pp])},[]),oM=[].concat(Kp,[Tx]).reduce(function(n,e){return n.concat([e,e+"-"+ld,e+"-"+Pp])},[]),x2="beforeRead",b2="read",S2="afterRead",E2="beforeMain",k2="main",C2="afterMain",M2="beforeWrite",O2="write",R2="afterWrite",T2=[x2,b2,S2,E2,k2,C2,M2,O2,R2];function ta(n){return n?(n.nodeName||"").toLowerCase():null}function wo(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function gc(n){var e=wo(n).Element;return n instanceof e||n instanceof Element}function qo(n){var e=wo(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function _x(n){if(typeof ShadowRoot>"u")return!1;var e=wo(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function _2(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},o=e.elements[t];!qo(o)||!ta(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(a){var c=i[a];c===!1?o.removeAttribute(a):o.setAttribute(a,c===!0?"":c)}))})}function N2(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},a=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),c=a.reduce(function(f,p){return f[p]="",f},{});!qo(i)||!ta(i)||(Object.assign(i.style,c),Object.keys(o).forEach(function(f){i.removeAttribute(f)}))})}}const sM={name:"applyStyles",enabled:!0,phase:"write",fn:_2,effect:N2,requires:["computeStyles"]};function Qs(n){return n.split("-")[0]}var lc=Math.max,uy=Math.min,ud=Math.round;function Tw(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function aM(){return!/^((?!chrome|android).)*safari/i.test(Tw())}function cd(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,o=1;e&&qo(n)&&(i=n.offsetWidth>0&&ud(r.width)/n.offsetWidth||1,o=n.offsetHeight>0&&ud(r.height)/n.offsetHeight||1);var a=gc(n)?wo(n):window,c=a.visualViewport,f=!aM()&&t,p=(r.left+(f&&c?c.offsetLeft:0))/i,m=(r.top+(f&&c?c.offsetTop:0))/o,v=r.width/i,w=r.height/o;return{width:v,height:w,top:m,right:p+v,bottom:m+w,left:p,x:p,y:m}}function Nx(n){var e=cd(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function lM(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&_x(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function qa(n){return wo(n).getComputedStyle(n)}function A2(n){return["table","td","th"].indexOf(ta(n))>=0}function ru(n){return((gc(n)?n.ownerDocument:n.document)||window.document).documentElement}function ov(n){return ta(n)==="html"?n:n.assignedSlot||n.parentNode||(_x(n)?n.host:null)||ru(n)}function lS(n){return!qo(n)||qa(n).position==="fixed"?null:n.offsetParent}function D2(n){var e=/firefox/i.test(Tw()),t=/Trident/i.test(Tw());if(t&&qo(n)){var r=qa(n);if(r.position==="fixed")return null}var i=ov(n);for(_x(i)&&(i=i.host);qo(i)&&["html","body"].indexOf(ta(i))<0;){var o=qa(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Jp(n){for(var e=wo(n),t=lS(n);t&&A2(t)&&qa(t).position==="static";)t=lS(t);return t&&(ta(t)==="html"||ta(t)==="body"&&qa(t).position==="static")?e:t||D2(n)||e}function Ax(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function hp(n,e,t){return lc(n,uy(e,t))}function P2(n,e,t){var r=hp(n,e,t);return r>t?t:r}function uM(){return{top:0,right:0,bottom:0,left:0}}function cM(n){return Object.assign({},uM(),n)}function fM(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var L2=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,cM(typeof e!="number"?e:fM(e,Kp))};function I2(n){var e,t=n.state,r=n.name,i=n.options,o=t.elements.arrow,a=t.modifiersData.popperOffsets,c=Qs(t.placement),f=Ax(c),p=[Xi,Jo].indexOf(c)>=0,m=p?"height":"width";if(!(!o||!a)){var v=L2(i.padding,t),w=Nx(o),x=f==="y"?Yi:Xi,E=f==="y"?Ko:Jo,C=t.rects.reference[m]+t.rects.reference[f]-a[f]-t.rects.popper[m],k=a[f]-t.rects.reference[f],S=Jp(o),R=S?f==="y"?S.clientHeight||0:S.clientWidth||0:0,N=C/2-k/2,T=v[x],D=R-w[m]-v[E],_=R/2-w[m]/2+N,L=hp(T,_,D),z=f;t.modifiersData[r]=(e={},e[z]=L,e.centerOffset=L-_,e)}}function z2(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||lM(e.elements.popper,i)&&(e.elements.arrow=i))}const B2={name:"arrow",enabled:!0,phase:"main",fn:I2,effect:z2,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function fd(n){return n.split("-")[1]}var j2={top:"auto",right:"auto",bottom:"auto",left:"auto"};function F2(n,e){var t=n.x,r=n.y,i=e.devicePixelRatio||1;return{x:ud(t*i)/i||0,y:ud(r*i)/i||0}}function uS(n){var e,t=n.popper,r=n.popperRect,i=n.placement,o=n.variation,a=n.offsets,c=n.position,f=n.gpuAcceleration,p=n.adaptive,m=n.roundOffsets,v=n.isFixed,w=a.x,x=w===void 0?0:w,E=a.y,C=E===void 0?0:E,k=typeof m=="function"?m({x,y:C}):{x,y:C};x=k.x,C=k.y;var S=a.hasOwnProperty("x"),R=a.hasOwnProperty("y"),N=Xi,T=Yi,D=window;if(p){var _=Jp(t),L="clientHeight",z="clientWidth";if(_===wo(t)&&(_=ru(t),qa(_).position!=="static"&&c==="absolute"&&(L="scrollHeight",z="scrollWidth")),_=_,i===Yi||(i===Xi||i===Jo)&&o===Pp){T=Ko;var W=v&&_===D&&D.visualViewport?D.visualViewport.height:_[L];C-=W-r.height,C*=f?1:-1}if(i===Xi||(i===Yi||i===Ko)&&o===Pp){N=Jo;var se=v&&_===D&&D.visualViewport?D.visualViewport.width:_[z];x-=se-r.width,x*=f?1:-1}}var xe=Object.assign({position:c},p&&j2),ye=m===!0?F2({x,y:C},wo(t)):{x,y:C};if(x=ye.x,C=ye.y,f){var Ce;return Object.assign({},xe,(Ce={},Ce[T]=R?"0":"",Ce[N]=S?"0":"",Ce.transform=(D.devicePixelRatio||1)<=1?"translate("+x+"px, "+C+"px)":"translate3d("+x+"px, "+C+"px, 0)",Ce))}return Object.assign({},xe,(e={},e[T]=R?C+"px":"",e[N]=S?x+"px":"",e.transform="",e))}function H2(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,o=t.adaptive,a=o===void 0?!0:o,c=t.roundOffsets,f=c===void 0?!0:c,p={placement:Qs(e.placement),variation:fd(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,uS(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:f})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,uS(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const $2={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:H2,data:{}};var Sg={passive:!0};function U2(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,o=i===void 0?!0:i,a=r.resize,c=a===void 0?!0:a,f=wo(e.elements.popper),p=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&p.forEach(function(m){m.addEventListener("scroll",t.update,Sg)}),c&&f.addEventListener("resize",t.update,Sg),function(){o&&p.forEach(function(m){m.removeEventListener("scroll",t.update,Sg)}),c&&f.removeEventListener("resize",t.update,Sg)}}const W2={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:U2,data:{}};var V2={left:"right",right:"left",bottom:"top",top:"bottom"};function Ug(n){return n.replace(/left|right|bottom|top/g,function(e){return V2[e]})}var q2={start:"end",end:"start"};function cS(n){return n.replace(/start|end/g,function(e){return q2[e]})}function Dx(n){var e=wo(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function Px(n){return cd(ru(n)).left+Dx(n).scrollLeft}function G2(n,e){var t=wo(n),r=ru(n),i=t.visualViewport,o=r.clientWidth,a=r.clientHeight,c=0,f=0;if(i){o=i.width,a=i.height;var p=aM();(p||!p&&e==="fixed")&&(c=i.offsetLeft,f=i.offsetTop)}return{width:o,height:a,x:c+Px(n),y:f}}function K2(n){var e,t=ru(n),r=Dx(n),i=(e=n.ownerDocument)==null?void 0:e.body,o=lc(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=lc(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),c=-r.scrollLeft+Px(n),f=-r.scrollTop;return qa(i||t).direction==="rtl"&&(c+=lc(t.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:c,y:f}}function Lx(n){var e=qa(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function dM(n){return["html","body","#document"].indexOf(ta(n))>=0?n.ownerDocument.body:qo(n)&&Lx(n)?n:dM(ov(n))}function pp(n,e){var t;e===void 0&&(e=[]);var r=dM(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),o=wo(r),a=i?[o].concat(o.visualViewport||[],Lx(r)?r:[]):r,c=e.concat(a);return i?c:c.concat(pp(ov(a)))}function _w(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function J2(n,e){var t=cd(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function fS(n,e,t){return e===iM?_w(G2(n,t)):gc(e)?J2(e,t):_w(K2(ru(n)))}function Y2(n){var e=pp(ov(n)),t=["absolute","fixed"].indexOf(qa(n).position)>=0,r=t&&qo(n)?Jp(n):n;return gc(r)?e.filter(function(i){return gc(i)&&lM(i,r)&&ta(i)!=="body"}):[]}function X2(n,e,t,r){var i=e==="clippingParents"?Y2(n):[].concat(e),o=[].concat(i,[t]),a=o[0],c=o.reduce(function(f,p){var m=fS(n,p,r);return f.top=lc(m.top,f.top),f.right=uy(m.right,f.right),f.bottom=uy(m.bottom,f.bottom),f.left=lc(m.left,f.left),f},fS(n,a,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function hM(n){var e=n.reference,t=n.element,r=n.placement,i=r?Qs(r):null,o=r?fd(r):null,a=e.x+e.width/2-t.width/2,c=e.y+e.height/2-t.height/2,f;switch(i){case Yi:f={x:a,y:e.y-t.height};break;case Ko:f={x:a,y:e.y+e.height};break;case Jo:f={x:e.x+e.width,y:c};break;case Xi:f={x:e.x-t.width,y:c};break;default:f={x:e.x,y:e.y}}var p=i?Ax(i):null;if(p!=null){var m=p==="y"?"height":"width";switch(o){case ld:f[p]=f[p]-(e[m]/2-t[m]/2);break;case Pp:f[p]=f[p]+(e[m]/2-t[m]/2);break}}return f}function Lp(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,o=t.strategy,a=o===void 0?n.strategy:o,c=t.boundary,f=c===void 0?v2:c,p=t.rootBoundary,m=p===void 0?iM:p,v=t.elementContext,w=v===void 0?$h:v,x=t.altBoundary,E=x===void 0?!1:x,C=t.padding,k=C===void 0?0:C,S=cM(typeof k!="number"?k:fM(k,Kp)),R=w===$h?w2:$h,N=n.rects.popper,T=n.elements[E?R:w],D=X2(gc(T)?T:T.contextElement||ru(n.elements.popper),f,m,a),_=cd(n.elements.reference),L=hM({reference:_,element:N,placement:i}),z=_w(Object.assign({},N,L)),W=w===$h?z:_,se={top:D.top-W.top+S.top,bottom:W.bottom-D.bottom+S.bottom,left:D.left-W.left+S.left,right:W.right-D.right+S.right},xe=n.modifiersData.offset;if(w===$h&&xe){var ye=xe[i];Object.keys(se).forEach(function(Ce){var Ee=[Jo,Ko].indexOf(Ce)>=0?1:-1,ue=[Yi,Ko].indexOf(Ce)>=0?"y":"x";se[Ce]+=ye[ue]*Ee})}return se}function Q2(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,o=t.rootBoundary,a=t.padding,c=t.flipVariations,f=t.allowedAutoPlacements,p=f===void 0?oM:f,m=fd(r),v=m?c?aS:aS.filter(function(E){return fd(E)===m}):Kp,w=v.filter(function(E){return p.indexOf(E)>=0});w.length===0&&(w=v);var x=w.reduce(function(E,C){return E[C]=Lp(n,{placement:C,boundary:i,rootBoundary:o,padding:a})[Qs(C)],E},{});return Object.keys(x).sort(function(E,C){return x[E]-x[C]})}function Z2(n){if(Qs(n)===Tx)return[];var e=Ug(n);return[cS(n),e,cS(e)]}function ez(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,o=i===void 0?!0:i,a=t.altAxis,c=a===void 0?!0:a,f=t.fallbackPlacements,p=t.padding,m=t.boundary,v=t.rootBoundary,w=t.altBoundary,x=t.flipVariations,E=x===void 0?!0:x,C=t.allowedAutoPlacements,k=e.options.placement,S=Qs(k),R=S===k,N=f||(R||!E?[Ug(k)]:Z2(k)),T=[k].concat(N).reduce(function($e,Ve){return $e.concat(Qs(Ve)===Tx?Q2(e,{placement:Ve,boundary:m,rootBoundary:v,padding:p,flipVariations:E,allowedAutoPlacements:C}):Ve)},[]),D=e.rects.reference,_=e.rects.popper,L=new Map,z=!0,W=T[0],se=0;se<T.length;se++){var xe=T[se],ye=Qs(xe),Ce=fd(xe)===ld,Ee=[Yi,Ko].indexOf(ye)>=0,ue=Ee?"width":"height",de=Lp(e,{placement:xe,boundary:m,rootBoundary:v,altBoundary:w,padding:p}),V=Ee?Ce?Jo:Xi:Ce?Ko:Yi;D[ue]>_[ue]&&(V=Ug(V));var F=Ug(V),pe=[];if(o&&pe.push(de[ye]<=0),c&&pe.push(de[V]<=0,de[F]<=0),pe.every(function($e){return $e})){W=xe,z=!1;break}L.set(xe,pe)}if(z)for(var he=E?3:1,H=function(Ve){var Qe=T.find(function(ut){var ke=L.get(ut);if(ke)return ke.slice(0,Ve).every(function(Be){return Be})});if(Qe)return W=Qe,"break"},ce=he;ce>0;ce--){var Te=H(ce);if(Te==="break")break}e.placement!==W&&(e.modifiersData[r]._skip=!0,e.placement=W,e.reset=!0)}}const tz={name:"flip",enabled:!0,phase:"main",fn:ez,requiresIfExists:["offset"],data:{_skip:!1}};function dS(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function hS(n){return[Yi,Jo,Ko,Xi].some(function(e){return n[e]>=0})}function nz(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,a=Lp(e,{elementContext:"reference"}),c=Lp(e,{altBoundary:!0}),f=dS(a,r),p=dS(c,i,o),m=hS(f),v=hS(p);e.modifiersData[t]={referenceClippingOffsets:f,popperEscapeOffsets:p,isReferenceHidden:m,hasPopperEscaped:v},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":v})}const rz={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:nz};function iz(n,e,t){var r=Qs(n),i=[Xi,Yi].indexOf(r)>=0?-1:1,o=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,a=o[0],c=o[1];return a=a||0,c=(c||0)*i,[Xi,Jo].indexOf(r)>=0?{x:c,y:a}:{x:a,y:c}}function oz(n){var e=n.state,t=n.options,r=n.name,i=t.offset,o=i===void 0?[0,0]:i,a=oM.reduce(function(m,v){return m[v]=iz(v,e.rects,o),m},{}),c=a[e.placement],f=c.x,p=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=f,e.modifiersData.popperOffsets.y+=p),e.modifiersData[r]=a}const sz={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:oz};function az(n){var e=n.state,t=n.name;e.modifiersData[t]=hM({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const lz={name:"popperOffsets",enabled:!0,phase:"read",fn:az,data:{}};function uz(n){return n==="x"?"y":"x"}function cz(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,o=i===void 0?!0:i,a=t.altAxis,c=a===void 0?!1:a,f=t.boundary,p=t.rootBoundary,m=t.altBoundary,v=t.padding,w=t.tether,x=w===void 0?!0:w,E=t.tetherOffset,C=E===void 0?0:E,k=Lp(e,{boundary:f,rootBoundary:p,padding:v,altBoundary:m}),S=Qs(e.placement),R=fd(e.placement),N=!R,T=Ax(S),D=uz(T),_=e.modifiersData.popperOffsets,L=e.rects.reference,z=e.rects.popper,W=typeof C=="function"?C(Object.assign({},e.rects,{placement:e.placement})):C,se=typeof W=="number"?{mainAxis:W,altAxis:W}:Object.assign({mainAxis:0,altAxis:0},W),xe=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ye={x:0,y:0};if(_){if(o){var Ce,Ee=T==="y"?Yi:Xi,ue=T==="y"?Ko:Jo,de=T==="y"?"height":"width",V=_[T],F=V+k[Ee],pe=V-k[ue],he=x?-z[de]/2:0,H=R===ld?L[de]:z[de],ce=R===ld?-z[de]:-L[de],Te=e.elements.arrow,$e=x&&Te?Nx(Te):{width:0,height:0},Ve=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:uM(),Qe=Ve[Ee],ut=Ve[ue],ke=hp(0,L[de],$e[de]),Be=N?L[de]/2-he-ke-Qe-se.mainAxis:H-ke-Qe-se.mainAxis,qe=N?-L[de]/2+he+ke+ut+se.mainAxis:ce+ke+ut+se.mainAxis,Y=e.elements.arrow&&Jp(e.elements.arrow),U=Y?T==="y"?Y.clientTop||0:Y.clientLeft||0:0,ne=(Ce=xe==null?void 0:xe[T])!=null?Ce:0,ie=V+Be-ne-U,Fe=V+qe-ne,Oe=hp(x?uy(F,ie):F,V,x?lc(pe,Fe):pe);_[T]=Oe,ye[T]=Oe-V}if(c){var Ge,Je=T==="x"?Yi:Xi,_e=T==="x"?Ko:Jo,ct=_[D],Xe=D==="y"?"height":"width",ft=ct+k[Je],_t=ct-k[_e],Qt=[Yi,Xi].indexOf(S)!==-1,Cn=(Ge=xe==null?void 0:xe[D])!=null?Ge:0,vn=Qt?ft:ct-L[Xe]-z[Xe]-Cn+se.altAxis,Ae=Qt?ct+L[Xe]+z[Xe]-Cn-se.altAxis:_t,We=x&&Qt?P2(vn,ct,Ae):hp(x?vn:ft,ct,x?Ae:_t);_[D]=We,ye[D]=We-ct}e.modifiersData[r]=ye}}const fz={name:"preventOverflow",enabled:!0,phase:"main",fn:cz,requiresIfExists:["offset"]};function dz(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function hz(n){return n===wo(n)||!qo(n)?Dx(n):dz(n)}function pz(n){var e=n.getBoundingClientRect(),t=ud(e.width)/n.offsetWidth||1,r=ud(e.height)/n.offsetHeight||1;return t!==1||r!==1}function mz(n,e,t){t===void 0&&(t=!1);var r=qo(e),i=qo(e)&&pz(e),o=ru(e),a=cd(n,i,t),c={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(r||!r&&!t)&&((ta(e)!=="body"||Lx(o))&&(c=hz(e)),qo(e)?(f=cd(e,!0),f.x+=e.clientLeft,f.y+=e.clientTop):o&&(f.x=Px(o))),{x:a.left+c.scrollLeft-f.x,y:a.top+c.scrollTop-f.y,width:a.width,height:a.height}}function gz(n){var e=new Map,t=new Set,r=[];n.forEach(function(o){e.set(o.name,o)});function i(o){t.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(c){if(!t.has(c)){var f=e.get(c);f&&i(f)}}),r.push(o)}return n.forEach(function(o){t.has(o.name)||i(o)}),r}function yz(n){var e=gz(n);return T2.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function vz(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function wz(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var pS={placement:"bottom",modifiers:[],strategy:"absolute"};function mS(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function xz(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,o=i===void 0?pS:i;return function(c,f,p){p===void 0&&(p=o);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},pS,o),modifiersData:{},elements:{reference:c,popper:f},attributes:{},styles:{}},v=[],w=!1,x={state:m,setOptions:function(S){var R=typeof S=="function"?S(m.options):S;C(),m.options=Object.assign({},o,m.options,R),m.scrollParents={reference:gc(c)?pp(c):c.contextElement?pp(c.contextElement):[],popper:pp(f)};var N=yz(wz([].concat(r,m.options.modifiers)));return m.orderedModifiers=N.filter(function(T){return T.enabled}),E(),x.update()},forceUpdate:function(){if(!w){var S=m.elements,R=S.reference,N=S.popper;if(mS(R,N)){m.rects={reference:mz(R,Jp(N),m.options.strategy==="fixed"),popper:Nx(N)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(se){return m.modifiersData[se.name]=Object.assign({},se.data)});for(var T=0;T<m.orderedModifiers.length;T++){if(m.reset===!0){m.reset=!1,T=-1;continue}var D=m.orderedModifiers[T],_=D.fn,L=D.options,z=L===void 0?{}:L,W=D.name;typeof _=="function"&&(m=_({state:m,options:z,name:W,instance:x})||m)}}}},update:vz(function(){return new Promise(function(k){x.forceUpdate(),k(m)})}),destroy:function(){C(),w=!0}};if(!mS(c,f))return x;x.setOptions(p).then(function(k){!w&&p.onFirstUpdate&&p.onFirstUpdate(k)});function E(){m.orderedModifiers.forEach(function(k){var S=k.name,R=k.options,N=R===void 0?{}:R,T=k.effect;if(typeof T=="function"){var D=T({state:m,name:S,instance:x,options:N}),_=function(){};v.push(D||_)}})}function C(){v.forEach(function(k){return k()}),v=[]}return x}}var bz=[W2,lz,$2,sM,sz,tz,fz,B2,rz],Sz=xz({defaultModifiers:bz}),Ez="tippy-box",pM="tippy-content",kz="tippy-backdrop",mM="tippy-arrow",gM="tippy-svg-arrow",Yu={passive:!0,capture:!0},yM=function(){return document.body};function P0(n,e,t){if(Array.isArray(n)){var r=n[e];return r??(Array.isArray(t)?t[e]:t)}return n}function Ix(n,e){var t={}.toString.call(n);return t.indexOf("[object")===0&&t.indexOf(e+"]")>-1}function vM(n,e){return typeof n=="function"?n.apply(void 0,e):n}function gS(n,e){if(e===0)return n;var t;return function(r){clearTimeout(t),t=setTimeout(function(){n(r)},e)}}function Cz(n){return n.split(/\s+/).filter(Boolean)}function Jf(n){return[].concat(n)}function yS(n,e){n.indexOf(e)===-1&&n.push(e)}function Mz(n){return n.filter(function(e,t){return n.indexOf(e)===t})}function Oz(n){return n.split("-")[0]}function cy(n){return[].slice.call(n)}function vS(n){return Object.keys(n).reduce(function(e,t){return n[t]!==void 0&&(e[t]=n[t]),e},{})}function mp(){return document.createElement("div")}function sv(n){return["Element","Fragment"].some(function(e){return Ix(n,e)})}function Rz(n){return Ix(n,"NodeList")}function Tz(n){return Ix(n,"MouseEvent")}function _z(n){return!!(n&&n._tippy&&n._tippy.reference===n)}function Nz(n){return sv(n)?[n]:Rz(n)?cy(n):Array.isArray(n)?n:cy(document.querySelectorAll(n))}function L0(n,e){n.forEach(function(t){t&&(t.style.transitionDuration=e+"ms")})}function wS(n,e){n.forEach(function(t){t&&t.setAttribute("data-state",e)})}function Az(n){var e,t=Jf(n),r=t[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function Dz(n,e){var t=e.clientX,r=e.clientY;return n.every(function(i){var o=i.popperRect,a=i.popperState,c=i.props,f=c.interactiveBorder,p=Oz(a.placement),m=a.modifiersData.offset;if(!m)return!0;var v=p==="bottom"?m.top.y:0,w=p==="top"?m.bottom.y:0,x=p==="right"?m.left.x:0,E=p==="left"?m.right.x:0,C=o.top-r+v>f,k=r-o.bottom-w>f,S=o.left-t+x>f,R=t-o.right-E>f;return C||k||S||R})}function I0(n,e,t){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){n[r](i,t)})}function xS(n,e){for(var t=e;t;){var r;if(n.contains(t))return!0;t=t.getRootNode==null||(r=t.getRootNode())==null?void 0:r.host}return!1}var Js={isTouch:!1},bS=0;function Pz(){Js.isTouch||(Js.isTouch=!0,window.performance&&document.addEventListener("mousemove",wM))}function wM(){var n=performance.now();n-bS<20&&(Js.isTouch=!1,document.removeEventListener("mousemove",wM)),bS=n}function Lz(){var n=document.activeElement;if(_z(n)){var e=n._tippy;n.blur&&!e.state.isVisible&&n.blur()}}function Iz(){document.addEventListener("touchstart",Pz,Yu),window.addEventListener("blur",Lz)}var zz=typeof window<"u"&&typeof document<"u",Bz=zz?!!window.msCrypto:!1,jz={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Fz={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},vs=Object.assign({appendTo:yM,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},jz,Fz),Hz=Object.keys(vs),$z=function(e){var t=Object.keys(e);t.forEach(function(r){vs[r]=e[r]})};function xM(n){var e=n.plugins||[],t=e.reduce(function(r,i){var o=i.name,a=i.defaultValue;if(o){var c;r[o]=n[o]!==void 0?n[o]:(c=vs[o])!=null?c:a}return r},{});return Object.assign({},n,t)}function Uz(n,e){var t=e?Object.keys(xM(Object.assign({},vs,{plugins:e}))):Hz,r=t.reduce(function(i,o){var a=(n.getAttribute("data-tippy-"+o)||"").trim();if(!a)return i;if(o==="content")i[o]=a;else try{i[o]=JSON.parse(a)}catch{i[o]=a}return i},{});return r}function SS(n,e){var t=Object.assign({},e,{content:vM(e.content,[n])},e.ignoreAttributes?{}:Uz(n,e.plugins));return t.aria=Object.assign({},vs.aria,t.aria),t.aria={expanded:t.aria.expanded==="auto"?e.interactive:t.aria.expanded,content:t.aria.content==="auto"?e.interactive?null:"describedby":t.aria.content},t}var Wz=function(){return"innerHTML"};function Nw(n,e){n[Wz()]=e}function ES(n){var e=mp();return n===!0?e.className=mM:(e.className=gM,sv(n)?e.appendChild(n):Nw(e,n)),e}function kS(n,e){sv(e.content)?(Nw(n,""),n.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?Nw(n,e.content):n.textContent=e.content)}function Aw(n){var e=n.firstElementChild,t=cy(e.children);return{box:e,content:t.find(function(r){return r.classList.contains(pM)}),arrow:t.find(function(r){return r.classList.contains(mM)||r.classList.contains(gM)}),backdrop:t.find(function(r){return r.classList.contains(kz)})}}function bM(n){var e=mp(),t=mp();t.className=Ez,t.setAttribute("data-state","hidden"),t.setAttribute("tabindex","-1");var r=mp();r.className=pM,r.setAttribute("data-state","hidden"),kS(r,n.props),e.appendChild(t),t.appendChild(r),i(n.props,n.props);function i(o,a){var c=Aw(e),f=c.box,p=c.content,m=c.arrow;a.theme?f.setAttribute("data-theme",a.theme):f.removeAttribute("data-theme"),typeof a.animation=="string"?f.setAttribute("data-animation",a.animation):f.removeAttribute("data-animation"),a.inertia?f.setAttribute("data-inertia",""):f.removeAttribute("data-inertia"),f.style.maxWidth=typeof a.maxWidth=="number"?a.maxWidth+"px":a.maxWidth,a.role?f.setAttribute("role",a.role):f.removeAttribute("role"),(o.content!==a.content||o.allowHTML!==a.allowHTML)&&kS(p,n.props),a.arrow?m?o.arrow!==a.arrow&&(f.removeChild(m),f.appendChild(ES(a.arrow))):f.appendChild(ES(a.arrow)):m&&f.removeChild(m)}return{popper:e,onUpdate:i}}bM.$$tippy=!0;var Vz=1,Eg=[],z0=[];function qz(n,e){var t=SS(n,Object.assign({},vs,xM(vS(e)))),r,i,o,a=!1,c=!1,f=!1,p=!1,m,v,w,x=[],E=gS(ie,t.interactiveDebounce),C,k=Vz++,S=null,R=Mz(t.plugins),N={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},T={id:k,reference:n,popper:mp(),popperInstance:S,props:t,state:N,plugins:R,clearDelayTimeouts:vn,setProps:Ae,setContent:We,show:Ct,hide:Ft,hideWithInteractivity:Zt,enable:Qt,disable:Cn,unmount:Yn,destroy:mi};if(!t.render)return T;var D=t.render(T),_=D.popper,L=D.onUpdate;_.setAttribute("data-tippy-root",""),_.id="tippy-"+T.id,T.popper=_,n._tippy=T,_._tippy=T;var z=R.map(function(ve){return ve.fn(T)}),W=n.hasAttribute("aria-expanded");return Y(),he(),V(),F("onCreate",[T]),t.showOnCreate&&ft(),_.addEventListener("mouseenter",function(){T.props.interactive&&T.state.isVisible&&T.clearDelayTimeouts()}),_.addEventListener("mouseleave",function(){T.props.interactive&&T.props.trigger.indexOf("mouseenter")>=0&&Ee().addEventListener("mousemove",E)}),T;function se(){var ve=T.props.touch;return Array.isArray(ve)?ve:[ve,0]}function xe(){return se()[0]==="hold"}function ye(){var ve;return!!((ve=T.props.render)!=null&&ve.$$tippy)}function Ce(){return C||n}function Ee(){var ve=Ce().parentNode;return ve?Az(ve):document}function ue(){return Aw(_)}function de(ve){return T.state.isMounted&&!T.state.isVisible||Js.isTouch||m&&m.type==="focus"?0:P0(T.props.delay,ve?0:1,vs.delay)}function V(ve){ve===void 0&&(ve=!1),_.style.pointerEvents=T.props.interactive&&!ve?"":"none",_.style.zIndex=""+T.props.zIndex}function F(ve,ot,St){if(St===void 0&&(St=!0),z.forEach(function(Bt){Bt[ve]&&Bt[ve].apply(Bt,ot)}),St){var $t;($t=T.props)[ve].apply($t,ot)}}function pe(){var ve=T.props.aria;if(ve.content){var ot="aria-"+ve.content,St=_.id,$t=Jf(T.props.triggerTarget||n);$t.forEach(function(Bt){var Mn=Bt.getAttribute(ot);if(T.state.isVisible)Bt.setAttribute(ot,Mn?Mn+" "+St:St);else{var qn=Mn&&Mn.replace(St,"").trim();qn?Bt.setAttribute(ot,qn):Bt.removeAttribute(ot)}})}}function he(){if(!(W||!T.props.aria.expanded)){var ve=Jf(T.props.triggerTarget||n);ve.forEach(function(ot){T.props.interactive?ot.setAttribute("aria-expanded",T.state.isVisible&&ot===Ce()?"true":"false"):ot.removeAttribute("aria-expanded")})}}function H(){Ee().removeEventListener("mousemove",E),Eg=Eg.filter(function(ve){return ve!==E})}function ce(ve){if(!(Js.isTouch&&(f||ve.type==="mousedown"))){var ot=ve.composedPath&&ve.composedPath()[0]||ve.target;if(!(T.props.interactive&&xS(_,ot))){if(Jf(T.props.triggerTarget||n).some(function(St){return xS(St,ot)})){if(Js.isTouch||T.state.isVisible&&T.props.trigger.indexOf("click")>=0)return}else F("onClickOutside",[T,ve]);T.props.hideOnClick===!0&&(T.clearDelayTimeouts(),T.hide(),c=!0,setTimeout(function(){c=!1}),T.state.isMounted||Qe())}}}function Te(){f=!0}function $e(){f=!1}function Ve(){var ve=Ee();ve.addEventListener("mousedown",ce,!0),ve.addEventListener("touchend",ce,Yu),ve.addEventListener("touchstart",$e,Yu),ve.addEventListener("touchmove",Te,Yu)}function Qe(){var ve=Ee();ve.removeEventListener("mousedown",ce,!0),ve.removeEventListener("touchend",ce,Yu),ve.removeEventListener("touchstart",$e,Yu),ve.removeEventListener("touchmove",Te,Yu)}function ut(ve,ot){Be(ve,function(){!T.state.isVisible&&_.parentNode&&_.parentNode.contains(_)&&ot()})}function ke(ve,ot){Be(ve,ot)}function Be(ve,ot){var St=ue().box;function $t(Bt){Bt.target===St&&(I0(St,"remove",$t),ot())}if(ve===0)return ot();I0(St,"remove",v),I0(St,"add",$t),v=$t}function qe(ve,ot,St){St===void 0&&(St=!1);var $t=Jf(T.props.triggerTarget||n);$t.forEach(function(Bt){Bt.addEventListener(ve,ot,St),x.push({node:Bt,eventType:ve,handler:ot,options:St})})}function Y(){xe()&&(qe("touchstart",ne,{passive:!0}),qe("touchend",Fe,{passive:!0})),Cz(T.props.trigger).forEach(function(ve){if(ve!=="manual")switch(qe(ve,ne),ve){case"mouseenter":qe("mouseleave",Fe);break;case"focus":qe(Bz?"focusout":"blur",Oe);break;case"focusin":qe("focusout",Oe);break}})}function U(){x.forEach(function(ve){var ot=ve.node,St=ve.eventType,$t=ve.handler,Bt=ve.options;ot.removeEventListener(St,$t,Bt)}),x=[]}function ne(ve){var ot,St=!1;if(!(!T.state.isEnabled||Ge(ve)||c)){var $t=((ot=m)==null?void 0:ot.type)==="focus";m=ve,C=ve.currentTarget,he(),!T.state.isVisible&&Tz(ve)&&Eg.forEach(function(Bt){return Bt(ve)}),ve.type==="click"&&(T.props.trigger.indexOf("mouseenter")<0||a)&&T.props.hideOnClick!==!1&&T.state.isVisible?St=!0:ft(ve),ve.type==="click"&&(a=!St),St&&!$t&&_t(ve)}}function ie(ve){var ot=ve.target,St=Ce().contains(ot)||_.contains(ot);if(!(ve.type==="mousemove"&&St)){var $t=Xe().concat(_).map(function(Bt){var Mn,qn=Bt._tippy,sr=(Mn=qn.popperInstance)==null?void 0:Mn.state;return sr?{popperRect:Bt.getBoundingClientRect(),popperState:sr,props:t}:null}).filter(Boolean);Dz($t,ve)&&(H(),_t(ve))}}function Fe(ve){var ot=Ge(ve)||T.props.trigger.indexOf("click")>=0&&a;if(!ot){if(T.props.interactive){T.hideWithInteractivity(ve);return}_t(ve)}}function Oe(ve){T.props.trigger.indexOf("focusin")<0&&ve.target!==Ce()||T.props.interactive&&ve.relatedTarget&&_.contains(ve.relatedTarget)||_t(ve)}function Ge(ve){return Js.isTouch?xe()!==ve.type.indexOf("touch")>=0:!1}function Je(){_e();var ve=T.props,ot=ve.popperOptions,St=ve.placement,$t=ve.offset,Bt=ve.getReferenceClientRect,Mn=ve.moveTransition,qn=ye()?Aw(_).arrow:null,sr=Bt?{getBoundingClientRect:Bt,contextElement:Bt.contextElement||Ce()}:n,Vr={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(we){var Ue=we.state;if(ye()){var Mt=ue(),G=Mt.box;["placement","reference-hidden","escaped"].forEach(function(ee){ee==="placement"?G.setAttribute("data-placement",Ue.placement):Ue.attributes.popper["data-popper-"+ee]?G.setAttribute("data-"+ee,""):G.removeAttribute("data-"+ee)}),Ue.attributes.popper={}}}},Xn=[{name:"offset",options:{offset:$t}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Mn}},Vr];ye()&&qn&&Xn.push({name:"arrow",options:{element:qn,padding:3}}),Xn.push.apply(Xn,(ot==null?void 0:ot.modifiers)||[]),T.popperInstance=Sz(sr,_,Object.assign({},ot,{placement:St,onFirstUpdate:w,modifiers:Xn}))}function _e(){T.popperInstance&&(T.popperInstance.destroy(),T.popperInstance=null)}function ct(){var ve=T.props.appendTo,ot,St=Ce();T.props.interactive&&ve===yM||ve==="parent"?ot=St.parentNode:ot=vM(ve,[St]),ot.contains(_)||ot.appendChild(_),T.state.isMounted=!0,Je()}function Xe(){return cy(_.querySelectorAll("[data-tippy-root]"))}function ft(ve){T.clearDelayTimeouts(),ve&&F("onTrigger",[T,ve]),Ve();var ot=de(!0),St=se(),$t=St[0],Bt=St[1];Js.isTouch&&$t==="hold"&&Bt&&(ot=Bt),ot?r=setTimeout(function(){T.show()},ot):T.show()}function _t(ve){if(T.clearDelayTimeouts(),F("onUntrigger",[T,ve]),!T.state.isVisible){Qe();return}if(!(T.props.trigger.indexOf("mouseenter")>=0&&T.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(ve.type)>=0&&a)){var ot=de(!1);ot?i=setTimeout(function(){T.state.isVisible&&T.hide()},ot):o=requestAnimationFrame(function(){T.hide()})}}function Qt(){T.state.isEnabled=!0}function Cn(){T.hide(),T.state.isEnabled=!1}function vn(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(o)}function Ae(ve){if(!T.state.isDestroyed){F("onBeforeUpdate",[T,ve]),U();var ot=T.props,St=SS(n,Object.assign({},ot,vS(ve),{ignoreAttributes:!0}));T.props=St,Y(),ot.interactiveDebounce!==St.interactiveDebounce&&(H(),E=gS(ie,St.interactiveDebounce)),ot.triggerTarget&&!St.triggerTarget?Jf(ot.triggerTarget).forEach(function($t){$t.removeAttribute("aria-expanded")}):St.triggerTarget&&n.removeAttribute("aria-expanded"),he(),V(),L&&L(ot,St),T.popperInstance&&(Je(),Xe().forEach(function($t){requestAnimationFrame($t._tippy.popperInstance.forceUpdate)})),F("onAfterUpdate",[T,ve])}}function We(ve){T.setProps({content:ve})}function Ct(){var ve=T.state.isVisible,ot=T.state.isDestroyed,St=!T.state.isEnabled,$t=Js.isTouch&&!T.props.touch,Bt=P0(T.props.duration,0,vs.duration);if(!(ve||ot||St||$t)&&!Ce().hasAttribute("disabled")&&(F("onShow",[T],!1),T.props.onShow(T)!==!1)){if(T.state.isVisible=!0,ye()&&(_.style.visibility="visible"),V(),Ve(),T.state.isMounted||(_.style.transition="none"),ye()){var Mn=ue(),qn=Mn.box,sr=Mn.content;L0([qn,sr],0)}w=function(){var Xn;if(!(!T.state.isVisible||p)){if(p=!0,_.offsetHeight,_.style.transition=T.props.moveTransition,ye()&&T.props.animation){var J=ue(),we=J.box,Ue=J.content;L0([we,Ue],Bt),wS([we,Ue],"visible")}pe(),he(),yS(z0,T),(Xn=T.popperInstance)==null||Xn.forceUpdate(),F("onMount",[T]),T.props.animation&&ye()&&ke(Bt,function(){T.state.isShown=!0,F("onShown",[T])})}},ct()}}function Ft(){var ve=!T.state.isVisible,ot=T.state.isDestroyed,St=!T.state.isEnabled,$t=P0(T.props.duration,1,vs.duration);if(!(ve||ot||St)&&(F("onHide",[T],!1),T.props.onHide(T)!==!1)){if(T.state.isVisible=!1,T.state.isShown=!1,p=!1,a=!1,ye()&&(_.style.visibility="hidden"),H(),Qe(),V(!0),ye()){var Bt=ue(),Mn=Bt.box,qn=Bt.content;T.props.animation&&(L0([Mn,qn],$t),wS([Mn,qn],"hidden"))}pe(),he(),T.props.animation?ye()&&ut($t,T.unmount):T.unmount()}}function Zt(ve){Ee().addEventListener("mousemove",E),yS(Eg,E),E(ve)}function Yn(){T.state.isVisible&&T.hide(),T.state.isMounted&&(_e(),Xe().forEach(function(ve){ve._tippy.unmount()}),_.parentNode&&_.parentNode.removeChild(_),z0=z0.filter(function(ve){return ve!==T}),T.state.isMounted=!1,F("onHidden",[T]))}function mi(){T.state.isDestroyed||(T.clearDelayTimeouts(),T.unmount(),U(),delete n._tippy,T.state.isDestroyed=!0,F("onDestroy",[T]))}}function Yp(n,e){e===void 0&&(e={});var t=vs.plugins.concat(e.plugins||[]);Iz();var r=Object.assign({},e,{plugins:t}),i=Nz(n),o=i.reduce(function(a,c){var f=c&&qz(c,r);return f&&a.push(f),a},[]);return sv(n)?o[0]:o}Yp.defaultProps=vs;Yp.setDefaultProps=$z;Yp.currentInput=Js;Object.assign({},sM,{effect:function(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow)}});Yp.setDefaultProps({render:bM});class Gz{constructor({editor:e,element:t,view:r,tippyOptions:i={},updateDelay:o=250,shouldShow:a}){this.preventHide=!1,this.shouldShow=({view:c,state:f,from:p,to:m})=>{const{doc:v,selection:w}=f,{empty:x}=w,E=!v.textBetween(p,m).length&&Cx(f.selection),C=this.element.contains(document.activeElement);return!(!(c.hasFocus()||C)||x||E||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:c})=>{var f;if(this.preventHide){this.preventHide=!1;return}c!=null&&c.relatedTarget&&(!((f=this.element.parentNode)===null||f===void 0)&&f.contains(c.relatedTarget))||(c==null?void 0:c.relatedTarget)!==this.editor.view.dom&&this.hide()},this.tippyBlurHandler=c=>{this.blurHandler({event:c})},this.handleDebouncedUpdate=(c,f)=>{const p=!(f!=null&&f.selection.eq(c.state.selection)),m=!(f!=null&&f.doc.eq(c.state.doc));!p&&!m||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(c,p,m,f)},this.updateDelay))},this.updateHandler=(c,f,p,m)=>{var v,w,x;const{state:E,composing:C}=c,{selection:k}=E;if(C||!f&&!p)return;this.createTooltip();const{ranges:R}=k,N=Math.min(...R.map(_=>_.$from.pos)),T=Math.max(...R.map(_=>_.$to.pos));if(!((v=this.shouldShow)===null||v===void 0?void 0:v.call(this,{editor:this.editor,element:this.element,view:c,state:E,oldState:m,from:N,to:T}))){this.hide();return}(w=this.tippy)===null||w===void 0||w.setProps({getReferenceClientRect:((x=this.tippyOptions)===null||x===void 0?void 0:x.getReferenceClientRect)||(()=>{if(nM(E.selection)){let _=c.nodeDOM(N);if(_){const L=_.dataset.nodeViewWrapper?_:_.querySelector("[data-node-view-wrapper]");if(L&&(_=L.firstChild),_)return _.getBoundingClientRect()}}return BI(c,N,T)})}),this.show()},this.editor=e,this.element=t,this.view=r,this.updateDelay=o,a&&(this.shouldShow=a),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,t=!!e.parentElement;this.tippy||!t||(this.tippy=Yp(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,t){const{state:r}=e,i=r.selection.from!==r.selection.to;if(this.updateDelay>0&&i){this.handleDebouncedUpdate(e,t);return}const o=!(t!=null&&t.selection.eq(e.state.selection)),a=!(t!=null&&t.doc.eq(e.state.doc));this.updateHandler(e,o,a,t)}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e,t;!((e=this.tippy)===null||e===void 0)&&e.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(t=this.tippy)===null||t===void 0||t.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const SM=n=>new Tr({key:typeof n.pluginKey=="string"?new Ti(n.pluginKey):n.pluginKey,view:e=>new Gz({view:e,...n})});Wr.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[SM({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});function Kz(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var EM={exports:{}},B0={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CS;function Jz(){if(CS)return B0;CS=1;var n=dr;function e(v,w){return v===w&&(v!==0||1/v===1/w)||v!==v&&w!==w}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,i=n.useEffect,o=n.useLayoutEffect,a=n.useDebugValue;function c(v,w){var x=w(),E=r({inst:{value:x,getSnapshot:w}}),C=E[0].inst,k=E[1];return o(function(){C.value=x,C.getSnapshot=w,f(C)&&k({inst:C})},[v,x,w]),i(function(){return f(C)&&k({inst:C}),v(function(){f(C)&&k({inst:C})})},[v]),a(x),x}function f(v){var w=v.getSnapshot;v=v.value;try{var x=w();return!t(v,x)}catch{return!0}}function p(v,w){return w()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:c;return B0.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:m,B0}EM.exports=Jz();var zx=EM.exports;const Yz=(...n)=>e=>{n.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},Xz=({contentComponent:n})=>{const e=zx.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return dr.createElement(dr.Fragment,null,Object.values(e))};function Qz(){const n=new Set;let e={};return{subscribe(t){return n.add(t),()=>{n.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,r){e={...e,[t]:vA.createPortal(r.reactElement,r.element,t)},n.forEach(i=>i())},removeRenderer(t){const r={...e};delete r[t],e=r,n.forEach(i=>i())}}}class Zz extends dr.Component{constructor(e){var t;super(e),this.editorContentRef=dr.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((t=e.editor)===null||t===void 0)&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=Qz(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){const{editor:e,innerRef:t,...r}=this.props;return dr.createElement(dr.Fragment,null,dr.createElement("div",{ref:Yz(t,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&dr.createElement(Xz,{contentComponent:e.contentComponent}))}}const eB=K.forwardRef((n,e)=>{const t=dr.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[n.editor]);return dr.createElement(Zz,{key:t,innerRef:e,...n})}),tB=dr.memo(eB);var nB=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,i,o;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(!n(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;for(i of e.entries())if(!n(i[1],t.get(i[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[i]))return!1;for(i=r;i--!==0;){var a=o[i];if(!(a==="_owner"&&e.$$typeof)&&!n(e[a],t[a]))return!1}return!0}return e!==e&&t!==t},rB=Kz(nB),kM={exports:{}},j0={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MS;function iB(){if(MS)return j0;MS=1;var n=dr,e=zx;function t(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var r=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,o=n.useRef,a=n.useEffect,c=n.useMemo,f=n.useDebugValue;return j0.useSyncExternalStoreWithSelector=function(p,m,v,w,x){var E=o(null);if(E.current===null){var C={hasValue:!1,value:null};E.current=C}else C=E.current;E=c(function(){function S(_){if(!R){if(R=!0,N=_,_=w(_),x!==void 0&&C.hasValue){var L=C.value;if(x(L,_))return T=L}return T=_}if(L=T,r(N,_))return L;var z=w(_);return x!==void 0&&x(L,z)?L:(N=_,T=z)}var R=!1,N,T,D=v===void 0?null:v;return[function(){return S(m())},D===null?void 0:function(){return S(D())}]},[m,v,w,x]);var k=i(p,E[0],E[1]);return a(function(){C.hasValue=!0,C.value=k},[k]),f(k),k},j0}kM.exports=iB();var oB=kM.exports;const sB=typeof window<"u"?K.useLayoutEffect:K.useEffect;class aB{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(i=>i())},r=this.editor;return r.on("transaction",t),()=>{r.off("transaction",t)}}}}function lB(n){var e;const[t]=K.useState(()=>new aB(n.editor)),r=oB.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,n.selector,(e=n.equalityFn)!==null&&e!==void 0?e:rB);return sB(()=>t.watch(n.editor),[n.editor,t]),K.useDebugValue(r),r}const uB=!1,Dw=typeof window>"u",cB=Dw||!!(typeof window<"u"&&window.next);class Bx{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Dw||cB?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,o;return(o=(i=this.options.current).onBeforeCreate)===null||o===void 0?void 0:o.call(i,...r)},onBlur:(...r)=>{var i,o;return(o=(i=this.options.current).onBlur)===null||o===void 0?void 0:o.call(i,...r)},onCreate:(...r)=>{var i,o;return(o=(i=this.options.current).onCreate)===null||o===void 0?void 0:o.call(i,...r)},onDestroy:(...r)=>{var i,o;return(o=(i=this.options.current).onDestroy)===null||o===void 0?void 0:o.call(i,...r)},onFocus:(...r)=>{var i,o;return(o=(i=this.options.current).onFocus)===null||o===void 0?void 0:o.call(i,...r)},onSelectionUpdate:(...r)=>{var i,o;return(o=(i=this.options.current).onSelectionUpdate)===null||o===void 0?void 0:o.call(i,...r)},onTransaction:(...r)=>{var i,o;return(o=(i=this.options.current).onTransaction)===null||o===void 0?void 0:o.call(i,...r)},onUpdate:(...r)=>{var i,o;return(o=(i=this.options.current).onUpdate)===null||o===void 0?void 0:o.call(i,...r)},onContentError:(...r)=>{var i,o;return(o=(i=this.options.current).onContentError)===null||o===void 0?void 0:o.call(i,...r)},onDrop:(...r)=>{var i,o;return(o=(i=this.options.current).onDrop)===null||o===void 0?void 0:o.call(i,...r)},onPaste:(...r)=>{var i,o;return(o=(i=this.options.current).onPaste)===null||o===void 0?void 0:o.call(i,...r)}};return new m2(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&t.extensions?e.extensions.length!==t.extensions.length?!1:e.extensions.every((i,o)=>{var a;return i===((a=t.extensions)===null||a===void 0?void 0:a[o])}):e[r]===t[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?Bx.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function fB(n={},e=[]){const t=K.useRef(n);t.current=n;const[r]=K.useState(()=>new Bx(t)),i=zx.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return K.useDebugValue(i),K.useEffect(r.onRender(e)),lB({editor:i,selector:({transactionNumber:o})=>n.shouldRerenderOnTransaction===!1?null:n.immediatelyRender&&o===0?0:o+1}),i}const CM=K.createContext({editor:null});CM.Consumer;const dB=()=>K.useContext(CM),hB=n=>{const[e,t]=K.useState(null),{editor:r}=dB();return K.useEffect(()=>{var i;if(!e||!((i=n.editor)===null||i===void 0)&&i.isDestroyed||r!=null&&r.isDestroyed)return;const{pluginKey:o="bubbleMenu",editor:a,tippyOptions:c={},updateDelay:f,shouldShow:p=null}=n,m=a||r;if(!m){console.warn("BubbleMenu component is not rendered inside of an editor component or does not have editor prop.");return}const v=SM({updateDelay:f,editor:m,element:e,pluginKey:o,shouldShow:p,tippyOptions:c});return m.registerPlugin(v),()=>{m.unregisterPlugin(o)}},[n.editor,r,e]),dr.createElement("div",{ref:t,className:n.className,style:{visibility:"hidden"}},n.children)},MM=K.createContext({onDragStart:void 0}),OM=()=>K.useContext(MM),pB=n=>{const e=n.as||"div",{nodeViewContentRef:t}=OM();return dr.createElement(e,{...n,ref:t,"data-node-view-content":"",style:{whiteSpace:"pre-wrap",...n.style}})},na=dr.forwardRef((n,e)=>{const{onDragStart:t}=OM(),r=n.as||"div";return dr.createElement(r,{...n,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...n.style}})});function OS(n){return!!(typeof n=="function"&&n.prototype&&n.prototype.isReactComponent)}function RS(n){return!!(typeof n=="object"&&n.$$typeof&&(n.$$typeof.toString()==="Symbol(react.forward_ref)"||n.$$typeof.description==="react.forward_ref"))}function mB(n){return!!(typeof n=="object"&&n.$$typeof&&(n.$$typeof.toString()==="Symbol(react.memo)"||n.$$typeof.description==="react.memo"))}function gB(n){if(OS(n)||RS(n))return!0;if(mB(n)){const e=n.type;if(e)return OS(e)||RS(e)}return!1}function yB(){try{if(K.version)return parseInt(K.version.split(".")[0],10)>=19}catch{}return!1}class vB{constructor(e,{editor:t,props:r={},as:i="div",className:o=""}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=e,this.editor=t,this.props=r,this.element=document.createElement(i),this.element.classList.add("react-renderer"),o&&this.element.classList.add(...o.split(" ")),this.editor.isInitialized?rx.flushSync(()=>{this.render()}):this.render()}render(){var e;const t=this.component,r=this.props,i=this.editor,o=yB(),a=gB(t),c={...r};c.ref&&!(o||a)&&delete c.ref,!c.ref&&(o||a)&&(c.ref=f=>{this.ref=f}),this.reactElement=dr.createElement(t,{...c}),(e=i==null?void 0:i.contentComponent)===null||e===void 0||e.setRenderer(this.id,this)}updateProps(e={}){this.props={...this.props,...e},this.render()}destroy(){var e;const t=this.editor;(e=t==null?void 0:t.contentComponent)===null||e===void 0||e.removeRenderer(this.id)}updateAttributes(e){Object.keys(e).forEach(t=>{this.element.setAttribute(t,e[t])})}}class wB extends g2{mount(){const e={editor:this.editor,node:this.node,decorations:this.decorations,innerDecorations:this.innerDecorations,view:this.view,selected:!1,extension:this.extension,HTMLAttributes:this.HTMLAttributes,getPos:()=>this.getPos(),updateAttributes:(p={})=>this.updateAttributes(p),deleteNode:()=>this.deleteNode(),ref:K.createRef()};if(!this.component.displayName){const p=m=>m.charAt(0).toUpperCase()+m.substring(1);this.component.displayName=p(this.extension.name)}const i={onDragStart:this.onDragStart.bind(this),nodeViewContentRef:p=>{p&&this.contentDOMElement&&p.firstChild!==this.contentDOMElement&&p.appendChild(this.contentDOMElement)}},o=this.component,a=K.memo(p=>dr.createElement(MM.Provider,{value:i},K.createElement(o,p)));a.displayName="ReactNodeView",this.node.isLeaf?this.contentDOMElement=null:this.options.contentDOMElementTag?this.contentDOMElement=document.createElement(this.options.contentDOMElementTag):this.contentDOMElement=document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.dataset.nodeViewContentReact="",this.contentDOMElement.style.whiteSpace="inherit");let c=this.node.isInline?"span":"div";this.options.as&&(c=this.options.as);const{className:f=""}=this.options;this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.renderer=new vB(a,{editor:this.editor,props:e,as:c,className:`node-${this.node.type.name} ${f}`.trim()}),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.updateElementAttributes()}get dom(){var e;if(this.renderer.element.firstElementChild&&!(!((e=this.renderer.element.firstElementChild)===null||e===void 0)&&e.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}handleSelectionUpdate(){const{from:e,to:t}=this.editor.state.selection,r=this.getPos();if(typeof r=="number")if(e<=r&&t>=r+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}}update(e,t,r){const i=o=>{this.renderer.updateProps(o),typeof this.options.attrs=="function"&&this.updateElementAttributes()};if(e.type!==this.node.type)return!1;if(typeof this.options.update=="function"){const o=this.node,a=this.decorations,c=this.innerDecorations;return this.node=e,this.decorations=t,this.innerDecorations=r,this.options.update({oldNode:o,oldDecorations:a,newNode:e,newDecorations:t,oldInnerDecorations:c,innerDecorations:r,updateProps:()=>i({node:e,decorations:t,innerDecorations:r})})}return e===this.node&&this.decorations===t&&this.innerDecorations===r||(this.node=e,this.decorations=t,this.innerDecorations=r,i({node:e,decorations:t,innerDecorations:r})),!0}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate),this.contentDOMElement=null}updateElementAttributes(){if(this.options.attrs){let e={};if(typeof this.options.attrs=="function"){const t=this.editor.extensionManager.attributes,r=ay(this.node,t);e=this.options.attrs({node:this.node,HTMLAttributes:r})}else e=this.options.attrs;this.renderer.updateAttributes(e)}}}function iu(n,e){return t=>t.editor.contentComponent?new wB(n,t,e):{}}const xB=/^\s*>\s$/,bB=hr.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return["blockquote",Bn(this.options.HTMLAttributes,n),0]},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Dp({find:xB,type:this.type})]}}),SB=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,EB=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,kB=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,CB=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,MB=xs.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name===this.name},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return["strong",Bn(this.options.HTMLAttributes,n),0]},addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[ad({find:SB,type:this.type}),ad({find:kB,type:this.type})]},addPasteRules(){return[mc({find:EB,type:this.type}),mc({find:CB,type:this.type})]}}),OB="listItem",TS="textStyle",_S=/^\s*([-+*])\s$/,RB=hr.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",Bn(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleBulletList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(OB,this.editor.getAttributes(TS)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=Dp({find:_S,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Dp({find:_S,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(TS),editor:this.editor})),[n]}}),TB=/(^|[^`])`([^`]+)`(?!`)/,_B=/(^|[^`])`([^`]+)`(?!`)/g,NB=xs.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",Bn(this.options.HTMLAttributes,n),0]},addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[ad({find:TB,type:this.type})]},addPasteRules(){return[mc({find:_B,type:this.type})]}}),AB=/^```([a-z]+)?[\s\n]$/,DB=/^~~~([a-z]+)?[\s\n]$/,RM=hr.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:n=>{var e;const{languageClassPrefix:t}=this.options,o=[...((e=n.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(a=>a.startsWith(t)).map(a=>a.replace(t,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:e}){return["pre",Bn(this.options.HTMLAttributes,e),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode(this.name,n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!n||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=n,{selection:t}=e,{$from:r,empty:i}=t;if(!i||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!o||!a?!1:n.chain().command(({tr:c})=>(c.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:r}=e,{$from:i,empty:o}=t;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const c=i.after();return c===void 0?!1:r.nodeAt(c)?n.commands.command(({tr:p})=>(p.setSelection(Jt.near(r.resolve(c))),!0)):n.commands.exitCode()}}},addInputRules(){return[Rw({find:AB,type:this.type,getAttributes:n=>({language:n[1]})}),Rw({find:DB,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new Tr({key:new Ti("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,o=i==null?void 0:i.mode;if(!t||!o)return!1;const{tr:a,schema:c}=n.state,f=c.text(t.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:o},f)),a.selection.$from.parent.type!==this.type&&a.setSelection(Ht.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),n.dispatch(a),!0}}})]}}),PB=hr.create({name:"doc",topNode:!0,content:"block+"});function LB(n={}){return new Tr({view(e){return new IB(e,n)}})}class IB{constructor(e,t){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=t.width)!==null&&r!==void 0?r:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let o=a=>{this[i](a)};return e.dom.addEventListener(i,o),{name:i,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,r,i=this.editorView.dom,o=i.getBoundingClientRect(),a=o.width/i.offsetWidth,c=o.height/i.offsetHeight;if(t){let v=e.nodeBefore,w=e.nodeAfter;if(v||w){let x=this.editorView.nodeDOM(this.cursorPos-(v?v.nodeSize:0));if(x){let E=x.getBoundingClientRect(),C=v?E.bottom:E.top;v&&w&&(C=(C+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let k=this.width/2*c;r={left:E.left,right:E.right,top:C-k,bottom:C+k}}}}if(!r){let v=this.editorView.coordsAtPos(this.cursorPos),w=this.width/2*a;r={left:v.left-w,right:v.left+w,top:v.top,bottom:v.bottom}}let f=this.editorView.dom.offsetParent;this.element||(this.element=f.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let p,m;if(!f||f==document.body&&getComputedStyle(f).position=="static")p=-pageXOffset,m=-pageYOffset;else{let v=f.getBoundingClientRect(),w=v.width/f.offsetWidth,x=v.height/f.offsetHeight;p=v.left-f.scrollLeft*w,m=v.top-f.scrollTop*x}this.element.style.left=(r.left-p)/a+"px",this.element.style.top=(r.top-m)/c+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/c+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,t,e):i;if(t&&!o){let a=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let c=Wk(this.editorView.state.doc,a,this.editorView.dragging.slice);c!=null&&(a=c)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const zB=Wr.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[LB(this.options)]}});class or extends Jt{constructor(e){super(e,e)}map(e,t){let r=e.resolve(t.map(this.head));return or.valid(r)?new or(r):Jt.near(r)}content(){return it.empty}eq(e){return e instanceof or&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new or(e.resolve(t.pos))}getBookmark(){return new jx(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!BB(e)||!jB(e))return!1;let r=t.type.spec.allowGapCursor;if(r!=null)return r;let i=t.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,t,r=!1){e:for(;;){if(!r&&or.valid(e))return e;let i=e.pos,o=null;for(let a=e.depth;;a--){let c=e.node(a);if(t>0?e.indexAfter(a)<c.childCount:e.index(a)>0){o=c.child(t>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;i+=t;let f=e.doc.resolve(i);if(or.valid(f))return f}for(;;){let a=t>0?o.firstChild:o.lastChild;if(!a){if(o.isAtom&&!o.isText&&!kt.isSelectable(o)){e=e.doc.resolve(i+o.nodeSize*t),r=!1;continue e}break}o=a,i+=t;let c=e.doc.resolve(i);if(or.valid(c))return c}return null}}}or.prototype.visible=!1;or.findFrom=or.findGapCursorFrom;Jt.jsonID("gapcursor",or);class jx{constructor(e){this.pos=e}map(e){return new jx(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return or.valid(t)?new or(t):Jt.near(t)}}function BB(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),r=n.node(e);if(t==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function jB(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),r=n.node(e);if(t==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function FB(){return new Tr({props:{decorations:WB,createSelectionBetween(n,e,t){return e.pos==t.pos&&or.valid(t)?new or(t):null},handleClick:$B,handleKeyDown:HB,handleDOMEvents:{beforeinput:UB}}})}const HB=AC({ArrowLeft:kg("horiz",-1),ArrowRight:kg("horiz",1),ArrowUp:kg("vert",-1),ArrowDown:kg("vert",1)});function kg(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,o){let a=r.selection,c=e>0?a.$to:a.$from,f=a.empty;if(a instanceof Ht){if(!o.endOfTextblock(t)||c.depth==0)return!1;f=!1,c=r.doc.resolve(e>0?c.after():c.before())}let p=or.findGapCursorFrom(c,e,f);return p?(i&&i(r.tr.setSelection(new or(p))),!0):!1}}function $B(n,e,t){if(!n||!n.editable)return!1;let r=n.state.doc.resolve(e);if(!or.valid(r))return!1;let i=n.posAtCoords({left:t.clientX,top:t.clientY});return i&&i.inside>-1&&kt.isSelectable(n.state.doc.nodeAt(i.inside))?!1:(n.dispatch(n.state.tr.setSelection(new or(r))),!0)}function UB(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof or))return!1;let{$from:t}=n.state.selection,r=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!r)return!1;let i=ze.empty;for(let a=r.length-1;a>=0;a--)i=ze.from(r[a].createAndFill(null,i));let o=n.state.tr.replace(t.pos,t.pos,new it(i,0,0));return o.setSelection(Ht.near(o.doc.resolve(t.pos+1))),n.dispatch(o),!1}function WB(n){if(!(n.selection instanceof or))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",vr.create(n.doc,[go.widget(n.selection.head,e,{key:"gapcursor"})])}const VB=Wr.create({name:"gapCursor",addProseMirrorPlugins(){return[FB()]},extendNodeSchema(n){var e;const t={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(e=nn(yt(n,"allowGapCursor",t)))!==null&&e!==void 0?e:null}}}),qB=hr.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",Bn(this.options.HTMLAttributes,n)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:r})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:i,storedMarks:o}=t;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:c}=r.extensionManager,f=o||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:p,dispatch:m})=>{if(m&&f&&a){const v=f.filter(w=>c.includes(w.type.name));p.ensureMarks(v)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),GB=hr.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,Bn(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>({...n,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>Rw({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}});var fy=200,$r=function(){};$r.prototype.append=function(e){return e.length?(e=$r.from(e),!this.length&&e||e.length<fy&&this.leafAppend(e)||this.length<fy&&e.leafPrepend(this)||this.appendInner(e)):this};$r.prototype.prepend=function(e){return e.length?$r.from(e).append(this):this};$r.prototype.appendInner=function(e){return new KB(this,e)};$r.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?$r.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};$r.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};$r.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};$r.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,a){return i.push(e(o,a))},t,r),i};$r.from=function(e){return e instanceof $r?e:e&&e.length?new TM(e):$r.empty};var TM=function(n){function e(r){n.call(this),this.values=r}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,a,c){for(var f=o;f<a;f++)if(i(this.values[f],c+f)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,a,c){for(var f=o-1;f>=a;f--)if(i(this.values[f],c+f)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=fy)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=fy)return new e(i.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}($r);$r.empty=new TM([]);var KB=function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,a){var c=this.left.length;if(i<c&&this.left.forEachInner(r,i,Math.min(o,c),a)===!1||o>c&&this.right.forEachInner(r,Math.max(i-c,0),Math.min(this.length,o)-c,a+c)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,a){var c=this.left.length;if(i>c&&this.right.forEachInvertedInner(r,i-c,Math.max(o,c)-c,a+c)===!1||o<c&&this.left.forEachInvertedInner(r,Math.min(i,c),o,a)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}($r);const JB=500;class ys{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;t&&(i=this.remapping(r,this.items.length),o=i.maps.length);let a=e.tr,c,f,p=[],m=[];return this.items.forEach((v,w)=>{if(!v.step){i||(i=this.remapping(r,w+1),o=i.maps.length),o--,m.push(v);return}if(i){m.push(new qs(v.map));let x=v.step.map(i.slice(o)),E;x&&a.maybeStep(x).doc&&(E=a.mapping.maps[a.mapping.maps.length-1],p.push(new qs(E,void 0,void 0,p.length+m.length))),o--,E&&i.appendMap(E,o)}else a.maybeStep(v.step);if(v.selection)return c=i?v.selection.map(i.slice(o)):v.selection,f=new ys(this.items.slice(0,r).append(m.reverse().concat(p)),this.eventCount-1),!1},this.items.length,0),{remaining:f,transform:a,selection:c}}addTransform(e,t,r,i){let o=[],a=this.eventCount,c=this.items,f=!i&&c.length?c.get(c.length-1):null;for(let m=0;m<e.steps.length;m++){let v=e.steps[m].invert(e.docs[m]),w=new qs(e.mapping.maps[m],v,t),x;(x=f&&f.merge(w))&&(w=x,m?o.pop():c=c.slice(0,c.length-1)),o.push(w),t&&(a++,t=void 0),i||(f=w)}let p=a-r.depth;return p>XB&&(c=YB(c,p),a-=p),new ys(c.append(o),a)}remapping(e,t){let r=new Mp;return this.items.forEach((i,o)=>{let a=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,a)},e,t),r}addMaps(e){return this.eventCount==0?this:new ys(this.items.append(e.map(t=>new qs(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-t),o=e.mapping,a=e.steps.length,c=this.eventCount;this.items.forEach(w=>{w.selection&&c--},i);let f=t;this.items.forEach(w=>{let x=o.getMirror(--f);if(x==null)return;a=Math.min(a,x);let E=o.maps[x];if(w.step){let C=e.steps[x].invert(e.docs[x]),k=w.selection&&w.selection.map(o.slice(f+1,x));k&&c++,r.push(new qs(E,C,k))}else r.push(new qs(E))},i);let p=[];for(let w=t;w<a;w++)p.push(new qs(o.maps[w]));let m=this.items.slice(0,i).append(p).append(r),v=new ys(m,c);return v.emptyItemCount()>JB&&(v=v.compress(this.items.length-r.length)),v}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,i=[],o=0;return this.items.forEach((a,c)=>{if(c>=e)i.push(a),a.selection&&o++;else if(a.step){let f=a.step.map(t.slice(r)),p=f&&f.getMap();if(r--,p&&t.appendMap(p,r),f){let m=a.selection&&a.selection.map(t.slice(r));m&&o++;let v=new qs(p.invert(),f,m),w,x=i.length-1;(w=i.length&&i[x].merge(v))?i[x]=w:i.push(v)}}else a.map&&r--},this.items.length,0),new ys($r.from(i.reverse()),o)}}ys.empty=new ys($r.empty,0);function YB(n,e){let t;return n.forEach((r,i)=>{if(r.selection&&e--==0)return t=i,!1}),n.slice(t)}class qs{constructor(e,t,r,i){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new qs(t.getMap().invert(),t,this.selection)}}}class zl{constructor(e,t,r,i,o){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}const XB=20;function QB(n,e,t,r){let i=t.getMeta(uc),o;if(i)return i.historyState;t.getMeta(tj)&&(n=new zl(n.done,n.undone,null,0,-1));let a=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(a&&a.getMeta(uc))return a.getMeta(uc).redo?new zl(n.done.addTransform(t,void 0,r,Wg(e)),n.undone,NS(t.mapping.maps),n.prevTime,n.prevComposition):new zl(n.done,n.undone.addTransform(t,void 0,r,Wg(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let c=t.getMeta("composition"),f=n.prevTime==0||!a&&n.prevComposition!=c&&(n.prevTime<(t.time||0)-r.newGroupDelay||!ZB(t,n.prevRanges)),p=a?F0(n.prevRanges,t.mapping):NS(t.mapping.maps);return new zl(n.done.addTransform(t,f?e.selection.getBookmark():void 0,r,Wg(e)),ys.empty,p,t.time,c??n.prevComposition)}else return(o=t.getMeta("rebased"))?new zl(n.done.rebased(t,o),n.undone.rebased(t,o),F0(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new zl(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),F0(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function ZB(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(t=!0)}),t}function NS(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((r,i,o,a)=>e.push(o,a));return e}function F0(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let i=e.map(n[r],1),o=e.map(n[r+1],-1);i<=o&&t.push(i,o)}return t}function ej(n,e,t){let r=Wg(e),i=uc.get(e).spec.config,o=(t?n.undone:n.done).popEvent(e,r);if(!o)return null;let a=o.selection.resolve(o.transform.doc),c=(t?n.done:n.undone).addTransform(o.transform,e.selection.getBookmark(),i,r),f=new zl(t?c:o.remaining,t?o.remaining:c,null,0,-1);return o.transform.setSelection(a).setMeta(uc,{redo:t,historyState:f})}let H0=!1,AS=null;function Wg(n){let e=n.plugins;if(AS!=e){H0=!1,AS=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){H0=!0;break}}return H0}const uc=new Ti("history"),tj=new Ti("closeHistory");function nj(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new Tr({key:uc,state:{init(){return new zl(ys.empty,ys.empty,null,0,-1)},apply(e,t,r){return QB(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,i=r=="historyUndo"?NM:r=="historyRedo"?AM:null;return i?(t.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function _M(n,e){return(t,r)=>{let i=uc.getState(t);if(!i||(n?i.undone:i.done).eventCount==0)return!1;if(r){let o=ej(i,t,n);o&&r(e?o.scrollIntoView():o)}return!0}}const NM=_M(!1,!0),AM=_M(!0,!0),rj=Wr.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>NM(n,e),redo:()=>({state:n,dispatch:e})=>AM(n,e)}},addProseMirrorPlugins(){return[nj(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),ij=hr.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",Bn(this.options.HTMLAttributes,n)]},addCommands(){return{setHorizontalRule:()=>({chain:n,state:e})=>{if(!y2(e,e.schema.nodes[this.name]))return!1;const{selection:t}=e,{$from:r,$to:i}=t,o=n();return r.parentOffset===0?o.insertContentAt({from:Math.max(r.pos-1,0),to:i.pos},{type:this.name}):nM(t)?o.insertContentAt(i.pos,{type:this.name}):o.insertContent({type:this.name}),o.command(({tr:a,dispatch:c})=>{var f;if(c){const{$to:p}=a.selection,m=p.end();if(p.nodeAfter)p.nodeAfter.isTextblock?a.setSelection(Ht.create(a.doc,p.pos+1)):p.nodeAfter.isBlock?a.setSelection(kt.create(a.doc,p.pos)):a.setSelection(Ht.create(a.doc,p.pos));else{const v=(f=p.parent.type.contentMatch.defaultType)===null||f===void 0?void 0:f.create();v&&(a.insert(m,v),a.setSelection(Ht.create(a.doc,m+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[rM({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),oj=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,sj=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,aj=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,lj=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,uj=xs.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:n=>n.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",Bn(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[ad({find:oj,type:this.type}),ad({find:aj,type:this.type})]},addPasteRules(){return[mc({find:sj,type:this.type}),mc({find:lj,type:this.type})]}}),cj=hr.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",Bn(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),fj="listItem",DS="textStyle",PS=/^(\d+)\.\s$/,dj=hr.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:null,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:e,...t}=n;return e===1?["ol",Bn(this.options.HTMLAttributes,t),0]:["ol",Bn(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(fj,this.editor.getAttributes(DS)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=Dp({find:PS,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Dp({find:PS,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(DS)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[n]}}),hj=hr.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",Bn(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),pj=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,mj=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,gj=xs.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",Bn(this.options.HTMLAttributes,n),0]},addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[ad({find:pj,type:this.type})]},addPasteRules(){return[mc({find:mj,type:this.type})]}}),yj=hr.create({name:"text",group:"inline"}),vj=Wr.create({name:"starterKit",addExtensions(){const n=[];return this.options.bold!==!1&&n.push(MB.configure(this.options.bold)),this.options.blockquote!==!1&&n.push(bB.configure(this.options.blockquote)),this.options.bulletList!==!1&&n.push(RB.configure(this.options.bulletList)),this.options.code!==!1&&n.push(NB.configure(this.options.code)),this.options.codeBlock!==!1&&n.push(RM.configure(this.options.codeBlock)),this.options.document!==!1&&n.push(PB.configure(this.options.document)),this.options.dropcursor!==!1&&n.push(zB.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&n.push(VB.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&n.push(qB.configure(this.options.hardBreak)),this.options.heading!==!1&&n.push(GB.configure(this.options.heading)),this.options.history!==!1&&n.push(rj.configure(this.options.history)),this.options.horizontalRule!==!1&&n.push(ij.configure(this.options.horizontalRule)),this.options.italic!==!1&&n.push(uj.configure(this.options.italic)),this.options.listItem!==!1&&n.push(cj.configure(this.options.listItem)),this.options.orderedList!==!1&&n.push(dj.configure(this.options.orderedList)),this.options.paragraph!==!1&&n.push(hj.configure(this.options.paragraph)),this.options.strike!==!1&&n.push(gj.configure(this.options.strike)),this.options.text!==!1&&n.push(yj.configure(this.options.text)),n}}),wj=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,xj=hr.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:n}){return["img",Bn(this.options.HTMLAttributes,n)]},addCommands(){return{setImage:n=>({commands:e})=>e.insertContent({type:this.name,attrs:n})}},addInputRules(){return[rM({find:wj,type:this.type,getAttributes:n=>{const[,,e,t,r]=n;return{src:t,alt:e,title:r}}})]}});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DM=(...n)=>n.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ");/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=K.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...c},f)=>K.createElement("svg",{ref:f,...Sj,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:DM("lucide",i),...c},[...a.map(([p,m])=>K.createElement(p,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=(n,e)=>{const t=K.forwardRef(({className:r,...i},o)=>K.createElement(Ej,{ref:o,iconNode:e,className:DM(`lucide-${bj(n)}`,r),...i}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=Pn("AlignCenter",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"17",x2:"7",y1:"12",y2:"12",key:"rsh8ii"}],["line",{x1:"19",x2:"5",y1:"18",y2:"18",key:"1t0tuv"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=Pn("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=Pn("AlignRight",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}],["line",{x1:"21",x2:"7",y1:"18",y2:"18",key:"1g9eri"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=Pn("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=Pn("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=Pn("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=Pn("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=Pn("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=Pn("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=Pn("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=Pn("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=Pn("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=Pn("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=Pn("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=Pn("MessageSquareText",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M13 8H7",key:"14i4kc"}],["path",{d:"M17 12H7",key:"16if0g"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=Pn("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=Pn("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=Pn("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=Pn("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=Pn("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=Pn("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=Pn("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=Pn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=Pn("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=Pn("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=Pn("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=Pn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),dy=({editor:n,node:e,updateAttributes:t,deleteNode:r})=>{const{width:i,textAlign:o}=e.attrs,a=p=>{e.type.name==="iframe"?n.chain().focus().setIframeAlignment(p).run():t({textAlign:p})},c=p=>{t({width:p})},f=()=>{e.type.name==="iframe"?n.chain().focus().setIframeAlignment("left").run():t({textAlign:"left"})};return P.jsxs("div",{className:"media-menu",children:[P.jsx("button",{onClick:()=>c("100%"),className:i==="100%"?"is-active":"",children:"100%"}),P.jsx("button",{onClick:()=>c("75%"),className:i==="75%"?"is-active":"",children:"75%"}),P.jsx("button",{onClick:()=>c("50%"),className:i==="50%"?"is-active":"",children:"50%"}),P.jsx("button",{onClick:()=>c("25%"),className:i==="25%"?"is-active":"",children:"25%"}),P.jsx("button",{onClick:()=>c("100%"),title:"Original size",children:P.jsx(LS,{size:18})}),P.jsx("div",{className:"divider"}),P.jsx("button",{onClick:()=>a("left"),className:o==="left"?"is-active":"",children:P.jsx(LM,{size:18})}),P.jsx("button",{onClick:()=>a("center"),className:o==="center"?"is-active":"",children:P.jsx(PM,{size:18})}),P.jsx("button",{onClick:()=>a("right"),className:o==="right"?"is-active":"",children:P.jsx(IM,{size:18})}),P.jsx("button",{onClick:f,title:"Reset alignment",children:P.jsx(LS,{size:18})}),P.jsx("div",{className:"divider"}),P.jsx("button",{onClick:r,children:P.jsx(zM,{size:18})})]})},Wj=({node:n,updateAttributes:e,editor:t,deleteNode:r})=>{const{src:i,alt:o,width:a,textAlign:c}=n.attrs,f=t.isActive("image",{src:i}),p=()=>{switch(c){case"center":return"has-text-align-center";case"right":return"has-text-align-right";default:return"has-text-align-left"}};return P.jsxs(na,{className:`image-wrapper resizable ${p()}`,contentEditable:!1,suppressContentEditableWarning:!0,"data-drag-handle":!0,children:[P.jsx("div",{className:"drag-handle",contentEditable:!1,"data-drag-handle":!0,children:P.jsx(yc,{size:18})}),P.jsx("img",{src:i,alt:o,style:{width:a},className:`tiptap-image ${f?"ProseMirror-selectednode":""}`,contentEditable:!1,draggable:!1}),f&&P.jsx(dy,{editor:t,node:n,updateAttributes:e,deleteNode:r})]})},Vj=xj.extend({addAttributes(){var n;return{...(n=this.parent)==null?void 0:n.call(this),width:{default:"100%"},"data-float":{default:null}}},addNodeView(){return iu(Wj)},renderHTML({HTMLAttributes:n}){var r;const e=(r=this.parent)==null?void 0:r.call(this,{HTMLAttributes:n});if(!Array.isArray(e)||e[0]!=="img")return e;const{"data-float":t}=n;if(t){const i=n.style?n.style+";":"";n.style=`${i} float: ${t};`}return["img",Bn(this.options.HTMLAttributes,n)]}}),qj=xs.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["u",Bn(this.options.HTMLAttributes,n),0]},addCommands(){return{setUnderline:()=>({commands:n})=>n.setMark(this.name),toggleUnderline:()=>({commands:n})=>n.toggleMark(this.name),unsetUnderline:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),Gj="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",Kj="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",dd=(n,e)=>{for(const t in e)n[t]=e[t];return n},Pw="numeric",Lw="ascii",Iw="alpha",gp="asciinumeric",sp="alphanumeric",zw="domain",BM="emoji",Jj="scheme",Yj="slashscheme",$0="whitespace";function Xj(n,e){return n in e||(e[n]=[]),e[n]}function rc(n,e,t){e[Pw]&&(e[gp]=!0,e[sp]=!0),e[Lw]&&(e[gp]=!0,e[Iw]=!0),e[gp]&&(e[sp]=!0),e[Iw]&&(e[sp]=!0),e[sp]&&(e[zw]=!0),e[BM]&&(e[zw]=!0);for(const r in e){const i=Xj(r,t);i.indexOf(n)<0&&i.push(n)}}function Qj(n,e){const t={};for(const r in e)e[r].indexOf(n)>=0&&(t[r]=!0);return t}function Ki(n=null){this.j={},this.jr=[],this.jd=null,this.t=n}Ki.groups={};Ki.prototype={accepts(){return!!this.t},go(n){const e=this,t=e.j[n];if(t)return t;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],o=e.jr[r][1];if(o&&i.test(n))return o}return e.jd},has(n,e=!1){return e?n in this.j:!!this.go(n)},ta(n,e,t,r){for(let i=0;i<n.length;i++)this.tt(n[i],e,t,r)},tr(n,e,t,r){r=r||Ki.groups;let i;return e&&e.j?i=e:(i=new Ki(e),t&&r&&rc(e,t,r)),this.jr.push([n,i]),i},ts(n,e,t,r){let i=this;const o=n.length;if(!o)return i;for(let a=0;a<o-1;a++)i=i.tt(n[a]);return i.tt(n[o-1],e,t,r)},tt(n,e,t,r){r=r||Ki.groups;const i=this;if(e&&e.j)return i.j[n]=e,e;const o=e;let a,c=i.go(n);if(c?(a=new Ki,dd(a.j,c.j),a.jr.push.apply(a.jr,c.jr),a.jd=c.jd,a.t=c.t):a=new Ki,o){if(r)if(a.t&&typeof a.t=="string"){const f=dd(Qj(a.t,r),t);rc(o,f,r)}else t&&rc(o,t,r);a.t=o}return i.j[n]=a,a}};const Xt=(n,e,t,r,i)=>n.ta(e,t,r,i),ir=(n,e,t,r,i)=>n.tr(e,t,r,i),IS=(n,e,t,r,i)=>n.ts(e,t,r,i),He=(n,e,t,r,i)=>n.tt(e,t,r,i),Fa="WORD",Bw="UWORD",jM="ASCIINUMERICAL",FM="ALPHANUMERICAL",Ip="LOCALHOST",jw="TLD",Fw="UTLD",Vg="SCHEME",Yf="SLASH_SCHEME",Hx="NUM",Hw="WS",$x="NL",yp="OPENBRACE",vp="CLOSEBRACE",hy="OPENBRACKET",py="CLOSEBRACKET",my="OPENPAREN",gy="CLOSEPAREN",yy="OPENANGLEBRACKET",vy="CLOSEANGLEBRACKET",wy="FULLWIDTHLEFTPAREN",xy="FULLWIDTHRIGHTPAREN",by="LEFTCORNERBRACKET",Sy="RIGHTCORNERBRACKET",Ey="LEFTWHITECORNERBRACKET",ky="RIGHTWHITECORNERBRACKET",Cy="FULLWIDTHLESSTHAN",My="FULLWIDTHGREATERTHAN",Oy="AMPERSAND",Ry="APOSTROPHE",Ty="ASTERISK",Bl="AT",_y="BACKSLASH",Ny="BACKTICK",Ay="CARET",Hl="COLON",Ux="COMMA",Dy="DOLLAR",Gs="DOT",Py="EQUALS",Wx="EXCLAMATION",Ho="HYPHEN",wp="PERCENT",Ly="PIPE",Iy="PLUS",zy="POUND",xp="QUERY",Vx="QUOTE",HM="FULLWIDTHMIDDLEDOT",qx="SEMI",Ks="SLASH",bp="TILDE",By="UNDERSCORE",$M="EMOJI",jy="SYM";var UM=Object.freeze({__proto__:null,ALPHANUMERICAL:FM,AMPERSAND:Oy,APOSTROPHE:Ry,ASCIINUMERICAL:jM,ASTERISK:Ty,AT:Bl,BACKSLASH:_y,BACKTICK:Ny,CARET:Ay,CLOSEANGLEBRACKET:vy,CLOSEBRACE:vp,CLOSEBRACKET:py,CLOSEPAREN:gy,COLON:Hl,COMMA:Ux,DOLLAR:Dy,DOT:Gs,EMOJI:$M,EQUALS:Py,EXCLAMATION:Wx,FULLWIDTHGREATERTHAN:My,FULLWIDTHLEFTPAREN:wy,FULLWIDTHLESSTHAN:Cy,FULLWIDTHMIDDLEDOT:HM,FULLWIDTHRIGHTPAREN:xy,HYPHEN:Ho,LEFTCORNERBRACKET:by,LEFTWHITECORNERBRACKET:Ey,LOCALHOST:Ip,NL:$x,NUM:Hx,OPENANGLEBRACKET:yy,OPENBRACE:yp,OPENBRACKET:hy,OPENPAREN:my,PERCENT:wp,PIPE:Ly,PLUS:Iy,POUND:zy,QUERY:xp,QUOTE:Vx,RIGHTCORNERBRACKET:Sy,RIGHTWHITECORNERBRACKET:ky,SCHEME:Vg,SEMI:qx,SLASH:Ks,SLASH_SCHEME:Yf,SYM:jy,TILDE:bp,TLD:jw,UNDERSCORE:By,UTLD:Fw,UWORD:Bw,WORD:Fa,WS:Hw});const La=/[a-z]/,Uh=new RegExp("\\p{L}","u"),U0=new RegExp("\\p{Emoji}","u"),Ia=/\d/,W0=/\s/,zS="\r",V0=`
`,Zj="️",e3="‍",q0="￼";let Cg=null,Mg=null;function t3(n=[]){const e={};Ki.groups=e;const t=new Ki;Cg==null&&(Cg=BS(Gj)),Mg==null&&(Mg=BS(Kj)),He(t,"'",Ry),He(t,"{",yp),He(t,"}",vp),He(t,"[",hy),He(t,"]",py),He(t,"(",my),He(t,")",gy),He(t,"<",yy),He(t,">",vy),He(t,"（",wy),He(t,"）",xy),He(t,"「",by),He(t,"」",Sy),He(t,"『",Ey),He(t,"』",ky),He(t,"＜",Cy),He(t,"＞",My),He(t,"&",Oy),He(t,"*",Ty),He(t,"@",Bl),He(t,"`",Ny),He(t,"^",Ay),He(t,":",Hl),He(t,",",Ux),He(t,"$",Dy),He(t,".",Gs),He(t,"=",Py),He(t,"!",Wx),He(t,"-",Ho),He(t,"%",wp),He(t,"|",Ly),He(t,"+",Iy),He(t,"#",zy),He(t,"?",xp),He(t,'"',Vx),He(t,"/",Ks),He(t,";",qx),He(t,"~",bp),He(t,"_",By),He(t,"\\",_y),He(t,"・",HM);const r=ir(t,Ia,Hx,{[Pw]:!0});ir(r,Ia,r);const i=ir(r,La,jM,{[gp]:!0}),o=ir(r,Uh,FM,{[sp]:!0}),a=ir(t,La,Fa,{[Lw]:!0});ir(a,Ia,i),ir(a,La,a),ir(i,Ia,i),ir(i,La,i);const c=ir(t,Uh,Bw,{[Iw]:!0});ir(c,La),ir(c,Ia,o),ir(c,Uh,c),ir(o,Ia,o),ir(o,La),ir(o,Uh,o);const f=He(t,V0,$x,{[$0]:!0}),p=He(t,zS,Hw,{[$0]:!0}),m=ir(t,W0,Hw,{[$0]:!0});He(t,q0,m),He(p,V0,f),He(p,q0,m),ir(p,W0,m),He(m,zS),He(m,V0),ir(m,W0,m),He(m,q0,m);const v=ir(t,U0,$M,{[BM]:!0});He(v,"#"),ir(v,U0,v),He(v,Zj,v);const w=He(v,e3);He(w,"#"),ir(w,U0,v);const x=[[La,a],[Ia,i]],E=[[La,null],[Uh,c],[Ia,o]];for(let C=0;C<Cg.length;C++)_l(t,Cg[C],jw,Fa,x);for(let C=0;C<Mg.length;C++)_l(t,Mg[C],Fw,Bw,E);rc(jw,{tld:!0,ascii:!0},e),rc(Fw,{utld:!0,alpha:!0},e),_l(t,"file",Vg,Fa,x),_l(t,"mailto",Vg,Fa,x),_l(t,"http",Yf,Fa,x),_l(t,"https",Yf,Fa,x),_l(t,"ftp",Yf,Fa,x),_l(t,"ftps",Yf,Fa,x),rc(Vg,{scheme:!0,ascii:!0},e),rc(Yf,{slashscheme:!0,ascii:!0},e),n=n.sort((C,k)=>C[0]>k[0]?1:-1);for(let C=0;C<n.length;C++){const k=n[C][0],R=n[C][1]?{[Jj]:!0}:{[Yj]:!0};k.indexOf("-")>=0?R[zw]=!0:La.test(k)?Ia.test(k)?R[gp]=!0:R[Lw]=!0:R[Pw]=!0,IS(t,k,k,R)}return IS(t,"localhost",Ip,{ascii:!0}),t.jd=new Ki(jy),{start:t,tokens:dd({groups:e},UM)}}function WM(n,e){const t=n3(e.replace(/[A-Z]/g,c=>c.toLowerCase())),r=t.length,i=[];let o=0,a=0;for(;a<r;){let c=n,f=null,p=0,m=null,v=-1,w=-1;for(;a<r&&(f=c.go(t[a]));)c=f,c.accepts()?(v=0,w=0,m=c):v>=0&&(v+=t[a].length,w++),p+=t[a].length,o+=t[a].length,a++;o-=v,a-=w,p-=v,i.push({t:m.t,v:e.slice(o-p,o),s:o-p,e:o})}return i}function n3(n){const e=[],t=n.length;let r=0;for(;r<t;){let i=n.charCodeAt(r),o,a=i<55296||i>56319||r+1===t||(o=n.charCodeAt(r+1))<56320||o>57343?n[r]:n.slice(r,r+2);e.push(a),r+=a.length}return e}function _l(n,e,t,r,i){let o;const a=e.length;for(let c=0;c<a-1;c++){const f=e[c];n.j[f]?o=n.j[f]:(o=new Ki(r),o.jr=i.slice(),n.j[f]=o),n=o}return o=new Ki(t),o.jr=i.slice(),n.j[e[a-1]]=o,o}function BS(n){const e=[],t=[];let r=0,i="0123456789";for(;r<n.length;){let o=0;for(;i.indexOf(n[r+o])>=0;)o++;if(o>0){e.push(t.join(""));for(let a=parseInt(n.substring(r,r+o),10);a>0;a--)t.pop();r+=o}else t.push(n[r]),r++}return e}const zp={defaultProtocol:"http",events:null,format:jS,formatHref:jS,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Gx(n,e=null){let t=dd({},zp);n&&(t=dd(t,n instanceof Gx?n.o:n));const r=t.ignoreTags,i=[];for(let o=0;o<r.length;o++)i.push(r[o].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=i}Gx.prototype={o:zp,ignoreTags:[],defaultRender(n){return n},check(n){return this.get("validate",n.toString(),n)},get(n,e,t){const r=e!=null;let i=this.o[n];return i&&(typeof i=="object"?(i=t.t in i?i[t.t]:zp[n],typeof i=="function"&&r&&(i=i(e,t))):typeof i=="function"&&r&&(i=i(e,t.t,t)),i)},getObj(n,e,t){let r=this.o[n];return typeof r=="function"&&e!=null&&(r=r(e,t.t,t)),r},render(n){const e=n.render(this);return(this.get("render",null,n)||this.defaultRender)(e,n.t,n)}};function jS(n){return n}function VM(n,e){this.t="token",this.v=n,this.tk=e}VM.prototype={isLink:!1,toString(){return this.v},toHref(n){return this.toString()},toFormattedString(n){const e=this.toString(),t=n.get("truncate",e,this),r=n.get("format",e,this);return t&&r.length>t?r.substring(0,t)+"…":r},toFormattedHref(n){return n.get("formatHref",this.toHref(n.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(n=zp.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(n),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(n){return{type:this.t,value:this.toFormattedString(n),isLink:this.isLink,href:this.toFormattedHref(n),start:this.startIndex(),end:this.endIndex()}},validate(n){return n.get("validate",this.toString(),this)},render(n){const e=this,t=this.toHref(n.get("defaultProtocol")),r=n.get("formatHref",t,this),i=n.get("tagName",t,e),o=this.toFormattedString(n),a={},c=n.get("className",t,e),f=n.get("target",t,e),p=n.get("rel",t,e),m=n.getObj("attributes",t,e),v=n.getObj("events",t,e);return a.href=r,c&&(a.class=c),f&&(a.target=f),p&&(a.rel=p),m&&dd(a,m),{tagName:i,attributes:a,content:o,eventListeners:v}}};function av(n,e){class t extends VM{constructor(i,o){super(i,o),this.t=n}}for(const r in e)t.prototype[r]=e[r];return t.t=n,t}const FS=av("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),HS=av("text"),r3=av("nl"),Og=av("url",{isLink:!0,toHref(n=zp.defaultProtocol){return this.hasProtocol()?this.v:`${n}://${this.v}`},hasProtocol(){const n=this.tk;return n.length>=2&&n[0].t!==Ip&&n[1].t===Hl}}),Fo=n=>new Ki(n);function i3({groups:n}){const e=n.domain.concat([Oy,Ty,Bl,_y,Ny,Ay,Dy,Py,Ho,Hx,wp,Ly,Iy,zy,Ks,jy,bp,By]),t=[Ry,Hl,Ux,Gs,Wx,wp,xp,Vx,qx,yy,vy,yp,vp,py,hy,my,gy,wy,xy,by,Sy,Ey,ky,Cy,My],r=[Oy,Ry,Ty,_y,Ny,Ay,Dy,Py,Ho,yp,vp,wp,Ly,Iy,zy,xp,Ks,jy,bp,By],i=Fo(),o=He(i,bp);Xt(o,r,o),Xt(o,n.domain,o);const a=Fo(),c=Fo(),f=Fo();Xt(i,n.domain,a),Xt(i,n.scheme,c),Xt(i,n.slashscheme,f),Xt(a,r,o),Xt(a,n.domain,a);const p=He(a,Bl);He(o,Bl,p),He(c,Bl,p),He(f,Bl,p);const m=He(o,Gs);Xt(m,r,o),Xt(m,n.domain,o);const v=Fo();Xt(p,n.domain,v),Xt(v,n.domain,v);const w=He(v,Gs);Xt(w,n.domain,v);const x=Fo(FS);Xt(w,n.tld,x),Xt(w,n.utld,x),He(p,Ip,x);const E=He(v,Ho);He(E,Ho,E),Xt(E,n.domain,v),Xt(x,n.domain,v),He(x,Gs,w),He(x,Ho,E);const C=He(x,Hl);Xt(C,n.numeric,FS);const k=He(a,Ho),S=He(a,Gs);He(k,Ho,k),Xt(k,n.domain,a),Xt(S,r,o),Xt(S,n.domain,a);const R=Fo(Og);Xt(S,n.tld,R),Xt(S,n.utld,R),Xt(R,n.domain,a),Xt(R,r,o),He(R,Gs,S),He(R,Ho,k),He(R,Bl,p);const N=He(R,Hl),T=Fo(Og);Xt(N,n.numeric,T);const D=Fo(Og),_=Fo();Xt(D,e,D),Xt(D,t,_),Xt(_,e,D),Xt(_,t,_),He(R,Ks,D),He(T,Ks,D);const L=He(c,Hl),z=He(f,Hl),W=He(z,Ks),se=He(W,Ks);Xt(c,n.domain,a),He(c,Gs,S),He(c,Ho,k),Xt(f,n.domain,a),He(f,Gs,S),He(f,Ho,k),Xt(L,n.domain,D),He(L,Ks,D),He(L,xp,D),Xt(se,n.domain,D),Xt(se,e,D),He(se,Ks,D);const xe=[[yp,vp],[hy,py],[my,gy],[yy,vy],[wy,xy],[by,Sy],[Ey,ky],[Cy,My]];for(let ye=0;ye<xe.length;ye++){const[Ce,Ee]=xe[ye],ue=He(D,Ce);He(_,Ce,ue),He(ue,Ee,D);const de=Fo(Og);Xt(ue,e,de);const V=Fo();Xt(ue,t),Xt(de,e,de),Xt(de,t,V),Xt(V,e,de),Xt(V,t,V),He(de,Ee,D),He(V,Ee,D)}return He(i,Ip,R),He(i,$x,r3),{start:i,tokens:UM}}function o3(n,e,t){let r=t.length,i=0,o=[],a=[];for(;i<r;){let c=n,f=null,p=null,m=0,v=null,w=-1;for(;i<r&&!(f=c.go(t[i].t));)a.push(t[i++]);for(;i<r&&(p=f||c.go(t[i].t));)f=null,c=p,c.accepts()?(w=0,v=c):w>=0&&w++,i++,m++;if(w<0)i-=m,i<r&&(a.push(t[i]),i++);else{a.length>0&&(o.push(G0(HS,e,a)),a=[]),i-=w,m-=w;const x=v.t,E=t.slice(i-m,i);o.push(G0(x,e,E))}}return a.length>0&&o.push(G0(HS,e,a)),o}function G0(n,e,t){const r=t[0].s,i=t[t.length-1].e,o=e.slice(r,i);return new n(o,t)}const s3=typeof console<"u"&&console&&console.warn||(()=>{}),a3="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Hn={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function l3(){return Ki.groups={},Hn.scanner=null,Hn.parser=null,Hn.tokenQueue=[],Hn.pluginQueue=[],Hn.customSchemes=[],Hn.initialized=!1,Hn}function $S(n,e=!1){if(Hn.initialized&&s3(`linkifyjs: already initialized - will not register custom scheme "${n}" ${a3}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(n))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Hn.customSchemes.push([n,e])}function u3(){Hn.scanner=t3(Hn.customSchemes);for(let n=0;n<Hn.tokenQueue.length;n++)Hn.tokenQueue[n][1]({scanner:Hn.scanner});Hn.parser=i3(Hn.scanner.tokens);for(let n=0;n<Hn.pluginQueue.length;n++)Hn.pluginQueue[n][1]({scanner:Hn.scanner,parser:Hn.parser});return Hn.initialized=!0,Hn}function Kx(n){return Hn.initialized||u3(),o3(Hn.parser.start,n,WM(Hn.scanner.start,n))}Kx.scan=WM;function qM(n,e=null,t=null){if(e&&typeof e=="object"){if(t)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);t=e,e=null}const r=new Gx(t),i=Kx(n),o=[];for(let a=0;a<i.length;a++){const c=i[a];c.isLink&&(!e||c.t===e)&&r.check(c)&&o.push(c.toFormattedObject(r))}return o}function c3(n){return n.length===1?n[0].isLink:n.length===3&&n[1].isLink?["()","[]"].includes(n[0].value+n[2].value):!1}function f3(n){return new Tr({key:new Ti("autolink"),appendTransaction:(e,t,r)=>{const i=e.some(p=>p.docChanged)&&!t.doc.eq(r.doc),o=e.some(p=>p.getMeta("preventAutolink"));if(!i||o)return;const{tr:a}=r,c=RI(t.doc,[...e]);if(II(c).forEach(({newRange:p})=>{const m=_I(r.doc,p,x=>x.isTextblock);let v,w;if(m.length>1?(v=m[0],w=r.doc.textBetween(v.pos,v.pos+v.node.nodeSize,void 0," ")):m.length&&r.doc.textBetween(p.from,p.to," "," ").endsWith(" ")&&(v=m[0],w=r.doc.textBetween(v.pos,p.to,void 0," ")),v&&w){const x=w.split(" ").filter(S=>S!=="");if(x.length<=0)return!1;const E=x[x.length-1],C=v.pos+w.lastIndexOf(E);if(!E)return!1;const k=Kx(E).map(S=>S.toObject(n.defaultProtocol));if(!c3(k))return!1;k.filter(S=>S.isLink).map(S=>({...S,from:C+S.start+1,to:C+S.end+1})).filter(S=>r.schema.marks.code?!r.doc.rangeHasMark(S.from,S.to,r.schema.marks.code):!0).filter(S=>n.validate(S.value)).filter(S=>n.shouldAutoLink(S.value)).forEach(S=>{Ox(S.from,S.to,r.doc).some(R=>R.mark.type===n.type)||a.addMark(S.from,S.to,n.type.create({href:S.href}))})}}),!!a.steps.length)return a}})}function d3(n){return new Tr({key:new Ti("handleClickLink"),props:{handleClick:(e,t,r)=>{var i,o;if(r.button!==0||!e.editable)return!1;let a=r.target;const c=[];for(;a.nodeName!=="DIV";)c.push(a),a=a.parentNode;if(!c.find(w=>w.nodeName==="A"))return!1;const f=tM(e.state,n.type.name),p=r.target,m=(i=p==null?void 0:p.href)!==null&&i!==void 0?i:f.href,v=(o=p==null?void 0:p.target)!==null&&o!==void 0?o:f.target;return p&&m?(window.open(m,v),!0):!1}}})}function h3(n){return new Tr({key:new Ti("handlePasteLink"),props:{handlePaste:(e,t,r)=>{const{state:i}=e,{selection:o}=i,{empty:a}=o;if(a)return!1;let c="";r.content.forEach(p=>{c+=p.textContent});const f=qM(c,{defaultProtocol:n.defaultProtocol}).find(p=>p.isLink&&p.value===c);return!c||!f?!1:n.editor.commands.setMark(n.type,{href:f.href})}}})}const p3=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function Gu(n,e){const t=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&t.push(i)}),!n||n.replace(p3,"").match(new RegExp(`^(?:(?:${t.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}const m3=xs.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(n=>{if(typeof n=="string"){$S(n);return}$S(n.scheme,n.optionalSlashes)})},onDestroy(){l3()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(n,e)=>!!Gu(n,e.protocols),validate:n=>!!n,shouldAutoLink:n=>!!n}},addAttributes(){return{href:{default:null,parseHTML(n){return n.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:n=>{const e=n.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:t=>!!Gu(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:n}){return this.options.isAllowedUri(n.href,{defaultValidate:e=>!!Gu(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Bn(this.options.HTMLAttributes,n),0]:["a",Bn(this.options.HTMLAttributes,{...n,href:""}),0]},addCommands(){return{setLink:n=>({chain:e})=>{const{href:t}=n;return this.options.isAllowedUri(t,{defaultValidate:r=>!!Gu(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,n).setMeta("preventAutolink",!0).run():!1},toggleLink:n=>({chain:e})=>{const{href:t}=n;return this.options.isAllowedUri(t,{defaultValidate:r=>!!Gu(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().toggleMark(this.name,n,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run():!1},unsetLink:()=>({chain:n})=>n().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[mc({find:n=>{const e=[];if(n){const{protocols:t,defaultProtocol:r}=this.options,i=qM(n).filter(o=>o.isLink&&this.options.isAllowedUri(o.value,{defaultValidate:a=>!!Gu(a,t),protocols:t,defaultProtocol:r}));i.length&&i.forEach(o=>e.push({text:o.value,data:{href:o.href},index:o.start}))}return e},type:this.type,getAttributes:n=>{var e;return{href:(e=n.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const n=[],{protocols:e,defaultProtocol:t}=this.options;return this.options.autolink&&n.push(f3({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!Gu(i,e),protocols:e,defaultProtocol:t}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&n.push(d3({type:this.type})),this.options.linkOnPaste&&n.push(h3({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),n}}),g3=Wr.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:n=>{const e=n.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:n=>n.textAlign?{style:`text-align: ${n.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:n=>({commands:e})=>this.options.alignments.includes(n)?this.options.types.map(t=>e.updateAttributes(t,{textAlign:n})).every(t=>t):!1,unsetTextAlign:()=>({commands:n})=>this.options.types.map(e=>n.resetAttributes(e,"textAlign")).every(e=>e),toggleTextAlign:n=>({editor:e,commands:t})=>this.options.alignments.includes(n)?e.isActive({textAlign:n})?t.unsetTextAlign():t.setTextAlign(n):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),y3=n=>{if(!n.children.length)return;const e=n.querySelectorAll("span");e&&e.forEach(t=>{var r,i;const o=t.getAttribute("style"),a=(i=(r=t.parentElement)===null||r===void 0?void 0:r.closest("span"))===null||i===void 0?void 0:i.getAttribute("style");t.setAttribute("style",`${a};${o}`)})},v3=xs.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!1}},parseHTML(){return[{tag:"span",getAttrs:n=>n.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&y3(n),{}):!1}]},renderHTML({HTMLAttributes:n}){return["span",Bn(this.options.HTMLAttributes,n),0]},addCommands(){return{removeEmptyTextStyle:()=>({tr:n})=>{const{selection:e}=n;return n.doc.nodesBetween(e.from,e.to,(t,r)=>{if(t.isTextblock)return!0;t.marks.filter(i=>i.type===this.type).some(i=>Object.values(i.attrs).some(o=>!!o))||n.removeMark(r,r+t.nodeSize,this.type)}),!0}}}}),w3=({editor:n,node:e,updateAttributes:t,selected:r,deleteNode:i})=>{const{src:o,width:a,textAlign:c="center"}=e.attrs,f={width:a,marginTop:"1rem",marginBottom:"1rem",marginLeft:"auto",marginRight:"auto"};return c==="left"?f.marginLeft="0":c==="right"&&(f.marginRight="0"),o?P.jsxs(na,{className:"content-item-wrapper",contentEditable:!1,suppressContentEditableWarning:!0,children:[P.jsx("div",{className:"drag-handle",contentEditable:!1,"data-drag-handle":!0,children:P.jsx(yc,{size:18})}),P.jsxs("div",{className:"iframe-container",style:f,children:[r&&P.jsx(dy,{editor:n,node:e,updateAttributes:t,deleteNode:i}),P.jsxs("div",{className:"iframe-wrapper",children:[P.jsx("div",{className:"click-interceptor",contentEditable:!1}),P.jsx("iframe",{className:"iframe-content",src:o,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,contentEditable:!1})]})]})]}):P.jsx(na,{contentEditable:!1,suppressContentEditableWarning:!0,children:P.jsxs("div",{style:{border:"2px solid red",padding:"10px",backgroundColor:"#fff0f0"},children:[P.jsx("h4",{children:"Iframe 렌더링 오류: SRC 주소 없음"}),P.jsxs("p",{children:["전달된 속성: ",JSON.stringify(e.attrs)]})]})})},x3=hr.create({name:"iframe",group:"block",atom:!0,draggable:!0,addAttributes(){return{src:{default:null},width:{default:"100%"},textAlign:{default:"center"},frameborder:{default:0},allowfullscreen:{default:!0},allow:{default:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"},referrerpolicy:{default:"strict-origin-when-cross-origin"}}},parseHTML(){return[{tag:"iframe[src]"}]},renderHTML({HTMLAttributes:n}){const{width:e,textAlign:t,...r}=n,i=[`width: ${e||"100%"}`];return t==="center"?i.push("margin-left: auto","margin-right: auto"):t==="right"?i.push("margin-left: auto","margin-right: 0"):i.push("margin-left: 0","margin-right: auto"),["div",{class:"iframe-wrapper",style:i.join("; ")},["iframe",r]]},addNodeView(){return iu(w3)},addCommands(){return{setIframe:n=>({commands:e})=>e.insertContent({type:this.name,attrs:n}),setIframeAlignment:n=>({commands:e})=>e.updateAttributes(this.name,{textAlign:n})}}}),b3=({editor:n,node:e,updateAttributes:t,selected:r,deleteNode:i})=>{const{src:o,width:a,textAlign:c="left"}=e.attrs;console.log("VideoComponent rendered with attrs:",e.attrs),console.log("VideoComponent src:",o),console.log("VideoComponent src type:",typeof o);const p=(()=>{switch(c){case"center":return"has-text-align-center";case"right":return"has-text-align-right";default:return"has-text-align-left"}})(),m=w=>{console.error("Video failed to load:",o,w),console.error("Video src type:",typeof o),console.error("Video src value:",o)},v=()=>{console.log("Video loaded successfully:",o)};return!o||o==="[]"||o.trim()===""?P.jsxs(na,{className:`content-item-wrapper ${p}`,contentEditable:!1,suppressContentEditableWarning:!0,children:[P.jsx("div",{className:"drag-handle",contentEditable:!1,children:P.jsx(yc,{size:18})}),P.jsxs("div",{className:`video-container ${p}`,style:{width:a},children:[r&&P.jsx(dy,{editor:n,node:e,updateAttributes:t,deleteNode:i}),P.jsx("div",{className:"video-wrapper",children:P.jsxs("div",{style:{border:"2px solid red",padding:"20px",backgroundColor:"#fff0f0",textAlign:"center"},children:[P.jsx("h4",{children:"비디오 로드 오류"}),P.jsx("p",{children:"비디오 소스가 유효하지 않습니다."}),P.jsxs("p",{children:["src: ",o]})]})})]})]}):P.jsxs(na,{className:`content-item-wrapper ${p}`,contentEditable:!1,suppressContentEditableWarning:!0,children:[P.jsx("div",{className:"drag-handle",contentEditable:!1,children:P.jsx(yc,{size:18})}),P.jsxs("div",{className:`video-container ${p}`,style:{width:a},children:[r&&P.jsx(dy,{editor:n,node:e,updateAttributes:t,deleteNode:i}),P.jsxs("div",{className:"video-wrapper",children:[P.jsx("div",{className:"click-interceptor",contentEditable:!1,"data-drag-handle":!0}),P.jsx("video",{src:o,controls:!0,onError:m,onLoadedData:v,preload:"metadata",contentEditable:!1})]})]})]})},S3=hr.create({name:"video",group:"block",atom:!0,draggable:!0,addAttributes(){return{src:{default:null},width:{default:"100%"},textAlign:{default:"left"}}},parseHTML(){return[{tag:"video"}]},renderHTML({HTMLAttributes:n}){return["video",Bn(n,{controls:"true"})]},addNodeView(){return iu(b3)},addCommands(){return{setVideo:n=>({commands:e})=>e.insertContent({type:this.name,attrs:n})}}}),E3=({node:n})=>{const{src:e}=n.attrs;return P.jsxs(na,{className:"content-item-wrapper",contentEditable:!1,suppressContentEditableWarning:!0,children:[P.jsx("div",{className:"drag-handle",contentEditable:!1,"data-drag-handle":!0,children:P.jsx(yc,{size:18})}),P.jsx("div",{className:"audio-wrapper",children:P.jsx("audio",{src:e,controls:!0,contentEditable:!1})})]})},k3=hr.create({name:"audio",group:"block",atom:!0,draggable:!0,addAttributes(){return{src:{default:null},width:{default:"100%"}}},parseHTML(){return[{tag:"audio"}]},renderHTML({HTMLAttributes:n}){return["audio",Bn(n,{controls:"true"})]},addNodeView(){return iu(E3)},addCommands(){return{setAudio:n=>({commands:e})=>e.insertContent({type:this.name,attrs:n})}}});var K0={exports:{}},Wh={},ap={exports:{}},C3=ap.exports,US;function Jx(){return US||(US=1,function(n,e){(function(t,r){r(e)})(C3,function(t){function r(ke){return function(qe,Y,U,ne,ie,Fe,Oe){return ke(qe,Y,Oe)}}function i(ke){return function(qe,Y,U,ne){if(!qe||!Y||typeof qe!="object"||typeof Y!="object")return ke(qe,Y,U,ne);var ie=ne.get(qe),Fe=ne.get(Y);if(ie&&Fe)return ie===Y&&Fe===qe;ne.set(qe,Y),ne.set(Y,qe);var Oe=ke(qe,Y,U,ne);return ne.delete(qe),ne.delete(Y),Oe}}function o(ke,Be){var qe={};for(var Y in ke)qe[Y]=ke[Y];for(var Y in Be)qe[Y]=Be[Y];return qe}function a(ke){return ke.constructor===Object||ke.constructor==null}function c(ke){return typeof ke.then=="function"}function f(ke,Be){return ke===Be||ke!==ke&&Be!==Be}var p="[object Arguments]",m="[object Boolean]",v="[object Date]",w="[object RegExp]",x="[object Map]",E="[object Number]",C="[object Object]",k="[object Set]",S="[object String]",R=Object.prototype.toString;function N(ke){var Be=ke.areArraysEqual,qe=ke.areDatesEqual,Y=ke.areMapsEqual,U=ke.areObjectsEqual,ne=ke.areRegExpsEqual,ie=ke.areSetsEqual,Fe=ke.createIsNestedEqual,Oe=Fe(Ge);function Ge(Je,_e,ct){if(Je===_e)return!0;if(!Je||!_e||typeof Je!="object"||typeof _e!="object")return Je!==Je&&_e!==_e;if(a(Je)&&a(_e))return U(Je,_e,Oe,ct);var Xe=Array.isArray(Je),ft=Array.isArray(_e);if(Xe||ft)return Xe===ft&&Be(Je,_e,Oe,ct);var _t=R.call(Je);return _t!==R.call(_e)?!1:_t===v?qe(Je,_e,Oe,ct):_t===w?ne(Je,_e,Oe,ct):_t===x?Y(Je,_e,Oe,ct):_t===k?ie(Je,_e,Oe,ct):_t===C||_t===p?c(Je)||c(_e)?!1:U(Je,_e,Oe,ct):_t===m||_t===E||_t===S?f(Je.valueOf(),_e.valueOf()):!1}return Ge}function T(ke,Be,qe,Y){var U=ke.length;if(Be.length!==U)return!1;for(;U-- >0;)if(!qe(ke[U],Be[U],U,U,ke,Be,Y))return!1;return!0}var D=i(T);function _(ke,Be){return f(ke.valueOf(),Be.valueOf())}function L(ke,Be,qe,Y){var U=ke.size===Be.size;if(!U)return!1;if(!ke.size)return!0;var ne={},ie=0;return ke.forEach(function(Fe,Oe){if(U){var Ge=!1,Je=0;Be.forEach(function(_e,ct){!Ge&&!ne[Je]&&(Ge=qe(Oe,ct,ie,Je,ke,Be,Y)&&qe(Fe,_e,Oe,ct,ke,Be,Y))&&(ne[Je]=!0),Je++}),ie++,U=Ge}}),U}var z=i(L),W="_owner",se=Object.prototype.hasOwnProperty;function xe(ke,Be,qe,Y){var U=Object.keys(ke),ne=U.length;if(Object.keys(Be).length!==ne)return!1;for(var ie;ne-- >0;){if(ie=U[ne],ie===W){var Fe=!!ke.$$typeof,Oe=!!Be.$$typeof;if((Fe||Oe)&&Fe!==Oe)return!1}if(!se.call(Be,ie)||!qe(ke[ie],Be[ie],ie,ie,ke,Be,Y))return!1}return!0}var ye=i(xe);function Ce(ke,Be){return ke.source===Be.source&&ke.flags===Be.flags}function Ee(ke,Be,qe,Y){var U=ke.size===Be.size;if(!U)return!1;if(!ke.size)return!0;var ne={};return ke.forEach(function(ie,Fe){if(U){var Oe=!1,Ge=0;Be.forEach(function(Je,_e){!Oe&&!ne[Ge]&&(Oe=qe(ie,Je,Fe,_e,ke,Be,Y))&&(ne[Ge]=!0),Ge++}),U=Oe}}),U}var ue=i(Ee),de=Object.freeze({areArraysEqual:T,areDatesEqual:_,areMapsEqual:L,areObjectsEqual:xe,areRegExpsEqual:Ce,areSetsEqual:Ee,createIsNestedEqual:r}),V=Object.freeze({areArraysEqual:D,areDatesEqual:_,areMapsEqual:z,areObjectsEqual:ye,areRegExpsEqual:Ce,areSetsEqual:ue,createIsNestedEqual:r}),F=N(de);function pe(ke,Be){return F(ke,Be,void 0)}var he=N(o(de,{createIsNestedEqual:function(){return f}}));function H(ke,Be){return he(ke,Be,void 0)}var ce=N(V);function Te(ke,Be){return ce(ke,Be,new WeakMap)}var $e=N(o(V,{createIsNestedEqual:function(){return f}}));function Ve(ke,Be){return $e(ke,Be,new WeakMap)}function Qe(ke){return N(o(de,ke(de)))}function ut(ke){var Be=N(o(V,ke(V)));return function(qe,Y,U){return U===void 0&&(U=new WeakMap),Be(qe,Y,U)}}t.circularDeepEqual=Te,t.circularShallowEqual=Ve,t.createCustomCircularEqual=ut,t.createCustomEqual=Qe,t.deepEqual=pe,t.sameValueZeroEqual=f,t.shallowEqual=H,Object.defineProperty(t,"__esModule",{value:!0})})}(ap,ap.exports)),ap.exports}var Rg={exports:{}},WS;function Yx(){if(WS)return Rg.exports;WS=1;function n(t){var r,i,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(r=0;r<a;r++)t[r]&&(i=n(t[r]))&&(o&&(o+=" "),o+=i)}else for(i in t)t[i]&&(o&&(o+=" "),o+=i);return o}function e(){for(var t,r,i=0,o="",a=arguments.length;i<a;i++)(t=arguments[i])&&(r=n(t))&&(o&&(o+=" "),o+=r);return o}return Rg.exports=e,Rg.exports.clsx=e,Rg.exports}var yn={},J0,VS;function M3(){return VS||(VS=1,J0=function(e,t,r){return e===t?!0:e.className===t.className&&r(e.style,t.style)&&e.width===t.width&&e.autoSize===t.autoSize&&e.cols===t.cols&&e.draggableCancel===t.draggableCancel&&e.draggableHandle===t.draggableHandle&&r(e.verticalCompact,t.verticalCompact)&&r(e.compactType,t.compactType)&&r(e.layout,t.layout)&&r(e.margin,t.margin)&&r(e.containerPadding,t.containerPadding)&&e.rowHeight===t.rowHeight&&e.maxRows===t.maxRows&&e.isBounded===t.isBounded&&e.isDraggable===t.isDraggable&&e.isResizable===t.isResizable&&e.allowOverlap===t.allowOverlap&&e.preventCollision===t.preventCollision&&e.useCSSTransforms===t.useCSSTransforms&&e.transformScale===t.transformScale&&e.isDroppable===t.isDroppable&&r(e.resizeHandles,t.resizeHandles)&&r(e.resizeHandle,t.resizeHandle)&&e.onLayoutChange===t.onLayoutChange&&e.onDragStart===t.onDragStart&&e.onDrag===t.onDrag&&e.onDragStop===t.onDragStop&&e.onResizeStart===t.onResizeStart&&e.onResize===t.onResize&&e.onResizeStop===t.onResizeStop&&e.onDrop===t.onDrop&&r(e.droppingItem,t.droppingItem)&&r(e.innerRef,t.innerRef)}),J0}var qS;function gd(){if(qS)return yn;qS=1,Object.defineProperty(yn,"__esModule",{value:!0}),yn.bottom=r,yn.childrenEqual=f,yn.cloneLayout=i,yn.cloneLayoutItem=c,yn.collides=m,yn.compact=v,yn.compactItem=E,yn.compactType=ke,yn.correctBounds=C,yn.fastPositionEqual=p,yn.fastRGLPropsEqual=void 0,yn.getAllCollisions=R,yn.getFirstCollision=S,yn.getLayoutItem=k,yn.getStatics=N,yn.modifyLayout=o,yn.moveElement=T,yn.moveElementAwayFromCollision=D,yn.noop=void 0,yn.perc=_,yn.resizeItemInDirection=he,yn.setTopLeft=ce,yn.setTransform=H,yn.sortLayoutItems=Te,yn.sortLayoutItemsByColRow=Ve,yn.sortLayoutItemsByRowCol=$e,yn.synchronizeLayoutWithChildren=Qe,yn.validateLayout=ut,yn.withLayoutItem=a;var n=Jx(),e=t(Qi());function t(Y){return Y&&Y.__esModule?Y:{default:Y}}function r(Y){let U=0,ne;for(let ie=0,Fe=Y.length;ie<Fe;ie++)ne=Y[ie].y+Y[ie].h,ne>U&&(U=ne);return U}function i(Y){const U=Array(Y.length);for(let ne=0,ie=Y.length;ne<ie;ne++)U[ne]=c(Y[ne]);return U}function o(Y,U){const ne=Array(Y.length);for(let ie=0,Fe=Y.length;ie<Fe;ie++)U.i===Y[ie].i?ne[ie]=U:ne[ie]=Y[ie];return ne}function a(Y,U,ne){let ie=k(Y,U);return ie?(ie=ne(c(ie)),Y=o(Y,ie),[Y,ie]):[Y,null]}function c(Y){return{w:Y.w,h:Y.h,x:Y.x,y:Y.y,i:Y.i,minW:Y.minW,maxW:Y.maxW,minH:Y.minH,maxH:Y.maxH,moved:!!Y.moved,static:!!Y.static,isDraggable:Y.isDraggable,isResizable:Y.isResizable,resizeHandles:Y.resizeHandles,isBounded:Y.isBounded}}function f(Y,U){return(0,n.deepEqual)(e.default.Children.map(Y,ne=>ne==null?void 0:ne.key),e.default.Children.map(U,ne=>ne==null?void 0:ne.key))&&(0,n.deepEqual)(e.default.Children.map(Y,ne=>ne==null?void 0:ne.props["data-grid"]),e.default.Children.map(U,ne=>ne==null?void 0:ne.props["data-grid"]))}yn.fastRGLPropsEqual=M3();function p(Y,U){return Y.left===U.left&&Y.top===U.top&&Y.width===U.width&&Y.height===U.height}function m(Y,U){return!(Y.i===U.i||Y.x+Y.w<=U.x||Y.x>=U.x+U.w||Y.y+Y.h<=U.y||Y.y>=U.y+U.h)}function v(Y,U,ne,ie){const Fe=N(Y),Oe=Te(Y,U),Ge=Array(Y.length);for(let Je=0,_e=Oe.length;Je<_e;Je++){let ct=c(Oe[Je]);ct.static||(ct=E(Fe,ct,U,ne,Oe,ie),Fe.push(ct)),Ge[Y.indexOf(Oe[Je])]=ct,ct.moved=!1}return Ge}const w={x:"w",y:"h"};function x(Y,U,ne,ie){const Fe=w[ie];U[ie]+=1;const Oe=Y.map(Ge=>Ge.i).indexOf(U.i);for(let Ge=Oe+1;Ge<Y.length;Ge++){const Je=Y[Ge];if(!Je.static){if(Je.y>U.y+U.h)break;m(U,Je)&&x(Y,Je,ne+U[Fe],ie)}}U[ie]=ne}function E(Y,U,ne,ie,Fe,Oe){const Ge=ne==="vertical",Je=ne==="horizontal";if(Ge)for(U.y=Math.min(r(Y),U.y);U.y>0&&!S(Y,U);)U.y--;else if(Je)for(;U.x>0&&!S(Y,U);)U.x--;let _e;for(;(_e=S(Y,U))&&!(ne===null&&Oe);)if(Je?x(Fe,U,_e.x+_e.w,"x"):x(Fe,U,_e.y+_e.h,"y"),Je&&U.x+U.w>ie)for(U.x=ie-U.w,U.y++;U.x>0&&!S(Y,U);)U.x--;return U.y=Math.max(U.y,0),U.x=Math.max(U.x,0),U}function C(Y,U){const ne=N(Y);for(let ie=0,Fe=Y.length;ie<Fe;ie++){const Oe=Y[ie];if(Oe.x+Oe.w>U.cols&&(Oe.x=U.cols-Oe.w),Oe.x<0&&(Oe.x=0,Oe.w=U.cols),!Oe.static)ne.push(Oe);else for(;S(ne,Oe);)Oe.y++}return Y}function k(Y,U){for(let ne=0,ie=Y.length;ne<ie;ne++)if(Y[ne].i===U)return Y[ne]}function S(Y,U){for(let ne=0,ie=Y.length;ne<ie;ne++)if(m(Y[ne],U))return Y[ne]}function R(Y,U){return Y.filter(ne=>m(ne,U))}function N(Y){return Y.filter(U=>U.static)}function T(Y,U,ne,ie,Fe,Oe,Ge,Je,_e){if(U.static&&U.isDraggable!==!0||U.y===ie&&U.x===ne)return Y;`${U.i}${String(ne)}${String(ie)}${U.x}${U.y}`;const ct=U.x,Xe=U.y;typeof ne=="number"&&(U.x=ne),typeof ie=="number"&&(U.y=ie),U.moved=!0;let ft=Te(Y,Ge);(Ge==="vertical"&&typeof ie=="number"?Xe>=ie:Ge==="horizontal"&&typeof ne=="number"?ct>=ne:!1)&&(ft=ft.reverse());const Qt=R(ft,U),Cn=Qt.length>0;if(Cn&&_e)return i(Y);if(Cn&&Oe)return`${U.i}`,U.x=ct,U.y=Xe,U.moved=!1,Y;for(let vn=0,Ae=Qt.length;vn<Ae;vn++){const We=Qt[vn];`${U.i}${U.x}${U.y}${We.i}${We.x}${We.y}`,!We.moved&&(We.static?Y=D(Y,We,U,Fe,Ge):Y=D(Y,U,We,Fe,Ge))}return Y}function D(Y,U,ne,ie,Fe,Oe){const Ge=Fe==="horizontal",Je=Fe==="vertical",_e=U.static;if(ie){ie=!1;const ft={x:Ge?Math.max(U.x-ne.w,0):ne.x,y:Je?Math.max(U.y-ne.h,0):ne.y,w:ne.w,h:ne.h,i:"-1"},_t=S(Y,ft),Qt=_t&&_t.y+_t.h>U.y,Cn=_t&&U.x+U.w>_t.x;if(_t){if(Qt&&Je)return T(Y,ne,void 0,U.y+1,ie,_e,Fe);if(Qt&&Fe==null)return U.y=ne.y,ne.y=ne.y+ne.h,Y;if(Cn&&Ge)return T(Y,U,ne.x,void 0,ie,_e,Fe)}else return`${ne.i}${ft.x}${ft.y}`,T(Y,ne,Ge?ft.x:void 0,Je?ft.y:void 0,ie,_e,Fe)}const ct=Ge?ne.x+1:void 0,Xe=Je?ne.y+1:void 0;return ct==null&&Xe==null?Y:T(Y,ne,Ge?ne.x+1:void 0,Je?ne.y+1:void 0,ie,_e,Fe)}function _(Y){return Y*100+"%"}const L=(Y,U,ne,ie)=>Y+ne>ie?U:ne,z=(Y,U,ne)=>Y<0?U:ne,W=Y=>Math.max(0,Y),se=Y=>Math.max(0,Y),xe=(Y,U,ne)=>{let{left:ie,height:Fe,width:Oe}=U;const Ge=Y.top-(Fe-Y.height);return{left:ie,width:Oe,height:z(Ge,Y.height,Fe),top:se(Ge)}},ye=(Y,U,ne)=>{let{top:ie,left:Fe,height:Oe,width:Ge}=U;return{top:ie,height:Oe,width:L(Y.left,Y.width,Ge,ne),left:W(Fe)}},Ce=(Y,U,ne)=>{let{top:ie,height:Fe,width:Oe}=U;const Ge=Y.left-(Oe-Y.width);return{height:Fe,width:Ge<0?Y.width:L(Y.left,Y.width,Oe,ne),top:se(ie),left:W(Ge)}},Ee=(Y,U,ne)=>{let{top:ie,left:Fe,height:Oe,width:Ge}=U;return{width:Ge,left:Fe,height:z(ie,Y.height,Oe),top:se(ie)}},pe={n:xe,ne:function(){return xe(arguments.length<=0?void 0:arguments[0],ye(...arguments))},e:ye,se:function(){return Ee(arguments.length<=0?void 0:arguments[0],ye(...arguments))},s:Ee,sw:function(){return Ee(arguments.length<=0?void 0:arguments[0],Ce(...arguments))},w:Ce,nw:function(){return xe(arguments.length<=0?void 0:arguments[0],Ce(...arguments))}};function he(Y,U,ne,ie){const Fe=pe[Y];return Fe?Fe(U,{...U,...ne},ie):ne}function H(Y){let{top:U,left:ne,width:ie,height:Fe}=Y;const Oe=`translate(${ne}px,${U}px)`;return{transform:Oe,WebkitTransform:Oe,MozTransform:Oe,msTransform:Oe,OTransform:Oe,width:`${ie}px`,height:`${Fe}px`,position:"absolute"}}function ce(Y){let{top:U,left:ne,width:ie,height:Fe}=Y;return{top:`${U}px`,left:`${ne}px`,width:`${ie}px`,height:`${Fe}px`,position:"absolute"}}function Te(Y,U){return U==="horizontal"?Ve(Y):U==="vertical"?$e(Y):Y}function $e(Y){return Y.slice(0).sort(function(U,ne){return U.y>ne.y||U.y===ne.y&&U.x>ne.x?1:U.y===ne.y&&U.x===ne.x?0:-1})}function Ve(Y){return Y.slice(0).sort(function(U,ne){return U.x>ne.x||U.x===ne.x&&U.y>ne.y?1:-1})}function Qe(Y,U,ne,ie,Fe){Y=Y||[];const Oe=[];e.default.Children.forEach(U,Je=>{if((Je==null?void 0:Je.key)==null)return;const _e=k(Y,String(Je.key)),ct=Je.props["data-grid"];_e&&ct==null?Oe.push(c(_e)):ct?Oe.push(c({...ct,i:Je.key})):Oe.push(c({w:1,h:1,x:0,y:r(Oe),i:String(Je.key)}))});const Ge=C(Oe,{cols:ne});return Fe?Ge:v(Ge,ie,ne)}function ut(Y){let U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Layout";const ne=["x","y","w","h"];if(!Array.isArray(Y))throw new Error(U+" must be an array!");for(let ie=0,Fe=Y.length;ie<Fe;ie++){const Oe=Y[ie];for(let Ge=0;Ge<ne.length;Ge++){const Je=ne[Ge],_e=Oe[Je];if(typeof _e!="number"||Number.isNaN(_e))throw new Error(`ReactGridLayout: ${U}[${ie}].${Je} must be a number! Received: ${_e} (${typeof _e})`)}if(typeof Oe.i<"u"&&typeof Oe.i!="string")throw new Error(`ReactGridLayout: ${U}[${ie}].i must be a string! Received: ${Oe.i} (${typeof Oe.i})`)}}function ke(Y){const{verticalCompact:U,compactType:ne}=Y||{};return U===!1?null:ne}function Be(){}const qe=()=>{};return yn.noop=qe,yn}var za={},GS;function Xx(){if(GS)return za;GS=1,Object.defineProperty(za,"__esModule",{value:!0}),za.calcGridColWidth=n,za.calcGridItemPosition=t,za.calcGridItemWHPx=e,za.calcWH=i,za.calcXY=r,za.clamp=o;function n(a){const{margin:c,containerPadding:f,containerWidth:p,cols:m}=a;return(p-c[0]*(m-1)-f[0]*2)/m}function e(a,c,f){return Number.isFinite(a)?Math.round(c*a+Math.max(0,a-1)*f):a}function t(a,c,f,p,m,v){const{margin:w,containerPadding:x,rowHeight:E}=a,C=n(a),k={};return v&&v.resizing?(k.width=Math.round(v.resizing.width),k.height=Math.round(v.resizing.height)):(k.width=e(p,C,w[0]),k.height=e(m,E,w[1])),v&&v.dragging?(k.top=Math.round(v.dragging.top),k.left=Math.round(v.dragging.left)):v&&v.resizing&&typeof v.resizing.top=="number"&&typeof v.resizing.left=="number"?(k.top=Math.round(v.resizing.top),k.left=Math.round(v.resizing.left)):(k.top=Math.round((E+w[1])*f+x[1]),k.left=Math.round((C+w[0])*c+x[0])),k}function r(a,c,f,p,m){const{margin:v,containerPadding:w,cols:x,rowHeight:E,maxRows:C}=a,k=n(a);let S=Math.round((f-w[0])/(k+v[0])),R=Math.round((c-w[1])/(E+v[1]));return S=o(S,0,x-p),R=o(R,0,C-m),{x:S,y:R}}function i(a,c,f,p,m,v){const{margin:w,maxRows:x,cols:E,rowHeight:C}=a,k=n(a);let S=Math.round((c+w[0])/(k+w[0])),R=Math.round((f+w[1])/(C+w[1])),N=o(S,0,E-p),T=o(R,0,x-m);return["sw","w","nw"].indexOf(v)!==-1&&(N=o(S,0,E)),["nw","n","ne"].indexOf(v)!==-1&&(T=o(R,0,x)),{w:N,h:T}}function o(a,c,f){return Math.max(Math.min(a,f),c)}return za}var Vh={},Y0={exports:{}},X0,KS;function O3(){if(KS)return X0;KS=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return X0=n,X0}var Q0,JS;function R3(){if(JS)return Q0;JS=1;var n=O3();function e(){}function t(){}return t.resetWarningCache=e,Q0=function(){function r(a,c,f,p,m,v){if(v!==n){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},Q0}var YS;function ou(){return YS||(YS=1,Y0.exports=R3()()),Y0.exports}var qh={exports:{}},Z0={};function GM(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=GM(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function XS(){for(var n,e,t=0,r="";t<arguments.length;)(n=arguments[t++])&&(e=GM(n))&&(r&&(r+=" "),r+=e);return r}const T3=Object.freeze(Object.defineProperty({__proto__:null,clsx:XS,default:XS},Symbol.toStringTag,{value:"Module"})),_3=qE(T3);var fr={},Nl={},QS;function lv(){if(QS)return Nl;QS=1,Object.defineProperty(Nl,"__esModule",{value:!0}),Nl.dontSetMe=i,Nl.findInArray=n,Nl.int=r,Nl.isFunction=e,Nl.isNum=t;function n(o,a){for(let c=0,f=o.length;c<f;c++)if(a.apply(a,[o[c],c,o]))return o[c]}function e(o){return typeof o=="function"||Object.prototype.toString.call(o)==="[object Function]"}function t(o){return typeof o=="number"&&!isNaN(o)}function r(o){return parseInt(o,10)}function i(o,a,c){if(o[a])return new Error("Invalid prop ".concat(a," passed to ").concat(c," - do not set this, set it on the child."))}return Nl}var Al={},ZS;function N3(){if(ZS)return Al;ZS=1,Object.defineProperty(Al,"__esModule",{value:!0}),Al.browserPrefixToKey=t,Al.browserPrefixToStyle=r,Al.default=void 0,Al.getPrefix=e;const n=["Moz","Webkit","O","ms"];function e(){var o;let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const c=(o=window.document)===null||o===void 0||(o=o.documentElement)===null||o===void 0?void 0:o.style;if(!c||a in c)return"";for(let f=0;f<n.length;f++)if(t(a,n[f])in c)return n[f];return""}function t(o,a){return a?"".concat(a).concat(i(o)):o}function r(o,a){return a?"-".concat(a.toLowerCase(),"-").concat(o):o}function i(o){let a="",c=!0;for(let f=0;f<o.length;f++)c?(a+=o[f].toUpperCase(),c=!1):o[f]==="-"?c=!0:a+=o[f];return a}return Al.default=e(),Al}var eE;function Qx(){if(eE)return fr;eE=1,Object.defineProperty(fr,"__esModule",{value:!0}),fr.addClassName=D,fr.addEvent=c,fr.addUserSelectStyles=N,fr.createCSSTransform=E,fr.createSVGTransform=C,fr.getTouch=S,fr.getTouchIdentifier=R,fr.getTranslation=k,fr.innerHeight=v,fr.innerWidth=w,fr.matchesSelector=o,fr.matchesSelectorAndParentsTo=a,fr.offsetXYFromParent=x,fr.outerHeight=p,fr.outerWidth=m,fr.removeClassName=_,fr.removeEvent=f,fr.removeUserSelectStyles=T;var n=lv(),e=r(N3());function t(L){if(typeof WeakMap!="function")return null;var z=new WeakMap,W=new WeakMap;return(t=function(se){return se?W:z})(L)}function r(L,z){if(L&&L.__esModule)return L;if(L===null||typeof L!="object"&&typeof L!="function")return{default:L};var W=t(z);if(W&&W.has(L))return W.get(L);var se={},xe=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ye in L)if(ye!=="default"&&Object.prototype.hasOwnProperty.call(L,ye)){var Ce=xe?Object.getOwnPropertyDescriptor(L,ye):null;Ce&&(Ce.get||Ce.set)?Object.defineProperty(se,ye,Ce):se[ye]=L[ye]}return se.default=L,W&&W.set(L,se),se}let i="";function o(L,z){return i||(i=(0,n.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(W){return(0,n.isFunction)(L[W])})),(0,n.isFunction)(L[i])?L[i](z):!1}function a(L,z,W){let se=L;do{if(o(se,z))return!0;if(se===W)return!1;se=se.parentNode}while(se);return!1}function c(L,z,W,se){if(!L)return;const xe={capture:!0,...se};L.addEventListener?L.addEventListener(z,W,xe):L.attachEvent?L.attachEvent("on"+z,W):L["on"+z]=W}function f(L,z,W,se){if(!L)return;const xe={capture:!0,...se};L.removeEventListener?L.removeEventListener(z,W,xe):L.detachEvent?L.detachEvent("on"+z,W):L["on"+z]=null}function p(L){let z=L.clientHeight;const W=L.ownerDocument.defaultView.getComputedStyle(L);return z+=(0,n.int)(W.borderTopWidth),z+=(0,n.int)(W.borderBottomWidth),z}function m(L){let z=L.clientWidth;const W=L.ownerDocument.defaultView.getComputedStyle(L);return z+=(0,n.int)(W.borderLeftWidth),z+=(0,n.int)(W.borderRightWidth),z}function v(L){let z=L.clientHeight;const W=L.ownerDocument.defaultView.getComputedStyle(L);return z-=(0,n.int)(W.paddingTop),z-=(0,n.int)(W.paddingBottom),z}function w(L){let z=L.clientWidth;const W=L.ownerDocument.defaultView.getComputedStyle(L);return z-=(0,n.int)(W.paddingLeft),z-=(0,n.int)(W.paddingRight),z}function x(L,z,W){const xe=z===z.ownerDocument.body?{left:0,top:0}:z.getBoundingClientRect(),ye=(L.clientX+z.scrollLeft-xe.left)/W,Ce=(L.clientY+z.scrollTop-xe.top)/W;return{x:ye,y:Ce}}function E(L,z){const W=k(L,z,"px");return{[(0,e.browserPrefixToKey)("transform",e.default)]:W}}function C(L,z){return k(L,z,"")}function k(L,z,W){let{x:se,y:xe}=L,ye="translate(".concat(se).concat(W,",").concat(xe).concat(W,")");if(z){const Ce="".concat(typeof z.x=="string"?z.x:z.x+W),Ee="".concat(typeof z.y=="string"?z.y:z.y+W);ye="translate(".concat(Ce,", ").concat(Ee,")")+ye}return ye}function S(L,z){return L.targetTouches&&(0,n.findInArray)(L.targetTouches,W=>z===W.identifier)||L.changedTouches&&(0,n.findInArray)(L.changedTouches,W=>z===W.identifier)}function R(L){if(L.targetTouches&&L.targetTouches[0])return L.targetTouches[0].identifier;if(L.changedTouches&&L.changedTouches[0])return L.changedTouches[0].identifier}function N(L){if(!L)return;let z=L.getElementById("react-draggable-style-el");z||(z=L.createElement("style"),z.type="text/css",z.id="react-draggable-style-el",z.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,z.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,L.getElementsByTagName("head")[0].appendChild(z)),L.body&&D(L.body,"react-draggable-transparent-selection")}function T(L){if(L)try{if(L.body&&_(L.body,"react-draggable-transparent-selection"),L.selection)L.selection.empty();else{const z=(L.defaultView||window).getSelection();z&&z.type!=="Caret"&&z.removeAllRanges()}}catch{}}function D(L,z){L.classList?L.classList.add(z):L.className.match(new RegExp("(?:^|\\s)".concat(z,"(?!\\S)")))||(L.className+=" ".concat(z))}function _(L,z){L.classList?L.classList.remove(z):L.className=L.className.replace(new RegExp("(?:^|\\s)".concat(z,"(?!\\S)"),"g"),"")}return fr}var Vs={},tE;function KM(){if(tE)return Vs;tE=1,Object.defineProperty(Vs,"__esModule",{value:!0}),Vs.canDragX=i,Vs.canDragY=o,Vs.createCoreData=c,Vs.createDraggableData=f,Vs.getBoundPosition=t,Vs.getControlPosition=a,Vs.snapToGrid=r;var n=lv(),e=Qx();function t(v,w,x){if(!v.props.bounds)return[w,x];let{bounds:E}=v.props;E=typeof E=="string"?E:p(E);const C=m(v);if(typeof E=="string"){const{ownerDocument:k}=C,S=k.defaultView;let R;if(E==="parent"?R=C.parentNode:R=k.querySelector(E),!(R instanceof S.HTMLElement))throw new Error('Bounds selector "'+E+'" could not find an element.');const N=R,T=S.getComputedStyle(C),D=S.getComputedStyle(N);E={left:-C.offsetLeft+(0,n.int)(D.paddingLeft)+(0,n.int)(T.marginLeft),top:-C.offsetTop+(0,n.int)(D.paddingTop)+(0,n.int)(T.marginTop),right:(0,e.innerWidth)(N)-(0,e.outerWidth)(C)-C.offsetLeft+(0,n.int)(D.paddingRight)-(0,n.int)(T.marginRight),bottom:(0,e.innerHeight)(N)-(0,e.outerHeight)(C)-C.offsetTop+(0,n.int)(D.paddingBottom)-(0,n.int)(T.marginBottom)}}return(0,n.isNum)(E.right)&&(w=Math.min(w,E.right)),(0,n.isNum)(E.bottom)&&(x=Math.min(x,E.bottom)),(0,n.isNum)(E.left)&&(w=Math.max(w,E.left)),(0,n.isNum)(E.top)&&(x=Math.max(x,E.top)),[w,x]}function r(v,w,x){const E=Math.round(w/v[0])*v[0],C=Math.round(x/v[1])*v[1];return[E,C]}function i(v){return v.props.axis==="both"||v.props.axis==="x"}function o(v){return v.props.axis==="both"||v.props.axis==="y"}function a(v,w,x){const E=typeof w=="number"?(0,e.getTouch)(v,w):null;if(typeof w=="number"&&!E)return null;const C=m(x),k=x.props.offsetParent||C.offsetParent||C.ownerDocument.body;return(0,e.offsetXYFromParent)(E||v,k,x.props.scale)}function c(v,w,x){const E=!(0,n.isNum)(v.lastX),C=m(v);return E?{node:C,deltaX:0,deltaY:0,lastX:w,lastY:x,x:w,y:x}:{node:C,deltaX:w-v.lastX,deltaY:x-v.lastY,lastX:v.lastX,lastY:v.lastY,x:w,y:x}}function f(v,w){const x=v.props.scale;return{node:w.node,x:v.state.x+w.deltaX/x,y:v.state.y+w.deltaY/x,deltaX:w.deltaX/x,deltaY:w.deltaY/x,lastX:v.state.x,lastY:v.state.y}}function p(v){return{left:v.left,top:v.top,right:v.right,bottom:v.bottom}}function m(v){const w=v.findDOMNode();if(!w)throw new Error("<DraggableCore>: Unmounted during event!");return w}return Vs}var Gh={},Tg={},nE;function JM(){if(nE)return Tg;nE=1,Object.defineProperty(Tg,"__esModule",{value:!0}),Tg.default=n;function n(){}return Tg}var rE;function A3(){if(rE)return Gh;rE=1,Object.defineProperty(Gh,"__esModule",{value:!0}),Gh.default=void 0;var n=p(Qi()),e=c(ou()),t=c(Hp()),r=Qx(),i=KM(),o=lv(),a=c(JM());function c(k){return k&&k.__esModule?k:{default:k}}function f(k){if(typeof WeakMap!="function")return null;var S=new WeakMap,R=new WeakMap;return(f=function(N){return N?R:S})(k)}function p(k,S){if(k&&k.__esModule)return k;if(k===null||typeof k!="object"&&typeof k!="function")return{default:k};var R=f(S);if(R&&R.has(k))return R.get(k);var N={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var D in k)if(D!=="default"&&Object.prototype.hasOwnProperty.call(k,D)){var _=T?Object.getOwnPropertyDescriptor(k,D):null;_&&(_.get||_.set)?Object.defineProperty(N,D,_):N[D]=k[D]}return N.default=k,R&&R.set(k,N),N}function m(k,S,R){return S=v(S),S in k?Object.defineProperty(k,S,{value:R,enumerable:!0,configurable:!0,writable:!0}):k[S]=R,k}function v(k){var S=w(k,"string");return typeof S=="symbol"?S:String(S)}function w(k,S){if(typeof k!="object"||k===null)return k;var R=k[Symbol.toPrimitive];if(R!==void 0){var N=R.call(k,S);if(typeof N!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(k)}const x={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let E=x.mouse,C=class extends n.Component{constructor(){super(...arguments),m(this,"dragging",!1),m(this,"lastX",NaN),m(this,"lastY",NaN),m(this,"touchIdentifier",null),m(this,"mounted",!1),m(this,"handleDragStart",S=>{if(this.props.onMouseDown(S),!this.props.allowAnyClick&&typeof S.button=="number"&&S.button!==0)return!1;const R=this.findDOMNode();if(!R||!R.ownerDocument||!R.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:N}=R;if(this.props.disabled||!(S.target instanceof N.defaultView.Node)||this.props.handle&&!(0,r.matchesSelectorAndParentsTo)(S.target,this.props.handle,R)||this.props.cancel&&(0,r.matchesSelectorAndParentsTo)(S.target,this.props.cancel,R))return;S.type==="touchstart"&&S.preventDefault();const T=(0,r.getTouchIdentifier)(S);this.touchIdentifier=T;const D=(0,i.getControlPosition)(S,T,this);if(D==null)return;const{x:_,y:L}=D,z=(0,i.createCoreData)(this,_,L);(0,a.default)("DraggableCore: handleDragStart: %j",z),(0,a.default)("calling",this.props.onStart),!(this.props.onStart(S,z)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,r.addUserSelectStyles)(N),this.dragging=!0,this.lastX=_,this.lastY=L,(0,r.addEvent)(N,E.move,this.handleDrag),(0,r.addEvent)(N,E.stop,this.handleDragStop))}),m(this,"handleDrag",S=>{const R=(0,i.getControlPosition)(S,this.touchIdentifier,this);if(R==null)return;let{x:N,y:T}=R;if(Array.isArray(this.props.grid)){let L=N-this.lastX,z=T-this.lastY;if([L,z]=(0,i.snapToGrid)(this.props.grid,L,z),!L&&!z)return;N=this.lastX+L,T=this.lastY+z}const D=(0,i.createCoreData)(this,N,T);if((0,a.default)("DraggableCore: handleDrag: %j",D),this.props.onDrag(S,D)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const z=document.createEvent("MouseEvents");z.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(z)}return}this.lastX=N,this.lastY=T}),m(this,"handleDragStop",S=>{if(!this.dragging)return;const R=(0,i.getControlPosition)(S,this.touchIdentifier,this);if(R==null)return;let{x:N,y:T}=R;if(Array.isArray(this.props.grid)){let z=N-this.lastX||0,W=T-this.lastY||0;[z,W]=(0,i.snapToGrid)(this.props.grid,z,W),N=this.lastX+z,T=this.lastY+W}const D=(0,i.createCoreData)(this,N,T);if(this.props.onStop(S,D)===!1||this.mounted===!1)return!1;const L=this.findDOMNode();L&&this.props.enableUserSelectHack&&(0,r.removeUserSelectStyles)(L.ownerDocument),(0,a.default)("DraggableCore: handleDragStop: %j",D),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,L&&((0,a.default)("DraggableCore: Removing handlers"),(0,r.removeEvent)(L.ownerDocument,E.move,this.handleDrag),(0,r.removeEvent)(L.ownerDocument,E.stop,this.handleDragStop))}),m(this,"onMouseDown",S=>(E=x.mouse,this.handleDragStart(S))),m(this,"onMouseUp",S=>(E=x.mouse,this.handleDragStop(S))),m(this,"onTouchStart",S=>(E=x.touch,this.handleDragStart(S))),m(this,"onTouchEnd",S=>(E=x.touch,this.handleDragStop(S)))}componentDidMount(){this.mounted=!0;const S=this.findDOMNode();S&&(0,r.addEvent)(S,x.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const S=this.findDOMNode();if(S){const{ownerDocument:R}=S;(0,r.removeEvent)(R,x.mouse.move,this.handleDrag),(0,r.removeEvent)(R,x.touch.move,this.handleDrag),(0,r.removeEvent)(R,x.mouse.stop,this.handleDragStop),(0,r.removeEvent)(R,x.touch.stop,this.handleDragStop),(0,r.removeEvent)(S,x.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,r.removeUserSelectStyles)(R)}}findDOMNode(){var S,R;return(S=this.props)!==null&&S!==void 0&&S.nodeRef?(R=this.props)===null||R===void 0||(R=R.nodeRef)===null||R===void 0?void 0:R.current:t.default.findDOMNode(this)}render(){return n.cloneElement(n.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return Gh.default=C,m(C,"displayName","DraggableCore"),m(C,"propTypes",{allowAnyClick:e.default.bool,children:e.default.node.isRequired,disabled:e.default.bool,enableUserSelectHack:e.default.bool,offsetParent:function(k,S){if(k[S]&&k[S].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:e.default.arrayOf(e.default.number),handle:e.default.string,cancel:e.default.string,nodeRef:e.default.object,onStart:e.default.func,onDrag:e.default.func,onStop:e.default.func,onMouseDown:e.default.func,scale:e.default.number,className:o.dontSetMe,style:o.dontSetMe,transform:o.dontSetMe}),m(C,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),Gh}var iE;function D3(){return iE||(iE=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"DraggableCore",{enumerable:!0,get:function(){return f.default}}),n.default=void 0;var e=w(Qi()),t=m(ou()),r=m(Hp()),i=m(_3),o=Qx(),a=KM(),c=lv(),f=m(A3()),p=m(JM());function m(R){return R&&R.__esModule?R:{default:R}}function v(R){if(typeof WeakMap!="function")return null;var N=new WeakMap,T=new WeakMap;return(v=function(D){return D?T:N})(R)}function w(R,N){if(R&&R.__esModule)return R;if(R===null||typeof R!="object"&&typeof R!="function")return{default:R};var T=v(N);if(T&&T.has(R))return T.get(R);var D={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var L in R)if(L!=="default"&&Object.prototype.hasOwnProperty.call(R,L)){var z=_?Object.getOwnPropertyDescriptor(R,L):null;z&&(z.get||z.set)?Object.defineProperty(D,L,z):D[L]=R[L]}return D.default=R,T&&T.set(R,D),D}function x(){return x=Object.assign?Object.assign.bind():function(R){for(var N=1;N<arguments.length;N++){var T=arguments[N];for(var D in T)Object.prototype.hasOwnProperty.call(T,D)&&(R[D]=T[D])}return R},x.apply(this,arguments)}function E(R,N,T){return N=C(N),N in R?Object.defineProperty(R,N,{value:T,enumerable:!0,configurable:!0,writable:!0}):R[N]=T,R}function C(R){var N=k(R,"string");return typeof N=="symbol"?N:String(N)}function k(R,N){if(typeof R!="object"||R===null)return R;var T=R[Symbol.toPrimitive];if(T!==void 0){var D=T.call(R,N);if(typeof D!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(N==="string"?String:Number)(R)}class S extends e.Component{static getDerivedStateFromProps(N,T){let{position:D}=N,{prevPropsPosition:_}=T;return D&&(!_||D.x!==_.x||D.y!==_.y)?((0,p.default)("Draggable: getDerivedStateFromProps %j",{position:D,prevPropsPosition:_}),{x:D.x,y:D.y,prevPropsPosition:{...D}}):null}constructor(N){super(N),E(this,"onDragStart",(T,D)=>{if((0,p.default)("Draggable: onDragStart: %j",D),this.props.onStart(T,(0,a.createDraggableData)(this,D))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),E(this,"onDrag",(T,D)=>{if(!this.state.dragging)return!1;(0,p.default)("Draggable: onDrag: %j",D);const _=(0,a.createDraggableData)(this,D),L={x:_.x,y:_.y,slackX:0,slackY:0};if(this.props.bounds){const{x:W,y:se}=L;L.x+=this.state.slackX,L.y+=this.state.slackY;const[xe,ye]=(0,a.getBoundPosition)(this,L.x,L.y);L.x=xe,L.y=ye,L.slackX=this.state.slackX+(W-L.x),L.slackY=this.state.slackY+(se-L.y),_.x=L.x,_.y=L.y,_.deltaX=L.x-this.state.x,_.deltaY=L.y-this.state.y}if(this.props.onDrag(T,_)===!1)return!1;this.setState(L)}),E(this,"onDragStop",(T,D)=>{if(!this.state.dragging||this.props.onStop(T,(0,a.createDraggableData)(this,D))===!1)return!1;(0,p.default)("Draggable: onDragStop: %j",D);const L={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:W,y:se}=this.props.position;L.x=W,L.y=se}this.setState(L)}),this.state={dragging:!1,dragged:!1,x:N.position?N.position.x:N.defaultPosition.x,y:N.position?N.position.y:N.defaultPosition.y,prevPropsPosition:{...N.position},slackX:0,slackY:0,isElementSVG:!1},N.position&&!(N.onDrag||N.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var N,T;return(N=(T=this.props)===null||T===void 0||(T=T.nodeRef)===null||T===void 0?void 0:T.current)!==null&&N!==void 0?N:r.default.findDOMNode(this)}render(){const{axis:N,bounds:T,children:D,defaultPosition:_,defaultClassName:L,defaultClassNameDragging:z,defaultClassNameDragged:W,position:se,positionOffset:xe,scale:ye,...Ce}=this.props;let Ee={},ue=null;const V=!!!se||this.state.dragging,F=se||_,pe={x:(0,a.canDragX)(this)&&V?this.state.x:F.x,y:(0,a.canDragY)(this)&&V?this.state.y:F.y};this.state.isElementSVG?ue=(0,o.createSVGTransform)(pe,xe):Ee=(0,o.createCSSTransform)(pe,xe);const he=(0,i.default)(D.props.className||"",L,{[z]:this.state.dragging,[W]:this.state.dragged});return e.createElement(f.default,x({},Ce,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(D),{className:he,style:{...D.props.style,...Ee},transform:ue}))}}n.default=S,E(S,"displayName","Draggable"),E(S,"propTypes",{...f.default.propTypes,axis:t.default.oneOf(["both","x","y","none"]),bounds:t.default.oneOfType([t.default.shape({left:t.default.number,right:t.default.number,top:t.default.number,bottom:t.default.number}),t.default.string,t.default.oneOf([!1])]),defaultClassName:t.default.string,defaultClassNameDragging:t.default.string,defaultClassNameDragged:t.default.string,defaultPosition:t.default.shape({x:t.default.number,y:t.default.number}),positionOffset:t.default.shape({x:t.default.oneOfType([t.default.number,t.default.string]),y:t.default.oneOfType([t.default.number,t.default.string])}),position:t.default.shape({x:t.default.number,y:t.default.number}),className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe}),E(S,"defaultProps",{...f.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})}(Z0)),Z0}var oE;function Zx(){if(oE)return qh.exports;oE=1;const{default:n,DraggableCore:e}=D3();return qh.exports=n,qh.exports.default=n,qh.exports.DraggableCore=e,qh.exports}var Kh={exports:{}},Jh={},_g={},sE;function P3(){if(sE)return _g;sE=1,_g.__esModule=!0,_g.cloneElement=c;var n=e(Qi());function e(f){return f&&f.__esModule?f:{default:f}}function t(f,p){var m=Object.keys(f);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(f);p&&(v=v.filter(function(w){return Object.getOwnPropertyDescriptor(f,w).enumerable})),m.push.apply(m,v)}return m}function r(f){for(var p=1;p<arguments.length;p++){var m=arguments[p]!=null?arguments[p]:{};p%2?t(Object(m),!0).forEach(function(v){i(f,v,m[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(m)):t(Object(m)).forEach(function(v){Object.defineProperty(f,v,Object.getOwnPropertyDescriptor(m,v))})}return f}function i(f,p,m){return p=o(p),p in f?Object.defineProperty(f,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):f[p]=m,f}function o(f){var p=a(f,"string");return typeof p=="symbol"?p:String(p)}function a(f,p){if(typeof f!="object"||f===null)return f;var m=f[Symbol.toPrimitive];if(m!==void 0){var v=m.call(f,p);if(typeof v!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(f)}function c(f,p){return p.style&&f.props.style&&(p.style=r(r({},f.props.style),p.style)),p.className&&f.props.className&&(p.className=f.props.className+" "+p.className),n.default.cloneElement(f,p)}return _g}var Yh={},aE;function YM(){if(aE)return Yh;aE=1,Yh.__esModule=!0,Yh.resizableProps=void 0;var n=e(ou());Zx();function e(r){return r&&r.__esModule?r:{default:r}}var t={axis:n.default.oneOf(["both","x","y","none"]),className:n.default.string,children:n.default.element.isRequired,draggableOpts:n.default.shape({allowAnyClick:n.default.bool,cancel:n.default.string,children:n.default.node,disabled:n.default.bool,enableUserSelectHack:n.default.bool,offsetParent:n.default.node,grid:n.default.arrayOf(n.default.number),handle:n.default.string,nodeRef:n.default.object,onStart:n.default.func,onDrag:n.default.func,onStop:n.default.func,onMouseDown:n.default.func,scale:n.default.number}),height:function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var c=o[0];if(c.axis==="both"||c.axis==="y"){var f;return(f=n.default.number).isRequired.apply(f,o)}return n.default.number.apply(n.default,o)},handle:n.default.oneOfType([n.default.node,n.default.func]),handleSize:n.default.arrayOf(n.default.number),lockAspectRatio:n.default.bool,maxConstraints:n.default.arrayOf(n.default.number),minConstraints:n.default.arrayOf(n.default.number),onResizeStop:n.default.func,onResizeStart:n.default.func,onResize:n.default.func,resizeHandles:n.default.arrayOf(n.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:n.default.number,width:function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var c=o[0];if(c.axis==="both"||c.axis==="x"){var f;return(f=n.default.number).isRequired.apply(f,o)}return n.default.number.apply(n.default,o)}};return Yh.resizableProps=t,Yh}var lE;function XM(){if(lE)return Jh;lE=1,Jh.__esModule=!0,Jh.default=void 0;var n=a(Qi()),e=Zx(),t=P3(),r=YM(),i=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function o(S){if(typeof WeakMap!="function")return null;var R=new WeakMap,N=new WeakMap;return(o=function(D){return D?N:R})(S)}function a(S,R){if(S&&S.__esModule)return S;if(S===null||typeof S!="object"&&typeof S!="function")return{default:S};var N=o(R);if(N&&N.has(S))return N.get(S);var T={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in S)if(_!=="default"&&Object.prototype.hasOwnProperty.call(S,_)){var L=D?Object.getOwnPropertyDescriptor(S,_):null;L&&(L.get||L.set)?Object.defineProperty(T,_,L):T[_]=S[_]}return T.default=S,N&&N.set(S,T),T}function c(){return c=Object.assign?Object.assign.bind():function(S){for(var R=1;R<arguments.length;R++){var N=arguments[R];for(var T in N)Object.prototype.hasOwnProperty.call(N,T)&&(S[T]=N[T])}return S},c.apply(this,arguments)}function f(S,R){if(S==null)return{};var N={},T=Object.keys(S),D,_;for(_=0;_<T.length;_++)D=T[_],!(R.indexOf(D)>=0)&&(N[D]=S[D]);return N}function p(S,R){var N=Object.keys(S);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(S);R&&(T=T.filter(function(D){return Object.getOwnPropertyDescriptor(S,D).enumerable})),N.push.apply(N,T)}return N}function m(S){for(var R=1;R<arguments.length;R++){var N=arguments[R]!=null?arguments[R]:{};R%2?p(Object(N),!0).forEach(function(T){v(S,T,N[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(N)):p(Object(N)).forEach(function(T){Object.defineProperty(S,T,Object.getOwnPropertyDescriptor(N,T))})}return S}function v(S,R,N){return R=w(R),R in S?Object.defineProperty(S,R,{value:N,enumerable:!0,configurable:!0,writable:!0}):S[R]=N,S}function w(S){var R=x(S,"string");return typeof R=="symbol"?R:String(R)}function x(S,R){if(typeof S!="object"||S===null)return S;var N=S[Symbol.toPrimitive];if(N!==void 0){var T=N.call(S,R);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(S)}function E(S,R){S.prototype=Object.create(R.prototype),S.prototype.constructor=S,C(S,R)}function C(S,R){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,D){return T.__proto__=D,T},C(S,R)}var k=function(S){E(R,S);function R(){for(var T,D=arguments.length,_=new Array(D),L=0;L<D;L++)_[L]=arguments[L];return T=S.call.apply(S,[this].concat(_))||this,T.handleRefs={},T.lastHandleRect=null,T.slack=null,T}var N=R.prototype;return N.componentWillUnmount=function(){this.resetData()},N.resetData=function(){this.lastHandleRect=this.slack=null},N.runConstraints=function(D,_){var L=this.props,z=L.minConstraints,W=L.maxConstraints,se=L.lockAspectRatio;if(!z&&!W&&!se)return[D,_];if(se){var xe=this.props.width/this.props.height,ye=D-this.props.width,Ce=_-this.props.height;Math.abs(ye)>Math.abs(Ce*xe)?_=D/xe:D=_*xe}var Ee=D,ue=_,de=this.slack||[0,0],V=de[0],F=de[1];return D+=V,_+=F,z&&(D=Math.max(z[0],D),_=Math.max(z[1],_)),W&&(D=Math.min(W[0],D),_=Math.min(W[1],_)),this.slack=[V+(Ee-D),F+(ue-_)],[D,_]},N.resizeHandler=function(D,_){var L=this;return function(z,W){var se=W.node,xe=W.deltaX,ye=W.deltaY;D==="onResizeStart"&&L.resetData();var Ce=(L.props.axis==="both"||L.props.axis==="x")&&_!=="n"&&_!=="s",Ee=(L.props.axis==="both"||L.props.axis==="y")&&_!=="e"&&_!=="w";if(!(!Ce&&!Ee)){var ue=_[0],de=_[_.length-1],V=se.getBoundingClientRect();if(L.lastHandleRect!=null){if(de==="w"){var F=V.left-L.lastHandleRect.left;xe+=F}if(ue==="n"){var pe=V.top-L.lastHandleRect.top;ye+=pe}}L.lastHandleRect=V,de==="w"&&(xe=-xe),ue==="n"&&(ye=-ye);var he=L.props.width+(Ce?xe/L.props.transformScale:0),H=L.props.height+(Ee?ye/L.props.transformScale:0),ce=L.runConstraints(he,H);he=ce[0],H=ce[1];var Te=he!==L.props.width||H!==L.props.height,$e=typeof L.props[D]=="function"?L.props[D]:null,Ve=D==="onResize"&&!Te;$e&&!Ve&&(z.persist==null||z.persist(),$e(z,{node:se,size:{width:he,height:H},handle:_})),D==="onResizeStop"&&L.resetData()}}},N.renderResizeHandle=function(D,_){var L=this.props.handle;if(!L)return n.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+D,ref:_});if(typeof L=="function")return L(D,_);var z=typeof L.type=="string",W=m({ref:_},z?{}:{handleAxis:D});return n.cloneElement(L,W)},N.render=function(){var D=this,_=this.props,L=_.children,z=_.className,W=_.draggableOpts;_.width,_.height,_.handle,_.handleSize,_.lockAspectRatio,_.axis,_.minConstraints,_.maxConstraints,_.onResize,_.onResizeStop,_.onResizeStart;var se=_.resizeHandles;_.transformScale;var xe=f(_,i);return(0,t.cloneElement)(L,m(m({},xe),{},{className:(z?z+" ":"")+"react-resizable",children:[].concat(L.props.children,se.map(function(ye){var Ce,Ee=(Ce=D.handleRefs[ye])!=null?Ce:D.handleRefs[ye]=n.createRef();return n.createElement(e.DraggableCore,c({},W,{nodeRef:Ee,key:"resizableHandle-"+ye,onStop:D.resizeHandler("onResizeStop",ye),onStart:D.resizeHandler("onResizeStart",ye),onDrag:D.resizeHandler("onResize",ye)}),D.renderResizeHandle(ye,Ee))}))}))},R}(n.Component);return Jh.default=k,k.propTypes=r.resizableProps,k.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1},Jh}var Xh={},uE;function L3(){if(uE)return Xh;uE=1,Xh.__esModule=!0,Xh.default=void 0;var n=c(Qi()),e=o(ou()),t=o(XM()),r=YM(),i=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function o(R){return R&&R.__esModule?R:{default:R}}function a(R){if(typeof WeakMap!="function")return null;var N=new WeakMap,T=new WeakMap;return(a=function(_){return _?T:N})(R)}function c(R,N){if(R&&R.__esModule)return R;if(R===null||typeof R!="object"&&typeof R!="function")return{default:R};var T=a(N);if(T&&T.has(R))return T.get(R);var D={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var L in R)if(L!=="default"&&Object.prototype.hasOwnProperty.call(R,L)){var z=_?Object.getOwnPropertyDescriptor(R,L):null;z&&(z.get||z.set)?Object.defineProperty(D,L,z):D[L]=R[L]}return D.default=R,T&&T.set(R,D),D}function f(){return f=Object.assign?Object.assign.bind():function(R){for(var N=1;N<arguments.length;N++){var T=arguments[N];for(var D in T)Object.prototype.hasOwnProperty.call(T,D)&&(R[D]=T[D])}return R},f.apply(this,arguments)}function p(R,N){var T=Object.keys(R);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(R);N&&(D=D.filter(function(_){return Object.getOwnPropertyDescriptor(R,_).enumerable})),T.push.apply(T,D)}return T}function m(R){for(var N=1;N<arguments.length;N++){var T=arguments[N]!=null?arguments[N]:{};N%2?p(Object(T),!0).forEach(function(D){v(R,D,T[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(T)):p(Object(T)).forEach(function(D){Object.defineProperty(R,D,Object.getOwnPropertyDescriptor(T,D))})}return R}function v(R,N,T){return N=w(N),N in R?Object.defineProperty(R,N,{value:T,enumerable:!0,configurable:!0,writable:!0}):R[N]=T,R}function w(R){var N=x(R,"string");return typeof N=="symbol"?N:String(N)}function x(R,N){if(typeof R!="object"||R===null)return R;var T=R[Symbol.toPrimitive];if(T!==void 0){var D=T.call(R,N);if(typeof D!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(N==="string"?String:Number)(R)}function E(R,N){if(R==null)return{};var T={},D=Object.keys(R),_,L;for(L=0;L<D.length;L++)_=D[L],!(N.indexOf(_)>=0)&&(T[_]=R[_]);return T}function C(R,N){R.prototype=Object.create(N.prototype),R.prototype.constructor=R,k(R,N)}function k(R,N){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(D,_){return D.__proto__=_,D},k(R,N)}var S=function(R){C(N,R);function N(){for(var D,_=arguments.length,L=new Array(_),z=0;z<_;z++)L[z]=arguments[z];return D=R.call.apply(R,[this].concat(L))||this,D.state={width:D.props.width,height:D.props.height,propsWidth:D.props.width,propsHeight:D.props.height},D.onResize=function(W,se){var xe=se.size;D.props.onResize?(W.persist==null||W.persist(),D.setState(xe,function(){return D.props.onResize&&D.props.onResize(W,se)})):D.setState(xe)},D}N.getDerivedStateFromProps=function(_,L){return L.propsWidth!==_.width||L.propsHeight!==_.height?{width:_.width,height:_.height,propsWidth:_.width,propsHeight:_.height}:null};var T=N.prototype;return T.render=function(){var _=this.props,L=_.handle,z=_.handleSize;_.onResize;var W=_.onResizeStart,se=_.onResizeStop,xe=_.draggableOpts,ye=_.minConstraints,Ce=_.maxConstraints,Ee=_.lockAspectRatio,ue=_.axis;_.width,_.height;var de=_.resizeHandles,V=_.style,F=_.transformScale,pe=E(_,i);return n.createElement(t.default,{axis:ue,draggableOpts:xe,handle:L,handleSize:z,height:this.state.height,lockAspectRatio:Ee,maxConstraints:Ce,minConstraints:ye,onResizeStart:W,onResize:this.onResize,onResizeStop:se,resizeHandles:de,transformScale:F,width:this.state.width},n.createElement("div",f({},pe,{style:m(m({},V),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},N}(n.Component);return Xh.default=S,S.propTypes=m(m({},r.resizableProps),{},{children:e.default.element}),Xh}var cE;function I3(){return cE||(cE=1,Kh.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},Kh.exports.Resizable=XM().default,Kh.exports.ResizableBox=L3().default),Kh.exports}var Ba={},fE;function QM(){if(fE)return Ba;fE=1,Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.resizeHandleType=Ba.resizeHandleAxesType=Ba.default=void 0;var n=t(ou()),e=t(Qi());function t(o){return o&&o.__esModule?o:{default:o}}const r=Ba.resizeHandleAxesType=n.default.arrayOf(n.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),i=Ba.resizeHandleType=n.default.oneOfType([n.default.node,n.default.func]);return Ba.default={className:n.default.string,style:n.default.object,width:n.default.number,autoSize:n.default.bool,cols:n.default.number,draggableCancel:n.default.string,draggableHandle:n.default.string,verticalCompact:function(o){o.verticalCompact},compactType:n.default.oneOf(["vertical","horizontal"]),layout:function(o){var a=o.layout;a!==void 0&&gd().validateLayout(a,"layout")},margin:n.default.arrayOf(n.default.number),containerPadding:n.default.arrayOf(n.default.number),rowHeight:n.default.number,maxRows:n.default.number,isBounded:n.default.bool,isDraggable:n.default.bool,isResizable:n.default.bool,allowOverlap:n.default.bool,preventCollision:n.default.bool,useCSSTransforms:n.default.bool,transformScale:n.default.number,isDroppable:n.default.bool,resizeHandles:r,resizeHandle:i,onLayoutChange:n.default.func,onDragStart:n.default.func,onDrag:n.default.func,onDragStop:n.default.func,onResizeStart:n.default.func,onResize:n.default.func,onResizeStop:n.default.func,onDrop:n.default.func,droppingItem:n.default.shape({i:n.default.string.isRequired,w:n.default.number.isRequired,h:n.default.number.isRequired}),children:function(o,a){const c=o[a],f={};e.default.Children.forEach(c,function(p){if((p==null?void 0:p.key)!=null){if(f[p.key])throw new Error('Duplicate child key "'+p.key+'" found! This will cause problems in ReactGridLayout.');f[p.key]=!0}})},innerRef:n.default.any},Ba}var dE;function z3(){if(dE)return Vh;dE=1,Object.defineProperty(Vh,"__esModule",{value:!0}),Vh.default=void 0;var n=p(Qi()),e=Hp(),t=p(ou()),r=Zx(),i=I3(),o=gd(),a=Xx(),c=QM(),f=p(Yx());function p(E){return E&&E.__esModule?E:{default:E}}function m(E,C,k){return C=v(C),C in E?Object.defineProperty(E,C,{value:k,enumerable:!0,configurable:!0,writable:!0}):E[C]=k,E}function v(E){var C=w(E,"string");return typeof C=="symbol"?C:String(C)}function w(E,C){if(typeof E!="object"||E===null)return E;var k=E[Symbol.toPrimitive];if(k!==void 0){var S=k.call(E,C);if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(C==="string"?String:Number)(E)}let x=class extends n.default.Component{constructor(){super(...arguments),m(this,"state",{resizing:null,dragging:null,className:""}),m(this,"elementRef",n.default.createRef()),m(this,"onDragStart",(C,k)=>{let{node:S}=k;const{onDragStart:R,transformScale:N}=this.props;if(!R)return;const T={top:0,left:0},{offsetParent:D}=S;if(!D)return;const _=D.getBoundingClientRect(),L=S.getBoundingClientRect(),z=L.left/N,W=_.left/N,se=L.top/N,xe=_.top/N;T.left=z-W+D.scrollLeft,T.top=se-xe+D.scrollTop,this.setState({dragging:T});const{x:ye,y:Ce}=(0,a.calcXY)(this.getPositionParams(),T.top,T.left,this.props.w,this.props.h);return R.call(this,this.props.i,ye,Ce,{e:C,node:S,newPosition:T})}),m(this,"onDrag",(C,k,S)=>{let{node:R,deltaX:N,deltaY:T}=k;const{onDrag:D}=this.props;if(!D)return;if(!this.state.dragging)throw new Error("onDrag called before onDragStart.");let _=this.state.dragging.top+T,L=this.state.dragging.left+N;const{isBounded:z,i:W,w:se,h:xe,containerWidth:ye}=this.props,Ce=this.getPositionParams();if(z){const{offsetParent:V}=R;if(V){const{margin:F,rowHeight:pe,containerPadding:he}=this.props,H=V.clientHeight-(0,a.calcGridItemWHPx)(xe,pe,F[1]);_=(0,a.clamp)(_-he[1],0,H);const ce=(0,a.calcGridColWidth)(Ce),Te=ye-(0,a.calcGridItemWHPx)(se,ce,F[0]);L=(0,a.clamp)(L-he[0],0,Te)}}const Ee={top:_,left:L};S?this.setState({dragging:Ee}):(0,e.flushSync)(()=>{this.setState({dragging:Ee})});const{x:ue,y:de}=(0,a.calcXY)(Ce,_,L,se,xe);return D.call(this,W,ue,de,{e:C,node:R,newPosition:Ee})}),m(this,"onDragStop",(C,k)=>{let{node:S}=k;const{onDragStop:R}=this.props;if(!R)return;if(!this.state.dragging)throw new Error("onDragEnd called before onDragStart.");const{w:N,h:T,i:D}=this.props,{left:_,top:L}=this.state.dragging,z={top:L,left:_};this.setState({dragging:null});const{x:W,y:se}=(0,a.calcXY)(this.getPositionParams(),L,_,N,T);return R.call(this,D,W,se,{e:C,node:S,newPosition:z})}),m(this,"onResizeStop",(C,k,S)=>this.onResizeHandler(C,k,S,"onResizeStop")),m(this,"onResizeStart",(C,k,S)=>this.onResizeHandler(C,k,S,"onResizeStart")),m(this,"onResize",(C,k,S)=>this.onResizeHandler(C,k,S,"onResize"))}shouldComponentUpdate(C,k){if(this.props.children!==C.children||this.props.droppingPosition!==C.droppingPosition)return!0;const S=(0,a.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),R=(0,a.calcGridItemPosition)(this.getPositionParams(C),C.x,C.y,C.w,C.h,k);return!(0,o.fastPositionEqual)(S,R)||this.props.useCSSTransforms!==C.useCSSTransforms}componentDidMount(){this.moveDroppingItem({})}componentDidUpdate(C){this.moveDroppingItem(C)}moveDroppingItem(C){const{droppingPosition:k}=this.props;if(!k)return;const S=this.elementRef.current;if(!S)return;const R=C.droppingPosition||{left:0,top:0},{dragging:N}=this.state,T=N&&k.left!==R.left||k.top!==R.top;if(!N)this.onDragStart(k.e,{node:S,deltaX:k.left,deltaY:k.top});else if(T){const D=k.left-N.left,_=k.top-N.top;this.onDrag(k.e,{node:S,deltaX:D,deltaY:_},!0)}}getPositionParams(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return{cols:C.cols,containerPadding:C.containerPadding,containerWidth:C.containerWidth,margin:C.margin,maxRows:C.maxRows,rowHeight:C.rowHeight}}createStyle(C){const{usePercentages:k,containerWidth:S,useCSSTransforms:R}=this.props;let N;return R?N=(0,o.setTransform)(C):(N=(0,o.setTopLeft)(C),k&&(N.left=(0,o.perc)(C.left/S),N.width=(0,o.perc)(C.width/S))),N}mixinDraggable(C,k){return n.default.createElement(r.DraggableCore,{disabled:!k,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},C)}curryResizeHandler(C,k){return(S,R)=>k(S,R,C)}mixinResizable(C,k,S){const{cols:R,minW:N,minH:T,maxW:D,maxH:_,transformScale:L,resizeHandles:z,resizeHandle:W}=this.props,se=this.getPositionParams(),xe=(0,a.calcGridItemPosition)(se,0,0,R,0).width,ye=(0,a.calcGridItemPosition)(se,0,0,N,T),Ce=(0,a.calcGridItemPosition)(se,0,0,D,_),Ee=[ye.width,ye.height],ue=[Math.min(Ce.width,xe),Math.min(Ce.height,1/0)];return n.default.createElement(i.Resizable,{draggableOpts:{disabled:!S},className:S?void 0:"react-resizable-hide",width:k.width,height:k.height,minConstraints:Ee,maxConstraints:ue,onResizeStop:this.curryResizeHandler(k,this.onResizeStop),onResizeStart:this.curryResizeHandler(k,this.onResizeStart),onResize:this.curryResizeHandler(k,this.onResize),transformScale:L,resizeHandles:z,handle:W},C)}onResizeHandler(C,k,S,R){let{node:N,size:T,handle:D}=k;const _=this.props[R];if(!_)return;const{x:L,y:z,i:W,maxH:se,minH:xe,containerWidth:ye}=this.props,{minW:Ce,maxW:Ee}=this.props;let ue=T;N&&(ue=(0,o.resizeItemInDirection)(D,S,T,ye),(0,e.flushSync)(()=>{this.setState({resizing:R==="onResizeStop"?null:ue})}));let{w:de,h:V}=(0,a.calcWH)(this.getPositionParams(),ue.width,ue.height,L,z,D);de=(0,a.clamp)(de,Math.max(Ce,1),Ee),V=(0,a.clamp)(V,xe,se),_.call(this,W,de,V,{e:C,node:N,size:ue,handle:D})}render(){const{x:C,y:k,w:S,h:R,isDraggable:N,isResizable:T,droppingPosition:D,useCSSTransforms:_}=this.props,L=(0,a.calcGridItemPosition)(this.getPositionParams(),C,k,S,R,this.state),z=n.default.Children.only(this.props.children);let W=n.default.cloneElement(z,{ref:this.elementRef,className:(0,f.default)("react-grid-item",z.props.className,this.props.className,{static:this.props.static,resizing:!!this.state.resizing,"react-draggable":N,"react-draggable-dragging":!!this.state.dragging,dropping:!!D,cssTransforms:_}),style:{...this.props.style,...z.props.style,...this.createStyle(L)}});return W=this.mixinResizable(W,L,T),W=this.mixinDraggable(W,N),W}};return Vh.default=x,m(x,"propTypes",{children:t.default.element,cols:t.default.number.isRequired,containerWidth:t.default.number.isRequired,rowHeight:t.default.number.isRequired,margin:t.default.array.isRequired,maxRows:t.default.number.isRequired,containerPadding:t.default.array.isRequired,x:t.default.number.isRequired,y:t.default.number.isRequired,w:t.default.number.isRequired,h:t.default.number.isRequired,minW:function(E,C){const k=E[C];if(typeof k!="number")return new Error("minWidth not Number");if(k>E.w||k>E.maxW)return new Error("minWidth larger than item width/maxWidth")},maxW:function(E,C){const k=E[C];if(typeof k!="number")return new Error("maxWidth not Number");if(k<E.w||k<E.minW)return new Error("maxWidth smaller than item width/minWidth")},minH:function(E,C){const k=E[C];if(typeof k!="number")return new Error("minHeight not Number");if(k>E.h||k>E.maxH)return new Error("minHeight larger than item height/maxHeight")},maxH:function(E,C){const k=E[C];if(typeof k!="number")return new Error("maxHeight not Number");if(k<E.h||k<E.minH)return new Error("maxHeight smaller than item height/minHeight")},i:t.default.string.isRequired,resizeHandles:c.resizeHandleAxesType,resizeHandle:c.resizeHandleType,onDragStop:t.default.func,onDragStart:t.default.func,onDrag:t.default.func,onResizeStop:t.default.func,onResizeStart:t.default.func,onResize:t.default.func,isDraggable:t.default.bool.isRequired,isResizable:t.default.bool.isRequired,isBounded:t.default.bool.isRequired,static:t.default.bool,useCSSTransforms:t.default.bool.isRequired,transformScale:t.default.number,className:t.default.string,handle:t.default.string,cancel:t.default.string,droppingPosition:t.default.shape({e:t.default.object.isRequired,left:t.default.number.isRequired,top:t.default.number.isRequired})}),m(x,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1}),Vh}var hE;function ZM(){if(hE)return Wh;hE=1,Object.defineProperty(Wh,"__esModule",{value:!0}),Wh.default=void 0;var n=p(Qi()),e=Jx(),t=c(Yx()),r=gd(),i=Xx(),o=c(z3()),a=c(QM());function c(k){return k&&k.__esModule?k:{default:k}}function f(k){if(typeof WeakMap!="function")return null;var S=new WeakMap,R=new WeakMap;return(f=function(N){return N?R:S})(k)}function p(k,S){if(k&&k.__esModule)return k;if(k===null||typeof k!="object"&&typeof k!="function")return{default:k};var R=f(S);if(R&&R.has(k))return R.get(k);var N={__proto__:null},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var D in k)if(D!=="default"&&Object.prototype.hasOwnProperty.call(k,D)){var _=T?Object.getOwnPropertyDescriptor(k,D):null;_&&(_.get||_.set)?Object.defineProperty(N,D,_):N[D]=k[D]}return N.default=k,R&&R.set(k,N),N}function m(k,S,R){return S=v(S),S in k?Object.defineProperty(k,S,{value:R,enumerable:!0,configurable:!0,writable:!0}):k[S]=R,k}function v(k){var S=w(k,"string");return typeof S=="symbol"?S:String(S)}function w(k,S){if(typeof k!="object"||k===null)return k;var R=k[Symbol.toPrimitive];if(R!==void 0){var N=R.call(k,S);if(typeof N!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(k)}const x="react-grid-layout";let E=!1;try{E=/firefox/i.test(navigator.userAgent)}catch{}let C=class extends n.Component{constructor(){super(...arguments),m(this,"state",{activeDrag:null,layout:(0,r.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,(0,r.compactType)(this.props),this.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,resizing:!1,droppingDOMNode:null,children:[]}),m(this,"dragEnterCounter",0),m(this,"onDragStart",(S,R,N,T)=>{let{e:D,node:_}=T;const{layout:L}=this.state,z=(0,r.getLayoutItem)(L,S);if(!z)return;const W={w:z.w,h:z.h,x:z.x,y:z.y,placeholder:!0,i:S};return this.setState({oldDragItem:(0,r.cloneLayoutItem)(z),oldLayout:L,activeDrag:W}),this.props.onDragStart(L,z,z,null,D,_)}),m(this,"onDrag",(S,R,N,T)=>{let{e:D,node:_}=T;const{oldDragItem:L}=this.state;let{layout:z}=this.state;const{cols:W,allowOverlap:se,preventCollision:xe}=this.props,ye=(0,r.getLayoutItem)(z,S);if(!ye)return;const Ce={w:ye.w,h:ye.h,x:ye.x,y:ye.y,placeholder:!0,i:S};z=(0,r.moveElement)(z,ye,R,N,!0,xe,(0,r.compactType)(this.props),W,se),this.props.onDrag(z,L,ye,Ce,D,_),this.setState({layout:se?z:(0,r.compact)(z,(0,r.compactType)(this.props),W),activeDrag:Ce})}),m(this,"onDragStop",(S,R,N,T)=>{let{e:D,node:_}=T;if(!this.state.activeDrag)return;const{oldDragItem:L}=this.state;let{layout:z}=this.state;const{cols:W,preventCollision:se,allowOverlap:xe}=this.props,ye=(0,r.getLayoutItem)(z,S);if(!ye)return;z=(0,r.moveElement)(z,ye,R,N,!0,se,(0,r.compactType)(this.props),W,xe);const Ee=xe?z:(0,r.compact)(z,(0,r.compactType)(this.props),W);this.props.onDragStop(Ee,L,ye,null,D,_);const{oldLayout:ue}=this.state;this.setState({activeDrag:null,layout:Ee,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(Ee,ue)}),m(this,"onResizeStart",(S,R,N,T)=>{let{e:D,node:_}=T;const{layout:L}=this.state,z=(0,r.getLayoutItem)(L,S);z&&(this.setState({oldResizeItem:(0,r.cloneLayoutItem)(z),oldLayout:this.state.layout,resizing:!0}),this.props.onResizeStart(L,z,z,null,D,_))}),m(this,"onResize",(S,R,N,T)=>{let{e:D,node:_,size:L,handle:z}=T;const{oldResizeItem:W}=this.state,{layout:se}=this.state,{cols:xe,preventCollision:ye,allowOverlap:Ce}=this.props;let Ee=!1,ue,de,V;const[F,pe]=(0,r.withLayoutItem)(se,S,H=>{let ce;return de=H.x,V=H.y,["sw","w","nw","n","ne"].indexOf(z)!==-1&&(["sw","nw","w"].indexOf(z)!==-1&&(de=H.x+(H.w-R),R=H.x!==de&&de<0?H.w:R,de=de<0?0:de),["ne","n","nw"].indexOf(z)!==-1&&(V=H.y+(H.h-N),N=H.y!==V&&V<0?H.h:N,V=V<0?0:V),Ee=!0),ye&&!Ce&&(ce=(0,r.getAllCollisions)(se,{...H,w:R,h:N,x:de,y:V}).filter($e=>$e.i!==H.i).length>0,ce&&(V=H.y,N=H.h,de=H.x,R=H.w,Ee=!1)),H.w=R,H.h=N,H});if(!pe)return;ue=F,Ee&&(ue=(0,r.moveElement)(F,pe,de,V,!0,this.props.preventCollision,(0,r.compactType)(this.props),xe,Ce));const he={w:pe.w,h:pe.h,x:pe.x,y:pe.y,static:!0,i:S};this.props.onResize(ue,W,pe,he,D,_),this.setState({layout:Ce?ue:(0,r.compact)(ue,(0,r.compactType)(this.props),xe),activeDrag:he})}),m(this,"onResizeStop",(S,R,N,T)=>{let{e:D,node:_}=T;const{layout:L,oldResizeItem:z}=this.state,{cols:W,allowOverlap:se}=this.props,xe=(0,r.getLayoutItem)(L,S),ye=se?L:(0,r.compact)(L,(0,r.compactType)(this.props),W);this.props.onResizeStop(ye,z,xe,null,D,_);const{oldLayout:Ce}=this.state;this.setState({activeDrag:null,layout:ye,oldResizeItem:null,oldLayout:null,resizing:!1}),this.onLayoutMaybeChanged(ye,Ce)}),m(this,"onDragOver",S=>{var F;if(S.preventDefault(),S.stopPropagation(),E&&!((F=S.nativeEvent.target)!=null&&F.classList.contains(x)))return!1;const{droppingItem:R,onDropDragOver:N,margin:T,cols:D,rowHeight:_,maxRows:L,width:z,containerPadding:W,transformScale:se}=this.props,xe=N==null?void 0:N(S);if(xe===!1)return this.state.droppingDOMNode&&this.removeDroppingPlaceholder(),!1;const ye={...R,...xe},{layout:Ce}=this.state,Ee=S.currentTarget.getBoundingClientRect(),ue=S.clientX-Ee.left,de=S.clientY-Ee.top,V={left:ue/se,top:de/se,e:S};if(this.state.droppingDOMNode){if(this.state.droppingPosition){const{left:pe,top:he}=this.state.droppingPosition;(pe!=ue||he!=de)&&this.setState({droppingPosition:V})}}else{const pe={cols:D,margin:T,maxRows:L,rowHeight:_,containerWidth:z,containerPadding:W||T},he=(0,i.calcXY)(pe,de,ue,ye.w,ye.h);this.setState({droppingDOMNode:n.createElement("div",{key:ye.i}),droppingPosition:V,layout:[...Ce,{...ye,x:he.x,y:he.y,static:!1,isDraggable:!0}]})}}),m(this,"removeDroppingPlaceholder",()=>{const{droppingItem:S,cols:R}=this.props,{layout:N}=this.state,T=(0,r.compact)(N.filter(D=>D.i!==S.i),(0,r.compactType)(this.props),R,this.props.allowOverlap);this.setState({layout:T,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})}),m(this,"onDragLeave",S=>{S.preventDefault(),S.stopPropagation(),this.dragEnterCounter--,this.dragEnterCounter===0&&this.removeDroppingPlaceholder()}),m(this,"onDragEnter",S=>{S.preventDefault(),S.stopPropagation(),this.dragEnterCounter++}),m(this,"onDrop",S=>{S.preventDefault(),S.stopPropagation();const{droppingItem:R}=this.props,{layout:N}=this.state,T=N.find(D=>D.i===R.i);this.dragEnterCounter=0,this.removeDroppingPlaceholder(),this.props.onDrop(N,T,S)})}componentDidMount(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}static getDerivedStateFromProps(S,R){let N;return R.activeDrag?null:(!(0,e.deepEqual)(S.layout,R.propsLayout)||S.compactType!==R.compactType?N=S.layout:(0,r.childrenEqual)(S.children,R.children)||(N=R.layout),N?{layout:(0,r.synchronizeLayoutWithChildren)(N,S.children,S.cols,(0,r.compactType)(S),S.allowOverlap),compactType:S.compactType,children:S.children,propsLayout:S.layout}:null)}shouldComponentUpdate(S,R){return this.props.children!==S.children||!(0,r.fastRGLPropsEqual)(this.props,S,e.deepEqual)||this.state.activeDrag!==R.activeDrag||this.state.mounted!==R.mounted||this.state.droppingPosition!==R.droppingPosition}componentDidUpdate(S,R){if(!this.state.activeDrag){const N=this.state.layout,T=R.layout;this.onLayoutMaybeChanged(N,T)}}containerHeight(){if(!this.props.autoSize)return;const S=(0,r.bottom)(this.state.layout),R=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return S*this.props.rowHeight+(S-1)*this.props.margin[1]+R*2+"px"}onLayoutMaybeChanged(S,R){R||(R=this.state.layout),(0,e.deepEqual)(R,S)||this.props.onLayoutChange(S)}placeholder(){const{activeDrag:S}=this.state;if(!S)return null;const{width:R,cols:N,margin:T,containerPadding:D,rowHeight:_,maxRows:L,useCSSTransforms:z,transformScale:W}=this.props;return n.createElement(o.default,{w:S.w,h:S.h,x:S.x,y:S.y,i:S.i,className:`react-grid-placeholder ${this.state.resizing?"placeholder-resizing":""}`,containerWidth:R,cols:N,margin:T,containerPadding:D||T,maxRows:L,rowHeight:_,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:z,transformScale:W},n.createElement("div",null))}processGridItem(S,R){if(!S||!S.key)return;const N=(0,r.getLayoutItem)(this.state.layout,String(S.key));if(!N)return null;const{width:T,cols:D,margin:_,containerPadding:L,rowHeight:z,maxRows:W,isDraggable:se,isResizable:xe,isBounded:ye,useCSSTransforms:Ce,transformScale:Ee,draggableCancel:ue,draggableHandle:de,resizeHandles:V,resizeHandle:F}=this.props,{mounted:pe,droppingPosition:he}=this.state,H=typeof N.isDraggable=="boolean"?N.isDraggable:!N.static&&se,ce=typeof N.isResizable=="boolean"?N.isResizable:!N.static&&xe,Te=N.resizeHandles||V,$e=H&&ye&&N.isBounded!==!1;return n.createElement(o.default,{containerWidth:T,cols:D,margin:_,containerPadding:L||_,maxRows:W,rowHeight:z,cancel:ue,handle:de,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:H,isResizable:ce,isBounded:$e,useCSSTransforms:Ce&&pe,usePercentages:!pe,transformScale:Ee,w:N.w,h:N.h,x:N.x,y:N.y,i:N.i,minH:N.minH,minW:N.minW,maxH:N.maxH,maxW:N.maxW,static:N.static,droppingPosition:R?he:void 0,resizeHandles:Te,resizeHandle:F},S)}render(){const{className:S,style:R,isDroppable:N,innerRef:T}=this.props,D=(0,t.default)(x,S),_={height:this.containerHeight(),...R};return n.createElement("div",{ref:T,className:D,style:_,onDrop:N?this.onDrop:r.noop,onDragLeave:N?this.onDragLeave:r.noop,onDragEnter:N?this.onDragEnter:r.noop,onDragOver:N?this.onDragOver:r.noop},n.Children.map(this.props.children,L=>this.processGridItem(L)),N&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}};return Wh.default=C,m(C,"displayName","ReactGridLayout"),m(C,"propTypes",a.default),m(C,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:r.noop,onDragStart:r.noop,onDrag:r.noop,onDragStop:r.noop,onResizeStart:r.noop,onResize:r.noop,onResizeStop:r.noop,onDrop:r.noop,onDropDragOver:r.noop}),Wh}var Qh={},Ku={},pE;function eO(){if(pE)return Ku;pE=1,Object.defineProperty(Ku,"__esModule",{value:!0}),Ku.findOrGenerateResponsiveLayout=r,Ku.getBreakpointFromWidth=e,Ku.getColsFromBreakpoint=t,Ku.sortBreakpoints=i;var n=gd();function e(o,a){const c=i(o);let f=c[0];for(let p=1,m=c.length;p<m;p++){const v=c[p];a>o[v]&&(f=v)}return f}function t(o,a){if(!a[o])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+o+" is missing!");return a[o]}function r(o,a,c,f,p,m){if(o[c])return(0,n.cloneLayout)(o[c]);let v=o[f];const w=i(a),x=w.slice(w.indexOf(c));for(let E=0,C=x.length;E<C;E++){const k=x[E];if(o[k]){v=o[k];break}}return v=(0,n.cloneLayout)(v||[]),(0,n.compact)((0,n.correctBounds)(v,{cols:p}),m,p)}function i(o){return Object.keys(o).sort(function(c,f){return o[c]-o[f]})}return Ku}var mE;function B3(){if(mE)return Qh;mE=1,Object.defineProperty(Qh,"__esModule",{value:!0}),Qh.default=void 0;var n=f(Qi()),e=a(ou()),t=Jx(),r=gd(),i=eO(),o=a(ZM());function a(k){return k&&k.__esModule?k:{default:k}}function c(k){if(typeof WeakMap!="function")return null;var S=new WeakMap,R=new WeakMap;return(c=function(N){return N?R:S})(k)}function f(k,S){if(k&&k.__esModule)return k;if(k===null||typeof k!="object"&&typeof k!="function")return{default:k};var R=c(S);if(R&&R.has(k))return R.get(k);var N={__proto__:null},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var D in k)if(D!=="default"&&Object.prototype.hasOwnProperty.call(k,D)){var _=T?Object.getOwnPropertyDescriptor(k,D):null;_&&(_.get||_.set)?Object.defineProperty(N,D,_):N[D]=k[D]}return N.default=k,R&&R.set(k,N),N}function p(){return p=Object.assign?Object.assign.bind():function(k){for(var S=1;S<arguments.length;S++){var R=arguments[S];for(var N in R)Object.prototype.hasOwnProperty.call(R,N)&&(k[N]=R[N])}return k},p.apply(this,arguments)}function m(k,S,R){return S=v(S),S in k?Object.defineProperty(k,S,{value:R,enumerable:!0,configurable:!0,writable:!0}):k[S]=R,k}function v(k){var S=w(k,"string");return typeof S=="symbol"?S:String(S)}function w(k,S){if(typeof k!="object"||k===null)return k;var R=k[Symbol.toPrimitive];if(R!==void 0){var N=R.call(k,S);if(typeof N!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(k)}const x=k=>Object.prototype.toString.call(k);function E(k,S){return k==null?null:Array.isArray(k)?k:k[S]}let C=class extends n.Component{constructor(){super(...arguments),m(this,"state",this.generateInitialState()),m(this,"onLayoutChange",S=>{this.props.onLayoutChange(S,{...this.props.layouts,[this.state.breakpoint]:S})})}generateInitialState(){const{width:S,breakpoints:R,layouts:N,cols:T}=this.props,D=(0,i.getBreakpointFromWidth)(R,S),_=(0,i.getColsFromBreakpoint)(D,T),L=this.props.verticalCompact===!1?null:this.props.compactType;return{layout:(0,i.findOrGenerateResponsiveLayout)(N,R,D,D,_,L),breakpoint:D,cols:_}}static getDerivedStateFromProps(S,R){if(!(0,t.deepEqual)(S.layouts,R.layouts)){const{breakpoint:N,cols:T}=R;return{layout:(0,i.findOrGenerateResponsiveLayout)(S.layouts,S.breakpoints,N,N,T,S.compactType),layouts:S.layouts}}return null}componentDidUpdate(S){(this.props.width!=S.width||this.props.breakpoint!==S.breakpoint||!(0,t.deepEqual)(this.props.breakpoints,S.breakpoints)||!(0,t.deepEqual)(this.props.cols,S.cols))&&this.onWidthChange(S)}onWidthChange(S){const{breakpoints:R,cols:N,layouts:T,compactType:D}=this.props,_=this.props.breakpoint||(0,i.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),L=this.state.breakpoint,z=(0,i.getColsFromBreakpoint)(_,N),W={...T};if(L!==_||S.breakpoints!==R||S.cols!==N){L in W||(W[L]=(0,r.cloneLayout)(this.state.layout));let ye=(0,i.findOrGenerateResponsiveLayout)(W,R,_,L,z,D);ye=(0,r.synchronizeLayoutWithChildren)(ye,this.props.children,z,D,this.props.allowOverlap),W[_]=ye,this.props.onBreakpointChange(_,z),this.props.onLayoutChange(ye,W),this.setState({breakpoint:_,layout:ye,cols:z})}const se=E(this.props.margin,_),xe=E(this.props.containerPadding,_);this.props.onWidthChange(this.props.width,se,z,xe)}render(){const{breakpoint:S,breakpoints:R,cols:N,layouts:T,margin:D,containerPadding:_,onBreakpointChange:L,onLayoutChange:z,onWidthChange:W,...se}=this.props;return n.createElement(o.default,p({},se,{margin:E(D,this.state.breakpoint),containerPadding:E(_,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}};return Qh.default=C,m(C,"propTypes",{breakpoint:e.default.string,breakpoints:e.default.object,allowOverlap:e.default.bool,cols:e.default.object,margin:e.default.oneOfType([e.default.array,e.default.object]),containerPadding:e.default.oneOfType([e.default.array,e.default.object]),layouts(k,S){if(x(k[S])!=="[object Object]")throw new Error("Layout property must be an object. Received: "+x(k[S]));Object.keys(k[S]).forEach(R=>{if(!(R in k.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,r.validateLayout)(k.layouts[R],"layouts."+R)})},width:e.default.number.isRequired,onBreakpointChange:e.default.func,onLayoutChange:e.default.func,onWidthChange:e.default.func}),m(C,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:r.noop,onLayoutChange:r.noop,onWidthChange:r.noop}),Qh}var Ng={},tO=function(){if(typeof Map<"u")return Map;function n(e,t){var r=-1;return e.some(function(i,o){return i[0]===t?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var r=n(this.__entries__,t),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(t,r){var i=n(this.__entries__,t);~i?this.__entries__[i][1]=r:this.__entries__.push([t,r])},e.prototype.delete=function(t){var r=this.__entries__,i=n(r,t);~i&&r.splice(i,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,r){r===void 0&&(r=null);for(var i=0,o=this.__entries__;i<o.length;i++){var a=o[i];t.call(r,a[1],a[0])}},e}()}(),$w=typeof window<"u"&&typeof document<"u"&&window.document===document,Fy=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),j3=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Fy):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),F3=2;function H3(n,e){var t=!1,r=!1,i=0;function o(){t&&(t=!1,n()),r&&c()}function a(){j3(o)}function c(){var f=Date.now();if(t){if(f-i<F3)return;r=!0}else t=!0,r=!1,setTimeout(a,e);i=f}return c}var $3=20,U3=["top","right","bottom","left","width","height","size","weight"],W3=typeof MutationObserver<"u",V3=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=H3(this.refresh.bind(this),$3)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!$w||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),W3?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!$w||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=t===void 0?"":t,i=U3.some(function(o){return!!~r.indexOf(o)});i&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),nO=function(n,e){for(var t=0,r=Object.keys(e);t<r.length;t++){var i=r[t];Object.defineProperty(n,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return n},hd=function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||Fy},rO=uv(0,0,0,0);function Hy(n){return parseFloat(n)||0}function gE(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(r,i){var o=n["border-"+i+"-width"];return r+Hy(o)},0)}function q3(n){for(var e=["top","right","bottom","left"],t={},r=0,i=e;r<i.length;r++){var o=i[r],a=n["padding-"+o];t[o]=Hy(a)}return t}function G3(n){var e=n.getBBox();return uv(0,0,e.width,e.height)}function K3(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return rO;var r=hd(n).getComputedStyle(n),i=q3(r),o=i.left+i.right,a=i.top+i.bottom,c=Hy(r.width),f=Hy(r.height);if(r.boxSizing==="border-box"&&(Math.round(c+o)!==e&&(c-=gE(r,"left","right")+o),Math.round(f+a)!==t&&(f-=gE(r,"top","bottom")+a)),!Y3(n)){var p=Math.round(c+o)-e,m=Math.round(f+a)-t;Math.abs(p)!==1&&(c-=p),Math.abs(m)!==1&&(f-=m)}return uv(i.left,i.top,c,f)}var J3=function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof hd(n).SVGGraphicsElement}:function(n){return n instanceof hd(n).SVGElement&&typeof n.getBBox=="function"}}();function Y3(n){return n===hd(n).document.documentElement}function X3(n){return $w?J3(n)?G3(n):K3(n):rO}function Q3(n){var e=n.x,t=n.y,r=n.width,i=n.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,a=Object.create(o.prototype);return nO(a,{x:e,y:t,width:r,height:i,top:t,right:e+r,bottom:i+t,left:e}),a}function uv(n,e,t,r){return{x:n,y:e,width:t,height:r}}var Z3=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=uv(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=X3(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),eF=function(){function n(e,t){var r=Q3(t);nO(this,{target:e,contentRect:r})}return n}(),tF=function(){function n(e,t,r){if(this.activeObservations_=[],this.observations_=new tO,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof hd(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Z3(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof hd(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(r){return new eF(r.target,r.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),iO=typeof WeakMap<"u"?new WeakMap:new tO,oO=function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=V3.getInstance(),r=new tF(e,t,this);iO.set(this,r)}return n}();["observe","unobserve","disconnect"].forEach(function(n){oO.prototype[n]=function(){var e;return(e=iO.get(this))[n].apply(e,arguments)}});var nF=function(){return typeof Fy.ResizeObserver<"u"?Fy.ResizeObserver:oO}();const rF=Object.freeze(Object.defineProperty({__proto__:null,default:nF},Symbol.toStringTag,{value:"Module"})),iF=qE(rF);var yE;function oF(){if(yE)return Ng;yE=1,Object.defineProperty(Ng,"__esModule",{value:!0}),Ng.default=w;var n=a(Qi()),e=i(ou()),t=i(iF),r=i(Yx());function i(x){return x&&x.__esModule?x:{default:x}}function o(x){if(typeof WeakMap!="function")return null;var E=new WeakMap,C=new WeakMap;return(o=function(k){return k?C:E})(x)}function a(x,E){if(x&&x.__esModule)return x;if(x===null||typeof x!="object"&&typeof x!="function")return{default:x};var C=o(E);if(C&&C.has(x))return C.get(x);var k={__proto__:null},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var R in x)if(R!=="default"&&Object.prototype.hasOwnProperty.call(x,R)){var N=S?Object.getOwnPropertyDescriptor(x,R):null;N&&(N.get||N.set)?Object.defineProperty(k,R,N):k[R]=x[R]}return k.default=x,C&&C.set(x,k),k}function c(){return c=Object.assign?Object.assign.bind():function(x){for(var E=1;E<arguments.length;E++){var C=arguments[E];for(var k in C)Object.prototype.hasOwnProperty.call(C,k)&&(x[k]=C[k])}return x},c.apply(this,arguments)}function f(x,E,C){return E=p(E),E in x?Object.defineProperty(x,E,{value:C,enumerable:!0,configurable:!0,writable:!0}):x[E]=C,x}function p(x){var E=m(x,"string");return typeof E=="symbol"?E:String(E)}function m(x,E){if(typeof x!="object"||x===null)return x;var C=x[Symbol.toPrimitive];if(C!==void 0){var k=C.call(x,E);if(typeof k!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(x)}const v="react-grid-layout";function w(x){var E;return E=class extends n.Component{constructor(){super(...arguments),f(this,"state",{width:1280}),f(this,"elementRef",n.createRef()),f(this,"mounted",!1),f(this,"resizeObserver",void 0)}componentDidMount(){this.mounted=!0,this.resizeObserver=new t.default(S=>{if(this.elementRef.current instanceof HTMLElement){const N=S[0].contentRect.width;this.setState({width:N})}});const k=this.elementRef.current;k instanceof HTMLElement&&this.resizeObserver.observe(k)}componentWillUnmount(){this.mounted=!1;const k=this.elementRef.current;k instanceof HTMLElement&&this.resizeObserver.unobserve(k),this.resizeObserver.disconnect()}render(){const{measureBeforeMount:k,...S}=this.props;return k&&!this.mounted?n.createElement("div",{className:(0,r.default)(this.props.className,v),style:this.props.style,ref:this.elementRef}):n.createElement(x,c({innerRef:this.elementRef},S,this.state))}},f(E,"defaultProps",{measureBeforeMount:!1}),f(E,"propTypes",{measureBeforeMount:e.default.bool}),E}return Ng}var vE;function sF(){return vE||(vE=1,function(n){n.exports=ZM().default,n.exports.utils=gd(),n.exports.calculateUtils=Xx(),n.exports.Responsive=B3().default,n.exports.Responsive.utils=eO(),n.exports.WidthProvider=oF().default}(K0)),K0.exports}var wE=sF(),lp={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var aF=lp.exports,xE;function lF(){return xE||(xE=1,function(n,e){(function(){var t,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",c="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",p=500,m="__lodash_placeholder__",v=1,w=2,x=4,E=1,C=2,k=1,S=2,R=4,N=8,T=16,D=32,_=64,L=128,z=256,W=512,se=30,xe="...",ye=800,Ce=16,Ee=1,ue=2,de=3,V=1/0,F=9007199254740991,pe=17976931348623157e292,he=NaN,H=4294967295,ce=H-1,Te=H>>>1,$e=[["ary",L],["bind",k],["bindKey",S],["curry",N],["curryRight",T],["flip",W],["partial",D],["partialRight",_],["rearg",z]],Ve="[object Arguments]",Qe="[object Array]",ut="[object AsyncFunction]",ke="[object Boolean]",Be="[object Date]",qe="[object DOMException]",Y="[object Error]",U="[object Function]",ne="[object GeneratorFunction]",ie="[object Map]",Fe="[object Number]",Oe="[object Null]",Ge="[object Object]",Je="[object Promise]",_e="[object Proxy]",ct="[object RegExp]",Xe="[object Set]",ft="[object String]",_t="[object Symbol]",Qt="[object Undefined]",Cn="[object WeakMap]",vn="[object WeakSet]",Ae="[object ArrayBuffer]",We="[object DataView]",Ct="[object Float32Array]",Ft="[object Float64Array]",Zt="[object Int8Array]",Yn="[object Int16Array]",mi="[object Int32Array]",ve="[object Uint8Array]",ot="[object Uint8ClampedArray]",St="[object Uint16Array]",$t="[object Uint32Array]",Bt=/\b__p \+= '';/g,Mn=/\b(__p \+=) '' \+/g,qn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,sr=/&(?:amp|lt|gt|quot|#39);/g,Vr=/[&<>"']/g,Xn=RegExp(sr.source),J=RegExp(Vr.source),we=/<%-([\s\S]+?)%>/g,Ue=/<%([\s\S]+?)%>/g,Mt=/<%=([\s\S]+?)%>/g,G=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ee=/^\w*$/,Z=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ae=/[\\^$.*+?()[\]{}|]/g,be=RegExp(ae.source),Ye=/^\s+/,Ze=/\s/,et=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,pt=/\{\n\/\* \[wrapped with (.+)\] \*/,vt=/,? & /,Lt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,xt=/[()=,{}\[\]\/\s]/,jt=/\\(\\)?/g,rn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Tn=/\w*$/,$n=/^[-+]0x[0-9a-f]+$/i,Qn=/^0b[01]+$/i,en=/^\[object .+?Constructor\]$/,xo=/^0o[0-7]+$/i,_i=/^(?:0|[1-9]\d*)$/,br=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Zn=/($^)/,bo=/['\n\r\u2028\u2029\\]/g,hn="\\ud800-\\udfff",oa="\\u0300-\\u036f",gi="\\ufe20-\\ufe2f",Ni="\\u20d0-\\u20ff",on=oa+gi+Ni,De="\\u2700-\\u27bf",at="a-z\\xdf-\\xf6\\xf8-\\xff",It="\\xac\\xb1\\xd7\\xf7",Wt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ut="\\u2000-\\u206f",wn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ri="A-Z\\xc0-\\xd6\\xd8-\\xde",Yo="\\ufe0e\\ufe0f",_r=It+Wt+Ut+wn,Sr="['’]",sa="["+hn+"]",Xo="["+_r+"]",So="["+on+"]",bc="\\d+",xd="["+De+"]",Ka="["+at+"]",su="[^"+hn+_r+bc+De+at+ri+"]",Eo="\\ud83c[\\udffb-\\udfff]",bs="(?:"+So+"|"+Eo+")",yi="[^"+hn+"]",aa="(?:\\ud83c[\\udde6-\\uddff]){2}",ln="[\\ud800-\\udbff][\\udc00-\\udfff]",Rt="["+ri+"]",Ja="\\u200d",Un="(?:"+Ka+"|"+su+")",bn="(?:"+Rt+"|"+su+")",Ss="(?:"+Sr+"(?:d|ll|m|re|s|t|ve))?",Zi="(?:"+Sr+"(?:D|LL|M|RE|S|T|VE))?",Es=bs+"?",Qo="["+Yo+"]?",Ke="(?:"+Ja+"(?:"+[yi,aa,ln].join("|")+")"+Qo+Es+")*",lt="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Nt="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",sn=Qo+Es+Ke,Wn="(?:"+[xd,aa,ln].join("|")+")"+sn,pr="(?:"+[yi+So+"?",So,aa,ln,sa].join("|")+")",bd=RegExp(Sr,"g"),Sc=RegExp(So,"g"),la=RegExp(Eo+"(?="+Eo+")|"+pr+sn,"g"),fv=RegExp([Rt+"?"+Ka+"+"+Ss+"(?="+[Xo,Rt,"$"].join("|")+")",bn+"+"+Zi+"(?="+[Xo,Rt+Un,"$"].join("|")+")",Rt+"?"+Un+"+"+Ss,Rt+"+"+Zi,Nt,lt,bc,Wn].join("|"),"g"),Xp=RegExp("["+Ja+hn+on+Yo+"]"),Ec=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Qp=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],dv=-1,Sn={};Sn[Ct]=Sn[Ft]=Sn[Zt]=Sn[Yn]=Sn[mi]=Sn[ve]=Sn[ot]=Sn[St]=Sn[$t]=!0,Sn[Ve]=Sn[Qe]=Sn[Ae]=Sn[ke]=Sn[We]=Sn[Be]=Sn[Y]=Sn[U]=Sn[ie]=Sn[Fe]=Sn[Ge]=Sn[ct]=Sn[Xe]=Sn[ft]=Sn[Cn]=!1;var xn={};xn[Ve]=xn[Qe]=xn[Ae]=xn[We]=xn[ke]=xn[Be]=xn[Ct]=xn[Ft]=xn[Zt]=xn[Yn]=xn[mi]=xn[ie]=xn[Fe]=xn[Ge]=xn[ct]=xn[Xe]=xn[ft]=xn[_t]=xn[ve]=xn[ot]=xn[St]=xn[$t]=!0,xn[Y]=xn[U]=xn[Cn]=!1;var Ya={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},kc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},hv={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},pv={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Sd=parseFloat,Cc=parseInt,Mc=typeof fg=="object"&&fg&&fg.Object===Object&&fg,Zp=typeof self=="object"&&self&&self.Object===Object&&self,Ln=Mc||Zp||Function("return this")(),au=e&&!e.nodeType&&e,ko=au&&!0&&n&&!n.nodeType&&n,Ed=ko&&ko.exports===au,Xa=Ed&&Mc.process,qr=function(){try{var re=ko&&ko.require&&ko.require("util").types;return re||Xa&&Xa.binding&&Xa.binding("util")}catch{}}(),kd=qr&&qr.isArrayBuffer,ii=qr&&qr.isDate,ua=qr&&qr.isMap,Oc=qr&&qr.isRegExp,Qa=qr&&qr.isSet,em=qr&&qr.isTypedArray;function Gr(re,Se,me){switch(me.length){case 0:return re.call(Se);case 1:return re.call(Se,me[0]);case 2:return re.call(Se,me[0],me[1]);case 3:return re.call(Se,me[0],me[1],me[2])}return re.apply(Se,me)}function Cd(re,Se,me,nt){for(var zt=-1,pn=re==null?0:re.length;++zt<pn;){var er=re[zt];Se(nt,er,me(er),re)}return nt}function Nr(re,Se){for(var me=-1,nt=re==null?0:re.length;++me<nt&&Se(re[me],me,re)!==!1;);return re}function Rc(re,Se){for(var me=re==null?0:re.length;me--&&Se(re[me],me,re)!==!1;);return re}function Md(re,Se){for(var me=-1,nt=re==null?0:re.length;++me<nt;)if(!Se(re[me],me,re))return!1;return!0}function ks(re,Se){for(var me=-1,nt=re==null?0:re.length,zt=0,pn=[];++me<nt;){var er=re[me];Se(er,me,re)&&(pn[zt++]=er)}return pn}function Tc(re,Se){var me=re==null?0:re.length;return!!me&&Za(re,Se,0)>-1}function Od(re,Se,me){for(var nt=-1,zt=re==null?0:re.length;++nt<zt;)if(me(Se,re[nt]))return!0;return!1}function On(re,Se){for(var me=-1,nt=re==null?0:re.length,zt=Array(nt);++me<nt;)zt[me]=Se(re[me],me,re);return zt}function Cs(re,Se){for(var me=-1,nt=Se.length,zt=re.length;++me<nt;)re[zt+me]=Se[me];return re}function Rd(re,Se,me,nt){var zt=-1,pn=re==null?0:re.length;for(nt&&pn&&(me=re[++zt]);++zt<pn;)me=Se(me,re[zt],zt,re);return me}function mv(re,Se,me,nt){var zt=re==null?0:re.length;for(nt&&zt&&(me=re[--zt]);zt--;)me=Se(me,re[zt],zt,re);return me}function Td(re,Se){for(var me=-1,nt=re==null?0:re.length;++me<nt;)if(Se(re[me],me,re))return!0;return!1}var gv=Nd("length");function tm(re){return re.split("")}function yv(re){return re.match(Lt)||[]}function nm(re,Se,me){var nt;return me(re,function(zt,pn,er){if(Se(zt,pn,er))return nt=pn,!1}),nt}function _c(re,Se,me,nt){for(var zt=re.length,pn=me+(nt?1:-1);nt?pn--:++pn<zt;)if(Se(re[pn],pn,re))return pn;return-1}function Za(re,Se,me){return Se===Se?Dc(re,Se,me):_c(re,rm,me)}function _d(re,Se,me,nt){for(var zt=me-1,pn=re.length;++zt<pn;)if(nt(re[zt],Se))return zt;return-1}function rm(re){return re!==re}function im(re,Se){var me=re==null?0:re.length;return me?Ad(re,Se)/me:he}function Nd(re){return function(Se){return Se==null?t:Se[re]}}function Nc(re){return function(Se){return re==null?t:re[Se]}}function om(re,Se,me,nt,zt){return zt(re,function(pn,er,En){me=nt?(nt=!1,pn):Se(me,pn,er,En)}),me}function vv(re,Se){var me=re.length;for(re.sort(Se);me--;)re[me]=re[me].value;return re}function Ad(re,Se){for(var me,nt=-1,zt=re.length;++nt<zt;){var pn=Se(re[nt]);pn!==t&&(me=me===t?pn:me+pn)}return me}function Dd(re,Se){for(var me=-1,nt=Array(re);++me<re;)nt[me]=Se(me);return nt}function wv(re,Se){return On(Se,function(me){return[me,re[me]]})}function sm(re){return re&&re.slice(0,Pc(re)+1).replace(Ye,"")}function vi(re){return function(Se){return re(Se)}}function lu(re,Se){return On(Se,function(me){return re[me]})}function Zo(re,Se){return re.has(Se)}function am(re,Se){for(var me=-1,nt=re.length;++me<nt&&Za(Se,re[me],0)>-1;);return me}function Pd(re,Se){for(var me=re.length;me--&&Za(Se,re[me],0)>-1;);return me}function lm(re,Se){for(var me=re.length,nt=0;me--;)re[me]===Se&&++nt;return nt}var um=Nc(Ya),cm=Nc(kc);function fm(re){return"\\"+pv[re]}function el(re,Se){return re==null?t:re[Se]}function tl(re){return Xp.test(re)}function xv(re){return Ec.test(re)}function bv(re){for(var Se,me=[];!(Se=re.next()).done;)me.push(Se.value);return me}function Ac(re){var Se=-1,me=Array(re.size);return re.forEach(function(nt,zt){me[++Se]=[zt,nt]}),me}function Ld(re,Se){return function(me){return re(Se(me))}}function Ai(re,Se){for(var me=-1,nt=re.length,zt=0,pn=[];++me<nt;){var er=re[me];(er===Se||er===m)&&(re[me]=m,pn[zt++]=me)}return pn}function Ms(re){var Se=-1,me=Array(re.size);return re.forEach(function(nt){me[++Se]=nt}),me}function Sv(re){var Se=-1,me=Array(re.size);return re.forEach(function(nt){me[++Se]=[nt,nt]}),me}function Dc(re,Se,me){for(var nt=me-1,zt=re.length;++nt<zt;)if(re[nt]===Se)return nt;return-1}function Ev(re,Se,me){for(var nt=me+1;nt--;)if(re[nt]===Se)return nt;return nt}function ca(re){return tl(re)?hm(re):gv(re)}function wi(re){return tl(re)?pm(re):tm(re)}function Pc(re){for(var Se=re.length;Se--&&Ze.test(re.charAt(Se)););return Se}var dm=Nc(hv);function hm(re){for(var Se=la.lastIndex=0;la.test(re);)++Se;return Se}function pm(re){return re.match(la)||[]}function kv(re){return re.match(fv)||[]}var Cv=function re(Se){Se=Se==null?Ln:nl.defaults(Ln.Object(),Se,nl.pick(Ln,Qp));var me=Se.Array,nt=Se.Date,zt=Se.Error,pn=Se.Function,er=Se.Math,En=Se.Object,uu=Se.RegExp,Mv=Se.String,Di=Se.TypeError,es=me.prototype,Id=pn.prototype,Co=En.prototype,rl=Se["__core-js_shared__"],cu=Id.toString,mn=Co.hasOwnProperty,il=0,Lc=function(){var u=/[^.]+$/.exec(rl&&rl.keys&&rl.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),fu=Co.toString,Ic=cu.call(En),mm=Ln._,gm=uu("^"+cu.call(mn).replace(ae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),du=Ed?Se.Buffer:t,ts=Se.Symbol,hu=Se.Uint8Array,zd=du?du.allocUnsafe:t,eo=Ld(En.getPrototypeOf,En),zc=En.create,Bc=Co.propertyIsEnumerable,jc=es.splice,ym=ts?ts.isConcatSpreadable:t,ns=ts?ts.iterator:t,fa=ts?ts.toStringTag:t,pu=function(){try{var u=zs(En,"defineProperty");return u({},"",{}),u}catch{}}(),vm=Se.clearTimeout!==Ln.clearTimeout&&Se.clearTimeout,_n=nt&&nt.now!==Ln.Date.now&&nt.now,Bd=Se.setTimeout!==Ln.setTimeout&&Se.setTimeout,da=er.ceil,Os=er.floor,Fc=En.getOwnPropertySymbols,jd=du?du.isBuffer:t,ol=Se.isFinite,Hc=es.join,sl=Ld(En.keys,En),tr=er.max,Ar=er.min,Ov=nt.now,wm=Se.parseInt,mu=er.random,$c=es.reverse,gu=zs(Se,"DataView"),ha=zs(Se,"Map"),yu=zs(Se,"Promise"),Rs=zs(Se,"Set"),vu=zs(Se,"WeakMap"),al=zs(En,"create"),Uc=vu&&new vu,ll={},Fd=Bs(gu),Ts=Bs(ha),xm=Bs(yu),ul=Bs(Rs),Mo=Bs(vu),_s=ts?ts.prototype:t,xi=_s?_s.valueOf:t,Wc=_s?_s.toString:t;function B(u){if(rr(u)&&!qt(u)&&!(u instanceof Vt)){if(u instanceof Dr)return u;if(mn.call(u,"__wrapped__"))return Km(u)}return new Dr(u)}var cl=function(){function u(){}return function(d){if(!Jn(d))return{};if(zc)return zc(d);u.prototype=d;var y=new u;return u.prototype=t,y}}();function Oo(){}function Dr(u,d){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!d,this.__index__=0,this.__values__=t}B.templateSettings={escape:we,evaluate:Ue,interpolate:Mt,variable:"",imports:{_:B}},B.prototype=Oo.prototype,B.prototype.constructor=B,Dr.prototype=cl(Oo.prototype),Dr.prototype.constructor=Dr;function Vt(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=H,this.__views__=[]}function Vc(){var u=new Vt(this.__wrapped__);return u.__actions__=Jr(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=Jr(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=Jr(this.__views__),u}function Hd(){if(this.__filtered__){var u=new Vt(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function fl(){var u=this.__wrapped__.value(),d=this.__dir__,y=qt(u),O=d<0,A=y?u.length:0,j=mh(0,A,this.__views__),q=j.start,Q=j.end,oe=Q-q,Me=O?Q:q-1,Re=this.__iteratees__,Le=Re.length,tt=0,bt=Ar(oe,this.__takeCount__);if(!y||!O&&A==oe&&bt==oe)return wl(u,this.__actions__);var Dt=[];e:for(;oe--&&tt<bt;){Me+=d;for(var Yt=-1,Pt=u[Me];++Yt<Le;){var un=Re[Yt],dn=un.iteratee,co=un.type,Ci=dn(Pt);if(co==ue)Pt=Ci;else if(!Ci){if(co==Ee)continue e;break e}}Dt[tt++]=Pt}return Dt}Vt.prototype=cl(Oo.prototype),Vt.prototype.constructor=Vt;function oi(u){var d=-1,y=u==null?0:u.length;for(this.clear();++d<y;){var O=u[d];this.set(O[0],O[1])}}function Nn(){this.__data__=al?al(null):{},this.size=0}function Rn(u){var d=this.has(u)&&delete this.__data__[u];return this.size-=d?1:0,d}function Ns(u){var d=this.__data__;if(al){var y=d[u];return y===f?t:y}return mn.call(d,u)?d[u]:t}function Pr(u){var d=this.__data__;return al?d[u]!==t:mn.call(d,u)}function si(u,d){var y=this.__data__;return this.size+=this.has(u)?0:1,y[u]=al&&d===t?f:d,this}oi.prototype.clear=Nn,oi.prototype.delete=Rn,oi.prototype.get=Ns,oi.prototype.has=Pr,oi.prototype.set=si;function Kr(u){var d=-1,y=u==null?0:u.length;for(this.clear();++d<y;){var O=u[d];this.set(O[0],O[1])}}function dl(){this.__data__=[],this.size=0}function ai(u){var d=this.__data__,y=Ir(d,u);if(y<0)return!1;var O=d.length-1;return y==O?d.pop():jc.call(d,y,1),--this.size,!0}function qc(u){var d=this.__data__,y=Ir(d,u);return y<0?t:d[y][1]}function bm(u){return Ir(this.__data__,u)>-1}function Sm(u,d){var y=this.__data__,O=Ir(y,u);return O<0?(++this.size,y.push([u,d])):y[O][1]=d,this}Kr.prototype.clear=dl,Kr.prototype.delete=ai,Kr.prototype.get=qc,Kr.prototype.has=bm,Kr.prototype.set=Sm;function Pi(u){var d=-1,y=u==null?0:u.length;for(this.clear();++d<y;){var O=u[d];this.set(O[0],O[1])}}function Em(){this.size=0,this.__data__={hash:new oi,map:new(ha||Kr),string:new oi}}function rs(u){var d=Pu(this,u).delete(u);return this.size-=d?1:0,d}function Gc(u){return Pu(this,u).get(u)}function $d(u){return Pu(this,u).has(u)}function km(u,d){var y=Pu(this,u),O=y.size;return y.set(u,d),this.size+=y.size==O?0:1,this}Pi.prototype.clear=Em,Pi.prototype.delete=rs,Pi.prototype.get=Gc,Pi.prototype.has=$d,Pi.prototype.set=km;function pa(u){var d=-1,y=u==null?0:u.length;for(this.__data__=new Pi;++d<y;)this.add(u[d])}function As(u){return this.__data__.set(u,f),this}function hl(u){return this.__data__.has(u)}pa.prototype.add=pa.prototype.push=As,pa.prototype.has=hl;function Lr(u){var d=this.__data__=new Kr(u);this.size=d.size}function Kc(){this.__data__=new Kr,this.size=0}function Jc(u){var d=this.__data__,y=d.delete(u);return this.size=d.size,y}function Li(u){return this.__data__.get(u)}function Ii(u){return this.__data__.has(u)}function ma(u,d){var y=this.__data__;if(y instanceof Kr){var O=y.__data__;if(!ha||O.length<i-1)return O.push([u,d]),this.size=++y.size,this;y=this.__data__=new Pi(O)}return y.set(u,d),this.size=y.size,this}Lr.prototype.clear=Kc,Lr.prototype.delete=Jc,Lr.prototype.get=Li,Lr.prototype.has=Ii,Lr.prototype.set=ma;function Ro(u,d){var y=qt(u),O=!y&&qu(u),A=!y&&!O&&Tl(u),j=!y&&!O&&!A&&jf(u),q=y||O||A||j,Q=q?Dd(u.length,Mv):[],oe=Q.length;for(var Me in u)(d||mn.call(u,Me))&&!(q&&(Me=="length"||A&&(Me=="offset"||Me=="parent")||j&&(Me=="buffer"||Me=="byteLength"||Me=="byteOffset")||zn(Me,oe)))&&Q.push(Me);return Q}function To(u){var d=u.length;return d?u[yl(0,d-1)]:t}function ga(u,d){return Sf(Jr(u),is(d,0,u.length))}function Cm(u){return Sf(Jr(u))}function wu(u,d,y){(y!==t&&!ms(u[d],y)||y===t&&!(d in u))&&_o(u,d,y)}function ya(u,d,y){var O=u[d];(!(mn.call(u,d)&&ms(O,y))||y===t&&!(d in u))&&_o(u,d,y)}function Ir(u,d){for(var y=u.length;y--;)if(ms(u[y][0],d))return y;return-1}function bi(u,d,y,O){return Ao(u,function(A,j,q){d(O,A,y(A),q)}),O}function An(u,d){return u&&no(d,jr(d),u)}function to(u,d){return u&&no(d,Vi(d),u)}function _o(u,d,y){d=="__proto__"&&pu?pu(u,d,{configurable:!0,enumerable:!0,value:y,writable:!0}):u[d]=y}function Yc(u,d){for(var y=-1,O=d.length,A=me(O),j=u==null;++y<O;)A[y]=j?t:Xv(u,d[y]);return A}function is(u,d,y){return u===u&&(y!==t&&(u=u<=y?u:y),d!==t&&(u=u>=d?u:d)),u}function li(u,d,y,O,A,j){var q,Q=d&v,oe=d&w,Me=d&x;if(y&&(q=A?y(u,O,A,j):y(u)),q!==t)return q;if(!Jn(u))return u;var Re=qt(u);if(Re){if(q=Iu(u),!Q)return Jr(u,q)}else{var Le=Cr(u),tt=Le==U||Le==ne;if(Tl(u))return rh(u,Q);if(Le==Ge||Le==Ve||tt&&!A){if(q=oe||tt?{}:Mr(u),!Q)return oe?Tv(u,to(q,u)):cf(u,An(q,u))}else{if(!xn[Le])return A?u:{};q=_v(u,Le,Q)}}j||(j=new Lr);var bt=j.get(u);if(bt)return bt;j.set(u,q),lb(u)?u.forEach(function(Pt){q.add(li(Pt,d,y,Pt,u,j))}):sb(u)&&u.forEach(function(Pt,un){q.set(un,li(Pt,d,y,un,u,j))});var Dt=Me?oe?Du:Au:oe?Vi:jr,Yt=Re?t:Dt(u);return Nr(Yt||u,function(Pt,un){Yt&&(un=Pt,Pt=u[un]),ya(q,un,li(Pt,d,y,un,u,j))}),q}function Mm(u){var d=jr(u);return function(y){return xu(y,u,d)}}function xu(u,d,y){var O=y.length;if(u==null)return!O;for(u=En(u);O--;){var A=y[O],j=d[A],q=u[A];if(q===t&&!(A in u)||!j(q))return!1}return!0}function Ud(u,d,y){if(typeof u!="function")throw new Di(a);return Ml(function(){u.apply(t,y)},d)}function No(u,d,y,O){var A=-1,j=Tc,q=!0,Q=u.length,oe=[],Me=d.length;if(!Q)return oe;y&&(d=On(d,vi(y))),O?(j=Od,q=!1):d.length>=i&&(j=Zo,q=!1,d=new pa(d));e:for(;++A<Q;){var Re=u[A],Le=y==null?Re:y(Re);if(Re=O||Re!==0?Re:0,q&&Le===Le){for(var tt=Me;tt--;)if(d[tt]===Le)continue e;oe.push(Re)}else j(d,Le,O)||oe.push(Re)}return oe}var Ao=Hi(Si),Om=Hi(Ds,!0);function bu(u,d){var y=!0;return Ao(u,function(O,A,j){return y=!!d(O,A,j),y}),y}function va(u,d,y){for(var O=-1,A=u.length;++O<A;){var j=u[O],q=d(j);if(q!=null&&(Q===t?q===q&&!uo(q):y(q,Q)))var Q=q,oe=j}return oe}function Rm(u,d,y,O){var A=u.length;for(y=Kt(y),y<0&&(y=-y>A?0:A+y),O=O===t||O>A?A:Kt(O),O<0&&(O+=A),O=y>O?0:cb(O);y<O;)u[y++]=d;return u}function Wd(u,d){var y=[];return Ao(u,function(O,A,j){d(O,A,j)&&y.push(O)}),y}function Vn(u,d,y,O,A){var j=-1,q=u.length;for(y||(y=wf),A||(A=[]);++j<q;){var Q=u[j];d>0&&y(Q)?d>1?Vn(Q,d-1,y,O,A):Cs(A,Q):O||(A[A.length]=Q)}return A}var Xc=df(),Su=df(!0);function Si(u,d){return u&&Xc(u,d,jr)}function Ds(u,d){return u&&Su(u,d,jr)}function pl(u,d){return ks(d,function(y){return Na(u[y])})}function ss(u,d){d=Lo(d,u);for(var y=0,O=d.length;u!=null&&y<O;)u=u[so(d[y++])];return y&&y==O?u:t}function Qc(u,d,y){var O=d(u);return qt(u)?O:Cs(O,y(u))}function Er(u){return u==null?u===t?Qt:Oe:fa&&fa in En(u)?vf(u):yh(u)}function Ps(u,d){return u>d}function zi(u,d){return u!=null&&mn.call(u,d)}function wa(u,d){return u!=null&&d in En(u)}function Vd(u,d,y){return u>=Ar(d,y)&&u<tr(d,y)}function Zc(u,d,y){for(var O=y?Od:Tc,A=u[0].length,j=u.length,q=j,Q=me(j),oe=1/0,Me=[];q--;){var Re=u[q];q&&d&&(Re=On(Re,vi(d))),oe=Ar(Re.length,oe),Q[q]=!y&&(d||A>=120&&Re.length>=120)?new pa(q&&Re):t}Re=u[0];var Le=-1,tt=Q[0];e:for(;++Le<A&&Me.length<oe;){var bt=Re[Le],Dt=d?d(bt):bt;if(bt=y||bt!==0?bt:0,!(tt?Zo(tt,Dt):O(Me,Dt,y))){for(q=j;--q;){var Yt=Q[q];if(!(Yt?Zo(Yt,Dt):O(u[q],Dt,y)))continue e}tt&&tt.push(Dt),Me.push(bt)}}return Me}function as(u,d,y,O){return Si(u,function(A,j,q){d(O,y(A),j,q)}),O}function Bi(u,d,y){d=Lo(d,u),u=mr(u,d);var O=u==null?u:u[so(Qr(d))];return O==null?t:Gr(O,u,y)}function ef(u){return rr(u)&&Er(u)==Ve}function Tm(u){return rr(u)&&Er(u)==Ae}function ls(u){return rr(u)&&Er(u)==Be}function ji(u,d,y,O,A){return u===d?!0:u==null||d==null||!rr(u)&&!rr(d)?u!==u&&d!==d:tf(u,d,y,O,ji,A)}function tf(u,d,y,O,A,j){var q=qt(u),Q=qt(d),oe=q?Qe:Cr(u),Me=Q?Qe:Cr(d);oe=oe==Ve?Ge:oe,Me=Me==Ve?Ge:Me;var Re=oe==Ge,Le=Me==Ge,tt=oe==Me;if(tt&&Tl(u)){if(!Tl(d))return!1;q=!0,Re=!1}if(tt&&!Re)return j||(j=new Lr),q||jf(u)?hh(u,d,y,O,A,j):ph(u,d,oe,y,O,A,j);if(!(y&E)){var bt=Re&&mn.call(u,"__wrapped__"),Dt=Le&&mn.call(d,"__wrapped__");if(bt||Dt){var Yt=bt?u.value():u,Pt=Dt?d.value():d;return j||(j=new Lr),A(Yt,Pt,y,O,j)}}return tt?(j||(j=new Lr),Fm(u,d,y,O,A,j)):!1}function _m(u){return rr(u)&&Cr(u)==ie}function ml(u,d,y,O){var A=y.length,j=A,q=!O;if(u==null)return!j;for(u=En(u);A--;){var Q=y[A];if(q&&Q[2]?Q[1]!==u[Q[0]]:!(Q[0]in u))return!1}for(;++A<j;){Q=y[A];var oe=Q[0],Me=u[oe],Re=Q[1];if(q&&Q[2]){if(Me===t&&!(oe in u))return!1}else{var Le=new Lr;if(O)var tt=O(Me,Re,oe,u,d,Le);if(!(tt===t?ji(Re,Me,E|C,O,Le):tt))return!1}}return!0}function qd(u){if(!Jn(u)||Um(u))return!1;var d=Na(u)?gm:en;return d.test(Bs(u))}function Eu(u){return rr(u)&&Er(u)==ct}function Do(u){return rr(u)&&Cr(u)==Xe}function ku(u){return rr(u)&&lg(u.length)&&!!Sn[Er(u)]}function gl(u){return typeof u=="function"?u:u==null?qi:typeof u=="object"?qt(u)?In(u[0],u[1]):nf(u):bb(u)}function us(u){if(!hs(u))return sl(u);var d=[];for(var y in En(u))mn.call(u,y)&&y!="constructor"&&d.push(y);return d}function Gd(u){if(!Jn(u))return qm(u);var d=hs(u),y=[];for(var O in u)O=="constructor"&&(d||!mn.call(u,O))||y.push(O);return y}function Ls(u,d){return u<d}function Kd(u,d){var y=-1,O=Wi(u)?me(u.length):[];return Ao(u,function(A,j,q){O[++y]=d(A,j,q)}),O}function nf(u){var d=Lu(u);return d.length==1&&d[0][2]?xf(d[0][0],d[0][1]):function(y){return y===u||ml(y,u,d)}}function In(u,d){return st(u)&&Bu(d)?xf(so(u),d):function(y){var O=Xv(y,u);return O===t&&O===d?Qv(y,u):ji(d,O,E|C)}}function xa(u,d,y,O,A){u!==d&&Xc(d,function(j,q){if(A||(A=new Lr),Jn(j))Jd(u,d,q,y,xa,O,A);else{var Q=O?O(Bo(u,q),j,q+"",u,d,A):t;Q===t&&(Q=j),wu(u,q,Q)}},Vi)}function Jd(u,d,y,O,A,j,q){var Q=Bo(u,y),oe=Bo(d,y),Me=q.get(oe);if(Me){wu(u,y,Me);return}var Re=j?j(Q,oe,y+"",u,d,q):t,Le=Re===t;if(Le){var tt=qt(oe),bt=!tt&&Tl(oe),Dt=!tt&&!bt&&jf(oe);Re=oe,tt||bt||Dt?qt(Q)?Re=Q:ur(Q)?Re=Jr(Q):bt?(Le=!1,Re=rh(oe,!0)):Dt?(Le=!1,Re=Lm(oe,!0)):Re=[]:Lh(oe)||qu(oe)?(Re=Q,qu(Q)?Re=fb(Q):(!Jn(Q)||Na(Q))&&(Re=Mr(oe))):Le=!1}Le&&(q.set(oe,Re),A(Re,oe,O,j,q),q.delete(oe)),wu(u,y,Re)}function rf(u,d){var y=u.length;if(y)return d+=d<0?y:0,zn(d,y)?u[d]:t}function Cu(u,d,y){d.length?d=On(d,function(j){return qt(j)?function(q){return ss(q,j.length===1?j[0]:j)}:j}):d=[qi];var O=-1;d=On(d,vi(Tt()));var A=Kd(u,function(j,q,Q){var oe=On(d,function(Me){return Me(j)});return{criteria:oe,index:++O,value:j}});return vv(A,function(j,q){return Rv(j,q,y)})}function Yd(u,d){return Is(u,d,function(y,O){return Qv(u,O)})}function Is(u,d,y){for(var O=-1,A=d.length,j={};++O<A;){var q=d[O],Q=ss(u,q);y(Q,q)&&Sa(j,Lo(q,u),Q)}return j}function jn(u){return function(d){return ss(d,u)}}function Gn(u,d,y,O){var A=O?_d:Za,j=-1,q=d.length,Q=u;for(u===d&&(d=Jr(d)),y&&(Q=On(u,vi(y)));++j<q;)for(var oe=0,Me=d[j],Re=y?y(Me):Me;(oe=A(Q,Re,oe,O))>-1;)Q!==u&&jc.call(Q,oe,1),jc.call(u,oe,1);return u}function ar(u,d){for(var y=u?d.length:0,O=y-1;y--;){var A=d[y];if(y==O||A!==j){var j=A;zn(A)?jc.call(u,A,1):af(u,A)}}return u}function yl(u,d){return u+Os(mu()*(d-u+1))}function Mu(u,d,y,O){for(var A=-1,j=tr(da((d-u)/(y||1)),0),q=me(j);j--;)q[O?j:++A]=u,u+=y;return q}function ba(u,d){var y="";if(!u||d<1||d>F)return y;do d%2&&(y+=u),d=Os(d/2),d&&(u+=u);while(d);return y}function Gt(u,d){return Ei(bf(u,d,qi),u+"")}function zr(u){return To(Ff(u))}function Xd(u,d){var y=Ff(u);return Sf(y,is(d,0,y.length))}function Sa(u,d,y,O){if(!Jn(u))return u;d=Lo(d,u);for(var A=-1,j=d.length,q=j-1,Q=u;Q!=null&&++A<j;){var oe=so(d[A]),Me=y;if(oe==="__proto__"||oe==="constructor"||oe==="prototype")return u;if(A!=q){var Re=Q[oe];Me=O?O(Re,oe,Q):t,Me===t&&(Me=Jn(Re)?Re:zn(d[A+1])?[]:{})}ya(Q,oe,Me),Q=Q[oe]}return u}var of=Uc?function(u,d){return Uc.set(u,d),u}:qi,Po=pu?function(u,d){return pu(u,"toString",{configurable:!0,enumerable:!1,value:e0(d),writable:!0})}:qi;function Fi(u){return Sf(Ff(u))}function Br(u,d,y){var O=-1,A=u.length;d<0&&(d=-d>A?0:A+d),y=y>A?A:y,y<0&&(y+=A),A=d>y?0:y-d>>>0,d>>>=0;for(var j=me(A);++O<A;)j[O]=u[O+d];return j}function Qd(u,d){var y;return Ao(u,function(O,A,j){return y=d(O,A,j),!y}),!!y}function vl(u,d,y){var O=0,A=u==null?O:u.length;if(typeof d=="number"&&d===d&&A<=Te){for(;O<A;){var j=O+A>>>1,q=u[j];q!==null&&!uo(q)&&(y?q<=d:q<d)?O=j+1:A=j}return A}return sf(u,d,qi,y)}function sf(u,d,y,O){var A=0,j=u==null?0:u.length;if(j===0)return 0;d=y(d);for(var q=d!==d,Q=d===null,oe=uo(d),Me=d===t;A<j;){var Re=Os((A+j)/2),Le=y(u[Re]),tt=Le!==t,bt=Le===null,Dt=Le===Le,Yt=uo(Le);if(q)var Pt=O||Dt;else Me?Pt=Dt&&(O||tt):Q?Pt=Dt&&tt&&(O||!bt):oe?Pt=Dt&&tt&&!bt&&(O||!Yt):bt||Yt?Pt=!1:Pt=O?Le<=d:Le<d;Pt?A=Re+1:j=Re}return Ar(j,ce)}function Zd(u,d){for(var y=-1,O=u.length,A=0,j=[];++y<O;){var q=u[y],Q=d?d(q):q;if(!y||!ms(Q,oe)){var oe=Q;j[A++]=q===0?0:q}}return j}function eh(u){return typeof u=="number"?u:uo(u)?he:+u}function ui(u){if(typeof u=="string")return u;if(qt(u))return On(u,ui)+"";if(uo(u))return Wc?Wc.call(u):"";var d=u+"";return d=="0"&&1/u==-V?"-0":d}function cs(u,d,y){var O=-1,A=Tc,j=u.length,q=!0,Q=[],oe=Q;if(y)q=!1,A=Od;else if(j>=i){var Me=d?null:jm(u);if(Me)return Ms(Me);q=!1,A=Zo,oe=new pa}else oe=d?[]:Q;e:for(;++O<j;){var Re=u[O],Le=d?d(Re):Re;if(Re=y||Re!==0?Re:0,q&&Le===Le){for(var tt=oe.length;tt--;)if(oe[tt]===Le)continue e;d&&oe.push(Le),Q.push(Re)}else A(oe,Le,y)||(oe!==Q&&oe.push(Le),Q.push(Re))}return Q}function af(u,d){return d=Lo(d,u),u=mr(u,d),u==null||delete u[so(Qr(d))]}function th(u,d,y,O){return Sa(u,d,y(ss(u,d)),O)}function Ou(u,d,y,O){for(var A=u.length,j=O?A:-1;(O?j--:++j<A)&&d(u[j],j,u););return y?Br(u,O?0:j,O?j+1:A):Br(u,O?j+1:0,O?A:j)}function wl(u,d){var y=u;return y instanceof Vt&&(y=y.value()),Rd(d,function(O,A){return A.func.apply(A.thisArg,Cs([O],A.args))},y)}function lf(u,d,y){var O=u.length;if(O<2)return O?cs(u[0]):[];for(var A=-1,j=me(O);++A<O;)for(var q=u[A],Q=-1;++Q<O;)Q!=A&&(j[A]=No(j[A]||q,u[Q],d,y));return cs(Vn(j,1),d,y)}function Ru(u,d,y){for(var O=-1,A=u.length,j=d.length,q={};++O<A;){var Q=O<j?d[O]:t;y(q,u[O],Q)}return q}function xl(u){return ur(u)?u:[]}function uf(u){return typeof u=="function"?u:qi}function Lo(u,d){return qt(u)?u:st(u,d)?[u]:xh(kn(u))}var Nm=Gt;function fs(u,d,y){var O=u.length;return y=y===t?O:y,!d&&y>=O?u:Br(u,d,y)}var nh=vm||function(u){return Ln.clearTimeout(u)};function rh(u,d){if(d)return u.slice();var y=u.length,O=zd?zd(y):new u.constructor(y);return u.copy(O),O}function Tu(u){var d=new u.constructor(u.byteLength);return new hu(d).set(new hu(u)),d}function Am(u,d){var y=d?Tu(u.buffer):u.buffer;return new u.constructor(y,u.byteOffset,u.byteLength)}function Dm(u){var d=new u.constructor(u.source,Tn.exec(u));return d.lastIndex=u.lastIndex,d}function Pm(u){return xi?En(xi.call(u)):{}}function Lm(u,d){var y=d?Tu(u.buffer):u.buffer;return new u.constructor(y,u.byteOffset,u.length)}function ih(u,d){if(u!==d){var y=u!==t,O=u===null,A=u===u,j=uo(u),q=d!==t,Q=d===null,oe=d===d,Me=uo(d);if(!Q&&!Me&&!j&&u>d||j&&q&&oe&&!Q&&!Me||O&&q&&oe||!y&&oe||!A)return 1;if(!O&&!j&&!Me&&u<d||Me&&y&&A&&!O&&!j||Q&&y&&A||!q&&A||!oe)return-1}return 0}function Rv(u,d,y){for(var O=-1,A=u.criteria,j=d.criteria,q=A.length,Q=y.length;++O<q;){var oe=ih(A[O],j[O]);if(oe){if(O>=Q)return oe;var Me=y[O];return oe*(Me=="desc"?-1:1)}}return u.index-d.index}function Im(u,d,y,O){for(var A=-1,j=u.length,q=y.length,Q=-1,oe=d.length,Me=tr(j-q,0),Re=me(oe+Me),Le=!O;++Q<oe;)Re[Q]=d[Q];for(;++A<q;)(Le||A<j)&&(Re[y[A]]=u[A]);for(;Me--;)Re[Q++]=u[A++];return Re}function oh(u,d,y,O){for(var A=-1,j=u.length,q=-1,Q=y.length,oe=-1,Me=d.length,Re=tr(j-Q,0),Le=me(Re+Me),tt=!O;++A<Re;)Le[A]=u[A];for(var bt=A;++oe<Me;)Le[bt+oe]=d[oe];for(;++q<Q;)(tt||A<j)&&(Le[bt+y[q]]=u[A++]);return Le}function Jr(u,d){var y=-1,O=u.length;for(d||(d=me(O));++y<O;)d[y]=u[y];return d}function no(u,d,y,O){var A=!y;y||(y={});for(var j=-1,q=d.length;++j<q;){var Q=d[j],oe=O?O(y[Q],u[Q],Q,y,u):t;oe===t&&(oe=u[Q]),A?_o(y,Q,oe):ya(y,Q,oe)}return y}function cf(u,d){return no(u,ro(u),d)}function Tv(u,d){return no(u,Hm(u),d)}function ff(u,d){return function(y,O){var A=qt(y)?Cd:bi,j=d?d():{};return A(y,u,Tt(O,2),j)}}function bl(u){return Gt(function(d,y){var O=-1,A=y.length,j=A>1?y[A-1]:t,q=A>2?y[2]:t;for(j=u.length>3&&typeof j=="function"?(A--,j):t,q&&Xr(y[0],y[1],q)&&(j=A<3?t:j,A=1),d=En(d);++O<A;){var Q=y[O];Q&&u(d,Q,O,j)}return d})}function Hi(u,d){return function(y,O){if(y==null)return y;if(!Wi(y))return u(y,O);for(var A=y.length,j=d?A:-1,q=En(y);(d?j--:++j<A)&&O(q[j],j,q)!==!1;);return y}}function df(u){return function(d,y,O){for(var A=-1,j=En(d),q=O(d),Q=q.length;Q--;){var oe=q[u?Q:++A];if(y(j[oe],oe,j)===!1)break}return d}}function hf(u,d,y){var O=d&k,A=Sl(u);function j(){var q=this&&this!==Ln&&this instanceof j?A:u;return q.apply(O?y:this,arguments)}return j}function sh(u){return function(d){d=kn(d);var y=tl(d)?wi(d):t,O=y?y[0]:d.charAt(0),A=y?fs(y,1).join(""):d.slice(1);return O[u]()+A}}function Ea(u){return function(d){return Rd(wb(vb(d).replace(bd,"")),u,"")}}function Sl(u){return function(){var d=arguments;switch(d.length){case 0:return new u;case 1:return new u(d[0]);case 2:return new u(d[0],d[1]);case 3:return new u(d[0],d[1],d[2]);case 4:return new u(d[0],d[1],d[2],d[3]);case 5:return new u(d[0],d[1],d[2],d[3],d[4]);case 6:return new u(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new u(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var y=cl(u.prototype),O=u.apply(y,d);return Jn(O)?O:y}}function ah(u,d,y){var O=Sl(u);function A(){for(var j=arguments.length,q=me(j),Q=j,oe=ds(A);Q--;)q[Q]=arguments[Q];var Me=j<3&&q[0]!==oe&&q[j-1]!==oe?[]:Ai(q,oe);if(j-=Me.length,j<y)return Yr(u,d,El,A.placeholder,t,q,Me,t,t,y-j);var Re=this&&this!==Ln&&this instanceof A?O:u;return Gr(Re,this,q)}return A}function ka(u){return function(d,y,O){var A=En(d);if(!Wi(d)){var j=Tt(y,3);d=jr(d),y=function(Q){return j(A[Q],Q,A)}}var q=u(d,y,O);return q>-1?A[j?d[q]:q]:t}}function pf(u){return zo(function(d){var y=d.length,O=y,A=Dr.prototype.thru;for(u&&d.reverse();O--;){var j=d[O];if(typeof j!="function")throw new Di(a);if(A&&!q&&kl(j)=="wrapper")var q=new Dr([],!0)}for(O=q?O:y;++O<y;){j=d[O];var Q=kl(j),oe=Q=="wrapper"?yf(j):t;oe&&zu(oe[0])&&oe[1]==(L|N|D|z)&&!oe[4].length&&oe[9]==1?q=q[kl(oe[0])].apply(q,oe[3]):q=j.length==1&&zu(j)?q[Q]():q.thru(j)}return function(){var Me=arguments,Re=Me[0];if(q&&Me.length==1&&qt(Re))return q.plant(Re).value();for(var Le=0,tt=y?d[Le].apply(this,Me):Re;++Le<y;)tt=d[Le].call(this,tt);return tt}})}function El(u,d,y,O,A,j,q,Q,oe,Me){var Re=d&L,Le=d&k,tt=d&S,bt=d&(N|T),Dt=d&W,Yt=tt?t:Sl(u);function Pt(){for(var un=arguments.length,dn=me(un),co=un;co--;)dn[co]=arguments[co];if(bt)var Ci=ds(Pt),fo=lm(dn,Ci);if(O&&(dn=Im(dn,O,A,bt)),j&&(dn=oh(dn,j,q,bt)),un-=fo,bt&&un<Me){var cr=Ai(dn,Ci);return Yr(u,d,El,Pt.placeholder,y,dn,cr,Q,oe,Me-un)}var gs=Le?y:this,Da=tt?gs[u]:u;return un=dn.length,Q?dn=io(dn,Q):Dt&&un>1&&dn.reverse(),Re&&oe<un&&(dn.length=oe),this&&this!==Ln&&this instanceof Pt&&(Da=Yt||Sl(Da)),Da.apply(gs,dn)}return Pt}function zm(u,d){return function(y,O){return as(y,u,d(O),{})}}function _u(u,d){return function(y,O){var A;if(y===t&&O===t)return d;if(y!==t&&(A=y),O!==t){if(A===t)return O;typeof y=="string"||typeof O=="string"?(y=ui(y),O=ui(O)):(y=eh(y),O=eh(O)),A=u(y,O)}return A}}function mf(u){return zo(function(d){return d=On(d,vi(Tt())),Gt(function(y){var O=this;return u(d,function(A){return Gr(A,O,y)})})})}function Nu(u,d){d=d===t?" ":ui(d);var y=d.length;if(y<2)return y?ba(d,u):d;var O=ba(d,da(u/ca(d)));return tl(d)?fs(wi(O),0,u).join(""):O.slice(0,u)}function Bm(u,d,y,O){var A=d&k,j=Sl(u);function q(){for(var Q=-1,oe=arguments.length,Me=-1,Re=O.length,Le=me(Re+oe),tt=this&&this!==Ln&&this instanceof q?j:u;++Me<Re;)Le[Me]=O[Me];for(;oe--;)Le[Me++]=arguments[++Q];return Gr(tt,A?y:this,Le)}return q}function lh(u){return function(d,y,O){return O&&typeof O!="number"&&Xr(d,y,O)&&(y=O=t),d=Aa(d),y===t?(y=d,d=0):y=Aa(y),O=O===t?d<y?1:-1:Aa(O),Mu(d,y,O,u)}}function gf(u){return function(d,y){return typeof d=="string"&&typeof y=="string"||(d=jo(d),y=jo(y)),u(d,y)}}function Yr(u,d,y,O,A,j,q,Q,oe,Me){var Re=d&N,Le=Re?q:t,tt=Re?t:q,bt=Re?j:t,Dt=Re?t:j;d|=Re?D:_,d&=~(Re?_:D),d&R||(d&=-4);var Yt=[u,d,A,bt,Le,Dt,tt,Q,oe,Me],Pt=y.apply(t,Yt);return zu(u)&&vh(Pt,Yt),Pt.placeholder=O,wh(Pt,u,d)}function kr(u){var d=er[u];return function(y,O){if(y=jo(y),O=O==null?0:Ar(Kt(O),292),O&&ol(y)){var A=(kn(y)+"e").split("e"),j=d(A[0]+"e"+(+A[1]+O));return A=(kn(j)+"e").split("e"),+(A[0]+"e"+(+A[1]-O))}return d(y)}}var jm=Rs&&1/Ms(new Rs([,-0]))[1]==V?function(u){return new Rs(u)}:r0;function uh(u){return function(d){var y=Cr(d);return y==ie?Ac(d):y==Xe?Sv(d):wv(d,u(d))}}function Io(u,d,y,O,A,j,q,Q){var oe=d&S;if(!oe&&typeof u!="function")throw new Di(a);var Me=O?O.length:0;if(Me||(d&=-97,O=A=t),q=q===t?q:tr(Kt(q),0),Q=Q===t?Q:Kt(Q),Me-=A?A.length:0,d&_){var Re=O,Le=A;O=A=t}var tt=oe?t:yf(u),bt=[u,d,y,O,A,Re,Le,j,q,Q];if(tt&&Vm(bt,tt),u=bt[0],d=bt[1],y=bt[2],O=bt[3],A=bt[4],Q=bt[9]=bt[9]===t?oe?0:u.length:tr(bt[9]-Me,0),!Q&&d&(N|T)&&(d&=-25),!d||d==k)var Dt=hf(u,d,y);else d==N||d==T?Dt=ah(u,d,Q):(d==D||d==(k|D))&&!A.length?Dt=Bm(u,d,y,O):Dt=El.apply(t,bt);var Yt=tt?of:vh;return wh(Yt(Dt,bt),u,d)}function ch(u,d,y,O){return u===t||ms(u,Co[y])&&!mn.call(O,y)?d:u}function fh(u,d,y,O,A,j){return Jn(u)&&Jn(d)&&(j.set(d,u),xa(u,d,t,fh,j),j.delete(d)),u}function dh(u){return Lh(u)?t:u}function hh(u,d,y,O,A,j){var q=y&E,Q=u.length,oe=d.length;if(Q!=oe&&!(q&&oe>Q))return!1;var Me=j.get(u),Re=j.get(d);if(Me&&Re)return Me==d&&Re==u;var Le=-1,tt=!0,bt=y&C?new pa:t;for(j.set(u,d),j.set(d,u);++Le<Q;){var Dt=u[Le],Yt=d[Le];if(O)var Pt=q?O(Yt,Dt,Le,d,u,j):O(Dt,Yt,Le,u,d,j);if(Pt!==t){if(Pt)continue;tt=!1;break}if(bt){if(!Td(d,function(un,dn){if(!Zo(bt,dn)&&(Dt===un||A(Dt,un,y,O,j)))return bt.push(dn)})){tt=!1;break}}else if(!(Dt===Yt||A(Dt,Yt,y,O,j))){tt=!1;break}}return j.delete(u),j.delete(d),tt}function ph(u,d,y,O,A,j,q){switch(y){case We:if(u.byteLength!=d.byteLength||u.byteOffset!=d.byteOffset)return!1;u=u.buffer,d=d.buffer;case Ae:return!(u.byteLength!=d.byteLength||!j(new hu(u),new hu(d)));case ke:case Be:case Fe:return ms(+u,+d);case Y:return u.name==d.name&&u.message==d.message;case ct:case ft:return u==d+"";case ie:var Q=Ac;case Xe:var oe=O&E;if(Q||(Q=Ms),u.size!=d.size&&!oe)return!1;var Me=q.get(u);if(Me)return Me==d;O|=C,q.set(u,d);var Re=hh(Q(u),Q(d),O,A,j,q);return q.delete(u),Re;case _t:if(xi)return xi.call(u)==xi.call(d)}return!1}function Fm(u,d,y,O,A,j){var q=y&E,Q=Au(u),oe=Q.length,Me=Au(d),Re=Me.length;if(oe!=Re&&!q)return!1;for(var Le=oe;Le--;){var tt=Q[Le];if(!(q?tt in d:mn.call(d,tt)))return!1}var bt=j.get(u),Dt=j.get(d);if(bt&&Dt)return bt==d&&Dt==u;var Yt=!0;j.set(u,d),j.set(d,u);for(var Pt=q;++Le<oe;){tt=Q[Le];var un=u[tt],dn=d[tt];if(O)var co=q?O(dn,un,tt,d,u,j):O(un,dn,tt,u,d,j);if(!(co===t?un===dn||A(un,dn,y,O,j):co)){Yt=!1;break}Pt||(Pt=tt=="constructor")}if(Yt&&!Pt){var Ci=u.constructor,fo=d.constructor;Ci!=fo&&"constructor"in u&&"constructor"in d&&!(typeof Ci=="function"&&Ci instanceof Ci&&typeof fo=="function"&&fo instanceof fo)&&(Yt=!1)}return j.delete(u),j.delete(d),Yt}function zo(u){return Ei(bf(u,t,kf),u+"")}function Au(u){return Qc(u,jr,ro)}function Du(u){return Qc(u,Vi,Hm)}var yf=Uc?function(u){return Uc.get(u)}:r0;function kl(u){for(var d=u.name+"",y=ll[d],O=mn.call(ll,d)?y.length:0;O--;){var A=y[O],j=A.func;if(j==null||j==u)return A.name}return d}function ds(u){var d=mn.call(B,"placeholder")?B:u;return d.placeholder}function Tt(){var u=B.iteratee||t0;return u=u===t0?gl:u,arguments.length?u(arguments[0],arguments[1]):u}function Pu(u,d){var y=u.__data__;return Cl(d)?y[typeof d=="string"?"string":"hash"]:y.map}function Lu(u){for(var d=jr(u),y=d.length;y--;){var O=d[y],A=u[O];d[y]=[O,A,Bu(A)]}return d}function zs(u,d){var y=el(u,d);return qd(y)?y:t}function vf(u){var d=mn.call(u,fa),y=u[fa];try{u[fa]=t;var O=!0}catch{}var A=fu.call(u);return O&&(d?u[fa]=y:delete u[fa]),A}var ro=Fc?function(u){return u==null?[]:(u=En(u),ks(Fc(u),function(d){return Bc.call(u,d)}))}:i0,Hm=Fc?function(u){for(var d=[];u;)Cs(d,ro(u)),u=eo(u);return d}:i0,Cr=Er;(gu&&Cr(new gu(new ArrayBuffer(1)))!=We||ha&&Cr(new ha)!=ie||yu&&Cr(yu.resolve())!=Je||Rs&&Cr(new Rs)!=Xe||vu&&Cr(new vu)!=Cn)&&(Cr=function(u){var d=Er(u),y=d==Ge?u.constructor:t,O=y?Bs(y):"";if(O)switch(O){case Fd:return We;case Ts:return ie;case xm:return Je;case ul:return Xe;case Mo:return Cn}return d});function mh(u,d,y){for(var O=-1,A=y.length;++O<A;){var j=y[O],q=j.size;switch(j.type){case"drop":u+=q;break;case"dropRight":d-=q;break;case"take":d=Ar(d,u+q);break;case"takeRight":u=tr(u,d-q);break}}return{start:u,end:d}}function $m(u){var d=u.match(pt);return d?d[1].split(vt):[]}function gh(u,d,y){d=Lo(d,u);for(var O=-1,A=d.length,j=!1;++O<A;){var q=so(d[O]);if(!(j=u!=null&&y(u,q)))break;u=u[q]}return j||++O!=A?j:(A=u==null?0:u.length,!!A&&lg(A)&&zn(q,A)&&(qt(u)||qu(u)))}function Iu(u){var d=u.length,y=new u.constructor(d);return d&&typeof u[0]=="string"&&mn.call(u,"index")&&(y.index=u.index,y.input=u.input),y}function Mr(u){return typeof u.constructor=="function"&&!hs(u)?cl(eo(u)):{}}function _v(u,d,y){var O=u.constructor;switch(d){case Ae:return Tu(u);case ke:case Be:return new O(+u);case We:return Am(u,y);case Ct:case Ft:case Zt:case Yn:case mi:case ve:case ot:case St:case $t:return Lm(u,y);case ie:return new O;case Fe:case ft:return new O(u);case ct:return Dm(u);case Xe:return new O;case _t:return Pm(u)}}function Nv(u,d){var y=d.length;if(!y)return u;var O=y-1;return d[O]=(y>1?"& ":"")+d[O],d=d.join(y>2?", ":" "),u.replace(et,`{
/* [wrapped with `+d+`] */
`)}function wf(u){return qt(u)||qu(u)||!!(ym&&u&&u[ym])}function zn(u,d){var y=typeof u;return d=d??F,!!d&&(y=="number"||y!="symbol"&&_i.test(u))&&u>-1&&u%1==0&&u<d}function Xr(u,d,y){if(!Jn(y))return!1;var O=typeof d;return(O=="number"?Wi(y)&&zn(d,y.length):O=="string"&&d in y)?ms(y[d],u):!1}function st(u,d){if(qt(u))return!1;var y=typeof u;return y=="number"||y=="symbol"||y=="boolean"||u==null||uo(u)?!0:ee.test(u)||!G.test(u)||d!=null&&u in En(d)}function Cl(u){var d=typeof u;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?u!=="__proto__":u===null}function zu(u){var d=kl(u),y=B[d];if(typeof y!="function"||!(d in Vt.prototype))return!1;if(u===y)return!0;var O=yf(y);return!!O&&u===O[0]}function Um(u){return!!Lc&&Lc in u}var Av=rl?Na:o0;function hs(u){var d=u&&u.constructor,y=typeof d=="function"&&d.prototype||Co;return u===y}function Bu(u){return u===u&&!Jn(u)}function xf(u,d){return function(y){return y==null?!1:y[u]===d&&(d!==t||u in En(y))}}function Wm(u){var d=fe(u,function(O){return y.size===p&&y.clear(),O}),y=d.cache;return d}function Vm(u,d){var y=u[1],O=d[1],A=y|O,j=A<(k|S|L),q=O==L&&y==N||O==L&&y==z&&u[7].length<=d[8]||O==(L|z)&&d[7].length<=d[8]&&y==N;if(!(j||q))return u;O&k&&(u[2]=d[2],A|=y&k?0:R);var Q=d[3];if(Q){var oe=u[3];u[3]=oe?Im(oe,Q,d[4]):Q,u[4]=oe?Ai(u[3],m):d[4]}return Q=d[5],Q&&(oe=u[5],u[5]=oe?oh(oe,Q,d[6]):Q,u[6]=oe?Ai(u[5],m):d[6]),Q=d[7],Q&&(u[7]=Q),O&L&&(u[8]=u[8]==null?d[8]:Ar(u[8],d[8])),u[9]==null&&(u[9]=d[9]),u[0]=d[0],u[1]=A,u}function qm(u){var d=[];if(u!=null)for(var y in En(u))d.push(y);return d}function yh(u){return fu.call(u)}function bf(u,d,y){return d=tr(d===t?u.length-1:d,0),function(){for(var O=arguments,A=-1,j=tr(O.length-d,0),q=me(j);++A<j;)q[A]=O[d+A];A=-1;for(var Q=me(d+1);++A<d;)Q[A]=O[A];return Q[d]=y(q),Gr(u,this,Q)}}function mr(u,d){return d.length<2?u:ss(u,Br(d,0,-1))}function io(u,d){for(var y=u.length,O=Ar(d.length,y),A=Jr(u);O--;){var j=d[O];u[O]=zn(j,y)?A[j]:t}return u}function Bo(u,d){if(!(d==="constructor"&&typeof u[d]=="function")&&d!="__proto__")return u[d]}var vh=oo(of),Ml=Bd||function(u,d){return Ln.setTimeout(u,d)},Ei=oo(Po);function wh(u,d,y){var O=d+"";return Ei(u,Nv(O,Gm($m(O),y)))}function oo(u){var d=0,y=0;return function(){var O=Ov(),A=Ce-(O-y);if(y=O,A>0){if(++d>=ye)return arguments[0]}else d=0;return u.apply(t,arguments)}}function Sf(u,d){var y=-1,O=u.length,A=O-1;for(d=d===t?O:d;++y<d;){var j=yl(y,A),q=u[j];u[j]=u[y],u[y]=q}return u.length=d,u}var xh=Wm(function(u){var d=[];return u.charCodeAt(0)===46&&d.push(""),u.replace(Z,function(y,O,A,j){d.push(A?j.replace(jt,"$1"):O||y)}),d});function so(u){if(typeof u=="string"||uo(u))return u;var d=u+"";return d=="0"&&1/u==-V?"-0":d}function Bs(u){if(u!=null){try{return cu.call(u)}catch{}try{return u+""}catch{}}return""}function Gm(u,d){return Nr($e,function(y){var O="_."+y[0];d&y[1]&&!Tc(u,O)&&u.push(O)}),u.sort()}function Km(u){if(u instanceof Vt)return u.clone();var d=new Dr(u.__wrapped__,u.__chain__);return d.__actions__=Jr(u.__actions__),d.__index__=u.__index__,d.__values__=u.__values__,d}function Ef(u,d,y){(y?Xr(u,d,y):d===t)?d=1:d=tr(Kt(d),0);var O=u==null?0:u.length;if(!O||d<1)return[];for(var A=0,j=0,q=me(da(O/d));A<O;)q[j++]=Br(u,A,A+=d);return q}function bh(u){for(var d=-1,y=u==null?0:u.length,O=0,A=[];++d<y;){var j=u[d];j&&(A[O++]=j)}return A}function $i(){var u=arguments.length;if(!u)return[];for(var d=me(u-1),y=arguments[0],O=u;O--;)d[O-1]=arguments[O];return Cs(qt(y)?Jr(y):[y],Vn(d,1))}var fn=Gt(function(u,d){return ur(u)?No(u,Vn(d,1,ur,!0)):[]}),gr=Gt(function(u,d){var y=Qr(d);return ur(y)&&(y=t),ur(u)?No(u,Vn(d,1,ur,!0),Tt(y,2)):[]}),nr=Gt(function(u,d){var y=Qr(d);return ur(y)&&(y=t),ur(u)?No(u,Vn(d,1,ur,!0),t,y):[]});function Or(u,d,y){var O=u==null?0:u.length;return O?(d=y||d===t?1:Kt(d),Br(u,d<0?0:d,O)):[]}function ki(u,d,y){var O=u==null?0:u.length;return O?(d=y||d===t?1:Kt(d),d=O-d,Br(u,0,d<0?0:d)):[]}function Ol(u,d){return u&&u.length?Ou(u,Tt(d,3),!0,!0):[]}function lr(u,d){return u&&u.length?Ou(u,Tt(d,3),!0):[]}function ju(u,d,y,O){var A=u==null?0:u.length;return A?(y&&typeof y!="number"&&Xr(u,d,y)&&(y=0,O=A),Rm(u,d,y,O)):[]}function js(u,d,y){var O=u==null?0:u.length;if(!O)return-1;var A=y==null?0:Kt(y);return A<0&&(A=tr(O+A,0)),_c(u,Tt(d,3),A)}function Fu(u,d,y){var O=u==null?0:u.length;if(!O)return-1;var A=O-1;return y!==t&&(A=Kt(y),A=y<0?tr(O+A,0):Ar(A,O-1)),_c(u,Tt(d,3),A,!0)}function kf(u){var d=u==null?0:u.length;return d?Vn(u,1):[]}function Hu(u){var d=u==null?0:u.length;return d?Vn(u,V):[]}function ci(u,d){var y=u==null?0:u.length;return y?(d=d===t?1:Kt(d),Vn(u,d)):[]}function Sh(u){for(var d=-1,y=u==null?0:u.length,O={};++d<y;){var A=u[d];O[A[0]]=A[1]}return O}function Ca(u){return u&&u.length?u[0]:t}function ps(u,d,y){var O=u==null?0:u.length;if(!O)return-1;var A=y==null?0:Kt(y);return A<0&&(A=tr(O+A,0)),Za(u,d,A)}function Cf(u){var d=u==null?0:u.length;return d?Br(u,0,-1):[]}var Eh=Gt(function(u){var d=On(u,xl);return d.length&&d[0]===u[0]?Zc(d):[]}),Fs=Gt(function(u){var d=Qr(u),y=On(u,xl);return d===Qr(y)?d=t:y.pop(),y.length&&y[0]===u[0]?Zc(y,Tt(d,2)):[]}),Mf=Gt(function(u){var d=Qr(u),y=On(u,xl);return d=typeof d=="function"?d:t,d&&y.pop(),y.length&&y[0]===u[0]?Zc(y,t,d):[]});function Hs(u,d){return u==null?"":Hc.call(u,d)}function Qr(u){var d=u==null?0:u.length;return d?u[d-1]:t}function $u(u,d,y){var O=u==null?0:u.length;if(!O)return-1;var A=O;return y!==t&&(A=Kt(y),A=A<0?tr(O+A,0):Ar(A,O-1)),d===d?Ev(u,d,A):_c(u,rm,A,!0)}function kh(u,d){return u&&u.length?rf(u,Kt(d)):t}var Of=Gt(Uu);function Uu(u,d){return u&&u.length&&d&&d.length?Gn(u,d):u}function Zr(u,d,y){return u&&u.length&&d&&d.length?Gn(u,d,Tt(y,2)):u}function $s(u,d,y){return u&&u.length&&d&&d.length?Gn(u,d,t,y):u}var ao=zo(function(u,d){var y=u==null?0:u.length,O=Yc(u,d);return ar(u,On(d,function(A){return zn(A,y)?+A:A}).sort(ih)),O});function fi(u,d){var y=[];if(!(u&&u.length))return y;var O=-1,A=[],j=u.length;for(d=Tt(d,3);++O<j;){var q=u[O];d(q,O,u)&&(y.push(q),A.push(O))}return ar(u,A),y}function Rf(u){return u==null?u:$c.call(u)}function Ch(u,d,y){var O=u==null?0:u.length;return O?(y&&typeof y!="number"&&Xr(u,d,y)?(d=0,y=O):(d=d==null?0:Kt(d),y=y===t?O:Kt(y)),Br(u,d,y)):[]}function Mh(u,d){return vl(u,d)}function Dv(u,d,y){return sf(u,d,Tt(y,2))}function Us(u,d){var y=u==null?0:u.length;if(y){var O=vl(u,d);if(O<y&&ms(u[O],d))return O}return-1}function Jm(u,d){return vl(u,d,!0)}function Oh(u,d,y){return sf(u,d,Tt(y,2),!0)}function Ma(u,d){var y=u==null?0:u.length;if(y){var O=vl(u,d,!0)-1;if(ms(u[O],d))return O}return-1}function Rh(u){return u&&u.length?Zd(u):[]}function Oa(u,d){return u&&u.length?Zd(u,Tt(d,2)):[]}function Ym(u){var d=u==null?0:u.length;return d?Br(u,1,d):[]}function Xm(u,d,y){return u&&u.length?(d=y||d===t?1:Kt(d),Br(u,0,d<0?0:d)):[]}function Th(u,d,y){var O=u==null?0:u.length;return O?(d=y||d===t?1:Kt(d),d=O-d,Br(u,d<0?0:d,O)):[]}function Tf(u,d){return u&&u.length?Ou(u,Tt(d,3),!1,!0):[]}function Pv(u,d){return u&&u.length?Ou(u,Tt(d,3)):[]}var Lv=Gt(function(u){return cs(Vn(u,1,ur,!0))}),Qm=Gt(function(u){var d=Qr(u);return ur(d)&&(d=t),cs(Vn(u,1,ur,!0),Tt(d,2))}),Zm=Gt(function(u){var d=Qr(u);return d=typeof d=="function"?d:t,cs(Vn(u,1,ur,!0),t,d)});function Ra(u){return u&&u.length?cs(u):[]}function Iv(u,d){return u&&u.length?cs(u,Tt(d,2)):[]}function Rl(u,d){return d=typeof d=="function"?d:t,u&&u.length?cs(u,t,d):[]}function _f(u){if(!(u&&u.length))return[];var d=0;return u=ks(u,function(y){if(ur(y))return d=tr(y.length,d),!0}),Dd(d,function(y){return On(u,Nd(y))})}function Fn(u,d){if(!(u&&u.length))return[];var y=_f(u);return d==null?y:On(y,function(O){return Gr(d,t,O)})}var zv=Gt(function(u,d){return ur(u)?No(u,d):[]}),eg=Gt(function(u){return lf(ks(u,ur))}),Bv=Gt(function(u){var d=Qr(u);return ur(d)&&(d=t),lf(ks(u,ur),Tt(d,2))}),jv=Gt(function(u){var d=Qr(u);return d=typeof d=="function"?d:t,lf(ks(u,ur),t,d)}),tg=Gt(_f);function ng(u,d){return Ru(u||[],d||[],ya)}function Fv(u,d){return Ru(u||[],d||[],Sa)}var Ui=Gt(function(u){var d=u.length,y=d>1?u[d-1]:t;return y=typeof y=="function"?(u.pop(),y):t,Fn(u,y)});function Nf(u){var d=B(u);return d.__chain__=!0,d}function Hv(u,d){return d(u),u}function lo(u,d){return d(u)}var Af=zo(function(u){var d=u.length,y=d?u[0]:0,O=this.__wrapped__,A=function(j){return Yc(j,u)};return d>1||this.__actions__.length||!(O instanceof Vt)||!zn(y)?this.thru(A):(O=O.slice(y,+y+(d?1:0)),O.__actions__.push({func:lo,args:[A],thisArg:t}),new Dr(O,this.__chain__).thru(function(j){return d&&!j.length&&j.push(t),j}))});function Ta(){return Nf(this)}function Df(){return new Dr(this.value(),this.__chain__)}function _h(){this.__values__===t&&(this.__values__=ub(this.value()));var u=this.__index__>=this.__values__.length,d=u?t:this.__values__[this.__index__++];return{done:u,value:d}}function Nh(){return this}function $v(u){for(var d,y=this;y instanceof Oo;){var O=Km(y);O.__index__=0,O.__values__=t,d?A.__wrapped__=O:d=O;var A=O;y=y.__wrapped__}return A.__wrapped__=u,d}function Ah(){var u=this.__wrapped__;if(u instanceof Vt){var d=u;return this.__actions__.length&&(d=new Vt(this)),d=d.reverse(),d.__actions__.push({func:lo,args:[Rf],thisArg:t}),new Dr(d,this.__chain__)}return this.thru(Rf)}function Uv(){return wl(this.__wrapped__,this.__actions__)}var rg=ff(function(u,d,y){mn.call(u,y)?++u[y]:_o(u,y,1)});function ig(u,d,y){var O=qt(u)?Md:bu;return y&&Xr(u,d,y)&&(d=t),O(u,Tt(d,3))}function Pf(u,d){var y=qt(u)?ks:Wd;return y(u,Tt(d,3))}var Lf=ka(js),og=ka(Fu);function Dh(u,d){return Vn(_a(u,d),1)}function Wv(u,d){return Vn(_a(u,d),V)}function sg(u,d,y){return y=y===t?1:Kt(y),Vn(_a(u,d),y)}function If(u,d){var y=qt(u)?Nr:Ao;return y(u,Tt(d,3))}function Wu(u,d){var y=qt(u)?Rc:Om;return y(u,Tt(d,3))}var Ph=ff(function(u,d,y){mn.call(u,y)?u[y].push(d):_o(u,y,[d])});function zf(u,d,y,O){u=Wi(u)?u:Ff(u),y=y&&!O?Kt(y):0;var A=u.length;return y<0&&(y=tr(A+y,0)),ug(u)?y<=A&&u.indexOf(d,y)>-1:!!A&&Za(u,d,y)>-1}var ag=Gt(function(u,d,y){var O=-1,A=typeof d=="function",j=Wi(u)?me(u.length):[];return Ao(u,function(q){j[++O]=A?Gr(d,q,y):Bi(q,d,y)}),j}),Vv=ff(function(u,d,y){_o(u,y,d)});function _a(u,d){var y=qt(u)?On:Kd;return y(u,Tt(d,3))}function qv(u,d,y,O){return u==null?[]:(qt(d)||(d=d==null?[]:[d]),y=O?t:y,qt(y)||(y=y==null?[]:[y]),Cu(u,d,y))}var Vu=ff(function(u,d,y){u[y?0:1].push(d)},function(){return[[],[]]});function Gv(u,d,y){var O=qt(u)?Rd:om,A=arguments.length<3;return O(u,Tt(d,4),y,A,Ao)}function Bf(u,d,y){var O=qt(u)?mv:om,A=arguments.length<3;return O(u,Tt(d,4),y,A,Om)}function s(u,d){var y=qt(u)?ks:Wd;return y(u,je(Tt(d,3)))}function l(u){var d=qt(u)?To:zr;return d(u)}function h(u,d,y){(y?Xr(u,d,y):d===t)?d=1:d=Kt(d);var O=qt(u)?ga:Xd;return O(u,d)}function g(u){var d=qt(u)?Cm:Fi;return d(u)}function b(u){if(u==null)return 0;if(Wi(u))return ug(u)?ca(u):u.length;var d=Cr(u);return d==ie||d==Xe?u.size:us(u).length}function M(u,d,y){var O=qt(u)?Td:Qd;return y&&Xr(u,d,y)&&(d=t),O(u,Tt(d,3))}var I=Gt(function(u,d){if(u==null)return[];var y=d.length;return y>1&&Xr(u,d[0],d[1])?d=[]:y>2&&Xr(d[0],d[1],d[2])&&(d=[d[0]]),Cu(u,Vn(d,1),[])}),$=_n||function(){return Ln.Date.now()};function X(u,d){if(typeof d!="function")throw new Di(a);return u=Kt(u),function(){if(--u<1)return d.apply(this,arguments)}}function ge(u,d,y){return d=y?t:d,d=u&&d==null?u.length:d,Io(u,L,t,t,t,t,d)}function Pe(u,d){var y;if(typeof d!="function")throw new Di(a);return u=Kt(u),function(){return--u>0&&(y=d.apply(this,arguments)),u<=1&&(d=t),y}}var Ie=Gt(function(u,d,y){var O=k;if(y.length){var A=Ai(y,ds(Ie));O|=D}return Io(u,O,d,y,A)}),Ne=Gt(function(u,d,y){var O=k|S;if(y.length){var A=Ai(y,ds(Ne));O|=D}return Io(d,O,u,y,A)});function rt(u,d,y){d=y?t:d;var O=Io(u,N,t,t,t,t,t,d);return O.placeholder=rt.placeholder,O}function dt(u,d,y){d=y?t:d;var O=Io(u,T,t,t,t,t,t,d);return O.placeholder=dt.placeholder,O}function ht(u,d,y){var O,A,j,q,Q,oe,Me=0,Re=!1,Le=!1,tt=!0;if(typeof u!="function")throw new Di(a);d=jo(d)||0,Jn(y)&&(Re=!!y.leading,Le="maxWait"in y,j=Le?tr(jo(y.maxWait)||0,d):j,tt="trailing"in y?!!y.trailing:tt);function bt(cr){var gs=O,Da=A;return O=A=t,Me=cr,q=u.apply(Da,gs),q}function Dt(cr){return Me=cr,Q=Ml(un,d),Re?bt(cr):q}function Yt(cr){var gs=cr-oe,Da=cr-Me,Sb=d-gs;return Le?Ar(Sb,j-Da):Sb}function Pt(cr){var gs=cr-oe,Da=cr-Me;return oe===t||gs>=d||gs<0||Le&&Da>=j}function un(){var cr=$();if(Pt(cr))return dn(cr);Q=Ml(un,Yt(cr))}function dn(cr){return Q=t,tt&&O?bt(cr):(O=A=t,q)}function co(){Q!==t&&nh(Q),Me=0,O=oe=A=Q=t}function Ci(){return Q===t?q:dn($())}function fo(){var cr=$(),gs=Pt(cr);if(O=arguments,A=this,oe=cr,gs){if(Q===t)return Dt(oe);if(Le)return nh(Q),Q=Ml(un,d),bt(oe)}return Q===t&&(Q=Ml(un,d)),q}return fo.cancel=co,fo.flush=Ci,fo}var Kn=Gt(function(u,d){return Ud(u,1,d)}),le=Gt(function(u,d,y){return Ud(u,jo(d)||0,y)});function te(u){return Io(u,W)}function fe(u,d){if(typeof u!="function"||d!=null&&typeof d!="function")throw new Di(a);var y=function(){var O=arguments,A=d?d.apply(this,O):O[0],j=y.cache;if(j.has(A))return j.get(A);var q=u.apply(this,O);return y.cache=j.set(A,q)||j,q};return y.cache=new(fe.Cache||Pi),y}fe.Cache=Pi;function je(u){if(typeof u!="function")throw new Di(a);return function(){var d=arguments;switch(d.length){case 0:return!u.call(this);case 1:return!u.call(this,d[0]);case 2:return!u.call(this,d[0],d[1]);case 3:return!u.call(this,d[0],d[1],d[2])}return!u.apply(this,d)}}function wt(u){return Pe(2,u)}var Ot=Nm(function(u,d){d=d.length==1&&qt(d[0])?On(d[0],vi(Tt())):On(Vn(d,1),vi(Tt()));var y=d.length;return Gt(function(O){for(var A=-1,j=Ar(O.length,y);++A<j;)O[A]=d[A].call(this,O[A]);return Gr(u,this,O)})}),Et=Gt(function(u,d){var y=Ai(d,ds(Et));return Io(u,D,t,d,y)}),At=Gt(function(u,d){var y=Ai(d,ds(At));return Io(u,_,t,d,y)}),yr=zo(function(u,d){return Io(u,z,t,t,t,d)});function gn(u,d){if(typeof u!="function")throw new Di(a);return d=d===t?d:Kt(d),Gt(u,d)}function Ws(u,d){if(typeof u!="function")throw new Di(a);return d=d==null?0:tr(Kt(d),0),Gt(function(y){var O=y[d],A=fs(y,0,d);return O&&Cs(A,O),Gr(u,this,A)})}function Kv(u,d,y){var O=!0,A=!0;if(typeof u!="function")throw new Di(a);return Jn(y)&&(O="leading"in y?!!y.leading:O,A="trailing"in y?!!y.trailing:A),ht(u,d,{leading:O,maxWait:d,trailing:A})}function LO(u){return ge(u,1)}function IO(u,d){return Et(uf(d),u)}function zO(){if(!arguments.length)return[];var u=arguments[0];return qt(u)?u:[u]}function BO(u){return li(u,x)}function jO(u,d){return d=typeof d=="function"?d:t,li(u,x,d)}function FO(u){return li(u,v|x)}function HO(u,d){return d=typeof d=="function"?d:t,li(u,v|x,d)}function $O(u,d){return d==null||xu(u,d,jr(d))}function ms(u,d){return u===d||u!==u&&d!==d}var UO=gf(Ps),WO=gf(function(u,d){return u>=d}),qu=ef(function(){return arguments}())?ef:function(u){return rr(u)&&mn.call(u,"callee")&&!Bc.call(u,"callee")},qt=me.isArray,VO=kd?vi(kd):Tm;function Wi(u){return u!=null&&lg(u.length)&&!Na(u)}function ur(u){return rr(u)&&Wi(u)}function qO(u){return u===!0||u===!1||rr(u)&&Er(u)==ke}var Tl=jd||o0,GO=ii?vi(ii):ls;function KO(u){return rr(u)&&u.nodeType===1&&!Lh(u)}function JO(u){if(u==null)return!0;if(Wi(u)&&(qt(u)||typeof u=="string"||typeof u.splice=="function"||Tl(u)||jf(u)||qu(u)))return!u.length;var d=Cr(u);if(d==ie||d==Xe)return!u.size;if(hs(u))return!us(u).length;for(var y in u)if(mn.call(u,y))return!1;return!0}function YO(u,d){return ji(u,d)}function XO(u,d,y){y=typeof y=="function"?y:t;var O=y?y(u,d):t;return O===t?ji(u,d,t,y):!!O}function Jv(u){if(!rr(u))return!1;var d=Er(u);return d==Y||d==qe||typeof u.message=="string"&&typeof u.name=="string"&&!Lh(u)}function QO(u){return typeof u=="number"&&ol(u)}function Na(u){if(!Jn(u))return!1;var d=Er(u);return d==U||d==ne||d==ut||d==_e}function ob(u){return typeof u=="number"&&u==Kt(u)}function lg(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=F}function Jn(u){var d=typeof u;return u!=null&&(d=="object"||d=="function")}function rr(u){return u!=null&&typeof u=="object"}var sb=ua?vi(ua):_m;function ZO(u,d){return u===d||ml(u,d,Lu(d))}function eR(u,d,y){return y=typeof y=="function"?y:t,ml(u,d,Lu(d),y)}function tR(u){return ab(u)&&u!=+u}function nR(u){if(Av(u))throw new zt(o);return qd(u)}function rR(u){return u===null}function iR(u){return u==null}function ab(u){return typeof u=="number"||rr(u)&&Er(u)==Fe}function Lh(u){if(!rr(u)||Er(u)!=Ge)return!1;var d=eo(u);if(d===null)return!0;var y=mn.call(d,"constructor")&&d.constructor;return typeof y=="function"&&y instanceof y&&cu.call(y)==Ic}var Yv=Oc?vi(Oc):Eu;function oR(u){return ob(u)&&u>=-F&&u<=F}var lb=Qa?vi(Qa):Do;function ug(u){return typeof u=="string"||!qt(u)&&rr(u)&&Er(u)==ft}function uo(u){return typeof u=="symbol"||rr(u)&&Er(u)==_t}var jf=em?vi(em):ku;function sR(u){return u===t}function aR(u){return rr(u)&&Cr(u)==Cn}function lR(u){return rr(u)&&Er(u)==vn}var uR=gf(Ls),cR=gf(function(u,d){return u<=d});function ub(u){if(!u)return[];if(Wi(u))return ug(u)?wi(u):Jr(u);if(ns&&u[ns])return bv(u[ns]());var d=Cr(u),y=d==ie?Ac:d==Xe?Ms:Ff;return y(u)}function Aa(u){if(!u)return u===0?u:0;if(u=jo(u),u===V||u===-V){var d=u<0?-1:1;return d*pe}return u===u?u:0}function Kt(u){var d=Aa(u),y=d%1;return d===d?y?d-y:d:0}function cb(u){return u?is(Kt(u),0,H):0}function jo(u){if(typeof u=="number")return u;if(uo(u))return he;if(Jn(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=Jn(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=sm(u);var y=Qn.test(u);return y||xo.test(u)?Cc(u.slice(2),y?2:8):$n.test(u)?he:+u}function fb(u){return no(u,Vi(u))}function fR(u){return u?is(Kt(u),-F,F):u===0?u:0}function kn(u){return u==null?"":ui(u)}var dR=bl(function(u,d){if(hs(d)||Wi(d)){no(d,jr(d),u);return}for(var y in d)mn.call(d,y)&&ya(u,y,d[y])}),db=bl(function(u,d){no(d,Vi(d),u)}),cg=bl(function(u,d,y,O){no(d,Vi(d),u,O)}),hR=bl(function(u,d,y,O){no(d,jr(d),u,O)}),pR=zo(Yc);function mR(u,d){var y=cl(u);return d==null?y:An(y,d)}var gR=Gt(function(u,d){u=En(u);var y=-1,O=d.length,A=O>2?d[2]:t;for(A&&Xr(d[0],d[1],A)&&(O=1);++y<O;)for(var j=d[y],q=Vi(j),Q=-1,oe=q.length;++Q<oe;){var Me=q[Q],Re=u[Me];(Re===t||ms(Re,Co[Me])&&!mn.call(u,Me))&&(u[Me]=j[Me])}return u}),yR=Gt(function(u){return u.push(t,fh),Gr(hb,t,u)});function vR(u,d){return nm(u,Tt(d,3),Si)}function wR(u,d){return nm(u,Tt(d,3),Ds)}function xR(u,d){return u==null?u:Xc(u,Tt(d,3),Vi)}function bR(u,d){return u==null?u:Su(u,Tt(d,3),Vi)}function SR(u,d){return u&&Si(u,Tt(d,3))}function ER(u,d){return u&&Ds(u,Tt(d,3))}function kR(u){return u==null?[]:pl(u,jr(u))}function CR(u){return u==null?[]:pl(u,Vi(u))}function Xv(u,d,y){var O=u==null?t:ss(u,d);return O===t?y:O}function MR(u,d){return u!=null&&gh(u,d,zi)}function Qv(u,d){return u!=null&&gh(u,d,wa)}var OR=zm(function(u,d,y){d!=null&&typeof d.toString!="function"&&(d=fu.call(d)),u[d]=y},e0(qi)),RR=zm(function(u,d,y){d!=null&&typeof d.toString!="function"&&(d=fu.call(d)),mn.call(u,d)?u[d].push(y):u[d]=[y]},Tt),TR=Gt(Bi);function jr(u){return Wi(u)?Ro(u):us(u)}function Vi(u){return Wi(u)?Ro(u,!0):Gd(u)}function _R(u,d){var y={};return d=Tt(d,3),Si(u,function(O,A,j){_o(y,d(O,A,j),O)}),y}function NR(u,d){var y={};return d=Tt(d,3),Si(u,function(O,A,j){_o(y,A,d(O,A,j))}),y}var AR=bl(function(u,d,y){xa(u,d,y)}),hb=bl(function(u,d,y,O){xa(u,d,y,O)}),DR=zo(function(u,d){var y={};if(u==null)return y;var O=!1;d=On(d,function(j){return j=Lo(j,u),O||(O=j.length>1),j}),no(u,Du(u),y),O&&(y=li(y,v|w|x,dh));for(var A=d.length;A--;)af(y,d[A]);return y});function PR(u,d){return pb(u,je(Tt(d)))}var LR=zo(function(u,d){return u==null?{}:Yd(u,d)});function pb(u,d){if(u==null)return{};var y=On(Du(u),function(O){return[O]});return d=Tt(d),Is(u,y,function(O,A){return d(O,A[0])})}function IR(u,d,y){d=Lo(d,u);var O=-1,A=d.length;for(A||(A=1,u=t);++O<A;){var j=u==null?t:u[so(d[O])];j===t&&(O=A,j=y),u=Na(j)?j.call(u):j}return u}function zR(u,d,y){return u==null?u:Sa(u,d,y)}function BR(u,d,y,O){return O=typeof O=="function"?O:t,u==null?u:Sa(u,d,y,O)}var mb=uh(jr),gb=uh(Vi);function jR(u,d,y){var O=qt(u),A=O||Tl(u)||jf(u);if(d=Tt(d,4),y==null){var j=u&&u.constructor;A?y=O?new j:[]:Jn(u)?y=Na(j)?cl(eo(u)):{}:y={}}return(A?Nr:Si)(u,function(q,Q,oe){return d(y,q,Q,oe)}),y}function FR(u,d){return u==null?!0:af(u,d)}function HR(u,d,y){return u==null?u:th(u,d,uf(y))}function $R(u,d,y,O){return O=typeof O=="function"?O:t,u==null?u:th(u,d,uf(y),O)}function Ff(u){return u==null?[]:lu(u,jr(u))}function UR(u){return u==null?[]:lu(u,Vi(u))}function WR(u,d,y){return y===t&&(y=d,d=t),y!==t&&(y=jo(y),y=y===y?y:0),d!==t&&(d=jo(d),d=d===d?d:0),is(jo(u),d,y)}function VR(u,d,y){return d=Aa(d),y===t?(y=d,d=0):y=Aa(y),u=jo(u),Vd(u,d,y)}function qR(u,d,y){if(y&&typeof y!="boolean"&&Xr(u,d,y)&&(d=y=t),y===t&&(typeof d=="boolean"?(y=d,d=t):typeof u=="boolean"&&(y=u,u=t)),u===t&&d===t?(u=0,d=1):(u=Aa(u),d===t?(d=u,u=0):d=Aa(d)),u>d){var O=u;u=d,d=O}if(y||u%1||d%1){var A=mu();return Ar(u+A*(d-u+Sd("1e-"+((A+"").length-1))),d)}return yl(u,d)}var GR=Ea(function(u,d,y){return d=d.toLowerCase(),u+(y?yb(d):d)});function yb(u){return Zv(kn(u).toLowerCase())}function vb(u){return u=kn(u),u&&u.replace(br,um).replace(Sc,"")}function KR(u,d,y){u=kn(u),d=ui(d);var O=u.length;y=y===t?O:is(Kt(y),0,O);var A=y;return y-=d.length,y>=0&&u.slice(y,A)==d}function JR(u){return u=kn(u),u&&J.test(u)?u.replace(Vr,cm):u}function YR(u){return u=kn(u),u&&be.test(u)?u.replace(ae,"\\$&"):u}var XR=Ea(function(u,d,y){return u+(y?"-":"")+d.toLowerCase()}),QR=Ea(function(u,d,y){return u+(y?" ":"")+d.toLowerCase()}),ZR=sh("toLowerCase");function eT(u,d,y){u=kn(u),d=Kt(d);var O=d?ca(u):0;if(!d||O>=d)return u;var A=(d-O)/2;return Nu(Os(A),y)+u+Nu(da(A),y)}function tT(u,d,y){u=kn(u),d=Kt(d);var O=d?ca(u):0;return d&&O<d?u+Nu(d-O,y):u}function nT(u,d,y){u=kn(u),d=Kt(d);var O=d?ca(u):0;return d&&O<d?Nu(d-O,y)+u:u}function rT(u,d,y){return y||d==null?d=0:d&&(d=+d),wm(kn(u).replace(Ye,""),d||0)}function iT(u,d,y){return(y?Xr(u,d,y):d===t)?d=1:d=Kt(d),ba(kn(u),d)}function oT(){var u=arguments,d=kn(u[0]);return u.length<3?d:d.replace(u[1],u[2])}var sT=Ea(function(u,d,y){return u+(y?"_":"")+d.toLowerCase()});function aT(u,d,y){return y&&typeof y!="number"&&Xr(u,d,y)&&(d=y=t),y=y===t?H:y>>>0,y?(u=kn(u),u&&(typeof d=="string"||d!=null&&!Yv(d))&&(d=ui(d),!d&&tl(u))?fs(wi(u),0,y):u.split(d,y)):[]}var lT=Ea(function(u,d,y){return u+(y?" ":"")+Zv(d)});function uT(u,d,y){return u=kn(u),y=y==null?0:is(Kt(y),0,u.length),d=ui(d),u.slice(y,y+d.length)==d}function cT(u,d,y){var O=B.templateSettings;y&&Xr(u,d,y)&&(d=t),u=kn(u),d=cg({},d,O,ch);var A=cg({},d.imports,O.imports,ch),j=jr(A),q=lu(A,j),Q,oe,Me=0,Re=d.interpolate||Zn,Le="__p += '",tt=uu((d.escape||Zn).source+"|"+Re.source+"|"+(Re===Mt?rn:Zn).source+"|"+(d.evaluate||Zn).source+"|$","g"),bt="//# sourceURL="+(mn.call(d,"sourceURL")?(d.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++dv+"]")+`
`;u.replace(tt,function(Pt,un,dn,co,Ci,fo){return dn||(dn=co),Le+=u.slice(Me,fo).replace(bo,fm),un&&(Q=!0,Le+=`' +
__e(`+un+`) +
'`),Ci&&(oe=!0,Le+=`';
`+Ci+`;
__p += '`),dn&&(Le+=`' +
((__t = (`+dn+`)) == null ? '' : __t) +
'`),Me=fo+Pt.length,Pt}),Le+=`';
`;var Dt=mn.call(d,"variable")&&d.variable;if(!Dt)Le=`with (obj) {
`+Le+`
}
`;else if(xt.test(Dt))throw new zt(c);Le=(oe?Le.replace(Bt,""):Le).replace(Mn,"$1").replace(qn,"$1;"),Le="function("+(Dt||"obj")+`) {
`+(Dt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Q?", __e = _.escape":"")+(oe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Le+`return __p
}`;var Yt=xb(function(){return pn(j,bt+"return "+Le).apply(t,q)});if(Yt.source=Le,Jv(Yt))throw Yt;return Yt}function fT(u){return kn(u).toLowerCase()}function dT(u){return kn(u).toUpperCase()}function hT(u,d,y){if(u=kn(u),u&&(y||d===t))return sm(u);if(!u||!(d=ui(d)))return u;var O=wi(u),A=wi(d),j=am(O,A),q=Pd(O,A)+1;return fs(O,j,q).join("")}function pT(u,d,y){if(u=kn(u),u&&(y||d===t))return u.slice(0,Pc(u)+1);if(!u||!(d=ui(d)))return u;var O=wi(u),A=Pd(O,wi(d))+1;return fs(O,0,A).join("")}function mT(u,d,y){if(u=kn(u),u&&(y||d===t))return u.replace(Ye,"");if(!u||!(d=ui(d)))return u;var O=wi(u),A=am(O,wi(d));return fs(O,A).join("")}function gT(u,d){var y=se,O=xe;if(Jn(d)){var A="separator"in d?d.separator:A;y="length"in d?Kt(d.length):y,O="omission"in d?ui(d.omission):O}u=kn(u);var j=u.length;if(tl(u)){var q=wi(u);j=q.length}if(y>=j)return u;var Q=y-ca(O);if(Q<1)return O;var oe=q?fs(q,0,Q).join(""):u.slice(0,Q);if(A===t)return oe+O;if(q&&(Q+=oe.length-Q),Yv(A)){if(u.slice(Q).search(A)){var Me,Re=oe;for(A.global||(A=uu(A.source,kn(Tn.exec(A))+"g")),A.lastIndex=0;Me=A.exec(Re);)var Le=Me.index;oe=oe.slice(0,Le===t?Q:Le)}}else if(u.indexOf(ui(A),Q)!=Q){var tt=oe.lastIndexOf(A);tt>-1&&(oe=oe.slice(0,tt))}return oe+O}function yT(u){return u=kn(u),u&&Xn.test(u)?u.replace(sr,dm):u}var vT=Ea(function(u,d,y){return u+(y?" ":"")+d.toUpperCase()}),Zv=sh("toUpperCase");function wb(u,d,y){return u=kn(u),d=y?t:d,d===t?xv(u)?kv(u):yv(u):u.match(d)||[]}var xb=Gt(function(u,d){try{return Gr(u,t,d)}catch(y){return Jv(y)?y:new zt(y)}}),wT=zo(function(u,d){return Nr(d,function(y){y=so(y),_o(u,y,Ie(u[y],u))}),u});function xT(u){var d=u==null?0:u.length,y=Tt();return u=d?On(u,function(O){if(typeof O[1]!="function")throw new Di(a);return[y(O[0]),O[1]]}):[],Gt(function(O){for(var A=-1;++A<d;){var j=u[A];if(Gr(j[0],this,O))return Gr(j[1],this,O)}})}function bT(u){return Mm(li(u,v))}function e0(u){return function(){return u}}function ST(u,d){return u==null||u!==u?d:u}var ET=pf(),kT=pf(!0);function qi(u){return u}function t0(u){return gl(typeof u=="function"?u:li(u,v))}function CT(u){return nf(li(u,v))}function MT(u,d){return In(u,li(d,v))}var OT=Gt(function(u,d){return function(y){return Bi(y,u,d)}}),RT=Gt(function(u,d){return function(y){return Bi(u,y,d)}});function n0(u,d,y){var O=jr(d),A=pl(d,O);y==null&&!(Jn(d)&&(A.length||!O.length))&&(y=d,d=u,u=this,A=pl(d,jr(d)));var j=!(Jn(y)&&"chain"in y)||!!y.chain,q=Na(u);return Nr(A,function(Q){var oe=d[Q];u[Q]=oe,q&&(u.prototype[Q]=function(){var Me=this.__chain__;if(j||Me){var Re=u(this.__wrapped__),Le=Re.__actions__=Jr(this.__actions__);return Le.push({func:oe,args:arguments,thisArg:u}),Re.__chain__=Me,Re}return oe.apply(u,Cs([this.value()],arguments))})}),u}function TT(){return Ln._===this&&(Ln._=mm),this}function r0(){}function _T(u){return u=Kt(u),Gt(function(d){return rf(d,u)})}var NT=mf(On),AT=mf(Md),DT=mf(Td);function bb(u){return st(u)?Nd(so(u)):jn(u)}function PT(u){return function(d){return u==null?t:ss(u,d)}}var LT=lh(),IT=lh(!0);function i0(){return[]}function o0(){return!1}function zT(){return{}}function BT(){return""}function jT(){return!0}function FT(u,d){if(u=Kt(u),u<1||u>F)return[];var y=H,O=Ar(u,H);d=Tt(d),u-=H;for(var A=Dd(O,d);++y<u;)d(y);return A}function HT(u){return qt(u)?On(u,so):uo(u)?[u]:Jr(xh(kn(u)))}function $T(u){var d=++il;return kn(u)+d}var UT=_u(function(u,d){return u+d},0),WT=kr("ceil"),VT=_u(function(u,d){return u/d},1),qT=kr("floor");function GT(u){return u&&u.length?va(u,qi,Ps):t}function KT(u,d){return u&&u.length?va(u,Tt(d,2),Ps):t}function JT(u){return im(u,qi)}function YT(u,d){return im(u,Tt(d,2))}function XT(u){return u&&u.length?va(u,qi,Ls):t}function QT(u,d){return u&&u.length?va(u,Tt(d,2),Ls):t}var ZT=_u(function(u,d){return u*d},1),e_=kr("round"),t_=_u(function(u,d){return u-d},0);function n_(u){return u&&u.length?Ad(u,qi):0}function r_(u,d){return u&&u.length?Ad(u,Tt(d,2)):0}return B.after=X,B.ary=ge,B.assign=dR,B.assignIn=db,B.assignInWith=cg,B.assignWith=hR,B.at=pR,B.before=Pe,B.bind=Ie,B.bindAll=wT,B.bindKey=Ne,B.castArray=zO,B.chain=Nf,B.chunk=Ef,B.compact=bh,B.concat=$i,B.cond=xT,B.conforms=bT,B.constant=e0,B.countBy=rg,B.create=mR,B.curry=rt,B.curryRight=dt,B.debounce=ht,B.defaults=gR,B.defaultsDeep=yR,B.defer=Kn,B.delay=le,B.difference=fn,B.differenceBy=gr,B.differenceWith=nr,B.drop=Or,B.dropRight=ki,B.dropRightWhile=Ol,B.dropWhile=lr,B.fill=ju,B.filter=Pf,B.flatMap=Dh,B.flatMapDeep=Wv,B.flatMapDepth=sg,B.flatten=kf,B.flattenDeep=Hu,B.flattenDepth=ci,B.flip=te,B.flow=ET,B.flowRight=kT,B.fromPairs=Sh,B.functions=kR,B.functionsIn=CR,B.groupBy=Ph,B.initial=Cf,B.intersection=Eh,B.intersectionBy=Fs,B.intersectionWith=Mf,B.invert=OR,B.invertBy=RR,B.invokeMap=ag,B.iteratee=t0,B.keyBy=Vv,B.keys=jr,B.keysIn=Vi,B.map=_a,B.mapKeys=_R,B.mapValues=NR,B.matches=CT,B.matchesProperty=MT,B.memoize=fe,B.merge=AR,B.mergeWith=hb,B.method=OT,B.methodOf=RT,B.mixin=n0,B.negate=je,B.nthArg=_T,B.omit=DR,B.omitBy=PR,B.once=wt,B.orderBy=qv,B.over=NT,B.overArgs=Ot,B.overEvery=AT,B.overSome=DT,B.partial=Et,B.partialRight=At,B.partition=Vu,B.pick=LR,B.pickBy=pb,B.property=bb,B.propertyOf=PT,B.pull=Of,B.pullAll=Uu,B.pullAllBy=Zr,B.pullAllWith=$s,B.pullAt=ao,B.range=LT,B.rangeRight=IT,B.rearg=yr,B.reject=s,B.remove=fi,B.rest=gn,B.reverse=Rf,B.sampleSize=h,B.set=zR,B.setWith=BR,B.shuffle=g,B.slice=Ch,B.sortBy=I,B.sortedUniq=Rh,B.sortedUniqBy=Oa,B.split=aT,B.spread=Ws,B.tail=Ym,B.take=Xm,B.takeRight=Th,B.takeRightWhile=Tf,B.takeWhile=Pv,B.tap=Hv,B.throttle=Kv,B.thru=lo,B.toArray=ub,B.toPairs=mb,B.toPairsIn=gb,B.toPath=HT,B.toPlainObject=fb,B.transform=jR,B.unary=LO,B.union=Lv,B.unionBy=Qm,B.unionWith=Zm,B.uniq=Ra,B.uniqBy=Iv,B.uniqWith=Rl,B.unset=FR,B.unzip=_f,B.unzipWith=Fn,B.update=HR,B.updateWith=$R,B.values=Ff,B.valuesIn=UR,B.without=zv,B.words=wb,B.wrap=IO,B.xor=eg,B.xorBy=Bv,B.xorWith=jv,B.zip=tg,B.zipObject=ng,B.zipObjectDeep=Fv,B.zipWith=Ui,B.entries=mb,B.entriesIn=gb,B.extend=db,B.extendWith=cg,n0(B,B),B.add=UT,B.attempt=xb,B.camelCase=GR,B.capitalize=yb,B.ceil=WT,B.clamp=WR,B.clone=BO,B.cloneDeep=FO,B.cloneDeepWith=HO,B.cloneWith=jO,B.conformsTo=$O,B.deburr=vb,B.defaultTo=ST,B.divide=VT,B.endsWith=KR,B.eq=ms,B.escape=JR,B.escapeRegExp=YR,B.every=ig,B.find=Lf,B.findIndex=js,B.findKey=vR,B.findLast=og,B.findLastIndex=Fu,B.findLastKey=wR,B.floor=qT,B.forEach=If,B.forEachRight=Wu,B.forIn=xR,B.forInRight=bR,B.forOwn=SR,B.forOwnRight=ER,B.get=Xv,B.gt=UO,B.gte=WO,B.has=MR,B.hasIn=Qv,B.head=Ca,B.identity=qi,B.includes=zf,B.indexOf=ps,B.inRange=VR,B.invoke=TR,B.isArguments=qu,B.isArray=qt,B.isArrayBuffer=VO,B.isArrayLike=Wi,B.isArrayLikeObject=ur,B.isBoolean=qO,B.isBuffer=Tl,B.isDate=GO,B.isElement=KO,B.isEmpty=JO,B.isEqual=YO,B.isEqualWith=XO,B.isError=Jv,B.isFinite=QO,B.isFunction=Na,B.isInteger=ob,B.isLength=lg,B.isMap=sb,B.isMatch=ZO,B.isMatchWith=eR,B.isNaN=tR,B.isNative=nR,B.isNil=iR,B.isNull=rR,B.isNumber=ab,B.isObject=Jn,B.isObjectLike=rr,B.isPlainObject=Lh,B.isRegExp=Yv,B.isSafeInteger=oR,B.isSet=lb,B.isString=ug,B.isSymbol=uo,B.isTypedArray=jf,B.isUndefined=sR,B.isWeakMap=aR,B.isWeakSet=lR,B.join=Hs,B.kebabCase=XR,B.last=Qr,B.lastIndexOf=$u,B.lowerCase=QR,B.lowerFirst=ZR,B.lt=uR,B.lte=cR,B.max=GT,B.maxBy=KT,B.mean=JT,B.meanBy=YT,B.min=XT,B.minBy=QT,B.stubArray=i0,B.stubFalse=o0,B.stubObject=zT,B.stubString=BT,B.stubTrue=jT,B.multiply=ZT,B.nth=kh,B.noConflict=TT,B.noop=r0,B.now=$,B.pad=eT,B.padEnd=tT,B.padStart=nT,B.parseInt=rT,B.random=qR,B.reduce=Gv,B.reduceRight=Bf,B.repeat=iT,B.replace=oT,B.result=IR,B.round=e_,B.runInContext=re,B.sample=l,B.size=b,B.snakeCase=sT,B.some=M,B.sortedIndex=Mh,B.sortedIndexBy=Dv,B.sortedIndexOf=Us,B.sortedLastIndex=Jm,B.sortedLastIndexBy=Oh,B.sortedLastIndexOf=Ma,B.startCase=lT,B.startsWith=uT,B.subtract=t_,B.sum=n_,B.sumBy=r_,B.template=cT,B.times=FT,B.toFinite=Aa,B.toInteger=Kt,B.toLength=cb,B.toLower=fT,B.toNumber=jo,B.toSafeInteger=fR,B.toString=kn,B.toUpper=dT,B.trim=hT,B.trimEnd=pT,B.trimStart=mT,B.truncate=gT,B.unescape=yT,B.uniqueId=$T,B.upperCase=vT,B.upperFirst=Zv,B.each=If,B.eachRight=Wu,B.first=Ca,n0(B,function(){var u={};return Si(B,function(d,y){mn.call(B.prototype,y)||(u[y]=d)}),u}(),{chain:!1}),B.VERSION=r,Nr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){B[u].placeholder=B}),Nr(["drop","take"],function(u,d){Vt.prototype[u]=function(y){y=y===t?1:tr(Kt(y),0);var O=this.__filtered__&&!d?new Vt(this):this.clone();return O.__filtered__?O.__takeCount__=Ar(y,O.__takeCount__):O.__views__.push({size:Ar(y,H),type:u+(O.__dir__<0?"Right":"")}),O},Vt.prototype[u+"Right"]=function(y){return this.reverse()[u](y).reverse()}}),Nr(["filter","map","takeWhile"],function(u,d){var y=d+1,O=y==Ee||y==de;Vt.prototype[u]=function(A){var j=this.clone();return j.__iteratees__.push({iteratee:Tt(A,3),type:y}),j.__filtered__=j.__filtered__||O,j}}),Nr(["head","last"],function(u,d){var y="take"+(d?"Right":"");Vt.prototype[u]=function(){return this[y](1).value()[0]}}),Nr(["initial","tail"],function(u,d){var y="drop"+(d?"":"Right");Vt.prototype[u]=function(){return this.__filtered__?new Vt(this):this[y](1)}}),Vt.prototype.compact=function(){return this.filter(qi)},Vt.prototype.find=function(u){return this.filter(u).head()},Vt.prototype.findLast=function(u){return this.reverse().find(u)},Vt.prototype.invokeMap=Gt(function(u,d){return typeof u=="function"?new Vt(this):this.map(function(y){return Bi(y,u,d)})}),Vt.prototype.reject=function(u){return this.filter(je(Tt(u)))},Vt.prototype.slice=function(u,d){u=Kt(u);var y=this;return y.__filtered__&&(u>0||d<0)?new Vt(y):(u<0?y=y.takeRight(-u):u&&(y=y.drop(u)),d!==t&&(d=Kt(d),y=d<0?y.dropRight(-d):y.take(d-u)),y)},Vt.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},Vt.prototype.toArray=function(){return this.take(H)},Si(Vt.prototype,function(u,d){var y=/^(?:filter|find|map|reject)|While$/.test(d),O=/^(?:head|last)$/.test(d),A=B[O?"take"+(d=="last"?"Right":""):d],j=O||/^find/.test(d);A&&(B.prototype[d]=function(){var q=this.__wrapped__,Q=O?[1]:arguments,oe=q instanceof Vt,Me=Q[0],Re=oe||qt(q),Le=function(un){var dn=A.apply(B,Cs([un],Q));return O&&tt?dn[0]:dn};Re&&y&&typeof Me=="function"&&Me.length!=1&&(oe=Re=!1);var tt=this.__chain__,bt=!!this.__actions__.length,Dt=j&&!tt,Yt=oe&&!bt;if(!j&&Re){q=Yt?q:new Vt(this);var Pt=u.apply(q,Q);return Pt.__actions__.push({func:lo,args:[Le],thisArg:t}),new Dr(Pt,tt)}return Dt&&Yt?u.apply(this,Q):(Pt=this.thru(Le),Dt?O?Pt.value()[0]:Pt.value():Pt)})}),Nr(["pop","push","shift","sort","splice","unshift"],function(u){var d=es[u],y=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",O=/^(?:pop|shift)$/.test(u);B.prototype[u]=function(){var A=arguments;if(O&&!this.__chain__){var j=this.value();return d.apply(qt(j)?j:[],A)}return this[y](function(q){return d.apply(qt(q)?q:[],A)})}}),Si(Vt.prototype,function(u,d){var y=B[d];if(y){var O=y.name+"";mn.call(ll,O)||(ll[O]=[]),ll[O].push({name:d,func:y})}}),ll[El(t,S).name]=[{name:"wrapper",func:t}],Vt.prototype.clone=Vc,Vt.prototype.reverse=Hd,Vt.prototype.value=fl,B.prototype.at=Af,B.prototype.chain=Ta,B.prototype.commit=Df,B.prototype.next=_h,B.prototype.plant=$v,B.prototype.reverse=Ah,B.prototype.toJSON=B.prototype.valueOf=B.prototype.value=Uv,B.prototype.first=B.prototype.head,ns&&(B.prototype[ns]=Nh),B},nl=Cv();ko?((ko.exports=nl)._=nl,au._=nl):Ln._=nl}).call(aF)}(lp,lp.exports)),lp.exports}var uF=lF();const bE=Fp(uF),cF=wE.WidthProvider(wE.Responsive),fF=({node:n,updateAttributes:e,editor:t})=>{const{items:r=[],layout:i}=n.attrs,[o,a]=K.useState(!1),[c,f]=K.useState([]),[p,m]=K.useState(!0),v=R=>{if(typeof R=="string"){if(R.includes("2-cols"))return 2;if(R.includes("3-cols"))return 3;if(R.includes("4-cols"))return 4;if(R.includes("1-2-cols")||R.includes("2-1-cols"))return 2}return 2},w=K.useCallback(()=>{const R=v(i),N={lg:12,md:10,sm:6,xs:4,xxs:2},T={};return Object.keys(N).forEach(D=>{const _=N[D],L=Math.floor(_/R);T[D]=r.map((z,W)=>{const se=W%R*L,xe=Math.floor(W/R);return{i:W.toString(),x:se,y:xe,w:L,h:2,...z.layout}})}),T},[r,i]),x=K.useRef(w());K.useEffect(()=>{a(!0)},[]),K.useEffect(()=>{x.current=w()},[w]);const E=K.useCallback(bE.debounce(R=>{bE.isEqual(R,c)},500),[e,c]),C=(R,N)=>{o&&(f(R),E(R))},k=()=>{t.isEditable&&m(!0)},S=()=>{t.isEditable&&m(!1)};return!r||r.length===0?null:P.jsx(na,{className:"photo-grid-node-view",contentEditable:!1,suppressContentEditableWarning:!0,onMouseEnter:k,onMouseLeave:S,children:P.jsx(cF,{className:"layout",layouts:x.current,breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},rowHeight:100,onLayoutChange:C,isDraggable:t.isEditable,isResizable:t.isEditable,children:r.map((R,N)=>P.jsx("div",{className:"grid-item",children:P.jsx("img",{src:R.src,alt:R.alt,style:{width:"100%",height:"100%",objectFit:"cover"},contentEditable:!1})},N.toString()))})})},dF=hr.create({name:"photoGrid",group:"block",atom:!0,draggable:!0,addAttributes(){return{items:{default:[]},layout:{default:"2-cols"}}},parseHTML(){return[{tag:'div[data-type="photo-grid"]',getAttrs:n=>{const e=Array.from(n.querySelectorAll(".grid-item img")).map(r=>({src:r.getAttribute("src"),alt:r.getAttribute("alt")})),t=n.className.split(" ").find(r=>r.includes("-cols"))||"2-cols";return{items:e,layout:t}}}]},renderHTML({node:n,HTMLAttributes:e}){const{items:t=[],layout:r}=n.attrs;let i="grid-2-cols";return typeof r=="string"&&(i=r.startsWith("grid-")?r:`grid-${r}`),["div",Bn(e,{"data-type":"photo-grid",class:`photo-grid-wrapper ${i}`}),...t.map(o=>["div",{class:"grid-item"},["img",{src:o.src,alt:o.alt}]])]},addNodeView(){return iu(fF)},addCommands(){return{setPhotoGrid:n=>({commands:e})=>e.insertContent({type:this.name,attrs:n})}}}),hF=({editor:n})=>P.jsxs(na,{className:"paywall-node",contentEditable:!1,suppressContentEditableWarning:!0,children:[P.jsx("div",{className:"drag-handle",contentEditable:!1,"data-drag-handle":!0,children:P.jsx(yc,{size:18})}),P.jsxs("div",{className:"paywall-content-wrapper",contentEditable:!1,children:[P.jsx("div",{className:"paywall-separator",children:P.jsx("span",{className:"paywall-text",children:"PREVIEW ENDS HERE"})}),P.jsx("p",{className:"paywall-description",children:"Content below this line will only be visible to paying supporters."})]})]}),pF=hr.create({name:"paywall",group:"block",atom:!0,draggable:!0,parseHTML(){return[{tag:'div[data-type="paywall"]'}]},renderHTML({HTMLAttributes:n}){return["div",Bn(n,{"data-type":"paywall",class:"paywall-node"}),["div",{class:"paywall-separator"},["span",{class:"paywall-text"},"PREVIEW ENDS HERE"]],["p",{class:"paywall-description"},"Content below this line will only be visible to paying supporters."]]},addNodeView(){return iu(hF)},addCommands(){return{setPaywall:()=>({chain:n,state:e})=>{const{selection:t}=e,r=t.from;return n().insertContentAt(r,[{type:this.name},{type:"paragraph",content:[]}]).setTextSelection(r+2).focus().run()}}}});function mF(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function sO(n){return n instanceof Map?n.clear=n.delete=n.set=function(){throw new Error("map is read-only")}:n instanceof Set&&(n.add=n.clear=n.delete=function(){throw new Error("set is read-only")}),Object.freeze(n),Object.getOwnPropertyNames(n).forEach(e=>{const t=n[e],r=typeof t;(r==="object"||r==="function")&&!Object.isFrozen(t)&&sO(t)}),n}class SE{constructor(e){e.data===void 0&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function aO(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function Vl(n,...e){const t=Object.create(null);for(const r in n)t[r]=n[r];return e.forEach(function(r){for(const i in r)t[i]=r[i]}),t}const gF="</span>",EE=n=>!!n.scope,yF=(n,{prefix:e})=>{if(n.startsWith("language:"))return n.replace("language:","language-");if(n.includes(".")){const t=n.split(".");return[`${e}${t.shift()}`,...t.map((r,i)=>`${r}${"_".repeat(i+1)}`)].join(" ")}return`${e}${n}`};class vF{constructor(e,t){this.buffer="",this.classPrefix=t.classPrefix,e.walk(this)}addText(e){this.buffer+=aO(e)}openNode(e){if(!EE(e))return;const t=yF(e.scope,{prefix:this.classPrefix});this.span(t)}closeNode(e){EE(e)&&(this.buffer+=gF)}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}const kE=(n={})=>{const e={children:[]};return Object.assign(e,n),e};class eb{constructor(){this.rootNode=kE(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const t=kE({scope:e});this.add(t),this.stack.push(t)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,t){return typeof t=="string"?e.addText(t):t.children&&(e.openNode(t),t.children.forEach(r=>this._walk(e,r)),e.closeNode(t)),e}static _collapse(e){typeof e!="string"&&e.children&&(e.children.every(t=>typeof t=="string")?e.children=[e.children.join("")]:e.children.forEach(t=>{eb._collapse(t)}))}}class wF extends eb{constructor(e){super(),this.options=e}addText(e){e!==""&&this.add(e)}startScope(e){this.openNode(e)}endScope(){this.closeNode()}__addSublanguage(e,t){const r=e.root;t&&(r.scope=`language:${t}`),this.add(r)}toHTML(){return new vF(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function Bp(n){return n?typeof n=="string"?n:n.source:null}function lO(n){return xc("(?=",n,")")}function xF(n){return xc("(?:",n,")*")}function bF(n){return xc("(?:",n,")?")}function xc(...n){return n.map(t=>Bp(t)).join("")}function SF(n){const e=n[n.length-1];return typeof e=="object"&&e.constructor===Object?(n.splice(n.length-1,1),e):{}}function tb(...n){return"("+(SF(n).capture?"":"?:")+n.map(r=>Bp(r)).join("|")+")"}function uO(n){return new RegExp(n.toString()+"|").exec("").length-1}function EF(n,e){const t=n&&n.exec(e);return t&&t.index===0}const kF=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function nb(n,{joinWith:e}){let t=0;return n.map(r=>{t+=1;const i=t;let o=Bp(r),a="";for(;o.length>0;){const c=kF.exec(o);if(!c){a+=o;break}a+=o.substring(0,c.index),o=o.substring(c.index+c[0].length),c[0][0]==="\\"&&c[1]?a+="\\"+String(Number(c[1])+i):(a+=c[0],c[0]==="("&&t++)}return a}).map(r=>`(${r})`).join(e)}const CF=/\b\B/,cO="[a-zA-Z]\\w*",rb="[a-zA-Z_]\\w*",fO="\\b\\d+(\\.\\d+)?",dO="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",hO="\\b(0b[01]+)",MF="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",OF=(n={})=>{const e=/^#![ ]*\//;return n.binary&&(n.begin=xc(e,/.*\b/,n.binary,/\b.*/)),Vl({scope:"meta",begin:e,end:/$/,relevance:0,"on:begin":(t,r)=>{t.index!==0&&r.ignoreMatch()}},n)},jp={begin:"\\\\[\\s\\S]",relevance:0},RF={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[jp]},TF={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[jp]},_F={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},cv=function(n,e,t={}){const r=Vl({scope:"comment",begin:n,end:e,contains:[]},t);r.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const i=tb("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return r.contains.push({begin:xc(/[ ]+/,"(",i,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),r},NF=cv("//","$"),AF=cv("/\\*","\\*/"),DF=cv("#","$"),PF={scope:"number",begin:fO,relevance:0},LF={scope:"number",begin:dO,relevance:0},IF={scope:"number",begin:hO,relevance:0},zF={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[jp,{begin:/\[/,end:/\]/,relevance:0,contains:[jp]}]},BF={scope:"title",begin:cO,relevance:0},jF={scope:"title",begin:rb,relevance:0},FF={begin:"\\.\\s*"+rb,relevance:0},HF=function(n){return Object.assign(n,{"on:begin":(e,t)=>{t.data._beginMatch=e[1]},"on:end":(e,t)=>{t.data._beginMatch!==e[1]&&t.ignoreMatch()}})};var Ag=Object.freeze({__proto__:null,APOS_STRING_MODE:RF,BACKSLASH_ESCAPE:jp,BINARY_NUMBER_MODE:IF,BINARY_NUMBER_RE:hO,COMMENT:cv,C_BLOCK_COMMENT_MODE:AF,C_LINE_COMMENT_MODE:NF,C_NUMBER_MODE:LF,C_NUMBER_RE:dO,END_SAME_AS_BEGIN:HF,HASH_COMMENT_MODE:DF,IDENT_RE:cO,MATCH_NOTHING_RE:CF,METHOD_GUARD:FF,NUMBER_MODE:PF,NUMBER_RE:fO,PHRASAL_WORDS_MODE:_F,QUOTE_STRING_MODE:TF,REGEXP_MODE:zF,RE_STARTERS_RE:MF,SHEBANG:OF,TITLE_MODE:BF,UNDERSCORE_IDENT_RE:rb,UNDERSCORE_TITLE_MODE:jF});function $F(n,e){n.input[n.index-1]==="."&&e.ignoreMatch()}function UF(n,e){n.className!==void 0&&(n.scope=n.className,delete n.className)}function WF(n,e){e&&n.beginKeywords&&(n.begin="\\b("+n.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",n.__beforeBegin=$F,n.keywords=n.keywords||n.beginKeywords,delete n.beginKeywords,n.relevance===void 0&&(n.relevance=0))}function VF(n,e){Array.isArray(n.illegal)&&(n.illegal=tb(...n.illegal))}function qF(n,e){if(n.match){if(n.begin||n.end)throw new Error("begin & end are not supported with match");n.begin=n.match,delete n.match}}function GF(n,e){n.relevance===void 0&&(n.relevance=1)}const KF=(n,e)=>{if(!n.beforeMatch)return;if(n.starts)throw new Error("beforeMatch cannot be used with starts");const t=Object.assign({},n);Object.keys(n).forEach(r=>{delete n[r]}),n.keywords=t.keywords,n.begin=xc(t.beforeMatch,lO(t.begin)),n.starts={relevance:0,contains:[Object.assign(t,{endsParent:!0})]},n.relevance=0,delete t.beforeMatch},JF=["of","and","for","in","not","or","if","then","parent","list","value"],YF="keyword";function pO(n,e,t=YF){const r=Object.create(null);return typeof n=="string"?i(t,n.split(" ")):Array.isArray(n)?i(t,n):Object.keys(n).forEach(function(o){Object.assign(r,pO(n[o],e,o))}),r;function i(o,a){e&&(a=a.map(c=>c.toLowerCase())),a.forEach(function(c){const f=c.split("|");r[f[0]]=[o,XF(f[0],f[1])]})}}function XF(n,e){return e?Number(e):QF(n)?0:1}function QF(n){return JF.includes(n.toLowerCase())}const CE={},cc=n=>{console.error(n)},ME=(n,...e)=>{console.log(`WARN: ${n}`,...e)},Uf=(n,e)=>{CE[`${n}/${e}`]||(console.log(`Deprecated as of ${n}. ${e}`),CE[`${n}/${e}`]=!0)},$y=new Error;function mO(n,e,{key:t}){let r=0;const i=n[t],o={},a={};for(let c=1;c<=e.length;c++)a[c+r]=i[c],o[c+r]=!0,r+=uO(e[c-1]);n[t]=a,n[t]._emit=o,n[t]._multi=!0}function ZF(n){if(Array.isArray(n.begin)){if(n.skip||n.excludeBegin||n.returnBegin)throw cc("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),$y;if(typeof n.beginScope!="object"||n.beginScope===null)throw cc("beginScope must be object"),$y;mO(n,n.begin,{key:"beginScope"}),n.begin=nb(n.begin,{joinWith:""})}}function eH(n){if(Array.isArray(n.end)){if(n.skip||n.excludeEnd||n.returnEnd)throw cc("skip, excludeEnd, returnEnd not compatible with endScope: {}"),$y;if(typeof n.endScope!="object"||n.endScope===null)throw cc("endScope must be object"),$y;mO(n,n.end,{key:"endScope"}),n.end=nb(n.end,{joinWith:""})}}function tH(n){n.scope&&typeof n.scope=="object"&&n.scope!==null&&(n.beginScope=n.scope,delete n.scope)}function nH(n){tH(n),typeof n.beginScope=="string"&&(n.beginScope={_wrap:n.beginScope}),typeof n.endScope=="string"&&(n.endScope={_wrap:n.endScope}),ZF(n),eH(n)}function rH(n){function e(a,c){return new RegExp(Bp(a),"m"+(n.case_insensitive?"i":"")+(n.unicodeRegex?"u":"")+(c?"g":""))}class t{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(c,f){f.position=this.position++,this.matchIndexes[this.matchAt]=f,this.regexes.push([f,c]),this.matchAt+=uO(c)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const c=this.regexes.map(f=>f[1]);this.matcherRe=e(nb(c,{joinWith:"|"}),!0),this.lastIndex=0}exec(c){this.matcherRe.lastIndex=this.lastIndex;const f=this.matcherRe.exec(c);if(!f)return null;const p=f.findIndex((v,w)=>w>0&&v!==void 0),m=this.matchIndexes[p];return f.splice(0,p),Object.assign(f,m)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(c){if(this.multiRegexes[c])return this.multiRegexes[c];const f=new t;return this.rules.slice(c).forEach(([p,m])=>f.addRule(p,m)),f.compile(),this.multiRegexes[c]=f,f}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(c,f){this.rules.push([c,f]),f.type==="begin"&&this.count++}exec(c){const f=this.getMatcher(this.regexIndex);f.lastIndex=this.lastIndex;let p=f.exec(c);if(this.resumingScanAtSamePosition()&&!(p&&p.index===this.lastIndex)){const m=this.getMatcher(0);m.lastIndex=this.lastIndex+1,p=m.exec(c)}return p&&(this.regexIndex+=p.position+1,this.regexIndex===this.count&&this.considerAll()),p}}function i(a){const c=new r;return a.contains.forEach(f=>c.addRule(f.begin,{rule:f,type:"begin"})),a.terminatorEnd&&c.addRule(a.terminatorEnd,{type:"end"}),a.illegal&&c.addRule(a.illegal,{type:"illegal"}),c}function o(a,c){const f=a;if(a.isCompiled)return f;[UF,qF,nH,KF].forEach(m=>m(a,c)),n.compilerExtensions.forEach(m=>m(a,c)),a.__beforeBegin=null,[WF,VF,GF].forEach(m=>m(a,c)),a.isCompiled=!0;let p=null;return typeof a.keywords=="object"&&a.keywords.$pattern&&(a.keywords=Object.assign({},a.keywords),p=a.keywords.$pattern,delete a.keywords.$pattern),p=p||/\w+/,a.keywords&&(a.keywords=pO(a.keywords,n.case_insensitive)),f.keywordPatternRe=e(p,!0),c&&(a.begin||(a.begin=/\B|\b/),f.beginRe=e(f.begin),!a.end&&!a.endsWithParent&&(a.end=/\B|\b/),a.end&&(f.endRe=e(f.end)),f.terminatorEnd=Bp(f.end)||"",a.endsWithParent&&c.terminatorEnd&&(f.terminatorEnd+=(a.end?"|":"")+c.terminatorEnd)),a.illegal&&(f.illegalRe=e(a.illegal)),a.contains||(a.contains=[]),a.contains=[].concat(...a.contains.map(function(m){return iH(m==="self"?a:m)})),a.contains.forEach(function(m){o(m,f)}),a.starts&&o(a.starts,c),f.matcher=i(f),f}if(n.compilerExtensions||(n.compilerExtensions=[]),n.contains&&n.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return n.classNameAliases=Vl(n.classNameAliases||{}),o(n)}function gO(n){return n?n.endsWithParent||gO(n.starts):!1}function iH(n){return n.variants&&!n.cachedVariants&&(n.cachedVariants=n.variants.map(function(e){return Vl(n,{variants:null},e)})),n.cachedVariants?n.cachedVariants:gO(n)?Vl(n,{starts:n.starts?Vl(n.starts):null}):Object.isFrozen(n)?Vl(n):n}var oH="11.10.0";class sH extends Error{constructor(e,t){super(e),this.name="HTMLInjectionError",this.html=t}}const ew=aO,OE=Vl,RE=Symbol("nomatch"),aH=7,yO=function(n){const e=Object.create(null),t=Object.create(null),r=[];let i=!0;const o="Could not find the language '{}', did you forget to load/include a language module?",a={disableAutodetect:!0,name:"Plain text",contains:[]};let c={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:wF};function f(V){return c.noHighlightRe.test(V)}function p(V){let F=V.className+" ";F+=V.parentNode?V.parentNode.className:"";const pe=c.languageDetectRe.exec(F);if(pe){const he=W(pe[1]);return he||(ME(o.replace("{}",pe[1])),ME("Falling back to no-highlight mode for this block.",V)),he?pe[1]:"no-highlight"}return F.split(/\s+/).find(he=>f(he)||W(he))}function m(V,F,pe){let he="",H="";typeof F=="object"?(he=V,pe=F.ignoreIllegals,H=F.language):(Uf("10.7.0","highlight(lang, code, ...args) has been deprecated."),Uf("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),H=V,he=F),pe===void 0&&(pe=!0);const ce={code:he,language:H};ue("before:highlight",ce);const Te=ce.result?ce.result:v(ce.language,ce.code,pe);return Te.code=ce.code,ue("after:highlight",Te),Te}function v(V,F,pe,he){const H=Object.create(null);function ce(Ae,We){return Ae.keywords[We]}function Te(){if(!_e.keywords){Xe.addText(ft);return}let Ae=0;_e.keywordPatternRe.lastIndex=0;let We=_e.keywordPatternRe.exec(ft),Ct="";for(;We;){Ct+=ft.substring(Ae,We.index);const Ft=Oe.case_insensitive?We[0].toLowerCase():We[0],Zt=ce(_e,Ft);if(Zt){const[Yn,mi]=Zt;if(Xe.addText(Ct),Ct="",H[Ft]=(H[Ft]||0)+1,H[Ft]<=aH&&(_t+=mi),Yn.startsWith("_"))Ct+=We[0];else{const ve=Oe.classNameAliases[Yn]||Yn;Qe(We[0],ve)}}else Ct+=We[0];Ae=_e.keywordPatternRe.lastIndex,We=_e.keywordPatternRe.exec(ft)}Ct+=ft.substring(Ae),Xe.addText(Ct)}function $e(){if(ft==="")return;let Ae=null;if(typeof _e.subLanguage=="string"){if(!e[_e.subLanguage]){Xe.addText(ft);return}Ae=v(_e.subLanguage,ft,!0,ct[_e.subLanguage]),ct[_e.subLanguage]=Ae._top}else Ae=x(ft,_e.subLanguage.length?_e.subLanguage:null);_e.relevance>0&&(_t+=Ae.relevance),Xe.__addSublanguage(Ae._emitter,Ae.language)}function Ve(){_e.subLanguage!=null?$e():Te(),ft=""}function Qe(Ae,We){Ae!==""&&(Xe.startScope(We),Xe.addText(Ae),Xe.endScope())}function ut(Ae,We){let Ct=1;const Ft=We.length-1;for(;Ct<=Ft;){if(!Ae._emit[Ct]){Ct++;continue}const Zt=Oe.classNameAliases[Ae[Ct]]||Ae[Ct],Yn=We[Ct];Zt?Qe(Yn,Zt):(ft=Yn,Te(),ft=""),Ct++}}function ke(Ae,We){return Ae.scope&&typeof Ae.scope=="string"&&Xe.openNode(Oe.classNameAliases[Ae.scope]||Ae.scope),Ae.beginScope&&(Ae.beginScope._wrap?(Qe(ft,Oe.classNameAliases[Ae.beginScope._wrap]||Ae.beginScope._wrap),ft=""):Ae.beginScope._multi&&(ut(Ae.beginScope,We),ft="")),_e=Object.create(Ae,{parent:{value:_e}}),_e}function Be(Ae,We,Ct){let Ft=EF(Ae.endRe,Ct);if(Ft){if(Ae["on:end"]){const Zt=new SE(Ae);Ae["on:end"](We,Zt),Zt.isMatchIgnored&&(Ft=!1)}if(Ft){for(;Ae.endsParent&&Ae.parent;)Ae=Ae.parent;return Ae}}if(Ae.endsWithParent)return Be(Ae.parent,We,Ct)}function qe(Ae){return _e.matcher.regexIndex===0?(ft+=Ae[0],1):(vn=!0,0)}function Y(Ae){const We=Ae[0],Ct=Ae.rule,Ft=new SE(Ct),Zt=[Ct.__beforeBegin,Ct["on:begin"]];for(const Yn of Zt)if(Yn&&(Yn(Ae,Ft),Ft.isMatchIgnored))return qe(We);return Ct.skip?ft+=We:(Ct.excludeBegin&&(ft+=We),Ve(),!Ct.returnBegin&&!Ct.excludeBegin&&(ft=We)),ke(Ct,Ae),Ct.returnBegin?0:We.length}function U(Ae){const We=Ae[0],Ct=F.substring(Ae.index),Ft=Be(_e,Ae,Ct);if(!Ft)return RE;const Zt=_e;_e.endScope&&_e.endScope._wrap?(Ve(),Qe(We,_e.endScope._wrap)):_e.endScope&&_e.endScope._multi?(Ve(),ut(_e.endScope,Ae)):Zt.skip?ft+=We:(Zt.returnEnd||Zt.excludeEnd||(ft+=We),Ve(),Zt.excludeEnd&&(ft=We));do _e.scope&&Xe.closeNode(),!_e.skip&&!_e.subLanguage&&(_t+=_e.relevance),_e=_e.parent;while(_e!==Ft.parent);return Ft.starts&&ke(Ft.starts,Ae),Zt.returnEnd?0:We.length}function ne(){const Ae=[];for(let We=_e;We!==Oe;We=We.parent)We.scope&&Ae.unshift(We.scope);Ae.forEach(We=>Xe.openNode(We))}let ie={};function Fe(Ae,We){const Ct=We&&We[0];if(ft+=Ae,Ct==null)return Ve(),0;if(ie.type==="begin"&&We.type==="end"&&ie.index===We.index&&Ct===""){if(ft+=F.slice(We.index,We.index+1),!i){const Ft=new Error(`0 width match regex (${V})`);throw Ft.languageName=V,Ft.badRule=ie.rule,Ft}return 1}if(ie=We,We.type==="begin")return Y(We);if(We.type==="illegal"&&!pe){const Ft=new Error('Illegal lexeme "'+Ct+'" for mode "'+(_e.scope||"<unnamed>")+'"');throw Ft.mode=_e,Ft}else if(We.type==="end"){const Ft=U(We);if(Ft!==RE)return Ft}if(We.type==="illegal"&&Ct==="")return 1;if(Cn>1e5&&Cn>We.index*3)throw new Error("potential infinite loop, way more iterations than matches");return ft+=Ct,Ct.length}const Oe=W(V);if(!Oe)throw cc(o.replace("{}",V)),new Error('Unknown language: "'+V+'"');const Ge=rH(Oe);let Je="",_e=he||Ge;const ct={},Xe=new c.__emitter(c);ne();let ft="",_t=0,Qt=0,Cn=0,vn=!1;try{if(Oe.__emitTokens)Oe.__emitTokens(F,Xe);else{for(_e.matcher.considerAll();;){Cn++,vn?vn=!1:_e.matcher.considerAll(),_e.matcher.lastIndex=Qt;const Ae=_e.matcher.exec(F);if(!Ae)break;const We=F.substring(Qt,Ae.index),Ct=Fe(We,Ae);Qt=Ae.index+Ct}Fe(F.substring(Qt))}return Xe.finalize(),Je=Xe.toHTML(),{language:V,value:Je,relevance:_t,illegal:!1,_emitter:Xe,_top:_e}}catch(Ae){if(Ae.message&&Ae.message.includes("Illegal"))return{language:V,value:ew(F),illegal:!0,relevance:0,_illegalBy:{message:Ae.message,index:Qt,context:F.slice(Qt-100,Qt+100),mode:Ae.mode,resultSoFar:Je},_emitter:Xe};if(i)return{language:V,value:ew(F),illegal:!1,relevance:0,errorRaised:Ae,_emitter:Xe,_top:_e};throw Ae}}function w(V){const F={value:ew(V),illegal:!1,relevance:0,_top:a,_emitter:new c.__emitter(c)};return F._emitter.addText(V),F}function x(V,F){F=F||c.languages||Object.keys(e);const pe=w(V),he=F.filter(W).filter(xe).map(Ve=>v(Ve,V,!1));he.unshift(pe);const H=he.sort((Ve,Qe)=>{if(Ve.relevance!==Qe.relevance)return Qe.relevance-Ve.relevance;if(Ve.language&&Qe.language){if(W(Ve.language).supersetOf===Qe.language)return 1;if(W(Qe.language).supersetOf===Ve.language)return-1}return 0}),[ce,Te]=H,$e=ce;return $e.secondBest=Te,$e}function E(V,F,pe){const he=F&&t[F]||pe;V.classList.add("hljs"),V.classList.add(`language-${he}`)}function C(V){let F=null;const pe=p(V);if(f(pe))return;if(ue("before:highlightElement",{el:V,language:pe}),V.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",V);return}if(V.children.length>0&&(c.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(V)),c.throwUnescapedHTML))throw new sH("One of your code blocks includes unescaped HTML.",V.innerHTML);F=V;const he=F.textContent,H=pe?m(he,{language:pe,ignoreIllegals:!0}):x(he);V.innerHTML=H.value,V.dataset.highlighted="yes",E(V,pe,H.language),V.result={language:H.language,re:H.relevance,relevance:H.relevance},H.secondBest&&(V.secondBest={language:H.secondBest.language,relevance:H.secondBest.relevance}),ue("after:highlightElement",{el:V,result:H,text:he})}function k(V){c=OE(c,V)}const S=()=>{T(),Uf("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function R(){T(),Uf("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let N=!1;function T(){if(document.readyState==="loading"){N=!0;return}document.querySelectorAll(c.cssSelector).forEach(C)}function D(){N&&T()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",D,!1);function _(V,F){let pe=null;try{pe=F(n)}catch(he){if(cc("Language definition for '{}' could not be registered.".replace("{}",V)),i)cc(he);else throw he;pe=a}pe.name||(pe.name=V),e[V]=pe,pe.rawDefinition=F.bind(null,n),pe.aliases&&se(pe.aliases,{languageName:V})}function L(V){delete e[V];for(const F of Object.keys(t))t[F]===V&&delete t[F]}function z(){return Object.keys(e)}function W(V){return V=(V||"").toLowerCase(),e[V]||e[t[V]]}function se(V,{languageName:F}){typeof V=="string"&&(V=[V]),V.forEach(pe=>{t[pe.toLowerCase()]=F})}function xe(V){const F=W(V);return F&&!F.disableAutodetect}function ye(V){V["before:highlightBlock"]&&!V["before:highlightElement"]&&(V["before:highlightElement"]=F=>{V["before:highlightBlock"](Object.assign({block:F.el},F))}),V["after:highlightBlock"]&&!V["after:highlightElement"]&&(V["after:highlightElement"]=F=>{V["after:highlightBlock"](Object.assign({block:F.el},F))})}function Ce(V){ye(V),r.push(V)}function Ee(V){const F=r.indexOf(V);F!==-1&&r.splice(F,1)}function ue(V,F){const pe=V;r.forEach(function(he){he[pe]&&he[pe](F)})}function de(V){return Uf("10.7.0","highlightBlock will be removed entirely in v12.0"),Uf("10.7.0","Please use highlightElement now."),C(V)}Object.assign(n,{highlight:m,highlightAuto:x,highlightAll:T,highlightElement:C,highlightBlock:de,configure:k,initHighlighting:S,initHighlightingOnLoad:R,registerLanguage:_,unregisterLanguage:L,listLanguages:z,getLanguage:W,registerAliases:se,autoDetection:xe,inherit:OE,addPlugin:Ce,removePlugin:Ee}),n.debugMode=function(){i=!1},n.safeMode=function(){i=!0},n.versionString=oH,n.regex={concat:xc,lookahead:lO,either:tb,optional:bF,anyNumberOfTimes:xF};for(const V in Ag)typeof Ag[V]=="object"&&sO(Ag[V]);return Object.assign(n,Ag),n},pd=yO({});pd.newInstance=()=>yO({});var lH=pd;pd.HighlightJS=pd;pd.default=pd;var uH=mF(lH);function vO(n,e=[]){return n.map(t=>{const r=[...e,...t.properties?t.properties.className:[]];return t.children?vO(t.children,r):{text:t.value,classes:r}}).flat()}function TE(n){return n.value||n.children||[]}function cH(n){return!!uH.getLanguage(n)}function _E({doc:n,name:e,lowlight:t,defaultLanguage:r}){const i=[];return Mw(n,o=>o.type.name===e).forEach(o=>{var a;let c=o.pos+1;const f=o.node.attrs.language||r,p=t.listLanguages(),m=f&&(p.includes(f)||cH(f)||!((a=t.registered)===null||a===void 0)&&a.call(t,f))?TE(t.highlight(f,o.node.textContent)):TE(t.highlightAuto(o.node.textContent));vO(m).forEach(v=>{const w=c+v.text.length;if(v.classes.length){const x=go.inline(c,w,{class:v.classes.join(" ")});i.push(x)}c=w})}),vr.create(n,i)}function fH(n){return typeof n=="function"}function dH({name:n,lowlight:e,defaultLanguage:t}){if(!["highlight","highlightAuto","listLanguages"].every(i=>fH(e[i])))throw Error("You should provide an instance of lowlight to use the code-block-lowlight extension");const r=new Tr({key:new Ti("lowlight"),state:{init:(i,{doc:o})=>_E({doc:o,name:n,lowlight:e,defaultLanguage:t}),apply:(i,o,a,c)=>{const f=a.selection.$head.parent.type.name,p=c.selection.$head.parent.type.name,m=Mw(a.doc,w=>w.type.name===n),v=Mw(c.doc,w=>w.type.name===n);return i.docChanged&&([f,p].includes(n)||v.length!==m.length||i.steps.some(w=>w.from!==void 0&&w.to!==void 0&&m.some(x=>x.pos>=w.from&&x.pos+x.node.nodeSize<=w.to)))?_E({doc:i.doc,name:n,lowlight:e,defaultLanguage:t}):o.map(i.mapping,i.doc)}},props:{decorations(i){return r.getState(i)}}});return r}const hH=RM.extend({addOptions(){var n;return{...(n=this.parent)===null||n===void 0?void 0:n.call(this),lowlight:{},languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},addProseMirrorPlugins(){var n;return[...((n=this.parent)===null||n===void 0?void 0:n.call(this))||[],dH({name:this.name,lowlight:this.options.lowlight,defaultLanguage:this.options.defaultLanguage})]}}),pH=({node:n,updateAttributes:e,deleteNode:t,getPos:r,editor:i})=>{const{language:o,caption:a}=n.attrs,[c,f]=K.useState(!!a),p=()=>{navigator.clipboard.writeText(n.textContent)},m=()=>{c&&a?(e({caption:""}),f(!1)):f(!c)},v=w=>{if(w.target.closest("pre")||w.target.closest("button")||w.target.closest("select")||w.target.closest("input"))return;const x=w.currentTarget.getBoundingClientRect(),E=w.clientX;if(x.right,E>x.left+x.width*.7){const C=r()+n.nodeSize;i.commands.setTextSelection(C)}};return P.jsxs(na,{className:"custom-code-block-wrapper",children:[P.jsx("div",{className:"drag-handle",contentEditable:!1,"data-drag-handle":!0,children:P.jsx(yc,{size:18})}),P.jsxs("div",{className:"code-block-container",onClick:v,children:[P.jsxs("div",{className:"code-block-header",children:[P.jsxs("select",{value:o||"auto",onChange:w=>e({language:w.target.value}),className:"language-selector",contentEditable:!1,children:[P.jsx("option",{value:"auto",children:"auto"}),P.jsx("option",{value:"java",children:"Java"}),P.jsx("option",{value:"python",children:"Python"}),P.jsx("option",{value:"javascript",children:"JavaScript"}),P.jsx("option",{value:"typescript",children:"TypeScript"}),P.jsx("option",{value:"html",children:"HTML"}),P.jsx("option",{value:"css",children:"CSS"})]}),P.jsxs("div",{className:"code-block-toolbar",children:[P.jsxs("button",{onClick:p,title:"Copy code",children:[P.jsx(Oj,{size:16}),P.jsx("span",{children:"Copy"})]}),P.jsxs("button",{onClick:m,title:"Add caption",children:[P.jsx(Dj,{size:16}),P.jsx("span",{children:"Caption"})]}),P.jsx("button",{onClick:t,title:"Delete node",children:P.jsx(zM,{size:16})})]})]}),P.jsx("pre",{className:"code-block-content",spellCheck:"false",children:P.jsx(pB,{as:"code"})}),c&&P.jsx("div",{className:"caption-input-wrapper",children:P.jsx("input",{type:"text",className:"caption-input",value:a,onChange:w=>e({caption:w.target.value}),placeholder:"Write a caption..."})})]})]})},mH=hH.extend({name:"codeBlockNode",group:"block",content:"text*",code:!0,defining:!0,draggable:!0,addAttributes(){var n;return{...(n=this.parent)==null?void 0:n.call(this),caption:{default:"",parseHTML:e=>{var t;return(t=e.querySelector("figcaption"))==null?void 0:t.innerText},renderHTML:e=>e.caption?{"data-caption":e.caption}:{}}}},addCommands(){return{insertCodeBlock:n=>({commands:e})=>e.insertContent({type:this.name,attrs:n})}},addKeyboardShortcuts(){var n;return{...(n=this.parent)==null?void 0:n.call(this),Tab:()=>this.editor.commands.insertContent("  "),Enter:()=>{const{state:e,commands:t}=this.editor,{selection:r}=e,{$from:i}=r,c=(i.parent.textContent.slice(0,i.parentOffset).split(`
`).pop()||"").match(/^\s*/),f=c?c[0]:"";return t.insertContent(`
`+f)}}},addNodeView(){return iu(pH)}}),gH=({node:n,updateAttributes:e,editor:t})=>{const{height:r}=n.attrs,i=()=>{t.storage.spacer.openModal(n.attrs.height,o=>e({height:o}))};return P.jsx(na,{className:"spacer-component-wrapper",contentEditable:!1,suppressContentEditableWarning:!0,onClick:i,title:"Click to adjust height",style:{cursor:"pointer"},children:P.jsx("div",{className:"spacer-component",contentEditable:!1,style:{height:r,border:"1px dashed #ccc",margin:"1rem 0"}})})},yH=hr.create({name:"spacerNode",group:"block",atom:!0,draggable:!0,addAttributes(){return{height:{default:"2rem"}}},parseHTML(){return[{tag:'div[data-type="spacer"]',getAttrs:n=>({height:n.style.height})}]},renderHTML({HTMLAttributes:n}){return["div",Bn(n,{"data-type":"spacer",style:`height: ${this.options.height||n.height};`})]},addNodeView(){return iu(gH)},addCommands(){return{setSpacer:n=>({commands:e})=>e.insertContent({type:this.name,attrs:n})}}}),vH=({editor:n})=>{const e=()=>{if(!n)return"";const{selection:r}=n.state,{from:i,to:o,empty:a}=r;if(a)return"";let c="";return n.state.doc.nodesBetween(i,o,f=>{if(f.marks&&f.marks.length>0){const p=f.marks.find(m=>m.type.name==="textStyle");if(p&&p.attrs&&p.attrs.fontSize)return c=p.attrs.fontSize.replace("px",""),!1}}),c},t=K.useCallback(()=>{if(!n)return;const r=n.getAttributes("link").href,i=window.prompt("URL",r);if(i!==null){if(i===""){n.chain().focus().extendMarkRange("link").unsetLink().run();return}n.chain().focus().extendMarkRange("link").setLink({href:i}).run()}},[n]);return K.useCallback(r=>{const i=r.target.value;r.stopPropagation(),i&&!isNaN(parseInt(i))?n.chain().setMark("textStyle",{fontSize:`${i}px`}).run():i===""&&n.chain().unsetMark("textStyle").run()},[n]),n?P.jsxs(hB,{editor:n,tippyOptions:{duration:100},className:"bubble-menu",shouldShow:({editor:r,view:i,state:o,oldState:a,from:c,to:f})=>{const p=["image","video","iframe","audio","photoGrid"],{selection:m}=o,{$from:v,$to:w}=m;return p.some(E=>r.isActive(E)||m.node&&m.node.type.name===E||v.parent.type.name===E&&v.pos===w.pos)?!1:c!==f},children:[P.jsxs("div",{className:"bubble-menu-group",children:[P.jsxs("button",{onClick:()=>n.chain().focus().toggleBold().run(),className:n.isActive("bold")?"is-active":"",children:[" ",P.jsx(Cj,{size:16})," "]}),P.jsxs("button",{onClick:()=>n.chain().focus().toggleItalic().run(),className:n.isActive("italic")?"is-active":"",children:[" ",P.jsx(Aj,{size:16})," "]}),P.jsxs("button",{onClick:()=>n.chain().focus().toggleUnderline().run(),className:n.isActive("underline")?"is-active":"",children:[" ",P.jsx(Hj,{size:16})," "]}),P.jsxs("button",{onClick:()=>n.chain().focus().toggleStrike().run(),className:n.isActive("strike")?"is-active":"",children:[" ",P.jsx(jj,{size:16})," "]}),P.jsxs("button",{onClick:t,className:n.isActive("link")?"is-active":"",children:[" ",P.jsx(Fx,{size:16})," "]})]}),P.jsx("div",{className:"divider"}),P.jsxs("div",{className:"bubble-menu-group",children:[P.jsx("button",{onMouseDown:r=>{r.preventDefault();const i=parseInt(e()||"16"),o=Math.max(8,i-1);n.chain().focus().setFontSize(`${o}px`).run()},children:"-"}),P.jsx("span",{style:{color:"white",padding:"0 8px",minWidth:"30px",textAlign:"center"},children:e()||"16"}),P.jsx("button",{onMouseDown:r=>{r.preventDefault();const i=parseInt(e()||"16"),o=Math.min(120,i+1);n.chain().focus().setFontSize(`${o}px`).run()},children:"+"})]}),P.jsx("div",{className:"divider"}),P.jsxs("div",{className:"bubble-menu-group",children:[P.jsxs("button",{onClick:()=>n.chain().focus().setTextAlign("left").run(),className:n.isActive({textAlign:"left"})?"is-active":"",children:[" ",P.jsx(LM,{size:16})," "]}),P.jsxs("button",{onClick:()=>n.chain().focus().setTextAlign("center").run(),className:n.isActive({textAlign:"center"})?"is-active":"",children:[" ",P.jsx(PM,{size:16})," "]}),P.jsxs("button",{onClick:()=>n.chain().focus().setTextAlign("right").run(),className:n.isActive({textAlign:"right"})?"is-active":"",children:[" ",P.jsx(IM,{size:16})," "]})]})]}):null},wH=({editor:n,onEmbedClick:e,onImageAdd:t,onVideoAdd:r,onAudioAdd:i,onStylesClick:o,onSettingsClick:a,onPhotoGridClick:c,onPreviewClick:f,onSaveClick:p,onSpacerAdd:m})=>n?P.jsxs("div",{className:"sidebar",children:[P.jsxs("div",{className:"sidebar-content",children:[P.jsxs("div",{className:"sidebar-section",children:[P.jsx("h4",{className:"sidebar-title",children:"ADD CONTENT"}),P.jsxs("div",{className:"button-grid",children:[P.jsxs("button",{className:"grid-button",onClick:()=>n.chain().focus().insertCodeBlock({language:"auto"}).run(),children:[P.jsx(Mj,{size:20})," ",P.jsx("span",{children:"Code"})]}),P.jsxs("button",{className:"grid-button",onClick:e,children:[P.jsx(Fx,{size:20}),P.jsx("span",{children:"Embed"})]}),P.jsxs("button",{className:"grid-button",onClick:t,children:[P.jsx(Nj,{size:20}),P.jsx("span",{children:"Image"})]}),P.jsxs("button",{className:"grid-button",onClick:c,children:[P.jsx(_j,{size:20}),P.jsx("span",{children:"Photo Grid"})]}),P.jsxs("button",{className:"grid-button",onClick:r,children:[P.jsx($j,{size:20}),P.jsx("span",{children:"Video"})]}),P.jsxs("button",{className:"grid-button",onClick:i,children:[P.jsx(Pj,{size:20}),P.jsx("span",{children:"Audio"})]}),P.jsxs("button",{className:"grid-button",onClick:()=>n.chain().focus().insertContent("<p>여기에 텍스트를 입력하세요...</p>").run(),children:[P.jsx(Fj,{size:20}),P.jsx("span",{children:"Text"})]}),P.jsxs("button",{className:"grid-button",onClick:()=>n.chain().focus().setHorizontalRule().run(),children:[P.jsx(Lj,{size:20}),P.jsx("span",{children:"Line"})]}),P.jsxs("button",{className:"grid-button",onClick:m,children:[P.jsx(kj,{size:20}),P.jsx("span",{children:"Spacer"})]}),P.jsxs("button",{className:"grid-button",onClick:()=>n.chain().focus().setPaywall().run(),children:[P.jsx(Rj,{size:20}),P.jsx("span",{children:"Paywall"})]})]})]}),P.jsxs("div",{className:"sidebar-section",children:[P.jsx("h4",{className:"sidebar-title",children:"STYLES"}),P.jsxs("div",{className:"button-grid",children:[P.jsxs("button",{className:"grid-button",onClick:o,children:[P.jsx(Ij,{size:20}),P.jsx("span",{children:"Styles"})]}),P.jsxs("button",{className:"grid-button",onClick:a,children:[P.jsx(Bj,{size:20}),P.jsx("span",{children:"Settings"})]})]})]})]}),P.jsxs("div",{className:"sidebar-footer",children:[P.jsxs("button",{className:"preview-button",onClick:f,children:[P.jsx(Tj,{size:18}),P.jsx("span",{children:"Preview"})]}),P.jsx("button",{onClick:p,className:"update-button",children:"Project Submit"}),P.jsxs("button",{className:"preview-button",onClick:()=>console.log(JSON.stringify(n.getJSON(),null,2)),children:[P.jsx(zj,{size:14}),P.jsx("span",{children:"Debug JSON"})]})]})]}):null;function NE(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function xH(...n){return e=>{let t=!1;const r=n.map(i=>{const o=NE(i,e);return!t&&typeof o=="function"&&(t=!0),o});if(t)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():NE(n[i],null)}}}}function bH(n){const e=EH(n),t=K.forwardRef((r,i)=>{const{children:o,...a}=r,c=K.Children.toArray(o),f=c.find(CH);if(f){const p=f.props.children,m=c.map(v=>v===f?K.Children.count(p)>1?K.Children.only(null):K.isValidElement(p)?p.props.children:null:v);return P.jsx(e,{...a,ref:i,children:K.isValidElement(p)?K.cloneElement(p,void 0,m):null})}return P.jsx(e,{...a,ref:i,children:o})});return t.displayName=`${n}.Slot`,t}var SH=bH("Slot");function EH(n){const e=K.forwardRef((t,r)=>{const{children:i,...o}=t;if(K.isValidElement(i)){const a=OH(i),c=MH(o,i.props);return i.type!==K.Fragment&&(c.ref=r?xH(r,a):a),K.cloneElement(i,c)}return K.Children.count(i)>1?K.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var kH=Symbol("radix.slottable");function CH(n){return K.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===kH}function MH(n,e){const t={...e};for(const r in e){const i=n[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?t[r]=(...c)=>{const f=o(...c);return i(...c),f}:i&&(t[r]=i):r==="style"?t[r]={...i,...o}:r==="className"&&(t[r]=[i,o].filter(Boolean).join(" "))}return{...n,...t}}function OH(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function wO(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=wO(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function xO(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=wO(n))&&(r&&(r+=" "),r+=e);return r}const AE=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,DE=xO,RH=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return DE(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:o}=e,a=Object.keys(i).map(p=>{const m=t==null?void 0:t[p],v=o==null?void 0:o[p];if(m===null)return null;const w=AE(m)||AE(v);return i[p][w]}),c=t&&Object.entries(t).reduce((p,m)=>{let[v,w]=m;return w===void 0||(p[v]=w),p},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,m)=>{let{class:v,className:w,...x}=m;return Object.entries(x).every(E=>{let[C,k]=E;return Array.isArray(k)?k.includes({...o,...c}[C]):{...o,...c}[C]===k})?[...p,v,w]:p},[]);return DE(n,a,f,t==null?void 0:t.class,t==null?void 0:t.className)},ib="-",TH=n=>{const e=NH(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:a=>{const c=a.split(ib);return c[0]===""&&c.length!==1&&c.shift(),bO(c,e)||_H(a)},getConflictingClassGroupIds:(a,c)=>{const f=t[a]||[];return c&&r[a]?[...f,...r[a]]:f}}},bO=(n,e)=>{var a;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?bO(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=n.join(ib);return(a=e.validators.find(({validator:c})=>c(o)))==null?void 0:a.classGroupId},PE=/^\[(.+)\]$/,_H=n=>{if(PE.test(n)){const e=PE.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},NH=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const i in t)Uw(t[i],r,i,e);return r},Uw=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const o=i===""?e:LE(e,i);o.classGroupId=t;return}if(typeof i=="function"){if(AH(i)){Uw(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([o,a])=>{Uw(a,LE(e,o),t,r)})})},LE=(n,e)=>{let t=n;return e.split(ib).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},AH=n=>n.isThemeGetter,DH=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(o,a)=>{t.set(o,a),e++,e>n&&(e=0,r=t,t=new Map)};return{get(o){let a=t.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set(o,a){t.has(o)?t.set(o,a):i(o,a)}}},Ww="!",Vw=":",PH=Vw.length,LH=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=i=>{const o=[];let a=0,c=0,f=0,p;for(let E=0;E<i.length;E++){let C=i[E];if(a===0&&c===0){if(C===Vw){o.push(i.slice(f,E)),f=E+PH;continue}if(C==="/"){p=E;continue}}C==="["?a++:C==="]"?a--:C==="("?c++:C===")"&&c--}const m=o.length===0?i:i.substring(f),v=IH(m),w=v!==m,x=p&&p>f?p-f:void 0;return{modifiers:o,hasImportantModifier:w,baseClassName:v,maybePostfixModifierPosition:x}};if(e){const i=e+Vw,o=r;r=a=>a.startsWith(i)?o(a.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(t){const i=r;r=o=>t({className:o,parseClassName:i})}return r},IH=n=>n.endsWith(Ww)?n.substring(0,n.length-1):n.startsWith(Ww)?n.substring(1):n,zH=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let o=[];return r.forEach(a=>{a[0]==="["||e[a]?(i.push(...o.sort(),a),o=[]):o.push(a)}),i.push(...o.sort()),i}},BH=n=>({cache:DH(n.cacheSize),parseClassName:LH(n),sortModifiers:zH(n),...TH(n)}),jH=/\s+/,FH=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:o}=e,a=[],c=n.trim().split(jH);let f="";for(let p=c.length-1;p>=0;p-=1){const m=c[p],{isExternal:v,modifiers:w,hasImportantModifier:x,baseClassName:E,maybePostfixModifierPosition:C}=t(m);if(v){f=m+(f.length>0?" "+f:f);continue}let k=!!C,S=r(k?E.substring(0,C):E);if(!S){if(!k){f=m+(f.length>0?" "+f:f);continue}if(S=r(E),!S){f=m+(f.length>0?" "+f:f);continue}k=!1}const R=o(w).join(":"),N=x?R+Ww:R,T=N+S;if(a.includes(T))continue;a.push(T);const D=i(S,k);for(let _=0;_<D.length;++_){const L=D[_];a.push(N+L)}f=m+(f.length>0?" "+f:f)}return f};function HH(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=SO(e))&&(r&&(r+=" "),r+=t);return r}const SO=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=SO(n[r]))&&(t&&(t+=" "),t+=e);return t};function $H(n,...e){let t,r,i,o=a;function a(f){const p=e.reduce((m,v)=>v(m),n());return t=BH(p),r=t.cache.get,i=t.cache.set,o=c,c(f)}function c(f){const p=r(f);if(p)return p;const m=FH(f,t);return i(f,m),m}return function(){return o(HH.apply(null,arguments))}}const Rr=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},EO=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,kO=/^\((?:(\w[\w-]*):)?(.+)\)$/i,UH=/^\d+\/\d+$/,WH=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,VH=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,qH=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,GH=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,KH=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wf=n=>UH.test(n),tn=n=>!!n&&!Number.isNaN(Number(n)),Dl=n=>!!n&&Number.isInteger(Number(n)),tw=n=>n.endsWith("%")&&tn(n.slice(0,-1)),ja=n=>WH.test(n),JH=()=>!0,YH=n=>VH.test(n)&&!qH.test(n),CO=()=>!1,XH=n=>GH.test(n),QH=n=>KH.test(n),ZH=n=>!mt(n)&&!gt(n),e$=n=>yd(n,RO,CO),mt=n=>EO.test(n),Ju=n=>yd(n,TO,YH),nw=n=>yd(n,o$,tn),IE=n=>yd(n,MO,CO),t$=n=>yd(n,OO,QH),Dg=n=>yd(n,_O,XH),gt=n=>kO.test(n),Zh=n=>vd(n,TO),n$=n=>vd(n,s$),zE=n=>vd(n,MO),r$=n=>vd(n,RO),i$=n=>vd(n,OO),Pg=n=>vd(n,_O,!0),yd=(n,e,t)=>{const r=EO.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},vd=(n,e,t=!1)=>{const r=kO.exec(n);return r?r[1]?e(r[1]):t:!1},MO=n=>n==="position"||n==="percentage",OO=n=>n==="image"||n==="url",RO=n=>n==="length"||n==="size"||n==="bg-size",TO=n=>n==="length",o$=n=>n==="number",s$=n=>n==="family-name",_O=n=>n==="shadow",a$=()=>{const n=Rr("color"),e=Rr("font"),t=Rr("text"),r=Rr("font-weight"),i=Rr("tracking"),o=Rr("leading"),a=Rr("breakpoint"),c=Rr("container"),f=Rr("spacing"),p=Rr("radius"),m=Rr("shadow"),v=Rr("inset-shadow"),w=Rr("text-shadow"),x=Rr("drop-shadow"),E=Rr("blur"),C=Rr("perspective"),k=Rr("aspect"),S=Rr("ease"),R=Rr("animate"),N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],D=()=>[...T(),gt,mt],_=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto","contain","none"],z=()=>[gt,mt,f],W=()=>[Wf,"full","auto",...z()],se=()=>[Dl,"none","subgrid",gt,mt],xe=()=>["auto",{span:["full",Dl,gt,mt]},Dl,gt,mt],ye=()=>[Dl,"auto",gt,mt],Ce=()=>["auto","min","max","fr",gt,mt],Ee=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ue=()=>["start","end","center","stretch","center-safe","end-safe"],de=()=>["auto",...z()],V=()=>[Wf,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...z()],F=()=>[n,gt,mt],pe=()=>[...T(),zE,IE,{position:[gt,mt]}],he=()=>["no-repeat",{repeat:["","x","y","space","round"]}],H=()=>["auto","cover","contain",r$,e$,{size:[gt,mt]}],ce=()=>[tw,Zh,Ju],Te=()=>["","none","full",p,gt,mt],$e=()=>["",tn,Zh,Ju],Ve=()=>["solid","dashed","dotted","double"],Qe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ut=()=>[tn,tw,zE,IE],ke=()=>["","none",E,gt,mt],Be=()=>["none",tn,gt,mt],qe=()=>["none",tn,gt,mt],Y=()=>[tn,gt,mt],U=()=>[Wf,"full",...z()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ja],breakpoint:[ja],color:[JH],container:[ja],"drop-shadow":[ja],ease:["in","out","in-out"],font:[ZH],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ja],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ja],shadow:[ja],spacing:["px",tn],text:[ja],"text-shadow":[ja],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Wf,mt,gt,k]}],container:["container"],columns:[{columns:[tn,mt,gt,c]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:D()}],overflow:[{overflow:_()}],"overflow-x":[{"overflow-x":_()}],"overflow-y":[{"overflow-y":_()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:W()}],"inset-x":[{"inset-x":W()}],"inset-y":[{"inset-y":W()}],start:[{start:W()}],end:[{end:W()}],top:[{top:W()}],right:[{right:W()}],bottom:[{bottom:W()}],left:[{left:W()}],visibility:["visible","invisible","collapse"],z:[{z:[Dl,"auto",gt,mt]}],basis:[{basis:[Wf,"full","auto",c,...z()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[tn,Wf,"auto","initial","none",mt]}],grow:[{grow:["",tn,gt,mt]}],shrink:[{shrink:["",tn,gt,mt]}],order:[{order:[Dl,"first","last","none",gt,mt]}],"grid-cols":[{"grid-cols":se()}],"col-start-end":[{col:xe()}],"col-start":[{"col-start":ye()}],"col-end":[{"col-end":ye()}],"grid-rows":[{"grid-rows":se()}],"row-start-end":[{row:xe()}],"row-start":[{"row-start":ye()}],"row-end":[{"row-end":ye()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Ce()}],"auto-rows":[{"auto-rows":Ce()}],gap:[{gap:z()}],"gap-x":[{"gap-x":z()}],"gap-y":[{"gap-y":z()}],"justify-content":[{justify:[...Ee(),"normal"]}],"justify-items":[{"justify-items":[...ue(),"normal"]}],"justify-self":[{"justify-self":["auto",...ue()]}],"align-content":[{content:["normal",...Ee()]}],"align-items":[{items:[...ue(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ue(),{baseline:["","last"]}]}],"place-content":[{"place-content":Ee()}],"place-items":[{"place-items":[...ue(),"baseline"]}],"place-self":[{"place-self":["auto",...ue()]}],p:[{p:z()}],px:[{px:z()}],py:[{py:z()}],ps:[{ps:z()}],pe:[{pe:z()}],pt:[{pt:z()}],pr:[{pr:z()}],pb:[{pb:z()}],pl:[{pl:z()}],m:[{m:de()}],mx:[{mx:de()}],my:[{my:de()}],ms:[{ms:de()}],me:[{me:de()}],mt:[{mt:de()}],mr:[{mr:de()}],mb:[{mb:de()}],ml:[{ml:de()}],"space-x":[{"space-x":z()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":z()}],"space-y-reverse":["space-y-reverse"],size:[{size:V()}],w:[{w:[c,"screen",...V()]}],"min-w":[{"min-w":[c,"screen","none",...V()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[a]},...V()]}],h:[{h:["screen","lh",...V()]}],"min-h":[{"min-h":["screen","lh","none",...V()]}],"max-h":[{"max-h":["screen","lh",...V()]}],"font-size":[{text:["base",t,Zh,Ju]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,gt,nw]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",tw,mt]}],"font-family":[{font:[n$,mt,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,gt,mt]}],"line-clamp":[{"line-clamp":[tn,"none",gt,nw]}],leading:[{leading:[o,...z()]}],"list-image":[{"list-image":["none",gt,mt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",gt,mt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:F()}],"text-color":[{text:F()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ve(),"wavy"]}],"text-decoration-thickness":[{decoration:[tn,"from-font","auto",gt,Ju]}],"text-decoration-color":[{decoration:F()}],"underline-offset":[{"underline-offset":[tn,"auto",gt,mt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",gt,mt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",gt,mt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:pe()}],"bg-repeat":[{bg:he()}],"bg-size":[{bg:H()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Dl,gt,mt],radial:["",gt,mt],conic:[Dl,gt,mt]},i$,t$]}],"bg-color":[{bg:F()}],"gradient-from-pos":[{from:ce()}],"gradient-via-pos":[{via:ce()}],"gradient-to-pos":[{to:ce()}],"gradient-from":[{from:F()}],"gradient-via":[{via:F()}],"gradient-to":[{to:F()}],rounded:[{rounded:Te()}],"rounded-s":[{"rounded-s":Te()}],"rounded-e":[{"rounded-e":Te()}],"rounded-t":[{"rounded-t":Te()}],"rounded-r":[{"rounded-r":Te()}],"rounded-b":[{"rounded-b":Te()}],"rounded-l":[{"rounded-l":Te()}],"rounded-ss":[{"rounded-ss":Te()}],"rounded-se":[{"rounded-se":Te()}],"rounded-ee":[{"rounded-ee":Te()}],"rounded-es":[{"rounded-es":Te()}],"rounded-tl":[{"rounded-tl":Te()}],"rounded-tr":[{"rounded-tr":Te()}],"rounded-br":[{"rounded-br":Te()}],"rounded-bl":[{"rounded-bl":Te()}],"border-w":[{border:$e()}],"border-w-x":[{"border-x":$e()}],"border-w-y":[{"border-y":$e()}],"border-w-s":[{"border-s":$e()}],"border-w-e":[{"border-e":$e()}],"border-w-t":[{"border-t":$e()}],"border-w-r":[{"border-r":$e()}],"border-w-b":[{"border-b":$e()}],"border-w-l":[{"border-l":$e()}],"divide-x":[{"divide-x":$e()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":$e()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ve(),"hidden","none"]}],"divide-style":[{divide:[...Ve(),"hidden","none"]}],"border-color":[{border:F()}],"border-color-x":[{"border-x":F()}],"border-color-y":[{"border-y":F()}],"border-color-s":[{"border-s":F()}],"border-color-e":[{"border-e":F()}],"border-color-t":[{"border-t":F()}],"border-color-r":[{"border-r":F()}],"border-color-b":[{"border-b":F()}],"border-color-l":[{"border-l":F()}],"divide-color":[{divide:F()}],"outline-style":[{outline:[...Ve(),"none","hidden"]}],"outline-offset":[{"outline-offset":[tn,gt,mt]}],"outline-w":[{outline:["",tn,Zh,Ju]}],"outline-color":[{outline:F()}],shadow:[{shadow:["","none",m,Pg,Dg]}],"shadow-color":[{shadow:F()}],"inset-shadow":[{"inset-shadow":["none",v,Pg,Dg]}],"inset-shadow-color":[{"inset-shadow":F()}],"ring-w":[{ring:$e()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:F()}],"ring-offset-w":[{"ring-offset":[tn,Ju]}],"ring-offset-color":[{"ring-offset":F()}],"inset-ring-w":[{"inset-ring":$e()}],"inset-ring-color":[{"inset-ring":F()}],"text-shadow":[{"text-shadow":["none",w,Pg,Dg]}],"text-shadow-color":[{"text-shadow":F()}],opacity:[{opacity:[tn,gt,mt]}],"mix-blend":[{"mix-blend":[...Qe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Qe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[tn]}],"mask-image-linear-from-pos":[{"mask-linear-from":ut()}],"mask-image-linear-to-pos":[{"mask-linear-to":ut()}],"mask-image-linear-from-color":[{"mask-linear-from":F()}],"mask-image-linear-to-color":[{"mask-linear-to":F()}],"mask-image-t-from-pos":[{"mask-t-from":ut()}],"mask-image-t-to-pos":[{"mask-t-to":ut()}],"mask-image-t-from-color":[{"mask-t-from":F()}],"mask-image-t-to-color":[{"mask-t-to":F()}],"mask-image-r-from-pos":[{"mask-r-from":ut()}],"mask-image-r-to-pos":[{"mask-r-to":ut()}],"mask-image-r-from-color":[{"mask-r-from":F()}],"mask-image-r-to-color":[{"mask-r-to":F()}],"mask-image-b-from-pos":[{"mask-b-from":ut()}],"mask-image-b-to-pos":[{"mask-b-to":ut()}],"mask-image-b-from-color":[{"mask-b-from":F()}],"mask-image-b-to-color":[{"mask-b-to":F()}],"mask-image-l-from-pos":[{"mask-l-from":ut()}],"mask-image-l-to-pos":[{"mask-l-to":ut()}],"mask-image-l-from-color":[{"mask-l-from":F()}],"mask-image-l-to-color":[{"mask-l-to":F()}],"mask-image-x-from-pos":[{"mask-x-from":ut()}],"mask-image-x-to-pos":[{"mask-x-to":ut()}],"mask-image-x-from-color":[{"mask-x-from":F()}],"mask-image-x-to-color":[{"mask-x-to":F()}],"mask-image-y-from-pos":[{"mask-y-from":ut()}],"mask-image-y-to-pos":[{"mask-y-to":ut()}],"mask-image-y-from-color":[{"mask-y-from":F()}],"mask-image-y-to-color":[{"mask-y-to":F()}],"mask-image-radial":[{"mask-radial":[gt,mt]}],"mask-image-radial-from-pos":[{"mask-radial-from":ut()}],"mask-image-radial-to-pos":[{"mask-radial-to":ut()}],"mask-image-radial-from-color":[{"mask-radial-from":F()}],"mask-image-radial-to-color":[{"mask-radial-to":F()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":T()}],"mask-image-conic-pos":[{"mask-conic":[tn]}],"mask-image-conic-from-pos":[{"mask-conic-from":ut()}],"mask-image-conic-to-pos":[{"mask-conic-to":ut()}],"mask-image-conic-from-color":[{"mask-conic-from":F()}],"mask-image-conic-to-color":[{"mask-conic-to":F()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:pe()}],"mask-repeat":[{mask:he()}],"mask-size":[{mask:H()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",gt,mt]}],filter:[{filter:["","none",gt,mt]}],blur:[{blur:ke()}],brightness:[{brightness:[tn,gt,mt]}],contrast:[{contrast:[tn,gt,mt]}],"drop-shadow":[{"drop-shadow":["","none",x,Pg,Dg]}],"drop-shadow-color":[{"drop-shadow":F()}],grayscale:[{grayscale:["",tn,gt,mt]}],"hue-rotate":[{"hue-rotate":[tn,gt,mt]}],invert:[{invert:["",tn,gt,mt]}],saturate:[{saturate:[tn,gt,mt]}],sepia:[{sepia:["",tn,gt,mt]}],"backdrop-filter":[{"backdrop-filter":["","none",gt,mt]}],"backdrop-blur":[{"backdrop-blur":ke()}],"backdrop-brightness":[{"backdrop-brightness":[tn,gt,mt]}],"backdrop-contrast":[{"backdrop-contrast":[tn,gt,mt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",tn,gt,mt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[tn,gt,mt]}],"backdrop-invert":[{"backdrop-invert":["",tn,gt,mt]}],"backdrop-opacity":[{"backdrop-opacity":[tn,gt,mt]}],"backdrop-saturate":[{"backdrop-saturate":[tn,gt,mt]}],"backdrop-sepia":[{"backdrop-sepia":["",tn,gt,mt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":z()}],"border-spacing-x":[{"border-spacing-x":z()}],"border-spacing-y":[{"border-spacing-y":z()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",gt,mt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[tn,"initial",gt,mt]}],ease:[{ease:["linear","initial",S,gt,mt]}],delay:[{delay:[tn,gt,mt]}],animate:[{animate:["none",R,gt,mt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,gt,mt]}],"perspective-origin":[{"perspective-origin":D()}],rotate:[{rotate:Be()}],"rotate-x":[{"rotate-x":Be()}],"rotate-y":[{"rotate-y":Be()}],"rotate-z":[{"rotate-z":Be()}],scale:[{scale:qe()}],"scale-x":[{"scale-x":qe()}],"scale-y":[{"scale-y":qe()}],"scale-z":[{"scale-z":qe()}],"scale-3d":["scale-3d"],skew:[{skew:Y()}],"skew-x":[{"skew-x":Y()}],"skew-y":[{"skew-y":Y()}],transform:[{transform:[gt,mt,"","none","gpu","cpu"]}],"transform-origin":[{origin:D()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:U()}],"translate-x":[{"translate-x":U()}],"translate-y":[{"translate-y":U()}],"translate-z":[{"translate-z":U()}],"translate-none":["translate-none"],accent:[{accent:F()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:F()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",gt,mt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",gt,mt]}],fill:[{fill:["none",...F()]}],"stroke-w":[{stroke:[tn,Zh,Ju,nw]}],stroke:[{stroke:["none",...F()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},l$=$H(a$);function u$(...n){return l$(xO(n))}const c$=RH("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function vo({className:n,variant:e,size:t,asChild:r=!1,...i}){const o=r?SH:"button";return P.jsx(o,{"data-slot":"button",className:u$(c$({variant:e,size:t,className:n})),...i})}const f$=({onClose:n,onImageAdd:e})=>{const[t,r]=K.useState(""),[i,o]=K.useState(""),[a,c]=K.useState(!1),[f,p]=K.useState(0),m=K.useRef(null),v=()=>{if(!t){alert("Please enter a URL.");return}e({src:t,alt:i}),n()},w=async E=>{var R;const C=(R=E.target.files)==null?void 0:R[0];if(!C)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(C.type)){alert("지원하지 않는 이미지 형식입니다.");return}const S=10*1024*1024;if(C.size>S){alert("이미지 파일 크기는 10MB를 초과할 수 없습니다.");return}c(!0),p(0);try{const N=new FormData;N.append("file",C);const T=new XMLHttpRequest;T.upload.addEventListener("progress",D=>{if(D.lengthComputable){const _=Math.round(D.loaded/D.total*100);p(_)}}),T.addEventListener("load",()=>{if(T.status===200)try{console.log("Raw response:",T.responseText);const D=T.responseText;if(console.log("Image URL:",D),D&&D.trim()!==""&&D!=="[]"){const _=`http://localhost:8080${D}`;console.log("Full image URL:",_),e({src:_,alt:C.name}),n()}else console.error("Empty or invalid response from server:",D),alert("이미지 업로드 중 오류가 발생했습니다. 서버에서 유효한 URL을 반환하지 않았습니다.")}catch(D){console.error("응답 파싱 오류:",D),console.error("Response text:",T.responseText),alert("이미지 업로드 중 오류가 발생했습니다.")}else console.error("업로드 실패:",T.status,T.responseText),alert("이미지 업로드에 실패했습니다.");c(!1),p(0)}),T.addEventListener("error",()=>{console.error("업로드 오류"),alert("이미지 업로드 중 오류가 발생했습니다."),c(!1),p(0)}),T.open("POST","/editor/api/upload"),T.send(N)}catch(N){console.error("파일 처리 오류:",N),alert("이미지 처리 중 오류가 발생했습니다."),c(!1),p(0)}},x=()=>{var E;(E=m.current)==null||E.click()};return P.jsx("div",{className:"modal-overlay",children:P.jsxs("div",{className:"modal-content",onClick:E=>E.stopPropagation(),children:[P.jsx("div",{className:"modal-header",children:P.jsx("h2",{children:"Add Image"})}),P.jsx("div",{className:"modal-body",children:P.jsxs("div",{className:"upload-tabs",children:[P.jsxs("div",{className:"modal-section",children:[P.jsx("label",{htmlFor:"image-url",children:"Embed from URL"}),P.jsxs("div",{className:"image-url-input",children:[P.jsx(Fx,{className:"input-icon"}),P.jsx("input",{id:"image-url",type:"text",value:t,onChange:E=>r(E.target.value),placeholder:"https://example.com/image.jpg"})]}),P.jsx("label",{htmlFor:"alt-text",children:"Alt Text"}),P.jsx("input",{id:"alt-text",type:"text",value:i,onChange:E=>o(E.target.value),placeholder:"Description of the image"}),P.jsxs("div",{className:"modal-actions",style:{display:"flex",justifyContent:"flex-end",gap:"10px"},children:[P.jsx(vo,{onClick:v,children:"Add Image"}),P.jsx(vo,{variant:"outline",onClick:n,children:"Cancel"})]})]}),P.jsx("div",{className:"modal-divider",children:"OR"}),P.jsxs("div",{className:"modal-section",children:[P.jsx("button",{className:"upload-button",onClick:x,disabled:a,children:a?"Uploading...":"Upload from Computer"}),a&&P.jsxs("div",{className:"upload-progress",children:[P.jsx("div",{className:"progress-bar",children:P.jsx("div",{className:"progress-fill",style:{width:`${f}%`}})}),P.jsxs("span",{children:[f,"%"]})]}),P.jsx("input",{type:"file",ref:m,onChange:w,accept:"image/*",style:{display:"none"}})]})]})})]})})},rw=[{name:"Noto Sans KR",family:"'Noto Sans KR', sans-serif"},{name:"Nanum Gothic",family:"'Nanum Gothic', sans-serif"},{name:"Black Han Sans",family:"'Black Han Sans', sans-serif"},{name:"Roboto",family:"'Roboto', sans-serif"},{name:"Montserrat",family:"'Montserrat', sans-serif"},{name:"Playfair Display",family:"'Playfair Display', serif"},{name:"Source Code Pro",family:"'Source Code Pro', monospace"}],BE=n=>{const e=`google-font-${n.replace(/\s/g,"-")}`;if(document.getElementById(e))return;const t=document.createElement("link");t.id=e,t.href=`https://fonts.googleapis.com/css2?family=${n.replace(/\s/g,"+")}:wght@400;700&display=swap`,t.rel="stylesheet",document.head.appendChild(t)},d$=({onClose:n,currentStyles:e,onStyleChange:t})=>{const r=(i,o)=>{if(t({...e,[i]:o}),i==="fontFamily"){const a=rw.find(c=>c.family===o);a&&BE(a.name)}};return K.useEffect(()=>{const i=rw.find(o=>o.family===e.fontFamily);i&&BE(i.name)},[]),K.useEffect(()=>{const i=o=>{o.key==="Escape"&&n()};return document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i)}},[n]),P.jsx("div",{className:"modal-overlay",children:P.jsxs("div",{className:"modal-content",onClick:i=>i.stopPropagation(),children:[P.jsx("h3",{children:"Editor Styles"}),P.jsxs("div",{className:"modal-section",children:[P.jsx("label",{htmlFor:"bg-color-picker",children:"Background Color"}),P.jsx("input",{id:"bg-color-picker",type:"color",value:e.backgroundColor||"#ffffff",onChange:i=>r("backgroundColor",i.target.value)})]}),P.jsxs("div",{className:"modal-section",children:[P.jsx("label",{htmlFor:"font-family-select",children:"Font"}),P.jsxs("select",{id:"font-family-select",value:e.fontFamily||"sans-serif",onChange:i=>r("fontFamily",i.target.value),children:[P.jsx("option",{value:"sans-serif",children:"System Sans-serif"}),P.jsx("option",{value:"serif",children:"System Serif"}),P.jsx("option",{value:"monospace",children:"System Monospace"}),P.jsx("optgroup",{label:"Google Fonts",children:rw.map(i=>P.jsx("option",{value:i.family,style:{fontFamily:i.family},children:i.name},i.name))})]})]}),P.jsxs("div",{className:"modal-footer",children:[P.jsx("button",{className:"close-button",onClick:n,children:"완료"}),P.jsx("small",{style:{color:"#666",marginTop:"8px",display:"block"},children:"ESC 키를 누르거나 완료 버튼을 클릭하여 닫기"})]})]})})},h$=({onGridCreate:n,onClose:e})=>{const[t,r]=K.useState([]),[i,o]=K.useState("2-cols"),[a,c]=K.useState(!1),[f,p]=K.useState(""),m=dr.useRef(null),v=async E=>{const C=Array.from(E.target.files);if(C.length===0)return;c(!0),p("");const k=[];for(const S of C){const R=new FormData;R.append("file",S);try{const N=await fetch("/editor/api/upload",{method:"POST",body:R});if(!N.ok)throw new Error(`Server responded with ${N.status}`);const D=`http://localhost:8080${await N.text()}`;k.push({src:D,alt:S.name})}catch(N){console.error("Error uploading file:",N),p(`Failed to upload ${S.name}. Please try again.`),c(!1);return}}r(S=>[...S,...k]),c(!1)},w=()=>{if(t.length===0){p("Please upload at least one image.");return}const E={layout:`grid-${i}`,items:t.map(C=>({src:C.src,alt:C.alt}))};n(E),e()},x=()=>m.current.click();return P.jsx("div",{className:"modal-overlay",children:P.jsxs("div",{className:"modal-content photo-grid-modal",children:[P.jsx("h2",{children:"Create Photo Grid"}),P.jsxs("div",{className:"form-group",children:[P.jsx("label",{children:"Upload Images"}),P.jsx("input",{type:"file",multiple:!0,onChange:v,accept:"image/*",ref:m,style:{display:"none"}}),P.jsx(vo,{variant:"outline",onClick:x,children:"Choose Files"}),a&&P.jsx("p",{style:{marginTop:"0.5rem"},children:"Uploading..."}),f&&P.jsx("p",{className:"error-message",style:{marginTop:"0.5rem"},children:f})]}),P.jsx("div",{className:"image-preview",children:t.map((E,C)=>P.jsx("div",{className:"preview-item",children:P.jsx("img",{src:E.src,alt:E.alt})},C))}),P.jsxs("div",{className:"form-group",children:[P.jsx("label",{children:"Layout"}),P.jsxs("select",{value:i,onChange:E=>o(E.target.value),children:[P.jsx("option",{value:"2-cols",children:"2 Columns"}),P.jsx("option",{value:"3-cols",children:"3 Columns"}),P.jsx("option",{value:"4-cols",children:"4 Columns"}),P.jsx("option",{value:"1-2-cols",children:"1-2 Columns"}),P.jsx("option",{value:"2-1-cols",children:"2-1 Columns"})]})]}),P.jsxs("div",{className:"modal-actions",style:{display:"flex",justifyContent:"flex-end",gap:"10px"},children:[P.jsx(vo,{onClick:w,disabled:a||t.length===0,children:"Create Grid"}),P.jsx(vo,{variant:"outline",onClick:e,children:"Cancel"})]})]})})},p$=[{name:"Noto Sans KR",family:"'Noto Sans KR', sans-serif"},{name:"Nanum Gothic",family:"'Nanum Gothic', sans-serif"},{name:"Black Han Sans",family:"'Black Han Sans', sans-serif"},{name:"Roboto",family:"'Roboto', sans-serif"},{name:"Montserrat",family:"'Montserrat', sans-serif"},{name:"Playfair Display",family:"'Playfair Display', serif"},{name:"Source Code Pro",family:"'Source Code Pro', monospace"}],m$=n=>{const e=`google-font-${n.replace(/\s/g,"-")}`;if(document.getElementById(e))return;const t=document.createElement("link");t.id=e,t.href=`https://fonts.googleapis.com/css2?family=${n.replace(/\s/g,"+")}:wght@400;700&display=swap`,t.rel="stylesheet",document.head.appendChild(t)},g$=({isOpen:n,onClose:e,editorContent:t,styles:r})=>{const i=K.useRef(null);if(K.useEffect(()=>{if(n&&i.current){if(r&&r.fontFamily){const f=p$.find(p=>p.family===r.fontFamily);f&&(console.log("Loading Google Font for preview modal:",f.name),m$(f.name))}i.current.querySelectorAll('[data-type="photo-grid"]').forEach(f=>{try{const p=JSON.parse(f.getAttribute("data-layout")||"[]"),m=JSON.parse(f.getAttribute("data-items")||"[]");if(m.length>0){const v=Math.max(...p.map(x=>x.x+x.w),4),w=Math.max(...p.map(x=>x.y+x.h),4);f.style.position="relative",f.style.width=`${v*50}px`,f.style.height=`${w*50}px`,f.style.margin="1rem auto",f.innerHTML="",m.forEach((x,E)=>{const C=p.find(R=>R.i===x.id)||{x:0,y:0,w:2,h:2},k=document.createElement("div");k.className="preview-grid-item",k.style.cssText=`
                                position: absolute;
                                left: ${C.x*50}px;
                                top: ${C.y*50}px;
                                width: ${C.w*50}px;
                                height: ${C.h*50}px;
                                border-radius: 8px;
                                overflow: hidden;
                                box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12);
                            `;const S=document.createElement("img");S.src=x.src,S.alt=`Grid image ${E+1}`,S.style.cssText="width: 100%; height: 100%; object-fit: cover;",k.appendChild(S),f.appendChild(k)})}}catch(p){console.warn("Error rendering photo grid in preview:",p)}})}},[n,t]),!n)return null;const o=c=>{c.target===c.currentTarget&&e()},a=c=>{c.stopPropagation()};return P.jsx("div",{className:"preview-modal-overlay",onClick:o,children:P.jsxs("div",{className:"preview-modal-content",onClick:a,children:[P.jsxs("div",{className:"preview-modal-header",children:[P.jsx("h2",{children:"미리보기"}),P.jsx("button",{className:"preview-close-button",onClick:e,children:P.jsx(Uj,{size:20})})]}),P.jsx("div",{className:"preview-modal-body",style:r,children:P.jsx("div",{ref:i,className:"preview-content",dangerouslySetInnerHTML:{__html:t}})}),P.jsx("div",{className:"preview-modal-footer",onClick:e,children:P.jsx("p",{children:"클릭하여 닫기"})})]})})},y$=({onClose:n,onEmbed:e})=>{const[t,r]=K.useState(""),i=()=>{t&&(e(t),n())},o=a=>{a.key==="Enter"&&i()};return P.jsx("div",{className:"modal-overlay",onClick:n,children:P.jsxs("div",{className:"modal-content",onClick:a=>a.stopPropagation(),children:[P.jsx("h3",{children:"Embed Media"}),P.jsxs("div",{className:"modal-section",children:[P.jsx("label",{htmlFor:"embed-url",children:"YouTube, Vimeo, or other media URL"}),P.jsxs("div",{className:"url-input-group",children:[P.jsx("input",{id:"embed-url",type:"url",placeholder:"https://www.youtube.com/watch?v=...",value:t,onChange:a=>r(a.target.value),onKeyDown:o,autoFocus:!0}),P.jsx(vo,{onClick:i,children:"Embed"})]})]}),P.jsx(vo,{className:"close-button",style:{marginTop:"1rem"},onClick:n,children:"Close"})]})})},Vf={아트워크:["포토그라피","일러스트레이션","스케치","코믹스"],그래픽디자인:["타이포그라피","뮤직패키징","로고","그래픽디자인스","편집"],캐릭터:["카툰","애니메","팬아트","3D"],Java:["통신","알고리즘","Thread","etc"],프론트엔드:["HTML","CSS","Javascript","etc"],Python:["통신","알고리즘","Thread","etc"]},v$=["1일","3일","7일"],w$=({onClose:n,settings:e,onSave:t})=>{const[r,i]=K.useState(e),[o,a]=K.useState(""),[c,f]=K.useState(""),[p,m]=K.useState(""),[v,w]=K.useState(""),[x,E]=K.useState(""),[C,k]=K.useState(""),[S,R]=K.useState({});K.useEffect(()=>{const ue=Object.keys(Vf).find(de=>r.tags.includes(de));ue&&a(ue)},[r.tags]),K.useEffect(()=>{console.log("SettingsModal 초기화 - settings:",e),e.saleType&&f(e.saleType),e.salePrice&&m(e.salePrice),e.auctionDuration&&w(e.auctionDuration),e.startBidPrice&&E(e.startBidPrice),e.buyNowPrice&&k(e.buyNowPrice)},[e]);const N=()=>{var V;const ue={};(V=r.title)!=null&&V.trim()||(ue.title="프로젝트 제목은 필수입니다."),o||(ue.primaryCategory="1차 카테고리를 선택해주세요.");const de=r.tags.some(F=>{var pe;return o&&((pe=Vf[o])==null?void 0:pe.includes(F))});return de||(ue.secondaryCategory="세부 카테고리를 선택해주세요."),de&&!c&&(ue.saleType="판매 방식을 선택해주세요."),c==="sale"&&(!p||parseFloat(p)<=0)&&(ue.salePrice="희망판매가를 입력해주세요."),c==="auction"&&(v||(ue.auctionDuration="경매 기간을 선택해주세요."),(!x||parseFloat(x)<=0)&&(ue.startBidPrice="시작입찰가를 입력해주세요."),(!C||parseFloat(C)<=0)&&(ue.buyNowPrice="즉시입찰가를 입력해주세요."),x&&C&&parseFloat(C)<=parseFloat(x)&&(ue.buyNowPrice="즉시입찰가는 시작입찰가보다 높아야 합니다.")),R(ue),Object.keys(ue).length===0},T=ue=>{i(de=>({...de,title:ue.target.value})),S.title&&R(de=>({...de,title:""}))},D=ue=>{const de=ue.target.files[0];if(de){const V=new FileReader;V.onloadend=()=>{i(F=>({...F,coverImage:V.result}))},V.readAsDataURL(de)}},_=ue=>{a(ue),i(de=>({...de,tags:[ue]})),S.primaryCategory&&R(de=>({...de,primaryCategory:""}))},L=ue=>{const de=r.tags.filter(F=>!Object.keys(Vf).includes(F)),V=de.indexOf(ue);V>-1?de.splice(V,1):de.push(ue),i(F=>({...F,tags:[o,...de]})),S.secondaryCategory&&R(F=>({...F,secondaryCategory:""}))},z=ue=>{f(ue),ue==="sale"?(w(""),E(""),k("")):ue==="auction"&&m(""),S.saleType&&R(de=>({...de,saleType:""}))},W=ue=>{const de=ue.target.value;m(de),S.salePrice&&R(V=>({...V,salePrice:""}))},se=ue=>{w(ue),S.auctionDuration&&R(de=>({...de,auctionDuration:""}))},xe=ue=>{const de=ue.target.value;E(de),de&&C&&parseFloat(de)>parseFloat(C)&&k(""),S.startBidPrice&&R(V=>({...V,startBidPrice:""})),S.buyNowPrice&&R(V=>({...V,buyNowPrice:""}))},ye=ue=>{const de=ue.target.value;k(de),S.buyNowPrice&&R(V=>({...V,buyNowPrice:""}))},Ce=()=>{if(N()){const ue={...r,saleType:c,salePrice:c==="sale"?p:"",auctionDuration:c==="auction"?v:"",startBidPrice:c==="auction"?x:"",buyNowPrice:c==="auction"?C:""};t(ue)}},Ee=r.tags.some(ue=>{var de;return o&&((de=Vf[o])==null?void 0:de.includes(ue))});return P.jsx("div",{className:"modal-overlay",onClick:n,children:P.jsxs("div",{className:"settings-modal-content",onClick:ue=>ue.stopPropagation(),children:[P.jsx("div",{className:"settings-modal-header",children:P.jsx("h2",{children:"프로젝트 설정"})}),P.jsx("div",{className:"settings-modal-body",children:P.jsxs("div",{className:"settings-layout",children:[P.jsx("div",{className:"settings-left",children:P.jsxs("div",{className:"cover-image-section",children:[P.jsx("label",{children:"프로젝트 표지"}),P.jsxs("div",{className:"cover-image-container",children:[r.coverImage?P.jsx("img",{src:r.coverImage,alt:"프로젝트 표지"}):P.jsx("div",{className:"cover-image-placeholder",children:P.jsx("span",{children:"표지 이미지를 선택해주세요"})}),P.jsx("input",{type:"file",id:"cover-image",accept:"image/*",onChange:D,className:"cover-image-input"}),P.jsxs("label",{htmlFor:"cover-image",className:"cover-image-button",children:["이미지 ",r.coverImage?"변경":"선택"]})]})]})}),P.jsxs("div",{className:"settings-right",children:[P.jsxs("div",{className:"settings-section",children:[P.jsx("label",{htmlFor:"project-title",children:"프로젝트 제목 (필수)"}),P.jsx("input",{type:"text",id:"project-title",value:r.title,onChange:T,placeholder:"프로젝트의 제목을 입력하세요",className:S.title?"error":""}),S.title&&P.jsx("span",{className:"error-message",children:S.title})]}),P.jsxs("div",{className:"settings-section",children:[P.jsx("label",{children:"1차 카테고리"}),P.jsx("div",{className:"category-group primary-categories",children:Object.keys(Vf).map(ue=>P.jsx("button",{className:`category-button ${o===ue?"active":""}`,onClick:()=>_(ue),children:ue},ue))}),S.primaryCategory&&P.jsx("span",{className:"error-message",children:S.primaryCategory}),o&&P.jsxs("div",{className:"secondary-categories-container",children:[P.jsx("label",{children:"세부 카테고리"}),P.jsx("div",{className:"category-group secondary-categories",children:Vf[o].map(ue=>P.jsx("button",{className:`category-button ${r.tags.includes(ue)?"active":""}`,onClick:()=>L(ue),children:ue},ue))}),S.secondaryCategory&&P.jsx("span",{className:"error-message",children:S.secondaryCategory})]})]}),Ee&&P.jsxs("div",{className:"settings-section",children:[P.jsx("label",{children:"판매 방식"}),P.jsxs("div",{className:"sale-type-group",children:[P.jsx("button",{className:`sale-type-button ${c==="sale"?"active":""}`,onClick:()=>z("sale"),children:"판매"}),P.jsx("button",{className:`sale-type-button ${c==="auction"?"active":""}`,onClick:()=>z("auction"),children:"경매"})]}),S.saleType&&P.jsx("span",{className:"error-message",children:S.saleType}),c==="sale"&&P.jsxs("div",{className:"price-input-section",children:[P.jsx("label",{htmlFor:"sale-price",children:"희망판매가 (원)"}),P.jsx("input",{type:"number",id:"sale-price",value:p,onChange:W,placeholder:"희망판매가를 입력하세요",min:"0",className:S.salePrice?"error":""}),S.salePrice&&P.jsx("span",{className:"error-message",children:S.salePrice})]}),c==="auction"&&P.jsxs("div",{className:"auction-settings",children:[P.jsxs("div",{className:"auction-duration-section",children:[P.jsx("label",{children:"경매 기간"}),P.jsx("div",{className:"duration-group",children:v$.map(ue=>P.jsx("button",{className:`duration-button ${v===ue?"active":""}`,onClick:()=>se(ue),children:ue},ue))}),S.auctionDuration&&P.jsx("span",{className:"error-message",children:S.auctionDuration})]}),P.jsxs("div",{className:"price-input-section",children:[P.jsx("label",{htmlFor:"start-bid-price",children:"시작입찰가 (원)"}),P.jsx("input",{type:"number",id:"start-bid-price",value:x,onChange:xe,placeholder:"시작입찰가를 입력하세요",min:"0",className:S.startBidPrice?"error":""}),S.startBidPrice&&P.jsx("span",{className:"error-message",children:S.startBidPrice})]}),P.jsxs("div",{className:"price-input-section",children:[P.jsx("label",{htmlFor:"buy-now-price",children:"즉시입찰가 (원)"}),P.jsx("input",{type:"number",id:"buy-now-price",value:C,onChange:ye,placeholder:"즉시입찰가는 시작입찰가보다 높아야 합니다.",min:"0",className:S.buyNowPrice?"error":""}),S.buyNowPrice&&P.jsx("span",{className:"error-message",children:S.buyNowPrice})]})]})]})]})]})}),P.jsxs("div",{className:"settings-modal-footer",children:[P.jsx("button",{className:"cancel-button",onClick:n,children:"취소"}),P.jsx("button",{className:"save-button",onClick:Ce,children:"프로젝트 업데이트"})]})]})})},x$=({onClose:n,onVideoAdd:e})=>{const[t,r]=K.useState(""),[i,o]=K.useState(!1),[a,c]=K.useState(0),f=K.useRef(null),p=()=>{if(!t){alert("Please enter a video URL.");return}e({src:t}),n()},m=async w=>{const x=w.target.files[0];if(!x)return;const E=100*1024*1024;if(x.size>E){alert("비디오 파일 크기는 100MB를 초과할 수 없습니다.");return}if(!x.type.startsWith("video/")){alert("비디오 파일만 업로드 가능합니다.");return}o(!0),c(0);try{const C=new FormData;C.append("file",x);const k=new XMLHttpRequest;k.upload.addEventListener("progress",S=>{if(S.lengthComputable){const R=Math.round(S.loaded/S.total*100);c(R)}}),k.addEventListener("load",()=>{if(k.status===200)try{console.log("Raw response:",k.responseText),console.log("Response type:",typeof k.responseText),console.log("Response length:",k.responseText.length);const S=k.responseText;if(console.log("Video URL:",S),console.log("Video URL type:",typeof S),console.log("Video URL length:",S.length),S&&S.trim()!==""&&S!=="[]"){console.log("Calling onVideoAdd with:",{src:S});const R=`http://localhost:8080${S}`;console.log("Full video URL:",R),e({src:R}),n()}else console.error("Empty or invalid response from server:",S),alert("비디오 업로드 중 오류가 발생했습니다. 서버에서 유효한 URL을 반환하지 않았습니다.")}catch(S){console.error("응답 파싱 오류:",S),console.error("Response text:",k.responseText),alert("비디오 업로드 중 오류가 발생했습니다.")}else console.error("업로드 실패:",k.status,k.responseText),alert("비디오 업로드에 실패했습니다.");o(!1),c(0)}),k.addEventListener("error",()=>{console.error("업로드 오류"),alert("비디오 업로드 중 오류가 발생했습니다."),o(!1),c(0)}),k.open("POST","/editor/api/upload"),k.send(C)}catch(C){console.error("파일 처리 오류:",C),alert("비디오 처리 중 오류가 발생했습니다."),o(!1),c(0)}},v=()=>{var w;(w=f.current)==null||w.click()};return P.jsx("div",{className:"modal-overlay",onClick:n,children:P.jsxs("div",{className:"modal-content",onClick:w=>w.stopPropagation(),children:[P.jsx("h3",{children:"Upload Video"}),P.jsxs("div",{className:"modal-section",children:[P.jsx("label",{htmlFor:"video-url",children:"Embed from URL"}),P.jsx("input",{id:"video-url",type:"text",value:t,onChange:w=>r(w.target.value),placeholder:"https://example.com/video.mp4"}),P.jsx("button",{className:"add-button",onClick:p,children:"Add Video"})]}),P.jsx("div",{className:"modal-divider",children:"OR"}),P.jsxs("div",{className:"modal-section",children:[P.jsx("button",{className:"upload-button",onClick:v,disabled:i,children:i?"Uploading...":"Upload from Computer"}),i&&P.jsxs("div",{className:"upload-progress",children:[P.jsx("div",{className:"progress-bar",children:P.jsx("div",{className:"progress-fill",style:{width:`${a}%`}})}),P.jsxs("span",{children:[a,"%"]})]}),P.jsx("input",{type:"file",ref:f,onChange:m,accept:"video/*",style:{display:"none"}})]}),P.jsxs("div",{className:"modal-actions",style:{display:"flex",justifyContent:"flex-end",gap:"10px"},children:[P.jsx(vo,{onClick:v,disabled:i,children:"Upload"}),P.jsx(vo,{variant:"outline",onClick:n,disabled:i,children:"Cancel"})]})]})})},b$=({onClose:n,onAudioAdd:e})=>{const[t,r]=K.useState(""),[i,o]=K.useState(!1),[a,c]=K.useState(0),f=K.useRef(null),p=async v=>{const w=v.target.files[0];if(!w)return;const x=50*1024*1024;if(w.size>x){alert("오디오 파일 크기는 50MB를 초과할 수 없습니다.");return}if(!w.type.startsWith("audio/")){alert("오디오 파일만 업로드 가능합니다.");return}o(!0),c(0);try{const E=new FormData;E.append("file",w);const C=new XMLHttpRequest;C.upload.addEventListener("progress",k=>{if(k.lengthComputable){const S=Math.round(k.loaded/k.total*100);c(S)}}),C.addEventListener("load",()=>{if(C.status===200)try{console.log("Raw response:",C.responseText);const k=C.responseText;if(console.log("Audio URL:",k),k&&k.trim()!==""&&k!=="[]"){const S=`http://localhost:8080${k}`;console.log("Full audio URL:",S),e({src:S}),n()}else console.error("Empty response from server"),alert("오디오 업로드 중 오류가 발생했습니다.")}catch(k){console.error("응답 파싱 오류:",k),console.error("Response text:",C.responseText),alert("오디오 업로드 중 오류가 발생했습니다.")}else console.error("업로드 실패:",C.status,C.responseText),alert("오디오 업로드에 실패했습니다.");o(!1),c(0)}),C.addEventListener("error",()=>{console.error("업로드 오류"),alert("오디오 업로드 중 오류가 발생했습니다."),o(!1),c(0)}),C.open("POST","/editor/api/upload"),C.send(E)}catch(E){console.error("파일 처리 오류:",E),alert("오디오 처리 중 오류가 발생했습니다."),o(!1),c(0)}},m=()=>{var v;(v=f.current)==null||v.click()};return P.jsx("div",{className:"modal-overlay",onClick:n,children:P.jsxs("div",{className:"modal-content",onClick:v=>v.stopPropagation(),children:[P.jsx("h3",{children:"Add an Audio"}),P.jsxs("div",{className:"modal-section",children:[P.jsx("label",{htmlFor:"audio-url",children:"Embed from URL"}),P.jsx("input",{id:"audio-url",type:"text",value:t,onChange:v=>r(v.target.value),placeholder:"https://example.com/audio.mp3"})]}),P.jsx("div",{className:"modal-divider",children:"OR"}),P.jsxs("div",{className:"modal-section",children:[P.jsx("button",{className:"upload-button",onClick:m,disabled:i,children:i?"Uploading...":"Upload from Computer"}),i&&P.jsxs("div",{className:"upload-progress",children:[P.jsx("div",{className:"progress-bar",children:P.jsx("div",{className:"progress-fill",style:{width:`${a}%`}})}),P.jsxs("span",{children:[a,"%"]})]}),P.jsx("input",{type:"file",ref:f,onChange:p,accept:"audio/*",style:{display:"none"}})]}),P.jsxs("div",{className:"modal-actions",style:{display:"flex",justifyContent:"flex-end",gap:"10px"},children:[P.jsx(vo,{onClick:m,disabled:i,children:"Upload"}),P.jsx(vo,{variant:"outline",onClick:n,disabled:i,children:"Cancel"})]})]})})},S$=({isOpen:n,currentHeight:e,onSave:t,onClose:r})=>{const[i,o]=K.useState("2"),[a,c]=K.useState("rem");if(K.useEffect(()=>{if(e){const p=parseFloat(e),m=e.replace(String(p),"")||"rem";o(p),c(m)}},[e]),!n)return null;const f=()=>{t(`${i}${a}`)};return P.jsx("div",{className:"modal-overlay",children:P.jsxs("div",{className:"modal-content",style:{width:"300px"},children:[P.jsx("h3",{children:"Adjust Spacer Height"}),P.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginTop:"1rem",marginBottom:"1.5rem"},children:[P.jsx("input",{type:"number",value:i,onChange:p=>o(p.target.value),className:"modal-input"}),P.jsxs("select",{value:a,onChange:p=>c(p.target.value),className:"modal-select",children:[P.jsx("option",{value:"px",children:"px"}),P.jsx("option",{value:"rem",children:"rem"}),P.jsx("option",{value:"%",children:"%"}),P.jsx("option",{value:"vh",children:"vh"})]})]}),P.jsxs("div",{className:"modal-actions",style:{display:"flex",justifyContent:"flex-end",gap:"10px"},children:[P.jsx(vo,{onClick:f,children:"Save"}),P.jsx(vo,{variant:"outline",onClick:r,children:"Cancel"})]})]})})},E$=n=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:n.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[n.APOS_STRING_MODE,n.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:n.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),k$=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],C$=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],M$=[...k$,...C$],O$=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),R$=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),T$=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),_$=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function N$(n){const e=n.regex,t=E$(n),r={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},i="and or not only",o=/@-?\w[\w]*(-\w+)*/,a="[a-zA-Z-][a-zA-Z0-9_-]*",c=[n.APOS_STRING_MODE,n.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[t.BLOCK_COMMENT,r,t.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+a,relevance:0},t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+R$.join("|")+")"},{begin:":(:)?("+T$.join("|")+")"}]},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+_$.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[t.BLOCK_COMMENT,t.HEXCOLOR,t.IMPORTANT,t.CSS_NUMBER_MODE,...c,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...c,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},t.FUNCTION_DISPATCH]},{begin:e.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:o},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:i,attribute:O$.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...c,t.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+M$.join("|")+")\\b"}]}}var Xf="[0-9](_*[0-9])*",Lg=`\\.(${Xf})`,Ig="[0-9a-fA-F](_*[0-9a-fA-F])*",jE={className:"number",variants:[{begin:`(\\b(${Xf})((${Lg})|\\.)?|(${Lg}))[eE][+-]?(${Xf})[fFdD]?\\b`},{begin:`\\b(${Xf})((${Lg})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${Lg})[fFdD]?\\b`},{begin:`\\b(${Xf})[fFdD]\\b`},{begin:`\\b0[xX]((${Ig})\\.?|(${Ig})?\\.(${Ig}))[pP][+-]?(${Xf})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${Ig})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function NO(n,e,t){return t===-1?"":n.replace(e,r=>NO(n,e,t-1))}function A$(n){const e=n.regex,t="[À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*",r=t+NO("(?:<"+t+"~~~(?:\\s*,\\s*"+t+"~~~)*>)?",/~~~/g,2),f={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},p={className:"meta",begin:"@"+t,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},m={className:"params",begin:/\(/,end:/\)/,keywords:f,relevance:0,contains:[n.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:f,illegal:/<\/|#/,contains:[n.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[n.BACKSLASH_ESCAPE]},n.APOS_STRING_MODE,n.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,t],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[e.concat(/(?!else)/,t),/\s+/,t,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,t],className:{1:"keyword",3:"title.class"},contains:[m,n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+r+"\\s+)",n.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:f,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:f,relevance:0,contains:[p,n.APOS_STRING_MODE,n.QUOTE_STRING_MODE,jE,n.C_BLOCK_COMMENT_MODE]},n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE]},jE,p]}}const FE="[A-Za-z$_][0-9A-Za-z$_]*",D$=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],P$=["true","false","null","undefined","NaN","Infinity"],AO=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],DO=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],PO=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],L$=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],I$=[].concat(PO,AO,DO);function z$(n){const e=n.regex,t=(F,{after:pe})=>{const he="</"+F[0].slice(1);return F.input.indexOf(he,pe)!==-1},r=FE,i={begin:"<>",end:"</>"},o=/<[A-Za-z0-9\\._:-]+\s*\/>/,a={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(F,pe)=>{const he=F[0].length+F.index,H=F.input[he];if(H==="<"||H===","){pe.ignoreMatch();return}H===">"&&(t(F,{after:he})||pe.ignoreMatch());let ce;const Te=F.input.substring(he);if(ce=Te.match(/^\s*=/)){pe.ignoreMatch();return}if((ce=Te.match(/^\s+extends\s+/))&&ce.index===0){pe.ignoreMatch();return}}},c={$pattern:FE,keyword:D$,literal:P$,built_in:I$,"variable.language":L$},f="[0-9](_?[0-9])*",p=`\\.(${f})`,m="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",v={className:"number",variants:[{begin:`(\\b(${m})((${p})|\\.)?|(${p}))[eE][+-]?(${f})\\b`},{begin:`\\b(${m})\\b((${p})\\b|\\.)?|(${p})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},w={className:"subst",begin:"\\$\\{",end:"\\}",keywords:c,contains:[]},x={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[n.BACKSLASH_ESCAPE,w],subLanguage:"xml"}},E={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[n.BACKSLASH_ESCAPE,w],subLanguage:"css"}},C={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[n.BACKSLASH_ESCAPE,w],subLanguage:"graphql"}},k={className:"string",begin:"`",end:"`",contains:[n.BACKSLASH_ESCAPE,w]},R={className:"comment",variants:[n.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),n.C_BLOCK_COMMENT_MODE,n.C_LINE_COMMENT_MODE]},N=[n.APOS_STRING_MODE,n.QUOTE_STRING_MODE,x,E,C,k,{match:/\$\d+/},v];w.contains=N.concat({begin:/\{/,end:/\}/,keywords:c,contains:["self"].concat(N)});const T=[].concat(R,w.contains),D=T.concat([{begin:/(\s*)\(/,end:/\)/,keywords:c,contains:["self"].concat(T)}]),_={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:c,contains:D},L={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,e.concat(r,"(",e.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},z={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...AO,...DO]}},W={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},se={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[_],illegal:/%/},xe={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function ye(F){return e.concat("(?!",F.join("|"),")")}const Ce={match:e.concat(/\b/,ye([...PO,"super","import"].map(F=>`${F}\\s*\\(`)),r,e.lookahead(/\s*\(/)),className:"title.function",relevance:0},Ee={begin:e.concat(/\./,e.lookahead(e.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},ue={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},_]},de="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+n.UNDERSCORE_IDENT_RE+")\\s*=>",V={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(de)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[_]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:c,exports:{PARAMS_CONTAINS:D,CLASS_REFERENCE:z},illegal:/#(?![$_A-z])/,contains:[n.SHEBANG({label:"shebang",binary:"node",relevance:5}),W,n.APOS_STRING_MODE,n.QUOTE_STRING_MODE,x,E,C,k,R,{match:/\$\d+/},v,z,{scope:"attr",match:r+e.lookahead(":"),relevance:0},V,{begin:"("+n.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[R,n.REGEXP_MODE,{className:"function",begin:de,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:n.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:c,contains:D}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:o},{begin:a.begin,"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},se,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+n.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[_,n.inherit(n.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},Ee,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[_]},Ce,xe,L,ue,{match:/\$[(.]/}]}}function B$(n){const e=n.regex,t=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],c={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},f={className:"meta",begin:/^(>>>|\.\.\.) /},p={className:"subst",begin:/\{/,end:/\}/,keywords:c,illegal:/#/},m={begin:/\{\{/,relevance:0},v={className:"string",contains:[n.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[n.BACKSLASH_ESCAPE,f],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[n.BACKSLASH_ESCAPE,f],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[n.BACKSLASH_ESCAPE,f,m,p]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[n.BACKSLASH_ESCAPE,f,m,p]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[n.BACKSLASH_ESCAPE,m,p]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[n.BACKSLASH_ESCAPE,m,p]},n.APOS_STRING_MODE,n.QUOTE_STRING_MODE]},w="[0-9](_?[0-9])*",x=`(\\b(${w}))?\\.(${w})|\\b(${w})\\.`,E=`\\b|${r.join("|")}`,C={className:"number",relevance:0,variants:[{begin:`(\\b(${w})|(${x}))[eE][+-]?(${w})[jJ]?(?=${E})`},{begin:`(${x})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${E})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${E})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${E})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${E})`},{begin:`\\b(${w})[jJ](?=${E})`}]},k={className:"comment",begin:e.lookahead(/# type:/),end:/$/,keywords:c,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},S={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:c,contains:["self",f,C,v,n.HASH_COMMENT_MODE]}]};return p.contains=[v,C,f],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:c,illegal:/(<\/|\?)|=>/,contains:[f,C,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},v,k,n.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,t],scope:{1:"keyword",3:"title.function"},contains:[S]},{variants:[{match:[/\bclass/,/\s+/,t,/\s*/,/\(\s*/,t,/\s*\)/]},{match:[/\bclass/,/\s+/,t]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[C,S,v]}]}}function j$(n){const e=n.regex,t=e.concat(/[\p{L}_]/u,e.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r=/[\p{L}0-9._:-]+/u,i={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},o={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},a=n.inherit(o,{begin:/\(/,end:/\)/}),c=n.inherit(n.APOS_STRING_MODE,{className:"string"}),f=n.inherit(n.QUOTE_STRING_MODE,{className:"string"}),p={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:r,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[i]},{begin:/'/,end:/'/,contains:[i]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[o,f,c,a,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[o,a,f,c]}]}]},n.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},i,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[f]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[p],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[p],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:e.concat(/</,e.lookahead(e.concat(t,e.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:t,relevance:0,starts:p}]},{className:"tag",begin:e.concat(/<\//,e.lookahead(e.concat(t,/>/))),contains:[{className:"name",begin:t,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}var iw,HE;function F$(){if(HE)return iw;HE=1;function n(J){return J instanceof Map?J.clear=J.delete=J.set=function(){throw new Error("map is read-only")}:J instanceof Set&&(J.add=J.clear=J.delete=function(){throw new Error("set is read-only")}),Object.freeze(J),Object.getOwnPropertyNames(J).forEach(we=>{const Ue=J[we],Mt=typeof Ue;(Mt==="object"||Mt==="function")&&!Object.isFrozen(Ue)&&n(Ue)}),J}class e{constructor(we){we.data===void 0&&(we.data={}),this.data=we.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function t(J){return J.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function r(J,...we){const Ue=Object.create(null);for(const Mt in J)Ue[Mt]=J[Mt];return we.forEach(function(Mt){for(const G in Mt)Ue[G]=Mt[G]}),Ue}const i="</span>",o=J=>!!J.scope,a=(J,{prefix:we})=>{if(J.startsWith("language:"))return J.replace("language:","language-");if(J.includes(".")){const Ue=J.split(".");return[`${we}${Ue.shift()}`,...Ue.map((Mt,G)=>`${Mt}${"_".repeat(G+1)}`)].join(" ")}return`${we}${J}`};class c{constructor(we,Ue){this.buffer="",this.classPrefix=Ue.classPrefix,we.walk(this)}addText(we){this.buffer+=t(we)}openNode(we){if(!o(we))return;const Ue=a(we.scope,{prefix:this.classPrefix});this.span(Ue)}closeNode(we){o(we)&&(this.buffer+=i)}value(){return this.buffer}span(we){this.buffer+=`<span class="${we}">`}}const f=(J={})=>{const we={children:[]};return Object.assign(we,J),we};class p{constructor(){this.rootNode=f(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(we){this.top.children.push(we)}openNode(we){const Ue=f({scope:we});this.add(Ue),this.stack.push(Ue)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(we){return this.constructor._walk(we,this.rootNode)}static _walk(we,Ue){return typeof Ue=="string"?we.addText(Ue):Ue.children&&(we.openNode(Ue),Ue.children.forEach(Mt=>this._walk(we,Mt)),we.closeNode(Ue)),we}static _collapse(we){typeof we!="string"&&we.children&&(we.children.every(Ue=>typeof Ue=="string")?we.children=[we.children.join("")]:we.children.forEach(Ue=>{p._collapse(Ue)}))}}class m extends p{constructor(we){super(),this.options=we}addText(we){we!==""&&this.add(we)}startScope(we){this.openNode(we)}endScope(){this.closeNode()}__addSublanguage(we,Ue){const Mt=we.root;Ue&&(Mt.scope=`language:${Ue}`),this.add(Mt)}toHTML(){return new c(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function v(J){return J?typeof J=="string"?J:J.source:null}function w(J){return C("(?=",J,")")}function x(J){return C("(?:",J,")*")}function E(J){return C("(?:",J,")?")}function C(...J){return J.map(Ue=>v(Ue)).join("")}function k(J){const we=J[J.length-1];return typeof we=="object"&&we.constructor===Object?(J.splice(J.length-1,1),we):{}}function S(...J){return"("+(k(J).capture?"":"?:")+J.map(Mt=>v(Mt)).join("|")+")"}function R(J){return new RegExp(J.toString()+"|").exec("").length-1}function N(J,we){const Ue=J&&J.exec(we);return Ue&&Ue.index===0}const T=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function D(J,{joinWith:we}){let Ue=0;return J.map(Mt=>{Ue+=1;const G=Ue;let ee=v(Mt),Z="";for(;ee.length>0;){const ae=T.exec(ee);if(!ae){Z+=ee;break}Z+=ee.substring(0,ae.index),ee=ee.substring(ae.index+ae[0].length),ae[0][0]==="\\"&&ae[1]?Z+="\\"+String(Number(ae[1])+G):(Z+=ae[0],ae[0]==="("&&Ue++)}return Z}).map(Mt=>`(${Mt})`).join(we)}const _=/\b\B/,L="[a-zA-Z]\\w*",z="[a-zA-Z_]\\w*",W="\\b\\d+(\\.\\d+)?",se="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",xe="\\b(0b[01]+)",ye="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",Ce=(J={})=>{const we=/^#![ ]*\//;return J.binary&&(J.begin=C(we,/.*\b/,J.binary,/\b.*/)),r({scope:"meta",begin:we,end:/$/,relevance:0,"on:begin":(Ue,Mt)=>{Ue.index!==0&&Mt.ignoreMatch()}},J)},Ee={begin:"\\\\[\\s\\S]",relevance:0},ue={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[Ee]},de={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[Ee]},V={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},F=function(J,we,Ue={}){const Mt=r({scope:"comment",begin:J,end:we,contains:[]},Ue);Mt.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const G=S("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return Mt.contains.push({begin:C(/[ ]+/,"(",G,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),Mt},pe=F("//","$"),he=F("/\\*","\\*/"),H=F("#","$"),ce={scope:"number",begin:W,relevance:0},Te={scope:"number",begin:se,relevance:0},$e={scope:"number",begin:xe,relevance:0},Ve={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[Ee,{begin:/\[/,end:/\]/,relevance:0,contains:[Ee]}]},Qe={scope:"title",begin:L,relevance:0},ut={scope:"title",begin:z,relevance:0},ke={begin:"\\.\\s*"+z,relevance:0};var qe=Object.freeze({__proto__:null,APOS_STRING_MODE:ue,BACKSLASH_ESCAPE:Ee,BINARY_NUMBER_MODE:$e,BINARY_NUMBER_RE:xe,COMMENT:F,C_BLOCK_COMMENT_MODE:he,C_LINE_COMMENT_MODE:pe,C_NUMBER_MODE:Te,C_NUMBER_RE:se,END_SAME_AS_BEGIN:function(J){return Object.assign(J,{"on:begin":(we,Ue)=>{Ue.data._beginMatch=we[1]},"on:end":(we,Ue)=>{Ue.data._beginMatch!==we[1]&&Ue.ignoreMatch()}})},HASH_COMMENT_MODE:H,IDENT_RE:L,MATCH_NOTHING_RE:_,METHOD_GUARD:ke,NUMBER_MODE:ce,NUMBER_RE:W,PHRASAL_WORDS_MODE:V,QUOTE_STRING_MODE:de,REGEXP_MODE:Ve,RE_STARTERS_RE:ye,SHEBANG:Ce,TITLE_MODE:Qe,UNDERSCORE_IDENT_RE:z,UNDERSCORE_TITLE_MODE:ut});function Y(J,we){J.input[J.index-1]==="."&&we.ignoreMatch()}function U(J,we){J.className!==void 0&&(J.scope=J.className,delete J.className)}function ne(J,we){we&&J.beginKeywords&&(J.begin="\\b("+J.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",J.__beforeBegin=Y,J.keywords=J.keywords||J.beginKeywords,delete J.beginKeywords,J.relevance===void 0&&(J.relevance=0))}function ie(J,we){Array.isArray(J.illegal)&&(J.illegal=S(...J.illegal))}function Fe(J,we){if(J.match){if(J.begin||J.end)throw new Error("begin & end are not supported with match");J.begin=J.match,delete J.match}}function Oe(J,we){J.relevance===void 0&&(J.relevance=1)}const Ge=(J,we)=>{if(!J.beforeMatch)return;if(J.starts)throw new Error("beforeMatch cannot be used with starts");const Ue=Object.assign({},J);Object.keys(J).forEach(Mt=>{delete J[Mt]}),J.keywords=Ue.keywords,J.begin=C(Ue.beforeMatch,w(Ue.begin)),J.starts={relevance:0,contains:[Object.assign(Ue,{endsParent:!0})]},J.relevance=0,delete Ue.beforeMatch},Je=["of","and","for","in","not","or","if","then","parent","list","value"],_e="keyword";function ct(J,we,Ue=_e){const Mt=Object.create(null);return typeof J=="string"?G(Ue,J.split(" ")):Array.isArray(J)?G(Ue,J):Object.keys(J).forEach(function(ee){Object.assign(Mt,ct(J[ee],we,ee))}),Mt;function G(ee,Z){we&&(Z=Z.map(ae=>ae.toLowerCase())),Z.forEach(function(ae){const be=ae.split("|");Mt[be[0]]=[ee,Xe(be[0],be[1])]})}}function Xe(J,we){return we?Number(we):ft(J)?0:1}function ft(J){return Je.includes(J.toLowerCase())}const _t={},Qt=J=>{console.error(J)},Cn=(J,...we)=>{console.log(`WARN: ${J}`,...we)},vn=(J,we)=>{_t[`${J}/${we}`]||(console.log(`Deprecated as of ${J}. ${we}`),_t[`${J}/${we}`]=!0)},Ae=new Error;function We(J,we,{key:Ue}){let Mt=0;const G=J[Ue],ee={},Z={};for(let ae=1;ae<=we.length;ae++)Z[ae+Mt]=G[ae],ee[ae+Mt]=!0,Mt+=R(we[ae-1]);J[Ue]=Z,J[Ue]._emit=ee,J[Ue]._multi=!0}function Ct(J){if(Array.isArray(J.begin)){if(J.skip||J.excludeBegin||J.returnBegin)throw Qt("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),Ae;if(typeof J.beginScope!="object"||J.beginScope===null)throw Qt("beginScope must be object"),Ae;We(J,J.begin,{key:"beginScope"}),J.begin=D(J.begin,{joinWith:""})}}function Ft(J){if(Array.isArray(J.end)){if(J.skip||J.excludeEnd||J.returnEnd)throw Qt("skip, excludeEnd, returnEnd not compatible with endScope: {}"),Ae;if(typeof J.endScope!="object"||J.endScope===null)throw Qt("endScope must be object"),Ae;We(J,J.end,{key:"endScope"}),J.end=D(J.end,{joinWith:""})}}function Zt(J){J.scope&&typeof J.scope=="object"&&J.scope!==null&&(J.beginScope=J.scope,delete J.scope)}function Yn(J){Zt(J),typeof J.beginScope=="string"&&(J.beginScope={_wrap:J.beginScope}),typeof J.endScope=="string"&&(J.endScope={_wrap:J.endScope}),Ct(J),Ft(J)}function mi(J){function we(Z,ae){return new RegExp(v(Z),"m"+(J.case_insensitive?"i":"")+(J.unicodeRegex?"u":"")+(ae?"g":""))}class Ue{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(ae,be){be.position=this.position++,this.matchIndexes[this.matchAt]=be,this.regexes.push([be,ae]),this.matchAt+=R(ae)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const ae=this.regexes.map(be=>be[1]);this.matcherRe=we(D(ae,{joinWith:"|"}),!0),this.lastIndex=0}exec(ae){this.matcherRe.lastIndex=this.lastIndex;const be=this.matcherRe.exec(ae);if(!be)return null;const Ye=be.findIndex((et,pt)=>pt>0&&et!==void 0),Ze=this.matchIndexes[Ye];return be.splice(0,Ye),Object.assign(be,Ze)}}class Mt{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(ae){if(this.multiRegexes[ae])return this.multiRegexes[ae];const be=new Ue;return this.rules.slice(ae).forEach(([Ye,Ze])=>be.addRule(Ye,Ze)),be.compile(),this.multiRegexes[ae]=be,be}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(ae,be){this.rules.push([ae,be]),be.type==="begin"&&this.count++}exec(ae){const be=this.getMatcher(this.regexIndex);be.lastIndex=this.lastIndex;let Ye=be.exec(ae);if(this.resumingScanAtSamePosition()&&!(Ye&&Ye.index===this.lastIndex)){const Ze=this.getMatcher(0);Ze.lastIndex=this.lastIndex+1,Ye=Ze.exec(ae)}return Ye&&(this.regexIndex+=Ye.position+1,this.regexIndex===this.count&&this.considerAll()),Ye}}function G(Z){const ae=new Mt;return Z.contains.forEach(be=>ae.addRule(be.begin,{rule:be,type:"begin"})),Z.terminatorEnd&&ae.addRule(Z.terminatorEnd,{type:"end"}),Z.illegal&&ae.addRule(Z.illegal,{type:"illegal"}),ae}function ee(Z,ae){const be=Z;if(Z.isCompiled)return be;[U,Fe,Yn,Ge].forEach(Ze=>Ze(Z,ae)),J.compilerExtensions.forEach(Ze=>Ze(Z,ae)),Z.__beforeBegin=null,[ne,ie,Oe].forEach(Ze=>Ze(Z,ae)),Z.isCompiled=!0;let Ye=null;return typeof Z.keywords=="object"&&Z.keywords.$pattern&&(Z.keywords=Object.assign({},Z.keywords),Ye=Z.keywords.$pattern,delete Z.keywords.$pattern),Ye=Ye||/\w+/,Z.keywords&&(Z.keywords=ct(Z.keywords,J.case_insensitive)),be.keywordPatternRe=we(Ye,!0),ae&&(Z.begin||(Z.begin=/\B|\b/),be.beginRe=we(be.begin),!Z.end&&!Z.endsWithParent&&(Z.end=/\B|\b/),Z.end&&(be.endRe=we(be.end)),be.terminatorEnd=v(be.end)||"",Z.endsWithParent&&ae.terminatorEnd&&(be.terminatorEnd+=(Z.end?"|":"")+ae.terminatorEnd)),Z.illegal&&(be.illegalRe=we(Z.illegal)),Z.contains||(Z.contains=[]),Z.contains=[].concat(...Z.contains.map(function(Ze){return ot(Ze==="self"?Z:Ze)})),Z.contains.forEach(function(Ze){ee(Ze,be)}),Z.starts&&ee(Z.starts,ae),be.matcher=G(be),be}if(J.compilerExtensions||(J.compilerExtensions=[]),J.contains&&J.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return J.classNameAliases=r(J.classNameAliases||{}),ee(J)}function ve(J){return J?J.endsWithParent||ve(J.starts):!1}function ot(J){return J.variants&&!J.cachedVariants&&(J.cachedVariants=J.variants.map(function(we){return r(J,{variants:null},we)})),J.cachedVariants?J.cachedVariants:ve(J)?r(J,{starts:J.starts?r(J.starts):null}):Object.isFrozen(J)?r(J):J}var St="11.11.1";class $t extends Error{constructor(we,Ue){super(we),this.name="HTMLInjectionError",this.html=Ue}}const Bt=t,Mn=r,qn=Symbol("nomatch"),sr=7,Vr=function(J){const we=Object.create(null),Ue=Object.create(null),Mt=[];let G=!0;const ee="Could not find the language '{}', did you forget to load/include a language module?",Z={disableAutodetect:!0,name:"Plain text",contains:[]};let ae={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:m};function be(De){return ae.noHighlightRe.test(De)}function Ye(De){let at=De.className+" ";at+=De.parentNode?De.parentNode.className:"";const It=ae.languageDetectRe.exec(at);if(It){const Wt=br(It[1]);return Wt||(Cn(ee.replace("{}",It[1])),Cn("Falling back to no-highlight mode for this block.",De)),Wt?It[1]:"no-highlight"}return at.split(/\s+/).find(Wt=>be(Wt)||br(Wt))}function Ze(De,at,It){let Wt="",Ut="";typeof at=="object"?(Wt=De,It=at.ignoreIllegals,Ut=at.language):(vn("10.7.0","highlight(lang, code, ...args) has been deprecated."),vn("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),Ut=De,Wt=at),It===void 0&&(It=!0);const wn={code:Wt,language:Ut};Ni("before:highlight",wn);const ri=wn.result?wn.result:et(wn.language,wn.code,It);return ri.code=wn.code,Ni("after:highlight",ri),ri}function et(De,at,It,Wt){const Ut=Object.create(null);function wn(Ke,lt){return Ke.keywords[lt]}function ri(){if(!Rt.keywords){Un.addText(bn);return}let Ke=0;Rt.keywordPatternRe.lastIndex=0;let lt=Rt.keywordPatternRe.exec(bn),Nt="";for(;lt;){Nt+=bn.substring(Ke,lt.index);const sn=yi.case_insensitive?lt[0].toLowerCase():lt[0],Wn=wn(Rt,sn);if(Wn){const[pr,bd]=Wn;if(Un.addText(Nt),Nt="",Ut[sn]=(Ut[sn]||0)+1,Ut[sn]<=sr&&(Ss+=bd),pr.startsWith("_"))Nt+=lt[0];else{const Sc=yi.classNameAliases[pr]||pr;Sr(lt[0],Sc)}}else Nt+=lt[0];Ke=Rt.keywordPatternRe.lastIndex,lt=Rt.keywordPatternRe.exec(bn)}Nt+=bn.substring(Ke),Un.addText(Nt)}function Yo(){if(bn==="")return;let Ke=null;if(typeof Rt.subLanguage=="string"){if(!we[Rt.subLanguage]){Un.addText(bn);return}Ke=et(Rt.subLanguage,bn,!0,Ja[Rt.subLanguage]),Ja[Rt.subLanguage]=Ke._top}else Ke=vt(bn,Rt.subLanguage.length?Rt.subLanguage:null);Rt.relevance>0&&(Ss+=Ke.relevance),Un.__addSublanguage(Ke._emitter,Ke.language)}function _r(){Rt.subLanguage!=null?Yo():ri(),bn=""}function Sr(Ke,lt){Ke!==""&&(Un.startScope(lt),Un.addText(Ke),Un.endScope())}function sa(Ke,lt){let Nt=1;const sn=lt.length-1;for(;Nt<=sn;){if(!Ke._emit[Nt]){Nt++;continue}const Wn=yi.classNameAliases[Ke[Nt]]||Ke[Nt],pr=lt[Nt];Wn?Sr(pr,Wn):(bn=pr,ri(),bn=""),Nt++}}function Xo(Ke,lt){return Ke.scope&&typeof Ke.scope=="string"&&Un.openNode(yi.classNameAliases[Ke.scope]||Ke.scope),Ke.beginScope&&(Ke.beginScope._wrap?(Sr(bn,yi.classNameAliases[Ke.beginScope._wrap]||Ke.beginScope._wrap),bn=""):Ke.beginScope._multi&&(sa(Ke.beginScope,lt),bn="")),Rt=Object.create(Ke,{parent:{value:Rt}}),Rt}function So(Ke,lt,Nt){let sn=N(Ke.endRe,Nt);if(sn){if(Ke["on:end"]){const Wn=new e(Ke);Ke["on:end"](lt,Wn),Wn.isMatchIgnored&&(sn=!1)}if(sn){for(;Ke.endsParent&&Ke.parent;)Ke=Ke.parent;return Ke}}if(Ke.endsWithParent)return So(Ke.parent,lt,Nt)}function bc(Ke){return Rt.matcher.regexIndex===0?(bn+=Ke[0],1):(Qo=!0,0)}function xd(Ke){const lt=Ke[0],Nt=Ke.rule,sn=new e(Nt),Wn=[Nt.__beforeBegin,Nt["on:begin"]];for(const pr of Wn)if(pr&&(pr(Ke,sn),sn.isMatchIgnored))return bc(lt);return Nt.skip?bn+=lt:(Nt.excludeBegin&&(bn+=lt),_r(),!Nt.returnBegin&&!Nt.excludeBegin&&(bn=lt)),Xo(Nt,Ke),Nt.returnBegin?0:lt.length}function Ka(Ke){const lt=Ke[0],Nt=at.substring(Ke.index),sn=So(Rt,Ke,Nt);if(!sn)return qn;const Wn=Rt;Rt.endScope&&Rt.endScope._wrap?(_r(),Sr(lt,Rt.endScope._wrap)):Rt.endScope&&Rt.endScope._multi?(_r(),sa(Rt.endScope,Ke)):Wn.skip?bn+=lt:(Wn.returnEnd||Wn.excludeEnd||(bn+=lt),_r(),Wn.excludeEnd&&(bn=lt));do Rt.scope&&Un.closeNode(),!Rt.skip&&!Rt.subLanguage&&(Ss+=Rt.relevance),Rt=Rt.parent;while(Rt!==sn.parent);return sn.starts&&Xo(sn.starts,Ke),Wn.returnEnd?0:lt.length}function su(){const Ke=[];for(let lt=Rt;lt!==yi;lt=lt.parent)lt.scope&&Ke.unshift(lt.scope);Ke.forEach(lt=>Un.openNode(lt))}let Eo={};function bs(Ke,lt){const Nt=lt&&lt[0];if(bn+=Ke,Nt==null)return _r(),0;if(Eo.type==="begin"&&lt.type==="end"&&Eo.index===lt.index&&Nt===""){if(bn+=at.slice(lt.index,lt.index+1),!G){const sn=new Error(`0 width match regex (${De})`);throw sn.languageName=De,sn.badRule=Eo.rule,sn}return 1}if(Eo=lt,lt.type==="begin")return xd(lt);if(lt.type==="illegal"&&!It){const sn=new Error('Illegal lexeme "'+Nt+'" for mode "'+(Rt.scope||"<unnamed>")+'"');throw sn.mode=Rt,sn}else if(lt.type==="end"){const sn=Ka(lt);if(sn!==qn)return sn}if(lt.type==="illegal"&&Nt==="")return bn+=`
`,1;if(Es>1e5&&Es>lt.index*3)throw new Error("potential infinite loop, way more iterations than matches");return bn+=Nt,Nt.length}const yi=br(De);if(!yi)throw Qt(ee.replace("{}",De)),new Error('Unknown language: "'+De+'"');const aa=mi(yi);let ln="",Rt=Wt||aa;const Ja={},Un=new ae.__emitter(ae);su();let bn="",Ss=0,Zi=0,Es=0,Qo=!1;try{if(yi.__emitTokens)yi.__emitTokens(at,Un);else{for(Rt.matcher.considerAll();;){Es++,Qo?Qo=!1:Rt.matcher.considerAll(),Rt.matcher.lastIndex=Zi;const Ke=Rt.matcher.exec(at);if(!Ke)break;const lt=at.substring(Zi,Ke.index),Nt=bs(lt,Ke);Zi=Ke.index+Nt}bs(at.substring(Zi))}return Un.finalize(),ln=Un.toHTML(),{language:De,value:ln,relevance:Ss,illegal:!1,_emitter:Un,_top:Rt}}catch(Ke){if(Ke.message&&Ke.message.includes("Illegal"))return{language:De,value:Bt(at),illegal:!0,relevance:0,_illegalBy:{message:Ke.message,index:Zi,context:at.slice(Zi-100,Zi+100),mode:Ke.mode,resultSoFar:ln},_emitter:Un};if(G)return{language:De,value:Bt(at),illegal:!1,relevance:0,errorRaised:Ke,_emitter:Un,_top:Rt};throw Ke}}function pt(De){const at={value:Bt(De),illegal:!1,relevance:0,_top:Z,_emitter:new ae.__emitter(ae)};return at._emitter.addText(De),at}function vt(De,at){at=at||ae.languages||Object.keys(we);const It=pt(De),Wt=at.filter(br).filter(bo).map(_r=>et(_r,De,!1));Wt.unshift(It);const Ut=Wt.sort((_r,Sr)=>{if(_r.relevance!==Sr.relevance)return Sr.relevance-_r.relevance;if(_r.language&&Sr.language){if(br(_r.language).supersetOf===Sr.language)return 1;if(br(Sr.language).supersetOf===_r.language)return-1}return 0}),[wn,ri]=Ut,Yo=wn;return Yo.secondBest=ri,Yo}function Lt(De,at,It){const Wt=at&&Ue[at]||It;De.classList.add("hljs"),De.classList.add(`language-${Wt}`)}function xt(De){let at=null;const It=Ye(De);if(be(It))return;if(Ni("before:highlightElement",{el:De,language:It}),De.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",De);return}if(De.children.length>0&&(ae.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(De)),ae.throwUnescapedHTML))throw new $t("One of your code blocks includes unescaped HTML.",De.innerHTML);at=De;const Wt=at.textContent,Ut=It?Ze(Wt,{language:It,ignoreIllegals:!0}):vt(Wt);De.innerHTML=Ut.value,De.dataset.highlighted="yes",Lt(De,It,Ut.language),De.result={language:Ut.language,re:Ut.relevance,relevance:Ut.relevance},Ut.secondBest&&(De.secondBest={language:Ut.secondBest.language,relevance:Ut.secondBest.relevance}),Ni("after:highlightElement",{el:De,result:Ut,text:Wt})}function jt(De){ae=Mn(ae,De)}const rn=()=>{Qn(),vn("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function Tn(){Qn(),vn("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let $n=!1;function Qn(){function De(){Qn()}if(document.readyState==="loading"){$n||window.addEventListener("DOMContentLoaded",De,!1),$n=!0;return}document.querySelectorAll(ae.cssSelector).forEach(xt)}function en(De,at){let It=null;try{It=at(J)}catch(Wt){if(Qt("Language definition for '{}' could not be registered.".replace("{}",De)),G)Qt(Wt);else throw Wt;It=Z}It.name||(It.name=De),we[De]=It,It.rawDefinition=at.bind(null,J),It.aliases&&Zn(It.aliases,{languageName:De})}function xo(De){delete we[De];for(const at of Object.keys(Ue))Ue[at]===De&&delete Ue[at]}function _i(){return Object.keys(we)}function br(De){return De=(De||"").toLowerCase(),we[De]||we[Ue[De]]}function Zn(De,{languageName:at}){typeof De=="string"&&(De=[De]),De.forEach(It=>{Ue[It.toLowerCase()]=at})}function bo(De){const at=br(De);return at&&!at.disableAutodetect}function hn(De){De["before:highlightBlock"]&&!De["before:highlightElement"]&&(De["before:highlightElement"]=at=>{De["before:highlightBlock"](Object.assign({block:at.el},at))}),De["after:highlightBlock"]&&!De["after:highlightElement"]&&(De["after:highlightElement"]=at=>{De["after:highlightBlock"](Object.assign({block:at.el},at))})}function oa(De){hn(De),Mt.push(De)}function gi(De){const at=Mt.indexOf(De);at!==-1&&Mt.splice(at,1)}function Ni(De,at){const It=De;Mt.forEach(function(Wt){Wt[It]&&Wt[It](at)})}function on(De){return vn("10.7.0","highlightBlock will be removed entirely in v12.0"),vn("10.7.0","Please use highlightElement now."),xt(De)}Object.assign(J,{highlight:Ze,highlightAuto:vt,highlightAll:Qn,highlightElement:xt,highlightBlock:on,configure:jt,initHighlighting:rn,initHighlightingOnLoad:Tn,registerLanguage:en,unregisterLanguage:xo,listLanguages:_i,getLanguage:br,registerAliases:Zn,autoDetection:bo,inherit:Mn,addPlugin:oa,removePlugin:gi}),J.debugMode=function(){G=!1},J.safeMode=function(){G=!0},J.versionString=St,J.regex={concat:C,lookahead:w,either:S,optional:E,anyNumberOfTimes:x};for(const De in qe)typeof qe[De]=="object"&&n(qe[De]);return Object.assign(J,qe),J},Xn=Vr({});return Xn.newInstance=()=>Vr({}),iw=Xn,Xn.HighlightJS=Xn,Xn.default=Xn,iw}var H$=F$();const $$=Fp(H$),$E={},U$="hljs-";function W$(n){const e=$$.newInstance();return{highlight:t,highlightAuto:r,listLanguages:i,register:o,registerAlias:a,registered:c};function t(f,p,m){const v=m||$E,w=typeof v.prefix=="string"?v.prefix:U$;if(!e.getLanguage(f))throw new Error("Unknown language: `"+f+"` is not registered");e.configure({__emitter:V$,classPrefix:w});const x=e.highlight(p,{ignoreIllegals:!0,language:f});if(x.errorRaised)throw new Error("Could not highlight with `Highlight.js`",{cause:x.errorRaised});const E=x._emitter.root,C=E.data;return C.language=x.language,C.relevance=x.relevance,E}function r(f,p){const v=(p||$E).subset||i();let w=-1,x=0,E;for(;++w<v.length;){const C=v[w];if(!e.getLanguage(C))continue;const k=t(C,f,p);k.data&&k.data.relevance!==void 0&&k.data.relevance>x&&(x=k.data.relevance,E=k)}return E||{type:"root",children:[],data:{language:void 0,relevance:x}}}function i(){return e.listLanguages()}function o(f,p){if(typeof f=="string")e.registerLanguage(f,p);else{let m;for(m in f)Object.hasOwn(f,m)&&e.registerLanguage(m,f[m])}}function a(f,p){if(typeof f=="string")e.registerAliases(typeof p=="string"?p:[...p],{languageName:f});else{let m;for(m in f)if(Object.hasOwn(f,m)){const v=f[m];e.registerAliases(typeof v=="string"?v:[...v],{languageName:m})}}}function c(f){return!!e.getLanguage(f)}}class V${constructor(e){this.options=e,this.root={type:"root",children:[],data:{language:void 0,relevance:0}},this.stack=[this.root]}addText(e){if(e==="")return;const t=this.stack[this.stack.length-1],r=t.children[t.children.length-1];r&&r.type==="text"?r.value+=e:t.children.push({type:"text",value:e})}startScope(e){this.openNode(String(e))}endScope(){this.closeNode()}__addSublanguage(e,t){const r=this.stack[this.stack.length-1],i=e.root.children;t?r.children.push({type:"element",tagName:"span",properties:{className:[t]},children:i}):r.children.push(...i)}openNode(e){const t=this,r=e.split(".").map(function(a,c){return c?a+"_".repeat(c):t.options.classPrefix+a}),i=this.stack[this.stack.length-1],o={type:"element",tagName:"span",properties:{className:r},children:[]};i.children.push(o),this.stack.push(o)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}}const UE={아트워크:["포토그라피","일러스트레이션","스케치","코믹스"],그래픽디자인:["타이포그라피","뮤직패키징","로고","그래픽디자인스","편집"],캐릭터:["카툰","애니메","팬아트","3D"],Java:["통신","알고리즘","Thread","etc"],프론트엔드:["HTML","CSS","Javascript","etc"],Python:["통신","알고리즘","Thread","etc"]},wd=W$();wd.register("javascript",z$);wd.register("css",N$);wd.register("html",j$);wd.register("python",B$);wd.register("java",A$);const q$=console.error;console.error=(...n)=>{n[0]&&typeof n[0]=="string"&&n[0].includes("contentEditable")||q$.apply(console,n)};const G$=Wr.create({name:"fontSize",addGlobalAttributes(){return[{types:["textStyle"],attributes:{fontSize:{default:null,parseHTML:n=>n.style.fontSize,renderHTML:n=>n.fontSize?{style:`font-size: ${n.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:n=>({chain:e})=>e().setMark("textStyle",{fontSize:n}).run(),unsetFontSize:()=>({chain:n})=>n().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),WE=[{name:"Noto Sans KR",family:"'Noto Sans KR', sans-serif"},{name:"Nanum Gothic",family:"'Nanum Gothic', sans-serif"},{name:"Black Han Sans",family:"'Black Han Sans', sans-serif"},{name:"Roboto",family:"'Roboto', sans-serif"},{name:"Montserrat",family:"'Montserrat', sans-serif"},{name:"Playfair Display",family:"'Playfair Display', serif"},{name:"Source Code Pro",family:"'Source Code Pro', monospace"}],VE=n=>{const e=`google-font-${n.replace(/\s/g,"-")}`;if(document.getElementById(e))return;const t=document.createElement("link");t.id=e,t.href=`https://fonts.googleapis.com/css2?family=${n.replace(/\s/g,"+")}:wght@400;700&display=swap`,t.rel="stylesheet",document.head.appendChild(t)};function ep(){const{id:n}=fk(),e=Ga();K.useRef(!1);const[t,r]=K.useState(!1),[i,o]=K.useState(!1),[a,c]=K.useState(!1),[f,p]=K.useState(!1),[m,v]=K.useState(!1),[w,x]=K.useState(!1),[E,C]=K.useState(!1),[k,S]=K.useState(!1),[R,N]=K.useState(!1),[T,D]=K.useState({currentHeight:"2rem",onSave:()=>{}}),[_,L]=K.useState({backgroundColor:"#ffffff",fontFamily:"sans-serif"}),[z,W]=K.useState({title:"",coverImage:"",tags:[],saleType:"",salePrice:"",auctionDuration:"",startBidPrice:"",buyNowPrice:""}),[se,xe]=K.useState(null),[ye,Ce]=K.useState(!0),[Ee,ue]=K.useState("new"),de=()=>{const U=e.pathname;return U.includes("/editor/auction/")?{endpoint:`/api/auctions/${n}`,mode:"edit-auction",title:"경매 편집"}:U.includes("/editor/product/")?{endpoint:`/api/products/${n}`,mode:"edit-product",title:"상품 편집"}:U.includes("/editor/")&&n?{endpoint:`/editor/api/documents/${n}`,mode:"edit-editor",title:"문서 편집"}:{endpoint:null,mode:"new",title:"새 프로젝트"}},V=fB({extensions:[vj,Vj,qj,m3.configure({openOnClick:!1}),g3.configure({types:["heading","paragraph","image","videoPlayer","iframe","audio"],addCssClasses:!0}),v3.configure({HTMLAttributes:{class:"custom-text-style"}}),G$,x3,S3,k3,dF,pF,mH.configure({lowlight:wd}),yH],content:"",editorProps:{attributes:{class:"prose-mirror-editor"}},onCreate:({editor:U})=>{U.storage.spacer={openModal:(ne,ie)=>{D({currentHeight:ne,onSave:Fe=>{ie(Fe),N(!1)}}),N(!0)}}}});K.useEffect(()=>{const{endpoint:U,mode:ne}=de();ue(ne),U&&n?(Ce(!0),console.log("Loading data from:",U),fetch(U).then(ie=>{if(!ie.ok)throw new Error("데이터를 불러오는데 실패했습니다.");return ie.json()}).then(ie=>{var Ge,Je,_e;console.log("Loaded data:",ie);const Fe={title:ie.title||ie.name||"",coverImage:ie.coverImage||ie.imageUrl||"",backgroundColor:ie.backgroundColor||"#ffffff",fontFamily:ie.fontFamily||"sans-serif"};ne==="edit-auction"?(console.log("경매 편집 데이터 로딩:",ie),W({...Fe,tags:[ie.primaryCategory,ie.secondaryCategory].filter(Boolean),saleType:"auction",salePrice:"",auctionDuration:`${ie.auctionDuration}일`,startBidPrice:((Ge=ie.startBidPrice)==null?void 0:Ge.toString())||"",buyNowPrice:((Je=ie.buyNowPrice)==null?void 0:Je.toString())||""})):ne==="edit-product"?(console.log("상품 편집 데이터 로딩:",ie),W({...Fe,tags:[ie.primaryCategory,ie.secondaryCategory].filter(Boolean),saleType:"sale",salePrice:((_e=ie.price)==null?void 0:_e.toString())||"",auctionDuration:"",startBidPrice:"",buyNowPrice:""})):W({title:ie.title||"",coverImage:ie.coverImage||"",tags:ie.tags||[],saleType:ie.saleType||"",salePrice:ie.salePrice||"",auctionDuration:ie.auctionDuration||"",startBidPrice:ie.startBidPrice||"",buyNowPrice:ie.buyNowPrice||""}),L({backgroundColor:Fe.backgroundColor,fontFamily:Fe.fontFamily});{const ct=WE.find(Xe=>Xe.family===Fe.fontFamily);ct&&(console.log("Loading Google Font for edit mode:",ct.name),VE(ct.name))}let Oe=null;if(ie.tiptapJson){if(Oe=ie.tiptapJson,typeof Oe=="string")try{Oe=JSON.parse(Oe)}catch(ct){console.error("Tiptap JSON 파싱 실패:",ct),Oe=null}}else ie.description&&(Oe={type:"doc",content:[{type:"paragraph",content:[{type:"text",text:"HTML 내용을 편집하려면 새로 작성해주세요."}]}]});Oe&&xe(Oe)}).catch(ie=>{console.error("데이터 로딩 중 오류:",ie),alert(ie.message)}).finally(()=>Ce(!1))):Ce(!1)},[n,e.pathname]),K.useEffect(()=>{V&&!ye&&se&&V.isEmpty&&V.commands.setContent(se,!1)},[V,ye,se]);const F=U=>{if(!U)return null;const ne=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,ie=U.match(ne);return ie&&ie[2].length===11?ie[2]:null},pe=U=>{const ne=U.match(/src=["']([^"']+)["']/);return ne?ne[1]:null},he=U=>{if(!U||!V)return;let ne=null;if(U.includes("<iframe")){if(ne=pe(U),!ne){alert("iframe 코드에서 src URL을 찾을 수 없습니다.");return}}else{const ie=F(U);ie?ne=`https://www.youtube.com/embed/${ie}`:ne=U}ne?(console.log("임베드 URL:",ne),V.chain().focus().setIframe({src:ne}).run(),p(!1)):alert("유효한 유튜브 URL 또는 아이프레임 코드를 입력해주세요.")},H=U=>{V.chain().focus().setPhotoGrid(U).run(),C(!1)},ce=({src:U,alt:ne})=>{V.chain().focus().setImage({src:U,alt:ne}).run(),r(!1)},Te=U=>{if(console.log("handleVideoAdd called with:",U),console.log("videoData type:",typeof U),console.log("videoData.src:",U.src),console.log("videoData.src type:",typeof U.src),!U||!U.src){console.error("Invalid video data:",U),alert("비디오 데이터가 유효하지 않습니다.");return}V.chain().focus().setVideo(U).run(),o(!1)},$e=U=>{V.chain().focus().setAudio(U).run(),c(!1)},Ve=U=>{W(U),v(!1)},Qe=()=>{S(!0)},ut=()=>V?V.getHTML():"",ke=async()=>{if(!V)return;const{saleType:U}=z;if(!U){alert("프로젝트 설정을 열어 판매 또는 경매 정보를 입력해주세요."),v(!0);return}const ne=V.getJSON(),ie=V.getHTML();let Fe,Oe,Ge,Je;const _e={name:z.title,imageUrl:z.coverImage,primaryCategory:z.tags.find(Xe=>Object.keys(UE).includes(Xe)),secondaryCategory:z.tags.find(Xe=>!Object.keys(UE).includes(Xe)),tiptapJson:JSON.stringify(ne),htmlBackup:ie,backgroundColor:_.backgroundColor,fontFamily:_.fontFamily},ct=Ee.startsWith("edit-");if(U==="sale")ct&&n?(Fe=`/api/products/${n}`,Oe="PUT"):(Fe="/api/products",Oe="POST"),Ge={..._e,price:parseInt(z.salePrice)},Je=Xe=>`http://localhost:8080/result/product/${Xe||n}`;else if(U==="auction")ct&&n?(Fe=`/api/auctions/${n}`,Oe="PUT"):(Fe="/api/auctions",Oe="POST"),Ge={..._e,auctionDuration:parseInt(z.auctionDuration.replace("일","")),startBidPrice:parseInt(z.startBidPrice),buyNowPrice:parseInt(z.buyNowPrice)},Je=Xe=>`http://localhost:8080/result/auction/${Xe||n}`;else return;console.log("Edit mode:",Ee),console.log("Is edit mode:",ct),console.log("Current ID:",n),console.log("HTTP method:",Oe),console.log("Target URL:",Fe),console.log("Saving document with data:",Ge);try{const Xe=await fetch(Fe,{method:Oe,headers:{"Content-Type":"application/json"},body:JSON.stringify(Ge)});if(console.log("Response status:",Xe.status),console.log("Response headers:",Xe.headers),!Xe.ok){const Qt=await Xe.text();throw console.error("Server error response:",Qt),new Error(`저장에 실패했습니다 (${Xe.status}): ${Qt}`)}const ft=await Xe.json();console.log("Document saved successfully with ID:",ft);const _t=ct?n:ft;window.location.href=Je(_t)}catch(Xe){console.error("Error saving document:",Xe),Xe.name==="TypeError"&&Xe.message.includes("fetch")?alert("네트워크 오류가 발생했습니다. 서버가 실행 중인지 확인해주세요."):alert(`저장 중 오류가 발생했습니다: ${Xe.message}`)}},Be=U=>{if(L(U),U.fontFamily){const ne=WE.find(ie=>ie.family===U.fontFamily);ne&&(console.log("Loading Google Font for style change:",ne.name),VE(ne.name))}},qe=()=>{x(!1)},Y=()=>{D({currentHeight:"2rem",onSave:U=>{V.chain().focus().setSpacer({height:U}).run(),N(!1)}}),N(!0)};return P.jsxs("div",{className:"app-container",children:[P.jsxs("div",{className:"main-content",children:[P.jsxs("div",{className:"editor-container",style:_,children:[V&&P.jsx(vH,{editor:V}),P.jsx(tB,{editor:V})]}),P.jsx(wH,{editor:V,onEmbedClick:()=>p(!0),onImageAdd:()=>r(!0),onVideoAdd:()=>o(!0),onAudioAdd:()=>c(!0),onStylesClick:()=>x(!0),onSettingsClick:()=>v(!0),onPhotoGridClick:()=>C(!0),onSpacerAdd:Y,onPreviewClick:Qe,onSaveClick:ke})]}),P.jsxs("div",{className:"modals",children:[t&&P.jsx(f$,{onClose:()=>r(!1),onImageAdd:ce}),i&&P.jsx(x$,{onClose:()=>o(!1),onVideoAdd:Te}),a&&P.jsx(b$,{onClose:()=>c(!1),onAudioAdd:$e}),f&&P.jsx(y$,{onClose:()=>p(!1),onEmbed:he}),m&&P.jsx(w$,{onClose:()=>v(!1),settings:z,onSave:Ve}),w&&P.jsx(d$,{isOpen:w,onClose:qe,onStyleChange:Be,currentStyles:_}),E&&P.jsx(h$,{onClose:()=>C(!1),onGridCreate:H}),k&&P.jsx(g$,{isOpen:k,onClose:()=>S(!1),editorContent:ut(),styles:_}),R&&P.jsx(S$,{isOpen:R,onClose:()=>N(!1),onSave:T.onSave,currentHeight:T.currentHeight})]})]})}const K$=()=>{var v,w,x;const{id:n}=fk(),e=Ga(),[t,r]=K.useState(null),[i,o]=K.useState(!0),[a,c]=K.useState(null),f=()=>{const E=e.pathname;return E.includes("/result/auction/")?{endpoint:`/api/auctions/${n}`,type:"auction",title:"경매 결과"}:E.includes("/result/product/")?{endpoint:`/api/products/${n}`,type:"product",title:"상품 결과"}:{endpoint:`/editor/api/documents/${n}`,type:"editor",title:"문서 결과"}};if(K.useEffect(()=>{(async()=>{try{const{endpoint:C}=f();console.log("Fetching data from:",C);const k=await fetch(C);if(!k.ok)throw new Error(`데이터를 불러오는 데 실패했습니다. (${k.status})`);const S=await k.json();console.log("Fetched data:",S),r(S)}catch(C){console.error("Error fetching data:",C),c(C.message)}finally{o(!1)}})()},[n,e.pathname]),i)return P.jsx("div",{className:"message-container",children:"로딩 중..."});if(a)return P.jsxs("div",{className:"message-container",children:["에러: ",a]});if(!t||typeof t!="object")return P.jsx("div",{className:"container",children:"데이터가 없습니다."});const{type:p,title:m}=f();return P.jsxs("div",{className:"result-container",children:[P.jsxs("header",{className:"result-header",children:[P.jsx("div",{className:"cover-image-container",children:t.imageUrl&&P.jsx("img",{src:t.imageUrl,alt:t.name||t.title})}),P.jsx("h1",{children:t.name||t.title}),P.jsx("h2",{children:m}),p==="auction"&&P.jsxs("div",{className:"auction-info",children:[P.jsxs("p",{children:["경매 기간: ",t.auctionDuration,"일"]}),P.jsxs("p",{children:["시작 입찰가: ",(v=t.startBidPrice)==null?void 0:v.toLocaleString(),"원"]}),P.jsxs("p",{children:["즉시 입찰가: ",(w=t.buyNowPrice)==null?void 0:w.toLocaleString(),"원"]})]}),p==="product"&&P.jsx("div",{className:"product-info",children:P.jsxs("p",{children:["판매가: ",(x=t.price)==null?void 0:x.toLocaleString(),"원"]})}),P.jsxs("div",{className:"category-info",children:[t.primaryCategory&&P.jsx("span",{className:"tag primary",children:t.primaryCategory}),t.secondaryCategory&&P.jsx("span",{className:"tag secondary",children:t.secondaryCategory})]}),P.jsx(nx,{to:"/",className:"back-to-editor-link",children:"홈으로 돌아가기"})]}),P.jsx("main",{className:"result-content",children:P.jsx("div",{dangerouslySetInnerHTML:{__html:t.description||t.htmlBackup},style:{backgroundColor:t.backgroundColor,fontFamily:t.fontFamily}})})]})},J$=sA([{path:"/",element:P.jsx(ep,{})},{path:"/editor",element:P.jsx(ep,{})},{path:"/editor/:id",element:P.jsx(ep,{})},{path:"/editor/auction/:id",element:P.jsx(ep,{})},{path:"/editor/product/:id",element:P.jsx(ep,{})},{path:"/editor/result/:id",element:P.jsx(K$,{})}]);d_.createRoot(document.getElementById("root")).render(P.jsx(dr.StrictMode,{children:P.jsx(wA,{router:J$})}));
