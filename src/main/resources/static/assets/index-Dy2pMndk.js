(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function Ap(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function I0(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var ud={exports:{}},Is={},cd={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function gk(){if(ly)return He;ly=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.iterator;function v(A){return A===null||typeof A!="object"?null:(A=g&&A[g]||A["@@iterator"],typeof A=="function"?A:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,C={};function w(A,U,ke){this.props=A,this.context=U,this.refs=C,this.updater=ke||x}w.prototype.isReactComponent={},w.prototype.setState=function(A,U){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,U,"setState")},w.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function S(){}S.prototype=w.prototype;function b(A,U,ke){this.props=A,this.context=U,this.refs=C,this.updater=ke||x}var O=b.prototype=new S;O.constructor=b,k(O,w.prototype),O.isPureReactComponent=!0;var E=Array.isArray,R=Object.prototype.hasOwnProperty,N={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function D(A,U,ke){var Ee,De={},Ie=null,$e=null;if(U!=null)for(Ee in U.ref!==void 0&&($e=U.ref),U.key!==void 0&&(Ie=""+U.key),U)R.call(U,Ee)&&!T.hasOwnProperty(Ee)&&(De[Ee]=U[Ee]);var Y=arguments.length-2;if(Y===1)De.children=ke;else if(1<Y){for(var ue=Array(Y),Me=0;Me<Y;Me++)ue[Me]=arguments[Me+2];De.children=ue}if(A&&A.defaultProps)for(Ee in Y=A.defaultProps,Y)De[Ee]===void 0&&(De[Ee]=Y[Ee]);return{$$typeof:n,type:A,key:Ie,ref:$e,props:De,_owner:N.current}}function B(A,U){return{$$typeof:n,type:A.type,key:U,ref:A.ref,props:A.props,_owner:A._owner}}function W(A){return typeof A=="object"&&A!==null&&A.$$typeof===n}function te(A){var U={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(ke){return U[ke]})}var K=/\/+/g;function re(A,U){return typeof A=="object"&&A!==null&&A.key!=null?te(""+A.key):U.toString(36)}function fe(A,U,ke,Ee,De){var Ie=typeof A;(Ie==="undefined"||Ie==="boolean")&&(A=null);var $e=!1;if(A===null)$e=!0;else switch(Ie){case"string":case"number":$e=!0;break;case"object":switch(A.$$typeof){case n:case e:$e=!0}}if($e)return $e=A,De=De($e),A=Ee===""?"."+re($e,0):Ee,E(De)?(ke="",A!=null&&(ke=A.replace(K,"$&/")+"/"),fe(De,U,ke,"",function(Me){return Me})):De!=null&&(W(De)&&(De=B(De,ke+(!De.key||$e&&$e.key===De.key?"":(""+De.key).replace(K,"$&/")+"/")+A)),U.push(De)),1;if($e=0,Ee=Ee===""?".":Ee+":",E(A))for(var Y=0;Y<A.length;Y++){Ie=A[Y];var ue=Ee+re(Ie,Y);$e+=fe(Ie,U,ke,ue,De)}else if(ue=v(A),typeof ue=="function")for(A=ue.call(A),Y=0;!(Ie=A.next()).done;)Ie=Ie.value,ue=Ee+re(Ie,Y++),$e+=fe(Ie,U,ke,ue,De);else if(Ie==="object")throw U=String(A),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return $e}function he(A,U,ke){if(A==null)return A;var Ee=[],De=0;return fe(A,Ee,"","",function(Ie){return U.call(ke,Ie,De++)}),Ee}function ce(A){if(A._status===-1){var U=A._result;U=U(),U.then(function(ke){(A._status===0||A._status===-1)&&(A._status=1,A._result=ke)},function(ke){(A._status===0||A._status===-1)&&(A._status=2,A._result=ke)}),A._status===-1&&(A._status=0,A._result=U)}if(A._status===1)return A._result.default;throw A._result}var le={current:null},G={transition:null},se={ReactCurrentDispatcher:le,ReactCurrentBatchConfig:G,ReactCurrentOwner:N};function Z(){throw Error("act(...) is not supported in production builds of React.")}return He.Children={map:he,forEach:function(A,U,ke){he(A,function(){U.apply(this,arguments)},ke)},count:function(A){var U=0;return he(A,function(){U++}),U},toArray:function(A){return he(A,function(U){return U})||[]},only:function(A){if(!W(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},He.Component=w,He.Fragment=t,He.Profiler=i,He.PureComponent=b,He.StrictMode=r,He.Suspense=f,He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,He.act=Z,He.cloneElement=function(A,U,ke){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var Ee=k({},A.props),De=A.key,Ie=A.ref,$e=A._owner;if(U!=null){if(U.ref!==void 0&&(Ie=U.ref,$e=N.current),U.key!==void 0&&(De=""+U.key),A.type&&A.type.defaultProps)var Y=A.type.defaultProps;for(ue in U)R.call(U,ue)&&!T.hasOwnProperty(ue)&&(Ee[ue]=U[ue]===void 0&&Y!==void 0?Y[ue]:U[ue])}var ue=arguments.length-2;if(ue===1)Ee.children=ke;else if(1<ue){Y=Array(ue);for(var Me=0;Me<ue;Me++)Y[Me]=arguments[Me+2];Ee.children=Y}return{$$typeof:n,type:A.type,key:De,ref:Ie,props:Ee,_owner:$e}},He.createContext=function(A){return A={$$typeof:a,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:s,_context:A},A.Consumer=A},He.createElement=D,He.createFactory=function(A){var U=D.bind(null,A);return U.type=A,U},He.createRef=function(){return{current:null}},He.forwardRef=function(A){return{$$typeof:u,render:A}},He.isValidElement=W,He.lazy=function(A){return{$$typeof:h,_payload:{_status:-1,_result:A},_init:ce}},He.memo=function(A,U){return{$$typeof:p,type:A,compare:U===void 0?null:U}},He.startTransition=function(A){var U=G.transition;G.transition={};try{A()}finally{G.transition=U}},He.unstable_act=Z,He.useCallback=function(A,U){return le.current.useCallback(A,U)},He.useContext=function(A){return le.current.useContext(A)},He.useDebugValue=function(){},He.useDeferredValue=function(A){return le.current.useDeferredValue(A)},He.useEffect=function(A,U){return le.current.useEffect(A,U)},He.useId=function(){return le.current.useId()},He.useImperativeHandle=function(A,U,ke){return le.current.useImperativeHandle(A,U,ke)},He.useInsertionEffect=function(A,U){return le.current.useInsertionEffect(A,U)},He.useLayoutEffect=function(A,U){return le.current.useLayoutEffect(A,U)},He.useMemo=function(A,U){return le.current.useMemo(A,U)},He.useReducer=function(A,U,ke){return le.current.useReducer(A,U,ke)},He.useRef=function(A){return le.current.useRef(A)},He.useState=function(A){return le.current.useState(A)},He.useSyncExternalStore=function(A,U,ke){return le.current.useSyncExternalStore(A,U,ke)},He.useTransition=function(){return le.current.useTransition()},He.version="18.3.1",He}var ay;function an(){return ay||(ay=1,cd.exports=gk()),cd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function yk(){if(uy)return Is;uy=1;var n=an(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(u,f,p){var h,g={},v=null,x=null;p!==void 0&&(v=""+p),f.key!==void 0&&(v=""+f.key),f.ref!==void 0&&(x=f.ref);for(h in f)r.call(f,h)&&!s.hasOwnProperty(h)&&(g[h]=f[h]);if(u&&u.defaultProps)for(h in f=u.defaultProps,f)g[h]===void 0&&(g[h]=f[h]);return{$$typeof:e,type:u,key:v,ref:x,props:g,_owner:i.current}}return Is.Fragment=t,Is.jsx=a,Is.jsxs=a,Is}var cy;function vk(){return cy||(cy=1,ud.exports=yk()),ud.exports}var _=vk(),Ae=an();const bt=Ap(Ae);var Wa={},fd={exports:{}},nn={},dd={exports:{}},pd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fy;function wk(){return fy||(fy=1,function(n){function e(G,se){var Z=G.length;G.push(se);e:for(;0<Z;){var A=Z-1>>>1,U=G[A];if(0<i(U,se))G[A]=se,G[Z]=U,Z=A;else break e}}function t(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var se=G[0],Z=G.pop();if(Z!==se){G[0]=Z;e:for(var A=0,U=G.length,ke=U>>>1;A<ke;){var Ee=2*(A+1)-1,De=G[Ee],Ie=Ee+1,$e=G[Ie];if(0>i(De,Z))Ie<U&&0>i($e,De)?(G[A]=$e,G[Ie]=Z,A=Ie):(G[A]=De,G[Ee]=Z,A=Ee);else if(Ie<U&&0>i($e,Z))G[A]=$e,G[Ie]=Z,A=Ie;else break e}}return se}function i(G,se){var Z=G.sortIndex-se.sortIndex;return Z!==0?Z:G.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();n.unstable_now=function(){return a.now()-u}}var f=[],p=[],h=1,g=null,v=3,x=!1,k=!1,C=!1,w=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(G){for(var se=t(p);se!==null;){if(se.callback===null)r(p);else if(se.startTime<=G)r(p),se.sortIndex=se.expirationTime,e(f,se);else break;se=t(p)}}function E(G){if(C=!1,O(G),!k)if(t(f)!==null)k=!0,ce(R);else{var se=t(p);se!==null&&le(E,se.startTime-G)}}function R(G,se){k=!1,C&&(C=!1,S(D),D=-1),x=!0;var Z=v;try{for(O(se),g=t(f);g!==null&&(!(g.expirationTime>se)||G&&!te());){var A=g.callback;if(typeof A=="function"){g.callback=null,v=g.priorityLevel;var U=A(g.expirationTime<=se);se=n.unstable_now(),typeof U=="function"?g.callback=U:g===t(f)&&r(f),O(se)}else r(f);g=t(f)}if(g!==null)var ke=!0;else{var Ee=t(p);Ee!==null&&le(E,Ee.startTime-se),ke=!1}return ke}finally{g=null,v=Z,x=!1}}var N=!1,T=null,D=-1,B=5,W=-1;function te(){return!(n.unstable_now()-W<B)}function K(){if(T!==null){var G=n.unstable_now();W=G;var se=!0;try{se=T(!0,G)}finally{se?re():(N=!1,T=null)}}else N=!1}var re;if(typeof b=="function")re=function(){b(K)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,he=fe.port2;fe.port1.onmessage=K,re=function(){he.postMessage(null)}}else re=function(){w(K,0)};function ce(G){T=G,N||(N=!0,re())}function le(G,se){D=w(function(){G(n.unstable_now())},se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_continueExecution=function(){k||x||(k=!0,ce(R))},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(G){switch(v){case 1:case 2:case 3:var se=3;break;default:se=v}var Z=v;v=se;try{return G()}finally{v=Z}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(G,se){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var Z=v;v=G;try{return se()}finally{v=Z}},n.unstable_scheduleCallback=function(G,se,Z){var A=n.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?A+Z:A):Z=A,G){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=Z+U,G={id:h++,callback:se,priorityLevel:G,startTime:Z,expirationTime:U,sortIndex:-1},Z>A?(G.sortIndex=Z,e(p,G),t(f)===null&&G===t(p)&&(C?(S(D),D=-1):C=!0,le(E,Z-A))):(G.sortIndex=U,e(f,G),k||x||(k=!0,ce(R))),G},n.unstable_shouldYield=te,n.unstable_wrapCallback=function(G){var se=v;return function(){var Z=v;v=se;try{return G.apply(this,arguments)}finally{v=Z}}}}(pd)),pd}var dy;function xk(){return dy||(dy=1,dd.exports=wk()),dd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py;function Sk(){if(py)return nn;py=1;var n=an(),e=xk();function t(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,c=1;c<arguments.length;c++)l+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(o,l){a(o,l),a(o+"Capture",l)}function a(o,l){for(i[o]=l,o=0;o<l.length;o++)r.add(l[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},g={};function v(o){return f.call(g,o)?!0:f.call(h,o)?!1:p.test(o)?g[o]=!0:(h[o]=!0,!1)}function x(o,l,c,d){if(c!==null&&c.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return d?!1:c!==null?!c.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function k(o,l,c,d){if(l===null||typeof l>"u"||x(o,l,c,d))return!0;if(d)return!1;if(c!==null)switch(c.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function C(o,l,c,d,m,y,M){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=c,this.propertyName=o,this.type=l,this.sanitizeURL=y,this.removeEmptyString=M}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){w[o]=new C(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];w[l]=new C(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){w[o]=new C(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){w[o]=new C(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){w[o]=new C(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){w[o]=new C(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){w[o]=new C(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){w[o]=new C(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){w[o]=new C(o,5,!1,o.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function b(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(S,b);w[l]=new C(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(S,b);w[l]=new C(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(S,b);w[l]=new C(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){w[o]=new C(o,1,!1,o.toLowerCase(),null,!1,!1)}),w.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){w[o]=new C(o,1,!1,o.toLowerCase(),null,!0,!0)});function O(o,l,c,d){var m=w.hasOwnProperty(l)?w[l]:null;(m!==null?m.type!==0:d||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(k(l,c,m,d)&&(c=null),d||m===null?v(l)&&(c===null?o.removeAttribute(l):o.setAttribute(l,""+c)):m.mustUseProperty?o[m.propertyName]=c===null?m.type===3?!1:"":c:(l=m.attributeName,d=m.attributeNamespace,c===null?o.removeAttribute(l):(m=m.type,c=m===3||m===4&&c===!0?"":""+c,d?o.setAttributeNS(d,l,c):o.setAttribute(l,c))))}var E=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),N=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),te=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),he=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),le=Symbol.for("react.offscreen"),G=Symbol.iterator;function se(o){return o===null||typeof o!="object"?null:(o=G&&o[G]||o["@@iterator"],typeof o=="function"?o:null)}var Z=Object.assign,A;function U(o){if(A===void 0)try{throw Error()}catch(c){var l=c.stack.trim().match(/\n( *(at )?)/);A=l&&l[1]||""}return`
`+A+o}var ke=!1;function Ee(o,l){if(!o||ke)return"";ke=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(V){var d=V}Reflect.construct(o,[],l)}else{try{l.call()}catch(V){d=V}o.call(l.prototype)}else{try{throw Error()}catch(V){d=V}o()}}catch(V){if(V&&d&&typeof V.stack=="string"){for(var m=V.stack.split(`
`),y=d.stack.split(`
`),M=m.length-1,P=y.length-1;1<=M&&0<=P&&m[M]!==y[P];)P--;for(;1<=M&&0<=P;M--,P--)if(m[M]!==y[P]){if(M!==1||P!==1)do if(M--,P--,0>P||m[M]!==y[P]){var L=`
`+m[M].replace(" at new "," at ");return o.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",o.displayName)),L}while(1<=M&&0<=P);break}}}finally{ke=!1,Error.prepareStackTrace=c}return(o=o?o.displayName||o.name:"")?U(o):""}function De(o){switch(o.tag){case 5:return U(o.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return o=Ee(o.type,!1),o;case 11:return o=Ee(o.type.render,!1),o;case 1:return o=Ee(o.type,!0),o;default:return""}}function Ie(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case T:return"Fragment";case N:return"Portal";case B:return"Profiler";case D:return"StrictMode";case re:return"Suspense";case fe:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case te:return(o.displayName||"Context")+".Consumer";case W:return(o._context.displayName||"Context")+".Provider";case K:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case he:return l=o.displayName||null,l!==null?l:Ie(o.type)||"Memo";case ce:l=o._payload,o=o._init;try{return Ie(o(l))}catch{}}return null}function $e(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ie(l);case 8:return l===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Y(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function ue(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Me(o){var l=ue(o)?"checked":"value",c=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),d=""+o[l];if(!o.hasOwnProperty(l)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,y=c.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return m.call(this)},set:function(M){d=""+M,y.call(this,M)}}),Object.defineProperty(o,l,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(M){d=""+M},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function I(o){o._valueTracker||(o._valueTracker=Me(o))}function j(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var c=l.getValue(),d="";return o&&(d=ue(o)?o.checked?"true":"false":o.value),o=d,o!==c?(l.setValue(o),!0):!1}function $(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function J(o,l){var c=l.checked;return Z({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??o._wrapperState.initialChecked})}function ge(o,l){var c=l.defaultValue==null?"":l.defaultValue,d=l.checked!=null?l.checked:l.defaultChecked;c=Y(l.value!=null?l.value:c),o._wrapperState={initialChecked:d,initialValue:c,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function ae(o,l){l=l.checked,l!=null&&O(o,"checked",l,!1)}function Ce(o,l){ae(o,l);var c=Y(l.value),d=l.type;if(c!=null)d==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+c):o.value!==""+c&&(o.value=""+c);else if(d==="submit"||d==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?Te(o,l.type,c):l.hasOwnProperty("defaultValue")&&Te(o,l.type,Y(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function ye(o,l,c){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var d=l.type;if(!(d!=="submit"&&d!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,c||l===o.value||(o.value=l),o.defaultValue=l}c=o.name,c!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,c!==""&&(o.name=c)}function Te(o,l,c){(l!=="number"||$(o.ownerDocument)!==o)&&(c==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+c&&(o.defaultValue=""+c))}var _e=Array.isArray;function rt(o,l,c,d){if(o=o.options,l){l={};for(var m=0;m<c.length;m++)l["$"+c[m]]=!0;for(c=0;c<o.length;c++)m=l.hasOwnProperty("$"+o[c].value),o[c].selected!==m&&(o[c].selected=m),m&&d&&(o[c].defaultSelected=!0)}else{for(c=""+Y(c),l=null,m=0;m<o.length;m++){if(o[m].value===c){o[m].selected=!0,d&&(o[m].defaultSelected=!0);return}l!==null||o[m].disabled||(l=o[m])}l!==null&&(l.selected=!0)}}function st(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(t(91));return Z({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Ge(o,l){var c=l.value;if(c==null){if(c=l.children,l=l.defaultValue,c!=null){if(l!=null)throw Error(t(92));if(_e(c)){if(1<c.length)throw Error(t(93));c=c[0]}l=c}l==null&&(l=""),c=l}o._wrapperState={initialValue:Y(c)}}function Ut(o,l){var c=Y(l.value),d=Y(l.defaultValue);c!=null&&(c=""+c,c!==o.value&&(o.value=c),l.defaultValue==null&&o.defaultValue!==c&&(o.defaultValue=c)),d!=null&&(o.defaultValue=""+d)}function vn(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function Ln(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qn(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?Ln(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Dt,Ll=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,c,d,m){MSApp.execUnsafeLocalFunction(function(){return o(l,c,d,m)})}:o}(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(Dt=Dt||document.createElement("div"),Dt.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Dt.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function wi(o,l){if(l){var c=o.firstChild;if(c&&c===o.lastChild&&c.nodeType===3){c.nodeValue=l;return}}o.textContent=l}var xi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ec=["Webkit","ms","Moz","O"];Object.keys(xi).forEach(function(o){Ec.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),xi[l]=xi[o]})});function Il(o,l,c){return l==null||typeof l=="boolean"||l===""?"":c||typeof l!="number"||l===0||xi.hasOwnProperty(o)&&xi[o]?(""+l).trim():l+"px"}function q(o,l){o=o.style;for(var c in l)if(l.hasOwnProperty(c)){var d=c.indexOf("--")===0,m=Il(c,l[c],d);c==="float"&&(c="cssFloat"),d?o.setProperty(c,m):o[c]=m}}var xe=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pe(o,l){if(l){if(xe[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(t(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(t(61))}if(l.style!=null&&typeof l.style!="object")throw Error(t(62))}}function Ue(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ve=null;function gt(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var _t=null,cn=null,ur=null;function Kn(o){if(o=xs(o)){if(typeof _t!="function")throw Error(t(280));var l=o.stateNode;l&&(l=oa(l),_t(o.stateNode,o.type,l))}}function io(o){cn?ur?ur.push(o):ur=[o]:cn=o}function Si(){if(cn){var o=cn,l=ur;if(ur=cn=null,Kn(o),l)for(o=0;o<l.length;o++)Kn(l[o])}}function cr(o,l){return o(l)}function zl(){}var ki=!1;function Ci(o,l,c){if(ki)return o(l,c);ki=!0;try{return cr(o,l,c)}finally{ki=!1,(cn!==null||ur!==null)&&(zl(),Si())}}function Qo(o,l){var c=o.stateNode;if(c===null)return null;var d=oa(c);if(d===null)return null;c=d[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(o=o.type,d=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!d;break e;default:o=!1}if(o)return null;if(c&&typeof c!="function")throw Error(t(231,l,typeof c));return c}var Oc=!1;if(u)try{var Zo={};Object.defineProperty(Zo,"passive",{get:function(){Oc=!0}}),window.addEventListener("test",Zo,Zo),window.removeEventListener("test",Zo,Zo)}catch{Oc=!1}function kx(o,l,c,d,m,y,M,P,L){var V=Array.prototype.slice.call(arguments,3);try{l.apply(c,V)}catch(Q){this.onError(Q)}}var es=!1,_l=null,jl=!1,Mc=null,Cx={onError:function(o){es=!0,_l=o}};function bx(o,l,c,d,m,y,M,P,L){es=!1,_l=null,kx.apply(Cx,arguments)}function Ex(o,l,c,d,m,y,M,P,L){if(bx.apply(this,arguments),es){if(es){var V=_l;es=!1,_l=null}else throw Error(t(198));jl||(jl=!0,Mc=V)}}function bi(o){var l=o,c=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(c=l.return),o=l.return;while(o)}return l.tag===3?c:null}function Rh(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function Dh(o){if(bi(o)!==o)throw Error(t(188))}function Ox(o){var l=o.alternate;if(!l){if(l=bi(o),l===null)throw Error(t(188));return l!==o?null:o}for(var c=o,d=l;;){var m=c.return;if(m===null)break;var y=m.alternate;if(y===null){if(d=m.return,d!==null){c=d;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===c)return Dh(m),o;if(y===d)return Dh(m),l;y=y.sibling}throw Error(t(188))}if(c.return!==d.return)c=m,d=y;else{for(var M=!1,P=m.child;P;){if(P===c){M=!0,c=m,d=y;break}if(P===d){M=!0,d=m,c=y;break}P=P.sibling}if(!M){for(P=y.child;P;){if(P===c){M=!0,c=y,d=m;break}if(P===d){M=!0,d=y,c=m;break}P=P.sibling}if(!M)throw Error(t(189))}}if(c.alternate!==d)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?o:l}function Ph(o){return o=Ox(o),o!==null?Ah(o):null}function Ah(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=Ah(o);if(l!==null)return l;o=o.sibling}return null}var Lh=e.unstable_scheduleCallback,Ih=e.unstable_cancelCallback,Mx=e.unstable_shouldYield,Tx=e.unstable_requestPaint,ct=e.unstable_now,Nx=e.unstable_getCurrentPriorityLevel,Tc=e.unstable_ImmediatePriority,zh=e.unstable_UserBlockingPriority,Bl=e.unstable_NormalPriority,Rx=e.unstable_LowPriority,_h=e.unstable_IdlePriority,Fl=null,Gn=null;function Dx(o){if(Gn&&typeof Gn.onCommitFiberRoot=="function")try{Gn.onCommitFiberRoot(Fl,o,void 0,(o.current.flags&128)===128)}catch{}}var In=Math.clz32?Math.clz32:Lx,Px=Math.log,Ax=Math.LN2;function Lx(o){return o>>>=0,o===0?32:31-(Px(o)/Ax|0)|0}var Hl=64,$l=4194304;function ts(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Vl(o,l){var c=o.pendingLanes;if(c===0)return 0;var d=0,m=o.suspendedLanes,y=o.pingedLanes,M=c&268435455;if(M!==0){var P=M&~m;P!==0?d=ts(P):(y&=M,y!==0&&(d=ts(y)))}else M=c&~m,M!==0?d=ts(M):y!==0&&(d=ts(y));if(d===0)return 0;if(l!==0&&l!==d&&(l&m)===0&&(m=d&-d,y=l&-l,m>=y||m===16&&(y&4194240)!==0))return l;if((d&4)!==0&&(d|=c&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=d;0<l;)c=31-In(l),m=1<<c,d|=o[c],l&=~m;return d}function Ix(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zx(o,l){for(var c=o.suspendedLanes,d=o.pingedLanes,m=o.expirationTimes,y=o.pendingLanes;0<y;){var M=31-In(y),P=1<<M,L=m[M];L===-1?((P&c)===0||(P&d)!==0)&&(m[M]=Ix(P,l)):L<=l&&(o.expiredLanes|=P),y&=~P}}function Nc(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function jh(){var o=Hl;return Hl<<=1,(Hl&4194240)===0&&(Hl=64),o}function Rc(o){for(var l=[],c=0;31>c;c++)l.push(o);return l}function ns(o,l,c){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-In(l),o[l]=c}function _x(o,l){var c=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var d=o.eventTimes;for(o=o.expirationTimes;0<c;){var m=31-In(c),y=1<<m;l[m]=0,d[m]=-1,o[m]=-1,c&=~y}}function Dc(o,l){var c=o.entangledLanes|=l;for(o=o.entanglements;c;){var d=31-In(c),m=1<<d;m&l|o[d]&l&&(o[d]|=l),c&=~m}}var Je=0;function Bh(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Fh,Pc,Hh,$h,Vh,Ac=!1,Wl=[],Dr=null,Pr=null,Ar=null,rs=new Map,is=new Map,Lr=[],jx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wh(o,l){switch(o){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Pr=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":rs.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":is.delete(l.pointerId)}}function ss(o,l,c,d,m,y){return o===null||o.nativeEvent!==y?(o={blockedOn:l,domEventName:c,eventSystemFlags:d,nativeEvent:y,targetContainers:[m]},l!==null&&(l=xs(l),l!==null&&Pc(l)),o):(o.eventSystemFlags|=d,l=o.targetContainers,m!==null&&l.indexOf(m)===-1&&l.push(m),o)}function Bx(o,l,c,d,m){switch(l){case"focusin":return Dr=ss(Dr,o,l,c,d,m),!0;case"dragenter":return Pr=ss(Pr,o,l,c,d,m),!0;case"mouseover":return Ar=ss(Ar,o,l,c,d,m),!0;case"pointerover":var y=m.pointerId;return rs.set(y,ss(rs.get(y)||null,o,l,c,d,m)),!0;case"gotpointercapture":return y=m.pointerId,is.set(y,ss(is.get(y)||null,o,l,c,d,m)),!0}return!1}function Uh(o){var l=Ei(o.target);if(l!==null){var c=bi(l);if(c!==null){if(l=c.tag,l===13){if(l=Rh(c),l!==null){o.blockedOn=l,Vh(o.priority,function(){Hh(c)});return}}else if(l===3&&c.stateNode.current.memoizedState.isDehydrated){o.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Ul(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var c=Ic(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(c===null){c=o.nativeEvent;var d=new c.constructor(c.type,c);Ve=d,c.target.dispatchEvent(d),Ve=null}else return l=xs(c),l!==null&&Pc(l),o.blockedOn=c,!1;l.shift()}return!0}function qh(o,l,c){Ul(o)&&c.delete(l)}function Fx(){Ac=!1,Dr!==null&&Ul(Dr)&&(Dr=null),Pr!==null&&Ul(Pr)&&(Pr=null),Ar!==null&&Ul(Ar)&&(Ar=null),rs.forEach(qh),is.forEach(qh)}function ls(o,l){o.blockedOn===l&&(o.blockedOn=null,Ac||(Ac=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Fx)))}function as(o){function l(m){return ls(m,o)}if(0<Wl.length){ls(Wl[0],o);for(var c=1;c<Wl.length;c++){var d=Wl[c];d.blockedOn===o&&(d.blockedOn=null)}}for(Dr!==null&&ls(Dr,o),Pr!==null&&ls(Pr,o),Ar!==null&&ls(Ar,o),rs.forEach(l),is.forEach(l),c=0;c<Lr.length;c++)d=Lr[c],d.blockedOn===o&&(d.blockedOn=null);for(;0<Lr.length&&(c=Lr[0],c.blockedOn===null);)Uh(c),c.blockedOn===null&&Lr.shift()}var oo=E.ReactCurrentBatchConfig,ql=!0;function Hx(o,l,c,d){var m=Je,y=oo.transition;oo.transition=null;try{Je=1,Lc(o,l,c,d)}finally{Je=m,oo.transition=y}}function $x(o,l,c,d){var m=Je,y=oo.transition;oo.transition=null;try{Je=4,Lc(o,l,c,d)}finally{Je=m,oo.transition=y}}function Lc(o,l,c,d){if(ql){var m=Ic(o,l,c,d);if(m===null)Qc(o,l,d,Kl,c),Wh(o,d);else if(Bx(m,o,l,c,d))d.stopPropagation();else if(Wh(o,d),l&4&&-1<jx.indexOf(o)){for(;m!==null;){var y=xs(m);if(y!==null&&Fh(y),y=Ic(o,l,c,d),y===null&&Qc(o,l,d,Kl,c),y===m)break;m=y}m!==null&&d.stopPropagation()}else Qc(o,l,d,null,c)}}var Kl=null;function Ic(o,l,c,d){if(Kl=null,o=gt(d),o=Ei(o),o!==null)if(l=bi(o),l===null)o=null;else if(c=l.tag,c===13){if(o=Rh(l),o!==null)return o;o=null}else if(c===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return Kl=o,null}function Kh(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nx()){case Tc:return 1;case zh:return 4;case Bl:case Rx:return 16;case _h:return 536870912;default:return 16}default:return 16}}var Ir=null,zc=null,Gl=null;function Gh(){if(Gl)return Gl;var o,l=zc,c=l.length,d,m="value"in Ir?Ir.value:Ir.textContent,y=m.length;for(o=0;o<c&&l[o]===m[o];o++);var M=c-o;for(d=1;d<=M&&l[c-d]===m[y-d];d++);return Gl=m.slice(o,1<d?1-d:void 0)}function Jl(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Yl(){return!0}function Jh(){return!1}function fn(o){function l(c,d,m,y,M){this._reactName=c,this._targetInst=m,this.type=d,this.nativeEvent=y,this.target=M,this.currentTarget=null;for(var P in o)o.hasOwnProperty(P)&&(c=o[P],this[P]=c?c(y):y[P]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Yl:Jh,this.isPropagationStopped=Jh,this}return Z(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Yl)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Yl)},persist:function(){},isPersistent:Yl}),l}var so={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_c=fn(so),us=Z({},so,{view:0,detail:0}),Vx=fn(us),jc,Bc,cs,Xl=Z({},us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hc,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==cs&&(cs&&o.type==="mousemove"?(jc=o.screenX-cs.screenX,Bc=o.screenY-cs.screenY):Bc=jc=0,cs=o),jc)},movementY:function(o){return"movementY"in o?o.movementY:Bc}}),Yh=fn(Xl),Wx=Z({},Xl,{dataTransfer:0}),Ux=fn(Wx),qx=Z({},us,{relatedTarget:0}),Fc=fn(qx),Kx=Z({},so,{animationName:0,elapsedTime:0,pseudoElement:0}),Gx=fn(Kx),Jx=Z({},so,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Yx=fn(Jx),Xx=Z({},so,{data:0}),Xh=fn(Xx),Qx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tS(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=eS[o])?!!l[o]:!1}function Hc(){return tS}var nS=Z({},us,{key:function(o){if(o.key){var l=Qx[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=Jl(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Zx[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hc,charCode:function(o){return o.type==="keypress"?Jl(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Jl(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),rS=fn(nS),iS=Z({},Xl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qh=fn(iS),oS=Z({},us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hc}),sS=fn(oS),lS=Z({},so,{propertyName:0,elapsedTime:0,pseudoElement:0}),aS=fn(lS),uS=Z({},Xl,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),cS=fn(uS),fS=[9,13,27,32],$c=u&&"CompositionEvent"in window,fs=null;u&&"documentMode"in document&&(fs=document.documentMode);var dS=u&&"TextEvent"in window&&!fs,Zh=u&&(!$c||fs&&8<fs&&11>=fs),em=" ",tm=!1;function nm(o,l){switch(o){case"keyup":return fS.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rm(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var lo=!1;function pS(o,l){switch(o){case"compositionend":return rm(l);case"keypress":return l.which!==32?null:(tm=!0,em);case"textInput":return o=l.data,o===em&&tm?null:o;default:return null}}function hS(o,l){if(lo)return o==="compositionend"||!$c&&nm(o,l)?(o=Gh(),Gl=zc=Ir=null,lo=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Zh&&l.locale!=="ko"?null:l.data;default:return null}}var mS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function im(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!mS[o.type]:l==="textarea"}function om(o,l,c,d){io(d),l=na(l,"onChange"),0<l.length&&(c=new _c("onChange","change",null,c,d),o.push({event:c,listeners:l}))}var ds=null,ps=null;function gS(o){Cm(o,0)}function Ql(o){var l=po(o);if(j(l))return o}function yS(o,l){if(o==="change")return l}var sm=!1;if(u){var Vc;if(u){var Wc="oninput"in document;if(!Wc){var lm=document.createElement("div");lm.setAttribute("oninput","return;"),Wc=typeof lm.oninput=="function"}Vc=Wc}else Vc=!1;sm=Vc&&(!document.documentMode||9<document.documentMode)}function am(){ds&&(ds.detachEvent("onpropertychange",um),ps=ds=null)}function um(o){if(o.propertyName==="value"&&Ql(ps)){var l=[];om(l,ps,o,gt(o)),Ci(gS,l)}}function vS(o,l,c){o==="focusin"?(am(),ds=l,ps=c,ds.attachEvent("onpropertychange",um)):o==="focusout"&&am()}function wS(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Ql(ps)}function xS(o,l){if(o==="click")return Ql(l)}function SS(o,l){if(o==="input"||o==="change")return Ql(l)}function kS(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var zn=typeof Object.is=="function"?Object.is:kS;function hs(o,l){if(zn(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var c=Object.keys(o),d=Object.keys(l);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var m=c[d];if(!f.call(l,m)||!zn(o[m],l[m]))return!1}return!0}function cm(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function fm(o,l){var c=cm(o);o=0;for(var d;c;){if(c.nodeType===3){if(d=o+c.textContent.length,o<=l&&d>=l)return{node:c,offset:l-o};o=d}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=cm(c)}}function dm(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?dm(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function pm(){for(var o=window,l=$();l instanceof o.HTMLIFrameElement;){try{var c=typeof l.contentWindow.location.href=="string"}catch{c=!1}if(c)o=l.contentWindow;else break;l=$(o.document)}return l}function Uc(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function CS(o){var l=pm(),c=o.focusedElem,d=o.selectionRange;if(l!==c&&c&&c.ownerDocument&&dm(c.ownerDocument.documentElement,c)){if(d!==null&&Uc(c)){if(l=d.start,o=d.end,o===void 0&&(o=l),"selectionStart"in c)c.selectionStart=l,c.selectionEnd=Math.min(o,c.value.length);else if(o=(l=c.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var m=c.textContent.length,y=Math.min(d.start,m);d=d.end===void 0?y:Math.min(d.end,m),!o.extend&&y>d&&(m=d,d=y,y=m),m=fm(c,y);var M=fm(c,d);m&&M&&(o.rangeCount!==1||o.anchorNode!==m.node||o.anchorOffset!==m.offset||o.focusNode!==M.node||o.focusOffset!==M.offset)&&(l=l.createRange(),l.setStart(m.node,m.offset),o.removeAllRanges(),y>d?(o.addRange(l),o.extend(M.node,M.offset)):(l.setEnd(M.node,M.offset),o.addRange(l)))}}for(l=[],o=c;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<l.length;c++)o=l[c],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var bS=u&&"documentMode"in document&&11>=document.documentMode,ao=null,qc=null,ms=null,Kc=!1;function hm(o,l,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Kc||ao==null||ao!==$(d)||(d=ao,"selectionStart"in d&&Uc(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),ms&&hs(ms,d)||(ms=d,d=na(qc,"onSelect"),0<d.length&&(l=new _c("onSelect","select",null,l,c),o.push({event:l,listeners:d}),l.target=ao)))}function Zl(o,l){var c={};return c[o.toLowerCase()]=l.toLowerCase(),c["Webkit"+o]="webkit"+l,c["Moz"+o]="moz"+l,c}var uo={animationend:Zl("Animation","AnimationEnd"),animationiteration:Zl("Animation","AnimationIteration"),animationstart:Zl("Animation","AnimationStart"),transitionend:Zl("Transition","TransitionEnd")},Gc={},mm={};u&&(mm=document.createElement("div").style,"AnimationEvent"in window||(delete uo.animationend.animation,delete uo.animationiteration.animation,delete uo.animationstart.animation),"TransitionEvent"in window||delete uo.transitionend.transition);function ea(o){if(Gc[o])return Gc[o];if(!uo[o])return o;var l=uo[o],c;for(c in l)if(l.hasOwnProperty(c)&&c in mm)return Gc[o]=l[c];return o}var gm=ea("animationend"),ym=ea("animationiteration"),vm=ea("animationstart"),wm=ea("transitionend"),xm=new Map,Sm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zr(o,l){xm.set(o,l),s(l,[o])}for(var Jc=0;Jc<Sm.length;Jc++){var Yc=Sm[Jc],ES=Yc.toLowerCase(),OS=Yc[0].toUpperCase()+Yc.slice(1);zr(ES,"on"+OS)}zr(gm,"onAnimationEnd"),zr(ym,"onAnimationIteration"),zr(vm,"onAnimationStart"),zr("dblclick","onDoubleClick"),zr("focusin","onFocus"),zr("focusout","onBlur"),zr(wm,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MS=new Set("cancel close invalid load scroll toggle".split(" ").concat(gs));function km(o,l,c){var d=o.type||"unknown-event";o.currentTarget=c,Ex(d,l,void 0,o),o.currentTarget=null}function Cm(o,l){l=(l&4)!==0;for(var c=0;c<o.length;c++){var d=o[c],m=d.event;d=d.listeners;e:{var y=void 0;if(l)for(var M=d.length-1;0<=M;M--){var P=d[M],L=P.instance,V=P.currentTarget;if(P=P.listener,L!==y&&m.isPropagationStopped())break e;km(m,P,V),y=L}else for(M=0;M<d.length;M++){if(P=d[M],L=P.instance,V=P.currentTarget,P=P.listener,L!==y&&m.isPropagationStopped())break e;km(m,P,V),y=L}}}if(jl)throw o=Mc,jl=!1,Mc=null,o}function Qe(o,l){var c=l[of];c===void 0&&(c=l[of]=new Set);var d=o+"__bubble";c.has(d)||(bm(l,o,2,!1),c.add(d))}function Xc(o,l,c){var d=0;l&&(d|=4),bm(c,o,d,l)}var ta="_reactListening"+Math.random().toString(36).slice(2);function ys(o){if(!o[ta]){o[ta]=!0,r.forEach(function(c){c!=="selectionchange"&&(MS.has(c)||Xc(c,!1,o),Xc(c,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[ta]||(l[ta]=!0,Xc("selectionchange",!1,l))}}function bm(o,l,c,d){switch(Kh(l)){case 1:var m=Hx;break;case 4:m=$x;break;default:m=Lc}c=m.bind(null,l,c,o),m=void 0,!Oc||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(m=!0),d?m!==void 0?o.addEventListener(l,c,{capture:!0,passive:m}):o.addEventListener(l,c,!0):m!==void 0?o.addEventListener(l,c,{passive:m}):o.addEventListener(l,c,!1)}function Qc(o,l,c,d,m){var y=d;if((l&1)===0&&(l&2)===0&&d!==null)e:for(;;){if(d===null)return;var M=d.tag;if(M===3||M===4){var P=d.stateNode.containerInfo;if(P===m||P.nodeType===8&&P.parentNode===m)break;if(M===4)for(M=d.return;M!==null;){var L=M.tag;if((L===3||L===4)&&(L=M.stateNode.containerInfo,L===m||L.nodeType===8&&L.parentNode===m))return;M=M.return}for(;P!==null;){if(M=Ei(P),M===null)return;if(L=M.tag,L===5||L===6){d=y=M;continue e}P=P.parentNode}}d=d.return}Ci(function(){var V=y,Q=gt(c),ne=[];e:{var X=xm.get(o);if(X!==void 0){var pe=_c,ve=o;switch(o){case"keypress":if(Jl(c)===0)break e;case"keydown":case"keyup":pe=rS;break;case"focusin":ve="focus",pe=Fc;break;case"focusout":ve="blur",pe=Fc;break;case"beforeblur":case"afterblur":pe=Fc;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=Yh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=Ux;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=sS;break;case gm:case ym:case vm:pe=Gx;break;case wm:pe=aS;break;case"scroll":pe=Vx;break;case"wheel":pe=cS;break;case"copy":case"cut":case"paste":pe=Yx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=Qh}var Se=(l&4)!==0,ft=!Se&&o==="scroll",F=Se?X!==null?X+"Capture":null:X;Se=[];for(var z=V,H;z!==null;){H=z;var oe=H.stateNode;if(H.tag===5&&oe!==null&&(H=oe,F!==null&&(oe=Qo(z,F),oe!=null&&Se.push(vs(z,oe,H)))),ft)break;z=z.return}0<Se.length&&(X=new pe(X,ve,null,c,Q),ne.push({event:X,listeners:Se}))}}if((l&7)===0){e:{if(X=o==="mouseover"||o==="pointerover",pe=o==="mouseout"||o==="pointerout",X&&c!==Ve&&(ve=c.relatedTarget||c.fromElement)&&(Ei(ve)||ve[fr]))break e;if((pe||X)&&(X=Q.window===Q?Q:(X=Q.ownerDocument)?X.defaultView||X.parentWindow:window,pe?(ve=c.relatedTarget||c.toElement,pe=V,ve=ve?Ei(ve):null,ve!==null&&(ft=bi(ve),ve!==ft||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(pe=null,ve=V),pe!==ve)){if(Se=Yh,oe="onMouseLeave",F="onMouseEnter",z="mouse",(o==="pointerout"||o==="pointerover")&&(Se=Qh,oe="onPointerLeave",F="onPointerEnter",z="pointer"),ft=pe==null?X:po(pe),H=ve==null?X:po(ve),X=new Se(oe,z+"leave",pe,c,Q),X.target=ft,X.relatedTarget=H,oe=null,Ei(Q)===V&&(Se=new Se(F,z+"enter",ve,c,Q),Se.target=H,Se.relatedTarget=ft,oe=Se),ft=oe,pe&&ve)t:{for(Se=pe,F=ve,z=0,H=Se;H;H=co(H))z++;for(H=0,oe=F;oe;oe=co(oe))H++;for(;0<z-H;)Se=co(Se),z--;for(;0<H-z;)F=co(F),H--;for(;z--;){if(Se===F||F!==null&&Se===F.alternate)break t;Se=co(Se),F=co(F)}Se=null}else Se=null;pe!==null&&Em(ne,X,pe,Se,!1),ve!==null&&ft!==null&&Em(ne,ft,ve,Se,!0)}}e:{if(X=V?po(V):window,pe=X.nodeName&&X.nodeName.toLowerCase(),pe==="select"||pe==="input"&&X.type==="file")var be=yS;else if(im(X))if(sm)be=SS;else{be=wS;var Ne=vS}else(pe=X.nodeName)&&pe.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(be=xS);if(be&&(be=be(o,V))){om(ne,be,c,Q);break e}Ne&&Ne(o,X,V),o==="focusout"&&(Ne=X._wrapperState)&&Ne.controlled&&X.type==="number"&&Te(X,"number",X.value)}switch(Ne=V?po(V):window,o){case"focusin":(im(Ne)||Ne.contentEditable==="true")&&(ao=Ne,qc=V,ms=null);break;case"focusout":ms=qc=ao=null;break;case"mousedown":Kc=!0;break;case"contextmenu":case"mouseup":case"dragend":Kc=!1,hm(ne,c,Q);break;case"selectionchange":if(bS)break;case"keydown":case"keyup":hm(ne,c,Q)}var Re;if($c)e:{switch(o){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else lo?nm(o,c)&&(Le="onCompositionEnd"):o==="keydown"&&c.keyCode===229&&(Le="onCompositionStart");Le&&(Zh&&c.locale!=="ko"&&(lo||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&lo&&(Re=Gh()):(Ir=Q,zc="value"in Ir?Ir.value:Ir.textContent,lo=!0)),Ne=na(V,Le),0<Ne.length&&(Le=new Xh(Le,o,null,c,Q),ne.push({event:Le,listeners:Ne}),Re?Le.data=Re:(Re=rm(c),Re!==null&&(Le.data=Re)))),(Re=dS?pS(o,c):hS(o,c))&&(V=na(V,"onBeforeInput"),0<V.length&&(Q=new Xh("onBeforeInput","beforeinput",null,c,Q),ne.push({event:Q,listeners:V}),Q.data=Re))}Cm(ne,l)})}function vs(o,l,c){return{instance:o,listener:l,currentTarget:c}}function na(o,l){for(var c=l+"Capture",d=[];o!==null;){var m=o,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=Qo(o,c),y!=null&&d.unshift(vs(o,y,m)),y=Qo(o,l),y!=null&&d.push(vs(o,y,m))),o=o.return}return d}function co(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Em(o,l,c,d,m){for(var y=l._reactName,M=[];c!==null&&c!==d;){var P=c,L=P.alternate,V=P.stateNode;if(L!==null&&L===d)break;P.tag===5&&V!==null&&(P=V,m?(L=Qo(c,y),L!=null&&M.unshift(vs(c,L,P))):m||(L=Qo(c,y),L!=null&&M.push(vs(c,L,P)))),c=c.return}M.length!==0&&o.push({event:l,listeners:M})}var TS=/\r\n?/g,NS=/\u0000|\uFFFD/g;function Om(o){return(typeof o=="string"?o:""+o).replace(TS,`
`).replace(NS,"")}function ra(o,l,c){if(l=Om(l),Om(o)!==l&&c)throw Error(t(425))}function ia(){}var Zc=null,ef=null;function tf(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var nf=typeof setTimeout=="function"?setTimeout:void 0,RS=typeof clearTimeout=="function"?clearTimeout:void 0,Mm=typeof Promise=="function"?Promise:void 0,DS=typeof queueMicrotask=="function"?queueMicrotask:typeof Mm<"u"?function(o){return Mm.resolve(null).then(o).catch(PS)}:nf;function PS(o){setTimeout(function(){throw o})}function rf(o,l){var c=l,d=0;do{var m=c.nextSibling;if(o.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(d===0){o.removeChild(m),as(l);return}d--}else c!=="$"&&c!=="$?"&&c!=="$!"||d++;c=m}while(c);as(l)}function _r(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function Tm(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var c=o.data;if(c==="$"||c==="$!"||c==="$?"){if(l===0)return o;l--}else c==="/$"&&l++}o=o.previousSibling}return null}var fo=Math.random().toString(36).slice(2),Jn="__reactFiber$"+fo,ws="__reactProps$"+fo,fr="__reactContainer$"+fo,of="__reactEvents$"+fo,AS="__reactListeners$"+fo,LS="__reactHandles$"+fo;function Ei(o){var l=o[Jn];if(l)return l;for(var c=o.parentNode;c;){if(l=c[fr]||c[Jn]){if(c=l.alternate,l.child!==null||c!==null&&c.child!==null)for(o=Tm(o);o!==null;){if(c=o[Jn])return c;o=Tm(o)}return l}o=c,c=o.parentNode}return null}function xs(o){return o=o[Jn]||o[fr],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function po(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function oa(o){return o[ws]||null}var sf=[],ho=-1;function jr(o){return{current:o}}function Ze(o){0>ho||(o.current=sf[ho],sf[ho]=null,ho--)}function Xe(o,l){ho++,sf[ho]=o.current,o.current=l}var Br={},jt=jr(Br),Xt=jr(!1),Oi=Br;function mo(o,l){var c=o.type.contextTypes;if(!c)return Br;var d=o.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===l)return d.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in c)m[y]=l[y];return d&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=m),m}function Qt(o){return o=o.childContextTypes,o!=null}function sa(){Ze(Xt),Ze(jt)}function Nm(o,l,c){if(jt.current!==Br)throw Error(t(168));Xe(jt,l),Xe(Xt,c)}function Rm(o,l,c){var d=o.stateNode;if(l=l.childContextTypes,typeof d.getChildContext!="function")return c;d=d.getChildContext();for(var m in d)if(!(m in l))throw Error(t(108,$e(o)||"Unknown",m));return Z({},c,d)}function la(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Br,Oi=jt.current,Xe(jt,o),Xe(Xt,Xt.current),!0}function Dm(o,l,c){var d=o.stateNode;if(!d)throw Error(t(169));c?(o=Rm(o,l,Oi),d.__reactInternalMemoizedMergedChildContext=o,Ze(Xt),Ze(jt),Xe(jt,o)):Ze(Xt),Xe(Xt,c)}var dr=null,aa=!1,lf=!1;function Pm(o){dr===null?dr=[o]:dr.push(o)}function IS(o){aa=!0,Pm(o)}function Fr(){if(!lf&&dr!==null){lf=!0;var o=0,l=Je;try{var c=dr;for(Je=1;o<c.length;o++){var d=c[o];do d=d(!0);while(d!==null)}dr=null,aa=!1}catch(m){throw dr!==null&&(dr=dr.slice(o+1)),Lh(Tc,Fr),m}finally{Je=l,lf=!1}}return null}var go=[],yo=0,ua=null,ca=0,wn=[],xn=0,Mi=null,pr=1,hr="";function Ti(o,l){go[yo++]=ca,go[yo++]=ua,ua=o,ca=l}function Am(o,l,c){wn[xn++]=pr,wn[xn++]=hr,wn[xn++]=Mi,Mi=o;var d=pr;o=hr;var m=32-In(d)-1;d&=~(1<<m),c+=1;var y=32-In(l)+m;if(30<y){var M=m-m%5;y=(d&(1<<M)-1).toString(32),d>>=M,m-=M,pr=1<<32-In(l)+m|c<<m|d,hr=y+o}else pr=1<<y|c<<m|d,hr=o}function af(o){o.return!==null&&(Ti(o,1),Am(o,1,0))}function uf(o){for(;o===ua;)ua=go[--yo],go[yo]=null,ca=go[--yo],go[yo]=null;for(;o===Mi;)Mi=wn[--xn],wn[xn]=null,hr=wn[--xn],wn[xn]=null,pr=wn[--xn],wn[xn]=null}var dn=null,pn=null,tt=!1,_n=null;function Lm(o,l){var c=bn(5,null,null,0);c.elementType="DELETED",c.stateNode=l,c.return=o,l=o.deletions,l===null?(o.deletions=[c],o.flags|=16):l.push(c)}function Im(o,l){switch(o.tag){case 5:var c=o.type;return l=l.nodeType!==1||c.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,dn=o,pn=_r(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,dn=o,pn=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(c=Mi!==null?{id:pr,overflow:hr}:null,o.memoizedState={dehydrated:l,treeContext:c,retryLane:1073741824},c=bn(18,null,null,0),c.stateNode=l,c.return=o,o.child=c,dn=o,pn=null,!0):!1;default:return!1}}function cf(o){return(o.mode&1)!==0&&(o.flags&128)===0}function ff(o){if(tt){var l=pn;if(l){var c=l;if(!Im(o,l)){if(cf(o))throw Error(t(418));l=_r(c.nextSibling);var d=dn;l&&Im(o,l)?Lm(d,c):(o.flags=o.flags&-4097|2,tt=!1,dn=o)}}else{if(cf(o))throw Error(t(418));o.flags=o.flags&-4097|2,tt=!1,dn=o}}}function zm(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;dn=o}function fa(o){if(o!==dn)return!1;if(!tt)return zm(o),tt=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!tf(o.type,o.memoizedProps)),l&&(l=pn)){if(cf(o))throw _m(),Error(t(418));for(;l;)Lm(o,l),l=_r(l.nextSibling)}if(zm(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var c=o.data;if(c==="/$"){if(l===0){pn=_r(o.nextSibling);break e}l--}else c!=="$"&&c!=="$!"&&c!=="$?"||l++}o=o.nextSibling}pn=null}}else pn=dn?_r(o.stateNode.nextSibling):null;return!0}function _m(){for(var o=pn;o;)o=_r(o.nextSibling)}function vo(){pn=dn=null,tt=!1}function df(o){_n===null?_n=[o]:_n.push(o)}var zS=E.ReactCurrentBatchConfig;function Ss(o,l,c){if(o=c.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var d=c.stateNode}if(!d)throw Error(t(147,o));var m=d,y=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===y?l.ref:(l=function(M){var P=m.refs;M===null?delete P[y]:P[y]=M},l._stringRef=y,l)}if(typeof o!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,o))}return o}function da(o,l){throw o=Object.prototype.toString.call(l),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function jm(o){var l=o._init;return l(o._payload)}function Bm(o){function l(F,z){if(o){var H=F.deletions;H===null?(F.deletions=[z],F.flags|=16):H.push(z)}}function c(F,z){if(!o)return null;for(;z!==null;)l(F,z),z=z.sibling;return null}function d(F,z){for(F=new Map;z!==null;)z.key!==null?F.set(z.key,z):F.set(z.index,z),z=z.sibling;return F}function m(F,z){return F=Gr(F,z),F.index=0,F.sibling=null,F}function y(F,z,H){return F.index=H,o?(H=F.alternate,H!==null?(H=H.index,H<z?(F.flags|=2,z):H):(F.flags|=2,z)):(F.flags|=1048576,z)}function M(F){return o&&F.alternate===null&&(F.flags|=2),F}function P(F,z,H,oe){return z===null||z.tag!==6?(z=rd(H,F.mode,oe),z.return=F,z):(z=m(z,H),z.return=F,z)}function L(F,z,H,oe){var be=H.type;return be===T?Q(F,z,H.props.children,oe,H.key):z!==null&&(z.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===ce&&jm(be)===z.type)?(oe=m(z,H.props),oe.ref=Ss(F,z,H),oe.return=F,oe):(oe=za(H.type,H.key,H.props,null,F.mode,oe),oe.ref=Ss(F,z,H),oe.return=F,oe)}function V(F,z,H,oe){return z===null||z.tag!==4||z.stateNode.containerInfo!==H.containerInfo||z.stateNode.implementation!==H.implementation?(z=id(H,F.mode,oe),z.return=F,z):(z=m(z,H.children||[]),z.return=F,z)}function Q(F,z,H,oe,be){return z===null||z.tag!==7?(z=zi(H,F.mode,oe,be),z.return=F,z):(z=m(z,H),z.return=F,z)}function ne(F,z,H){if(typeof z=="string"&&z!==""||typeof z=="number")return z=rd(""+z,F.mode,H),z.return=F,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case R:return H=za(z.type,z.key,z.props,null,F.mode,H),H.ref=Ss(F,null,z),H.return=F,H;case N:return z=id(z,F.mode,H),z.return=F,z;case ce:var oe=z._init;return ne(F,oe(z._payload),H)}if(_e(z)||se(z))return z=zi(z,F.mode,H,null),z.return=F,z;da(F,z)}return null}function X(F,z,H,oe){var be=z!==null?z.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return be!==null?null:P(F,z,""+H,oe);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case R:return H.key===be?L(F,z,H,oe):null;case N:return H.key===be?V(F,z,H,oe):null;case ce:return be=H._init,X(F,z,be(H._payload),oe)}if(_e(H)||se(H))return be!==null?null:Q(F,z,H,oe,null);da(F,H)}return null}function pe(F,z,H,oe,be){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return F=F.get(H)||null,P(z,F,""+oe,be);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case R:return F=F.get(oe.key===null?H:oe.key)||null,L(z,F,oe,be);case N:return F=F.get(oe.key===null?H:oe.key)||null,V(z,F,oe,be);case ce:var Ne=oe._init;return pe(F,z,H,Ne(oe._payload),be)}if(_e(oe)||se(oe))return F=F.get(H)||null,Q(z,F,oe,be,null);da(z,oe)}return null}function ve(F,z,H,oe){for(var be=null,Ne=null,Re=z,Le=z=0,Ct=null;Re!==null&&Le<H.length;Le++){Re.index>Le?(Ct=Re,Re=null):Ct=Re.sibling;var Ke=X(F,Re,H[Le],oe);if(Ke===null){Re===null&&(Re=Ct);break}o&&Re&&Ke.alternate===null&&l(F,Re),z=y(Ke,z,Le),Ne===null?be=Ke:Ne.sibling=Ke,Ne=Ke,Re=Ct}if(Le===H.length)return c(F,Re),tt&&Ti(F,Le),be;if(Re===null){for(;Le<H.length;Le++)Re=ne(F,H[Le],oe),Re!==null&&(z=y(Re,z,Le),Ne===null?be=Re:Ne.sibling=Re,Ne=Re);return tt&&Ti(F,Le),be}for(Re=d(F,Re);Le<H.length;Le++)Ct=pe(Re,F,Le,H[Le],oe),Ct!==null&&(o&&Ct.alternate!==null&&Re.delete(Ct.key===null?Le:Ct.key),z=y(Ct,z,Le),Ne===null?be=Ct:Ne.sibling=Ct,Ne=Ct);return o&&Re.forEach(function(Jr){return l(F,Jr)}),tt&&Ti(F,Le),be}function Se(F,z,H,oe){var be=se(H);if(typeof be!="function")throw Error(t(150));if(H=be.call(H),H==null)throw Error(t(151));for(var Ne=be=null,Re=z,Le=z=0,Ct=null,Ke=H.next();Re!==null&&!Ke.done;Le++,Ke=H.next()){Re.index>Le?(Ct=Re,Re=null):Ct=Re.sibling;var Jr=X(F,Re,Ke.value,oe);if(Jr===null){Re===null&&(Re=Ct);break}o&&Re&&Jr.alternate===null&&l(F,Re),z=y(Jr,z,Le),Ne===null?be=Jr:Ne.sibling=Jr,Ne=Jr,Re=Ct}if(Ke.done)return c(F,Re),tt&&Ti(F,Le),be;if(Re===null){for(;!Ke.done;Le++,Ke=H.next())Ke=ne(F,Ke.value,oe),Ke!==null&&(z=y(Ke,z,Le),Ne===null?be=Ke:Ne.sibling=Ke,Ne=Ke);return tt&&Ti(F,Le),be}for(Re=d(F,Re);!Ke.done;Le++,Ke=H.next())Ke=pe(Re,F,Le,Ke.value,oe),Ke!==null&&(o&&Ke.alternate!==null&&Re.delete(Ke.key===null?Le:Ke.key),z=y(Ke,z,Le),Ne===null?be=Ke:Ne.sibling=Ke,Ne=Ke);return o&&Re.forEach(function(mk){return l(F,mk)}),tt&&Ti(F,Le),be}function ft(F,z,H,oe){if(typeof H=="object"&&H!==null&&H.type===T&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case R:e:{for(var be=H.key,Ne=z;Ne!==null;){if(Ne.key===be){if(be=H.type,be===T){if(Ne.tag===7){c(F,Ne.sibling),z=m(Ne,H.props.children),z.return=F,F=z;break e}}else if(Ne.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===ce&&jm(be)===Ne.type){c(F,Ne.sibling),z=m(Ne,H.props),z.ref=Ss(F,Ne,H),z.return=F,F=z;break e}c(F,Ne);break}else l(F,Ne);Ne=Ne.sibling}H.type===T?(z=zi(H.props.children,F.mode,oe,H.key),z.return=F,F=z):(oe=za(H.type,H.key,H.props,null,F.mode,oe),oe.ref=Ss(F,z,H),oe.return=F,F=oe)}return M(F);case N:e:{for(Ne=H.key;z!==null;){if(z.key===Ne)if(z.tag===4&&z.stateNode.containerInfo===H.containerInfo&&z.stateNode.implementation===H.implementation){c(F,z.sibling),z=m(z,H.children||[]),z.return=F,F=z;break e}else{c(F,z);break}else l(F,z);z=z.sibling}z=id(H,F.mode,oe),z.return=F,F=z}return M(F);case ce:return Ne=H._init,ft(F,z,Ne(H._payload),oe)}if(_e(H))return ve(F,z,H,oe);if(se(H))return Se(F,z,H,oe);da(F,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,z!==null&&z.tag===6?(c(F,z.sibling),z=m(z,H),z.return=F,F=z):(c(F,z),z=rd(H,F.mode,oe),z.return=F,F=z),M(F)):c(F,z)}return ft}var wo=Bm(!0),Fm=Bm(!1),pa=jr(null),ha=null,xo=null,pf=null;function hf(){pf=xo=ha=null}function mf(o){var l=pa.current;Ze(pa),o._currentValue=l}function gf(o,l,c){for(;o!==null;){var d=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,d!==null&&(d.childLanes|=l)):d!==null&&(d.childLanes&l)!==l&&(d.childLanes|=l),o===c)break;o=o.return}}function So(o,l){ha=o,pf=xo=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(Zt=!0),o.firstContext=null)}function Sn(o){var l=o._currentValue;if(pf!==o)if(o={context:o,memoizedValue:l,next:null},xo===null){if(ha===null)throw Error(t(308));xo=o,ha.dependencies={lanes:0,firstContext:o}}else xo=xo.next=o;return l}var Ni=null;function yf(o){Ni===null?Ni=[o]:Ni.push(o)}function Hm(o,l,c,d){var m=l.interleaved;return m===null?(c.next=c,yf(l)):(c.next=m.next,m.next=c),l.interleaved=c,mr(o,d)}function mr(o,l){o.lanes|=l;var c=o.alternate;for(c!==null&&(c.lanes|=l),c=o,o=o.return;o!==null;)o.childLanes|=l,c=o.alternate,c!==null&&(c.childLanes|=l),c=o,o=o.return;return c.tag===3?c.stateNode:null}var Hr=!1;function vf(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $m(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function gr(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function $r(o,l,c){var d=o.updateQueue;if(d===null)return null;if(d=d.shared,(qe&2)!==0){var m=d.pending;return m===null?l.next=l:(l.next=m.next,m.next=l),d.pending=l,mr(o,c)}return m=d.interleaved,m===null?(l.next=l,yf(d)):(l.next=m.next,m.next=l),d.interleaved=l,mr(o,c)}function ma(o,l,c){if(l=l.updateQueue,l!==null&&(l=l.shared,(c&4194240)!==0)){var d=l.lanes;d&=o.pendingLanes,c|=d,l.lanes=c,Dc(o,c)}}function Vm(o,l){var c=o.updateQueue,d=o.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var m=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var M={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};y===null?m=y=M:y=y.next=M,c=c.next}while(c!==null);y===null?m=y=l:y=y.next=l}else m=y=l;c={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:d.shared,effects:d.effects},o.updateQueue=c;return}o=c.lastBaseUpdate,o===null?c.firstBaseUpdate=l:o.next=l,c.lastBaseUpdate=l}function ga(o,l,c,d){var m=o.updateQueue;Hr=!1;var y=m.firstBaseUpdate,M=m.lastBaseUpdate,P=m.shared.pending;if(P!==null){m.shared.pending=null;var L=P,V=L.next;L.next=null,M===null?y=V:M.next=V,M=L;var Q=o.alternate;Q!==null&&(Q=Q.updateQueue,P=Q.lastBaseUpdate,P!==M&&(P===null?Q.firstBaseUpdate=V:P.next=V,Q.lastBaseUpdate=L))}if(y!==null){var ne=m.baseState;M=0,Q=V=L=null,P=y;do{var X=P.lane,pe=P.eventTime;if((d&X)===X){Q!==null&&(Q=Q.next={eventTime:pe,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var ve=o,Se=P;switch(X=l,pe=c,Se.tag){case 1:if(ve=Se.payload,typeof ve=="function"){ne=ve.call(pe,ne,X);break e}ne=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Se.payload,X=typeof ve=="function"?ve.call(pe,ne,X):ve,X==null)break e;ne=Z({},ne,X);break e;case 2:Hr=!0}}P.callback!==null&&P.lane!==0&&(o.flags|=64,X=m.effects,X===null?m.effects=[P]:X.push(P))}else pe={eventTime:pe,lane:X,tag:P.tag,payload:P.payload,callback:P.callback,next:null},Q===null?(V=Q=pe,L=ne):Q=Q.next=pe,M|=X;if(P=P.next,P===null){if(P=m.shared.pending,P===null)break;X=P,P=X.next,X.next=null,m.lastBaseUpdate=X,m.shared.pending=null}}while(!0);if(Q===null&&(L=ne),m.baseState=L,m.firstBaseUpdate=V,m.lastBaseUpdate=Q,l=m.shared.interleaved,l!==null){m=l;do M|=m.lane,m=m.next;while(m!==l)}else y===null&&(m.shared.lanes=0);Pi|=M,o.lanes=M,o.memoizedState=ne}}function Wm(o,l,c){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var d=o[l],m=d.callback;if(m!==null){if(d.callback=null,d=c,typeof m!="function")throw Error(t(191,m));m.call(d)}}}var ks={},Yn=jr(ks),Cs=jr(ks),bs=jr(ks);function Ri(o){if(o===ks)throw Error(t(174));return o}function wf(o,l){switch(Xe(bs,l),Xe(Cs,o),Xe(Yn,ks),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:qn(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=qn(l,o)}Ze(Yn),Xe(Yn,l)}function ko(){Ze(Yn),Ze(Cs),Ze(bs)}function Um(o){Ri(bs.current);var l=Ri(Yn.current),c=qn(l,o.type);l!==c&&(Xe(Cs,o),Xe(Yn,c))}function xf(o){Cs.current===o&&(Ze(Yn),Ze(Cs))}var it=jr(0);function ya(o){for(var l=o;l!==null;){if(l.tag===13){var c=l.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Sf=[];function kf(){for(var o=0;o<Sf.length;o++)Sf[o]._workInProgressVersionPrimary=null;Sf.length=0}var va=E.ReactCurrentDispatcher,Cf=E.ReactCurrentBatchConfig,Di=0,ot=null,yt=null,St=null,wa=!1,Es=!1,Os=0,_S=0;function Bt(){throw Error(t(321))}function bf(o,l){if(l===null)return!1;for(var c=0;c<l.length&&c<o.length;c++)if(!zn(o[c],l[c]))return!1;return!0}function Ef(o,l,c,d,m,y){if(Di=y,ot=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,va.current=o===null||o.memoizedState===null?HS:$S,o=c(d,m),Es){y=0;do{if(Es=!1,Os=0,25<=y)throw Error(t(301));y+=1,St=yt=null,l.updateQueue=null,va.current=VS,o=c(d,m)}while(Es)}if(va.current=ka,l=yt!==null&&yt.next!==null,Di=0,St=yt=ot=null,wa=!1,l)throw Error(t(300));return o}function Of(){var o=Os!==0;return Os=0,o}function Xn(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?ot.memoizedState=St=o:St=St.next=o,St}function kn(){if(yt===null){var o=ot.alternate;o=o!==null?o.memoizedState:null}else o=yt.next;var l=St===null?ot.memoizedState:St.next;if(l!==null)St=l,yt=o;else{if(o===null)throw Error(t(310));yt=o,o={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},St===null?ot.memoizedState=St=o:St=St.next=o}return St}function Ms(o,l){return typeof l=="function"?l(o):l}function Mf(o){var l=kn(),c=l.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=o;var d=yt,m=d.baseQueue,y=c.pending;if(y!==null){if(m!==null){var M=m.next;m.next=y.next,y.next=M}d.baseQueue=m=y,c.pending=null}if(m!==null){y=m.next,d=d.baseState;var P=M=null,L=null,V=y;do{var Q=V.lane;if((Di&Q)===Q)L!==null&&(L=L.next={lane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),d=V.hasEagerState?V.eagerState:o(d,V.action);else{var ne={lane:Q,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null};L===null?(P=L=ne,M=d):L=L.next=ne,ot.lanes|=Q,Pi|=Q}V=V.next}while(V!==null&&V!==y);L===null?M=d:L.next=P,zn(d,l.memoizedState)||(Zt=!0),l.memoizedState=d,l.baseState=M,l.baseQueue=L,c.lastRenderedState=d}if(o=c.interleaved,o!==null){m=o;do y=m.lane,ot.lanes|=y,Pi|=y,m=m.next;while(m!==o)}else m===null&&(c.lanes=0);return[l.memoizedState,c.dispatch]}function Tf(o){var l=kn(),c=l.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=o;var d=c.dispatch,m=c.pending,y=l.memoizedState;if(m!==null){c.pending=null;var M=m=m.next;do y=o(y,M.action),M=M.next;while(M!==m);zn(y,l.memoizedState)||(Zt=!0),l.memoizedState=y,l.baseQueue===null&&(l.baseState=y),c.lastRenderedState=y}return[y,d]}function qm(){}function Km(o,l){var c=ot,d=kn(),m=l(),y=!zn(d.memoizedState,m);if(y&&(d.memoizedState=m,Zt=!0),d=d.queue,Nf(Ym.bind(null,c,d,o),[o]),d.getSnapshot!==l||y||St!==null&&St.memoizedState.tag&1){if(c.flags|=2048,Ts(9,Jm.bind(null,c,d,m,l),void 0,null),kt===null)throw Error(t(349));(Di&30)!==0||Gm(c,l,m)}return m}function Gm(o,l,c){o.flags|=16384,o={getSnapshot:l,value:c},l=ot.updateQueue,l===null?(l={lastEffect:null,stores:null},ot.updateQueue=l,l.stores=[o]):(c=l.stores,c===null?l.stores=[o]:c.push(o))}function Jm(o,l,c,d){l.value=c,l.getSnapshot=d,Xm(l)&&Qm(o)}function Ym(o,l,c){return c(function(){Xm(l)&&Qm(o)})}function Xm(o){var l=o.getSnapshot;o=o.value;try{var c=l();return!zn(o,c)}catch{return!0}}function Qm(o){var l=mr(o,1);l!==null&&Hn(l,o,1,-1)}function Zm(o){var l=Xn();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:o},l.queue=o,o=o.dispatch=FS.bind(null,ot,o),[l.memoizedState,o]}function Ts(o,l,c,d){return o={tag:o,create:l,destroy:c,deps:d,next:null},l=ot.updateQueue,l===null?(l={lastEffect:null,stores:null},ot.updateQueue=l,l.lastEffect=o.next=o):(c=l.lastEffect,c===null?l.lastEffect=o.next=o:(d=c.next,c.next=o,o.next=d,l.lastEffect=o)),o}function eg(){return kn().memoizedState}function xa(o,l,c,d){var m=Xn();ot.flags|=o,m.memoizedState=Ts(1|l,c,void 0,d===void 0?null:d)}function Sa(o,l,c,d){var m=kn();d=d===void 0?null:d;var y=void 0;if(yt!==null){var M=yt.memoizedState;if(y=M.destroy,d!==null&&bf(d,M.deps)){m.memoizedState=Ts(l,c,y,d);return}}ot.flags|=o,m.memoizedState=Ts(1|l,c,y,d)}function tg(o,l){return xa(8390656,8,o,l)}function Nf(o,l){return Sa(2048,8,o,l)}function ng(o,l){return Sa(4,2,o,l)}function rg(o,l){return Sa(4,4,o,l)}function ig(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function og(o,l,c){return c=c!=null?c.concat([o]):null,Sa(4,4,ig.bind(null,l,o),c)}function Rf(){}function sg(o,l){var c=kn();l=l===void 0?null:l;var d=c.memoizedState;return d!==null&&l!==null&&bf(l,d[1])?d[0]:(c.memoizedState=[o,l],o)}function lg(o,l){var c=kn();l=l===void 0?null:l;var d=c.memoizedState;return d!==null&&l!==null&&bf(l,d[1])?d[0]:(o=o(),c.memoizedState=[o,l],o)}function ag(o,l,c){return(Di&21)===0?(o.baseState&&(o.baseState=!1,Zt=!0),o.memoizedState=c):(zn(c,l)||(c=jh(),ot.lanes|=c,Pi|=c,o.baseState=!0),l)}function jS(o,l){var c=Je;Je=c!==0&&4>c?c:4,o(!0);var d=Cf.transition;Cf.transition={};try{o(!1),l()}finally{Je=c,Cf.transition=d}}function ug(){return kn().memoizedState}function BS(o,l,c){var d=qr(o);if(c={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null},cg(o))fg(l,c);else if(c=Hm(o,l,c,d),c!==null){var m=Kt();Hn(c,o,d,m),dg(c,l,d)}}function FS(o,l,c){var d=qr(o),m={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(cg(o))fg(l,m);else{var y=o.alternate;if(o.lanes===0&&(y===null||y.lanes===0)&&(y=l.lastRenderedReducer,y!==null))try{var M=l.lastRenderedState,P=y(M,c);if(m.hasEagerState=!0,m.eagerState=P,zn(P,M)){var L=l.interleaved;L===null?(m.next=m,yf(l)):(m.next=L.next,L.next=m),l.interleaved=m;return}}catch{}finally{}c=Hm(o,l,m,d),c!==null&&(m=Kt(),Hn(c,o,d,m),dg(c,l,d))}}function cg(o){var l=o.alternate;return o===ot||l!==null&&l===ot}function fg(o,l){Es=wa=!0;var c=o.pending;c===null?l.next=l:(l.next=c.next,c.next=l),o.pending=l}function dg(o,l,c){if((c&4194240)!==0){var d=l.lanes;d&=o.pendingLanes,c|=d,l.lanes=c,Dc(o,c)}}var ka={readContext:Sn,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},HS={readContext:Sn,useCallback:function(o,l){return Xn().memoizedState=[o,l===void 0?null:l],o},useContext:Sn,useEffect:tg,useImperativeHandle:function(o,l,c){return c=c!=null?c.concat([o]):null,xa(4194308,4,ig.bind(null,l,o),c)},useLayoutEffect:function(o,l){return xa(4194308,4,o,l)},useInsertionEffect:function(o,l){return xa(4,2,o,l)},useMemo:function(o,l){var c=Xn();return l=l===void 0?null:l,o=o(),c.memoizedState=[o,l],o},useReducer:function(o,l,c){var d=Xn();return l=c!==void 0?c(l):l,d.memoizedState=d.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},d.queue=o,o=o.dispatch=BS.bind(null,ot,o),[d.memoizedState,o]},useRef:function(o){var l=Xn();return o={current:o},l.memoizedState=o},useState:Zm,useDebugValue:Rf,useDeferredValue:function(o){return Xn().memoizedState=o},useTransition:function(){var o=Zm(!1),l=o[0];return o=jS.bind(null,o[1]),Xn().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,c){var d=ot,m=Xn();if(tt){if(c===void 0)throw Error(t(407));c=c()}else{if(c=l(),kt===null)throw Error(t(349));(Di&30)!==0||Gm(d,l,c)}m.memoizedState=c;var y={value:c,getSnapshot:l};return m.queue=y,tg(Ym.bind(null,d,y,o),[o]),d.flags|=2048,Ts(9,Jm.bind(null,d,y,c,l),void 0,null),c},useId:function(){var o=Xn(),l=kt.identifierPrefix;if(tt){var c=hr,d=pr;c=(d&~(1<<32-In(d)-1)).toString(32)+c,l=":"+l+"R"+c,c=Os++,0<c&&(l+="H"+c.toString(32)),l+=":"}else c=_S++,l=":"+l+"r"+c.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},$S={readContext:Sn,useCallback:sg,useContext:Sn,useEffect:Nf,useImperativeHandle:og,useInsertionEffect:ng,useLayoutEffect:rg,useMemo:lg,useReducer:Mf,useRef:eg,useState:function(){return Mf(Ms)},useDebugValue:Rf,useDeferredValue:function(o){var l=kn();return ag(l,yt.memoizedState,o)},useTransition:function(){var o=Mf(Ms)[0],l=kn().memoizedState;return[o,l]},useMutableSource:qm,useSyncExternalStore:Km,useId:ug,unstable_isNewReconciler:!1},VS={readContext:Sn,useCallback:sg,useContext:Sn,useEffect:Nf,useImperativeHandle:og,useInsertionEffect:ng,useLayoutEffect:rg,useMemo:lg,useReducer:Tf,useRef:eg,useState:function(){return Tf(Ms)},useDebugValue:Rf,useDeferredValue:function(o){var l=kn();return yt===null?l.memoizedState=o:ag(l,yt.memoizedState,o)},useTransition:function(){var o=Tf(Ms)[0],l=kn().memoizedState;return[o,l]},useMutableSource:qm,useSyncExternalStore:Km,useId:ug,unstable_isNewReconciler:!1};function jn(o,l){if(o&&o.defaultProps){l=Z({},l),o=o.defaultProps;for(var c in o)l[c]===void 0&&(l[c]=o[c]);return l}return l}function Df(o,l,c,d){l=o.memoizedState,c=c(d,l),c=c==null?l:Z({},l,c),o.memoizedState=c,o.lanes===0&&(o.updateQueue.baseState=c)}var Ca={isMounted:function(o){return(o=o._reactInternals)?bi(o)===o:!1},enqueueSetState:function(o,l,c){o=o._reactInternals;var d=Kt(),m=qr(o),y=gr(d,m);y.payload=l,c!=null&&(y.callback=c),l=$r(o,y,m),l!==null&&(Hn(l,o,m,d),ma(l,o,m))},enqueueReplaceState:function(o,l,c){o=o._reactInternals;var d=Kt(),m=qr(o),y=gr(d,m);y.tag=1,y.payload=l,c!=null&&(y.callback=c),l=$r(o,y,m),l!==null&&(Hn(l,o,m,d),ma(l,o,m))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var c=Kt(),d=qr(o),m=gr(c,d);m.tag=2,l!=null&&(m.callback=l),l=$r(o,m,d),l!==null&&(Hn(l,o,d,c),ma(l,o,d))}};function pg(o,l,c,d,m,y,M){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(d,y,M):l.prototype&&l.prototype.isPureReactComponent?!hs(c,d)||!hs(m,y):!0}function hg(o,l,c){var d=!1,m=Br,y=l.contextType;return typeof y=="object"&&y!==null?y=Sn(y):(m=Qt(l)?Oi:jt.current,d=l.contextTypes,y=(d=d!=null)?mo(o,m):Br),l=new l(c,y),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Ca,o.stateNode=l,l._reactInternals=o,d&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=m,o.__reactInternalMemoizedMaskedChildContext=y),l}function mg(o,l,c,d){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(c,d),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(c,d),l.state!==o&&Ca.enqueueReplaceState(l,l.state,null)}function Pf(o,l,c,d){var m=o.stateNode;m.props=c,m.state=o.memoizedState,m.refs={},vf(o);var y=l.contextType;typeof y=="object"&&y!==null?m.context=Sn(y):(y=Qt(l)?Oi:jt.current,m.context=mo(o,y)),m.state=o.memoizedState,y=l.getDerivedStateFromProps,typeof y=="function"&&(Df(o,l,y,c),m.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(l=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),l!==m.state&&Ca.enqueueReplaceState(m,m.state,null),ga(o,c,m,d),m.state=o.memoizedState),typeof m.componentDidMount=="function"&&(o.flags|=4194308)}function Co(o,l){try{var c="",d=l;do c+=De(d),d=d.return;while(d);var m=c}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:o,source:l,stack:m,digest:null}}function Af(o,l,c){return{value:o,source:null,stack:c??null,digest:l??null}}function Lf(o,l){try{console.error(l.value)}catch(c){setTimeout(function(){throw c})}}var WS=typeof WeakMap=="function"?WeakMap:Map;function gg(o,l,c){c=gr(-1,c),c.tag=3,c.payload={element:null};var d=l.value;return c.callback=function(){Ra||(Ra=!0,Jf=d),Lf(o,l)},c}function yg(o,l,c){c=gr(-1,c),c.tag=3;var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var m=l.value;c.payload=function(){return d(m)},c.callback=function(){Lf(o,l)}}var y=o.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(c.callback=function(){Lf(o,l),typeof d!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var M=l.stack;this.componentDidCatch(l.value,{componentStack:M!==null?M:""})}),c}function vg(o,l,c){var d=o.pingCache;if(d===null){d=o.pingCache=new WS;var m=new Set;d.set(l,m)}else m=d.get(l),m===void 0&&(m=new Set,d.set(l,m));m.has(c)||(m.add(c),o=ik.bind(null,o,l,c),l.then(o,o))}function wg(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function xg(o,l,c,d,m){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(l=gr(-1,1),l.tag=2,$r(c,l,1))),c.lanes|=1),o):(o.flags|=65536,o.lanes=m,o)}var US=E.ReactCurrentOwner,Zt=!1;function qt(o,l,c,d){l.child=o===null?Fm(l,null,c,d):wo(l,o.child,c,d)}function Sg(o,l,c,d,m){c=c.render;var y=l.ref;return So(l,m),d=Ef(o,l,c,d,y,m),c=Of(),o!==null&&!Zt?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~m,yr(o,l,m)):(tt&&c&&af(l),l.flags|=1,qt(o,l,d,m),l.child)}function kg(o,l,c,d,m){if(o===null){var y=c.type;return typeof y=="function"&&!nd(y)&&y.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(l.tag=15,l.type=y,Cg(o,l,y,d,m)):(o=za(c.type,null,d,l,l.mode,m),o.ref=l.ref,o.return=l,l.child=o)}if(y=o.child,(o.lanes&m)===0){var M=y.memoizedProps;if(c=c.compare,c=c!==null?c:hs,c(M,d)&&o.ref===l.ref)return yr(o,l,m)}return l.flags|=1,o=Gr(y,d),o.ref=l.ref,o.return=l,l.child=o}function Cg(o,l,c,d,m){if(o!==null){var y=o.memoizedProps;if(hs(y,d)&&o.ref===l.ref)if(Zt=!1,l.pendingProps=d=y,(o.lanes&m)!==0)(o.flags&131072)!==0&&(Zt=!0);else return l.lanes=o.lanes,yr(o,l,m)}return If(o,l,c,d,m)}function bg(o,l,c){var d=l.pendingProps,m=d.children,y=o!==null?o.memoizedState:null;if(d.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(Eo,hn),hn|=c;else{if((c&1073741824)===0)return o=y!==null?y.baseLanes|c:c,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,Xe(Eo,hn),hn|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:c,Xe(Eo,hn),hn|=d}else y!==null?(d=y.baseLanes|c,l.memoizedState=null):d=c,Xe(Eo,hn),hn|=d;return qt(o,l,m,c),l.child}function Eg(o,l){var c=l.ref;(o===null&&c!==null||o!==null&&o.ref!==c)&&(l.flags|=512,l.flags|=2097152)}function If(o,l,c,d,m){var y=Qt(c)?Oi:jt.current;return y=mo(l,y),So(l,m),c=Ef(o,l,c,d,y,m),d=Of(),o!==null&&!Zt?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~m,yr(o,l,m)):(tt&&d&&af(l),l.flags|=1,qt(o,l,c,m),l.child)}function Og(o,l,c,d,m){if(Qt(c)){var y=!0;la(l)}else y=!1;if(So(l,m),l.stateNode===null)Ea(o,l),hg(l,c,d),Pf(l,c,d,m),d=!0;else if(o===null){var M=l.stateNode,P=l.memoizedProps;M.props=P;var L=M.context,V=c.contextType;typeof V=="object"&&V!==null?V=Sn(V):(V=Qt(c)?Oi:jt.current,V=mo(l,V));var Q=c.getDerivedStateFromProps,ne=typeof Q=="function"||typeof M.getSnapshotBeforeUpdate=="function";ne||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(P!==d||L!==V)&&mg(l,M,d,V),Hr=!1;var X=l.memoizedState;M.state=X,ga(l,d,M,m),L=l.memoizedState,P!==d||X!==L||Xt.current||Hr?(typeof Q=="function"&&(Df(l,c,Q,d),L=l.memoizedState),(P=Hr||pg(l,c,P,d,X,L,V))?(ne||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(l.flags|=4194308)):(typeof M.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=d,l.memoizedState=L),M.props=d,M.state=L,M.context=V,d=P):(typeof M.componentDidMount=="function"&&(l.flags|=4194308),d=!1)}else{M=l.stateNode,$m(o,l),P=l.memoizedProps,V=l.type===l.elementType?P:jn(l.type,P),M.props=V,ne=l.pendingProps,X=M.context,L=c.contextType,typeof L=="object"&&L!==null?L=Sn(L):(L=Qt(c)?Oi:jt.current,L=mo(l,L));var pe=c.getDerivedStateFromProps;(Q=typeof pe=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(P!==ne||X!==L)&&mg(l,M,d,L),Hr=!1,X=l.memoizedState,M.state=X,ga(l,d,M,m);var ve=l.memoizedState;P!==ne||X!==ve||Xt.current||Hr?(typeof pe=="function"&&(Df(l,c,pe,d),ve=l.memoizedState),(V=Hr||pg(l,c,V,d,X,ve,L)||!1)?(Q||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(d,ve,L),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(d,ve,L)),typeof M.componentDidUpdate=="function"&&(l.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof M.componentDidUpdate!="function"||P===o.memoizedProps&&X===o.memoizedState||(l.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||P===o.memoizedProps&&X===o.memoizedState||(l.flags|=1024),l.memoizedProps=d,l.memoizedState=ve),M.props=d,M.state=ve,M.context=L,d=V):(typeof M.componentDidUpdate!="function"||P===o.memoizedProps&&X===o.memoizedState||(l.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||P===o.memoizedProps&&X===o.memoizedState||(l.flags|=1024),d=!1)}return zf(o,l,c,d,y,m)}function zf(o,l,c,d,m,y){Eg(o,l);var M=(l.flags&128)!==0;if(!d&&!M)return m&&Dm(l,c,!1),yr(o,l,y);d=l.stateNode,US.current=l;var P=M&&typeof c.getDerivedStateFromError!="function"?null:d.render();return l.flags|=1,o!==null&&M?(l.child=wo(l,o.child,null,y),l.child=wo(l,null,P,y)):qt(o,l,P,y),l.memoizedState=d.state,m&&Dm(l,c,!0),l.child}function Mg(o){var l=o.stateNode;l.pendingContext?Nm(o,l.pendingContext,l.pendingContext!==l.context):l.context&&Nm(o,l.context,!1),wf(o,l.containerInfo)}function Tg(o,l,c,d,m){return vo(),df(m),l.flags|=256,qt(o,l,c,d),l.child}var _f={dehydrated:null,treeContext:null,retryLane:0};function jf(o){return{baseLanes:o,cachePool:null,transitions:null}}function Ng(o,l,c){var d=l.pendingProps,m=it.current,y=!1,M=(l.flags&128)!==0,P;if((P=M)||(P=o!==null&&o.memoizedState===null?!1:(m&2)!==0),P?(y=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(m|=1),Xe(it,m&1),o===null)return ff(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(M=d.children,o=d.fallback,y?(d=l.mode,y=l.child,M={mode:"hidden",children:M},(d&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=M):y=_a(M,d,0,null),o=zi(o,d,c,null),y.return=l,o.return=l,y.sibling=o,l.child=y,l.child.memoizedState=jf(c),l.memoizedState=_f,o):Bf(l,M));if(m=o.memoizedState,m!==null&&(P=m.dehydrated,P!==null))return qS(o,l,M,d,P,m,c);if(y){y=d.fallback,M=l.mode,m=o.child,P=m.sibling;var L={mode:"hidden",children:d.children};return(M&1)===0&&l.child!==m?(d=l.child,d.childLanes=0,d.pendingProps=L,l.deletions=null):(d=Gr(m,L),d.subtreeFlags=m.subtreeFlags&14680064),P!==null?y=Gr(P,y):(y=zi(y,M,c,null),y.flags|=2),y.return=l,d.return=l,d.sibling=y,l.child=d,d=y,y=l.child,M=o.child.memoizedState,M=M===null?jf(c):{baseLanes:M.baseLanes|c,cachePool:null,transitions:M.transitions},y.memoizedState=M,y.childLanes=o.childLanes&~c,l.memoizedState=_f,d}return y=o.child,o=y.sibling,d=Gr(y,{mode:"visible",children:d.children}),(l.mode&1)===0&&(d.lanes=c),d.return=l,d.sibling=null,o!==null&&(c=l.deletions,c===null?(l.deletions=[o],l.flags|=16):c.push(o)),l.child=d,l.memoizedState=null,d}function Bf(o,l){return l=_a({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function ba(o,l,c,d){return d!==null&&df(d),wo(l,o.child,null,c),o=Bf(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function qS(o,l,c,d,m,y,M){if(c)return l.flags&256?(l.flags&=-257,d=Af(Error(t(422))),ba(o,l,M,d)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(y=d.fallback,m=l.mode,d=_a({mode:"visible",children:d.children},m,0,null),y=zi(y,m,M,null),y.flags|=2,d.return=l,y.return=l,d.sibling=y,l.child=d,(l.mode&1)!==0&&wo(l,o.child,null,M),l.child.memoizedState=jf(M),l.memoizedState=_f,y);if((l.mode&1)===0)return ba(o,l,M,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var P=d.dgst;return d=P,y=Error(t(419)),d=Af(y,d,void 0),ba(o,l,M,d)}if(P=(M&o.childLanes)!==0,Zt||P){if(d=kt,d!==null){switch(M&-M){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|M))!==0?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,mr(o,m),Hn(d,o,m,-1))}return td(),d=Af(Error(t(421))),ba(o,l,M,d)}return m.data==="$?"?(l.flags|=128,l.child=o.child,l=ok.bind(null,o),m._reactRetry=l,null):(o=y.treeContext,pn=_r(m.nextSibling),dn=l,tt=!0,_n=null,o!==null&&(wn[xn++]=pr,wn[xn++]=hr,wn[xn++]=Mi,pr=o.id,hr=o.overflow,Mi=l),l=Bf(l,d.children),l.flags|=4096,l)}function Rg(o,l,c){o.lanes|=l;var d=o.alternate;d!==null&&(d.lanes|=l),gf(o.return,l,c)}function Ff(o,l,c,d,m){var y=o.memoizedState;y===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:m}:(y.isBackwards=l,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=c,y.tailMode=m)}function Dg(o,l,c){var d=l.pendingProps,m=d.revealOrder,y=d.tail;if(qt(o,l,d.children,c),d=it.current,(d&2)!==0)d=d&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Rg(o,c,l);else if(o.tag===19)Rg(o,c,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}d&=1}if(Xe(it,d),(l.mode&1)===0)l.memoizedState=null;else switch(m){case"forwards":for(c=l.child,m=null;c!==null;)o=c.alternate,o!==null&&ya(o)===null&&(m=c),c=c.sibling;c=m,c===null?(m=l.child,l.child=null):(m=c.sibling,c.sibling=null),Ff(l,!1,m,c,y);break;case"backwards":for(c=null,m=l.child,l.child=null;m!==null;){if(o=m.alternate,o!==null&&ya(o)===null){l.child=m;break}o=m.sibling,m.sibling=c,c=m,m=o}Ff(l,!0,c,null,y);break;case"together":Ff(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Ea(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function yr(o,l,c){if(o!==null&&(l.dependencies=o.dependencies),Pi|=l.lanes,(c&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(t(153));if(l.child!==null){for(o=l.child,c=Gr(o,o.pendingProps),l.child=c,c.return=l;o.sibling!==null;)o=o.sibling,c=c.sibling=Gr(o,o.pendingProps),c.return=l;c.sibling=null}return l.child}function KS(o,l,c){switch(l.tag){case 3:Mg(l),vo();break;case 5:Um(l);break;case 1:Qt(l.type)&&la(l);break;case 4:wf(l,l.stateNode.containerInfo);break;case 10:var d=l.type._context,m=l.memoizedProps.value;Xe(pa,d._currentValue),d._currentValue=m;break;case 13:if(d=l.memoizedState,d!==null)return d.dehydrated!==null?(Xe(it,it.current&1),l.flags|=128,null):(c&l.child.childLanes)!==0?Ng(o,l,c):(Xe(it,it.current&1),o=yr(o,l,c),o!==null?o.sibling:null);Xe(it,it.current&1);break;case 19:if(d=(c&l.childLanes)!==0,(o.flags&128)!==0){if(d)return Dg(o,l,c);l.flags|=128}if(m=l.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Xe(it,it.current),d)break;return null;case 22:case 23:return l.lanes=0,bg(o,l,c)}return yr(o,l,c)}var Pg,Hf,Ag,Lg;Pg=function(o,l){for(var c=l.child;c!==null;){if(c.tag===5||c.tag===6)o.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Hf=function(){},Ag=function(o,l,c,d){var m=o.memoizedProps;if(m!==d){o=l.stateNode,Ri(Yn.current);var y=null;switch(c){case"input":m=J(o,m),d=J(o,d),y=[];break;case"select":m=Z({},m,{value:void 0}),d=Z({},d,{value:void 0}),y=[];break;case"textarea":m=st(o,m),d=st(o,d),y=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(o.onclick=ia)}Pe(c,d);var M;c=null;for(V in m)if(!d.hasOwnProperty(V)&&m.hasOwnProperty(V)&&m[V]!=null)if(V==="style"){var P=m[V];for(M in P)P.hasOwnProperty(M)&&(c||(c={}),c[M]="")}else V!=="dangerouslySetInnerHTML"&&V!=="children"&&V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&V!=="autoFocus"&&(i.hasOwnProperty(V)?y||(y=[]):(y=y||[]).push(V,null));for(V in d){var L=d[V];if(P=m!=null?m[V]:void 0,d.hasOwnProperty(V)&&L!==P&&(L!=null||P!=null))if(V==="style")if(P){for(M in P)!P.hasOwnProperty(M)||L&&L.hasOwnProperty(M)||(c||(c={}),c[M]="");for(M in L)L.hasOwnProperty(M)&&P[M]!==L[M]&&(c||(c={}),c[M]=L[M])}else c||(y||(y=[]),y.push(V,c)),c=L;else V==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,P=P?P.__html:void 0,L!=null&&P!==L&&(y=y||[]).push(V,L)):V==="children"?typeof L!="string"&&typeof L!="number"||(y=y||[]).push(V,""+L):V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&(i.hasOwnProperty(V)?(L!=null&&V==="onScroll"&&Qe("scroll",o),y||P===L||(y=[])):(y=y||[]).push(V,L))}c&&(y=y||[]).push("style",c);var V=y;(l.updateQueue=V)&&(l.flags|=4)}},Lg=function(o,l,c,d){c!==d&&(l.flags|=4)};function Ns(o,l){if(!tt)switch(o.tailMode){case"hidden":l=o.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?o.tail=null:c.sibling=null;break;case"collapsed":c=o.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:d.sibling=null}}function Ft(o){var l=o.alternate!==null&&o.alternate.child===o.child,c=0,d=0;if(l)for(var m=o.child;m!==null;)c|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=o,m=m.sibling;else for(m=o.child;m!==null;)c|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=o,m=m.sibling;return o.subtreeFlags|=d,o.childLanes=c,l}function GS(o,l,c){var d=l.pendingProps;switch(uf(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(l),null;case 1:return Qt(l.type)&&sa(),Ft(l),null;case 3:return d=l.stateNode,ko(),Ze(Xt),Ze(jt),kf(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(o===null||o.child===null)&&(fa(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,_n!==null&&(Qf(_n),_n=null))),Hf(o,l),Ft(l),null;case 5:xf(l);var m=Ri(bs.current);if(c=l.type,o!==null&&l.stateNode!=null)Ag(o,l,c,d,m),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!d){if(l.stateNode===null)throw Error(t(166));return Ft(l),null}if(o=Ri(Yn.current),fa(l)){d=l.stateNode,c=l.type;var y=l.memoizedProps;switch(d[Jn]=l,d[ws]=y,o=(l.mode&1)!==0,c){case"dialog":Qe("cancel",d),Qe("close",d);break;case"iframe":case"object":case"embed":Qe("load",d);break;case"video":case"audio":for(m=0;m<gs.length;m++)Qe(gs[m],d);break;case"source":Qe("error",d);break;case"img":case"image":case"link":Qe("error",d),Qe("load",d);break;case"details":Qe("toggle",d);break;case"input":ge(d,y),Qe("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},Qe("invalid",d);break;case"textarea":Ge(d,y),Qe("invalid",d)}Pe(c,y),m=null;for(var M in y)if(y.hasOwnProperty(M)){var P=y[M];M==="children"?typeof P=="string"?d.textContent!==P&&(y.suppressHydrationWarning!==!0&&ra(d.textContent,P,o),m=["children",P]):typeof P=="number"&&d.textContent!==""+P&&(y.suppressHydrationWarning!==!0&&ra(d.textContent,P,o),m=["children",""+P]):i.hasOwnProperty(M)&&P!=null&&M==="onScroll"&&Qe("scroll",d)}switch(c){case"input":I(d),ye(d,y,!0);break;case"textarea":I(d),vn(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=ia)}d=m,l.updateQueue=d,d!==null&&(l.flags|=4)}else{M=m.nodeType===9?m:m.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Ln(c)),o==="http://www.w3.org/1999/xhtml"?c==="script"?(o=M.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof d.is=="string"?o=M.createElement(c,{is:d.is}):(o=M.createElement(c),c==="select"&&(M=o,d.multiple?M.multiple=!0:d.size&&(M.size=d.size))):o=M.createElementNS(o,c),o[Jn]=l,o[ws]=d,Pg(o,l,!1,!1),l.stateNode=o;e:{switch(M=Ue(c,d),c){case"dialog":Qe("cancel",o),Qe("close",o),m=d;break;case"iframe":case"object":case"embed":Qe("load",o),m=d;break;case"video":case"audio":for(m=0;m<gs.length;m++)Qe(gs[m],o);m=d;break;case"source":Qe("error",o),m=d;break;case"img":case"image":case"link":Qe("error",o),Qe("load",o),m=d;break;case"details":Qe("toggle",o),m=d;break;case"input":ge(o,d),m=J(o,d),Qe("invalid",o);break;case"option":m=d;break;case"select":o._wrapperState={wasMultiple:!!d.multiple},m=Z({},d,{value:void 0}),Qe("invalid",o);break;case"textarea":Ge(o,d),m=st(o,d),Qe("invalid",o);break;default:m=d}Pe(c,m),P=m;for(y in P)if(P.hasOwnProperty(y)){var L=P[y];y==="style"?q(o,L):y==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&Ll(o,L)):y==="children"?typeof L=="string"?(c!=="textarea"||L!=="")&&wi(o,L):typeof L=="number"&&wi(o,""+L):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(i.hasOwnProperty(y)?L!=null&&y==="onScroll"&&Qe("scroll",o):L!=null&&O(o,y,L,M))}switch(c){case"input":I(o),ye(o,d,!1);break;case"textarea":I(o),vn(o);break;case"option":d.value!=null&&o.setAttribute("value",""+Y(d.value));break;case"select":o.multiple=!!d.multiple,y=d.value,y!=null?rt(o,!!d.multiple,y,!1):d.defaultValue!=null&&rt(o,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(o.onclick=ia)}switch(c){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Ft(l),null;case 6:if(o&&l.stateNode!=null)Lg(o,l,o.memoizedProps,d);else{if(typeof d!="string"&&l.stateNode===null)throw Error(t(166));if(c=Ri(bs.current),Ri(Yn.current),fa(l)){if(d=l.stateNode,c=l.memoizedProps,d[Jn]=l,(y=d.nodeValue!==c)&&(o=dn,o!==null))switch(o.tag){case 3:ra(d.nodeValue,c,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&ra(d.nodeValue,c,(o.mode&1)!==0)}y&&(l.flags|=4)}else d=(c.nodeType===9?c:c.ownerDocument).createTextNode(d),d[Jn]=l,l.stateNode=d}return Ft(l),null;case 13:if(Ze(it),d=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(tt&&pn!==null&&(l.mode&1)!==0&&(l.flags&128)===0)_m(),vo(),l.flags|=98560,y=!1;else if(y=fa(l),d!==null&&d.dehydrated!==null){if(o===null){if(!y)throw Error(t(318));if(y=l.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Jn]=l}else vo(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ft(l),y=!1}else _n!==null&&(Qf(_n),_n=null),y=!0;if(!y)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=c,l):(d=d!==null,d!==(o!==null&&o.memoizedState!==null)&&d&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(it.current&1)!==0?vt===0&&(vt=3):td())),l.updateQueue!==null&&(l.flags|=4),Ft(l),null);case 4:return ko(),Hf(o,l),o===null&&ys(l.stateNode.containerInfo),Ft(l),null;case 10:return mf(l.type._context),Ft(l),null;case 17:return Qt(l.type)&&sa(),Ft(l),null;case 19:if(Ze(it),y=l.memoizedState,y===null)return Ft(l),null;if(d=(l.flags&128)!==0,M=y.rendering,M===null)if(d)Ns(y,!1);else{if(vt!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(M=ya(o),M!==null){for(l.flags|=128,Ns(y,!1),d=M.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),l.subtreeFlags=0,d=c,c=l.child;c!==null;)y=c,o=d,y.flags&=14680066,M=y.alternate,M===null?(y.childLanes=0,y.lanes=o,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=M.childLanes,y.lanes=M.lanes,y.child=M.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=M.memoizedProps,y.memoizedState=M.memoizedState,y.updateQueue=M.updateQueue,y.type=M.type,o=M.dependencies,y.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),c=c.sibling;return Xe(it,it.current&1|2),l.child}o=o.sibling}y.tail!==null&&ct()>Oo&&(l.flags|=128,d=!0,Ns(y,!1),l.lanes=4194304)}else{if(!d)if(o=ya(M),o!==null){if(l.flags|=128,d=!0,c=o.updateQueue,c!==null&&(l.updateQueue=c,l.flags|=4),Ns(y,!0),y.tail===null&&y.tailMode==="hidden"&&!M.alternate&&!tt)return Ft(l),null}else 2*ct()-y.renderingStartTime>Oo&&c!==1073741824&&(l.flags|=128,d=!0,Ns(y,!1),l.lanes=4194304);y.isBackwards?(M.sibling=l.child,l.child=M):(c=y.last,c!==null?c.sibling=M:l.child=M,y.last=M)}return y.tail!==null?(l=y.tail,y.rendering=l,y.tail=l.sibling,y.renderingStartTime=ct(),l.sibling=null,c=it.current,Xe(it,d?c&1|2:c&1),l):(Ft(l),null);case 22:case 23:return ed(),d=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==d&&(l.flags|=8192),d&&(l.mode&1)!==0?(hn&1073741824)!==0&&(Ft(l),l.subtreeFlags&6&&(l.flags|=8192)):Ft(l),null;case 24:return null;case 25:return null}throw Error(t(156,l.tag))}function JS(o,l){switch(uf(l),l.tag){case 1:return Qt(l.type)&&sa(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return ko(),Ze(Xt),Ze(jt),kf(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return xf(l),null;case 13:if(Ze(it),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(t(340));vo()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return Ze(it),null;case 4:return ko(),null;case 10:return mf(l.type._context),null;case 22:case 23:return ed(),null;case 24:return null;default:return null}}var Oa=!1,Ht=!1,YS=typeof WeakSet=="function"?WeakSet:Set,me=null;function bo(o,l){var c=o.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(d){lt(o,l,d)}else c.current=null}function $f(o,l,c){try{c()}catch(d){lt(o,l,d)}}var Ig=!1;function XS(o,l){if(Zc=ql,o=pm(),Uc(o)){if("selectionStart"in o)var c={start:o.selectionStart,end:o.selectionEnd};else e:{c=(c=o.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var m=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var M=0,P=-1,L=-1,V=0,Q=0,ne=o,X=null;t:for(;;){for(var pe;ne!==c||m!==0&&ne.nodeType!==3||(P=M+m),ne!==y||d!==0&&ne.nodeType!==3||(L=M+d),ne.nodeType===3&&(M+=ne.nodeValue.length),(pe=ne.firstChild)!==null;)X=ne,ne=pe;for(;;){if(ne===o)break t;if(X===c&&++V===m&&(P=M),X===y&&++Q===d&&(L=M),(pe=ne.nextSibling)!==null)break;ne=X,X=ne.parentNode}ne=pe}c=P===-1||L===-1?null:{start:P,end:L}}else c=null}c=c||{start:0,end:0}}else c=null;for(ef={focusedElem:o,selectionRange:c},ql=!1,me=l;me!==null;)if(l=me,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,me=o;else for(;me!==null;){l=me;try{var ve=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var Se=ve.memoizedProps,ft=ve.memoizedState,F=l.stateNode,z=F.getSnapshotBeforeUpdate(l.elementType===l.type?Se:jn(l.type,Se),ft);F.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var H=l.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(oe){lt(l,l.return,oe)}if(o=l.sibling,o!==null){o.return=l.return,me=o;break}me=l.return}return ve=Ig,Ig=!1,ve}function Rs(o,l,c){var d=l.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&o)===o){var y=m.destroy;m.destroy=void 0,y!==void 0&&$f(l,c,y)}m=m.next}while(m!==d)}}function Ma(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var c=l=l.next;do{if((c.tag&o)===o){var d=c.create;c.destroy=d()}c=c.next}while(c!==l)}}function Vf(o){var l=o.ref;if(l!==null){var c=o.stateNode;switch(o.tag){case 5:o=c;break;default:o=c}typeof l=="function"?l(o):l.current=o}}function zg(o){var l=o.alternate;l!==null&&(o.alternate=null,zg(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[Jn],delete l[ws],delete l[of],delete l[AS],delete l[LS])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function _g(o){return o.tag===5||o.tag===3||o.tag===4}function jg(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||_g(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Wf(o,l,c){var d=o.tag;if(d===5||d===6)o=o.stateNode,l?c.nodeType===8?c.parentNode.insertBefore(o,l):c.insertBefore(o,l):(c.nodeType===8?(l=c.parentNode,l.insertBefore(o,c)):(l=c,l.appendChild(o)),c=c._reactRootContainer,c!=null||l.onclick!==null||(l.onclick=ia));else if(d!==4&&(o=o.child,o!==null))for(Wf(o,l,c),o=o.sibling;o!==null;)Wf(o,l,c),o=o.sibling}function Uf(o,l,c){var d=o.tag;if(d===5||d===6)o=o.stateNode,l?c.insertBefore(o,l):c.appendChild(o);else if(d!==4&&(o=o.child,o!==null))for(Uf(o,l,c),o=o.sibling;o!==null;)Uf(o,l,c),o=o.sibling}var Pt=null,Bn=!1;function Vr(o,l,c){for(c=c.child;c!==null;)Bg(o,l,c),c=c.sibling}function Bg(o,l,c){if(Gn&&typeof Gn.onCommitFiberUnmount=="function")try{Gn.onCommitFiberUnmount(Fl,c)}catch{}switch(c.tag){case 5:Ht||bo(c,l);case 6:var d=Pt,m=Bn;Pt=null,Vr(o,l,c),Pt=d,Bn=m,Pt!==null&&(Bn?(o=Pt,c=c.stateNode,o.nodeType===8?o.parentNode.removeChild(c):o.removeChild(c)):Pt.removeChild(c.stateNode));break;case 18:Pt!==null&&(Bn?(o=Pt,c=c.stateNode,o.nodeType===8?rf(o.parentNode,c):o.nodeType===1&&rf(o,c),as(o)):rf(Pt,c.stateNode));break;case 4:d=Pt,m=Bn,Pt=c.stateNode.containerInfo,Bn=!0,Vr(o,l,c),Pt=d,Bn=m;break;case 0:case 11:case 14:case 15:if(!Ht&&(d=c.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var y=m,M=y.destroy;y=y.tag,M!==void 0&&((y&2)!==0||(y&4)!==0)&&$f(c,l,M),m=m.next}while(m!==d)}Vr(o,l,c);break;case 1:if(!Ht&&(bo(c,l),d=c.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=c.memoizedProps,d.state=c.memoizedState,d.componentWillUnmount()}catch(P){lt(c,l,P)}Vr(o,l,c);break;case 21:Vr(o,l,c);break;case 22:c.mode&1?(Ht=(d=Ht)||c.memoizedState!==null,Vr(o,l,c),Ht=d):Vr(o,l,c);break;default:Vr(o,l,c)}}function Fg(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var c=o.stateNode;c===null&&(c=o.stateNode=new YS),l.forEach(function(d){var m=sk.bind(null,o,d);c.has(d)||(c.add(d),d.then(m,m))})}}function Fn(o,l){var c=l.deletions;if(c!==null)for(var d=0;d<c.length;d++){var m=c[d];try{var y=o,M=l,P=M;e:for(;P!==null;){switch(P.tag){case 5:Pt=P.stateNode,Bn=!1;break e;case 3:Pt=P.stateNode.containerInfo,Bn=!0;break e;case 4:Pt=P.stateNode.containerInfo,Bn=!0;break e}P=P.return}if(Pt===null)throw Error(t(160));Bg(y,M,m),Pt=null,Bn=!1;var L=m.alternate;L!==null&&(L.return=null),m.return=null}catch(V){lt(m,l,V)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)Hg(l,o),l=l.sibling}function Hg(o,l){var c=o.alternate,d=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Fn(l,o),Qn(o),d&4){try{Rs(3,o,o.return),Ma(3,o)}catch(Se){lt(o,o.return,Se)}try{Rs(5,o,o.return)}catch(Se){lt(o,o.return,Se)}}break;case 1:Fn(l,o),Qn(o),d&512&&c!==null&&bo(c,c.return);break;case 5:if(Fn(l,o),Qn(o),d&512&&c!==null&&bo(c,c.return),o.flags&32){var m=o.stateNode;try{wi(m,"")}catch(Se){lt(o,o.return,Se)}}if(d&4&&(m=o.stateNode,m!=null)){var y=o.memoizedProps,M=c!==null?c.memoizedProps:y,P=o.type,L=o.updateQueue;if(o.updateQueue=null,L!==null)try{P==="input"&&y.type==="radio"&&y.name!=null&&ae(m,y),Ue(P,M);var V=Ue(P,y);for(M=0;M<L.length;M+=2){var Q=L[M],ne=L[M+1];Q==="style"?q(m,ne):Q==="dangerouslySetInnerHTML"?Ll(m,ne):Q==="children"?wi(m,ne):O(m,Q,ne,V)}switch(P){case"input":Ce(m,y);break;case"textarea":Ut(m,y);break;case"select":var X=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var pe=y.value;pe!=null?rt(m,!!y.multiple,pe,!1):X!==!!y.multiple&&(y.defaultValue!=null?rt(m,!!y.multiple,y.defaultValue,!0):rt(m,!!y.multiple,y.multiple?[]:"",!1))}m[ws]=y}catch(Se){lt(o,o.return,Se)}}break;case 6:if(Fn(l,o),Qn(o),d&4){if(o.stateNode===null)throw Error(t(162));m=o.stateNode,y=o.memoizedProps;try{m.nodeValue=y}catch(Se){lt(o,o.return,Se)}}break;case 3:if(Fn(l,o),Qn(o),d&4&&c!==null&&c.memoizedState.isDehydrated)try{as(l.containerInfo)}catch(Se){lt(o,o.return,Se)}break;case 4:Fn(l,o),Qn(o);break;case 13:Fn(l,o),Qn(o),m=o.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(Gf=ct())),d&4&&Fg(o);break;case 22:if(Q=c!==null&&c.memoizedState!==null,o.mode&1?(Ht=(V=Ht)||Q,Fn(l,o),Ht=V):Fn(l,o),Qn(o),d&8192){if(V=o.memoizedState!==null,(o.stateNode.isHidden=V)&&!Q&&(o.mode&1)!==0)for(me=o,Q=o.child;Q!==null;){for(ne=me=Q;me!==null;){switch(X=me,pe=X.child,X.tag){case 0:case 11:case 14:case 15:Rs(4,X,X.return);break;case 1:bo(X,X.return);var ve=X.stateNode;if(typeof ve.componentWillUnmount=="function"){d=X,c=X.return;try{l=d,ve.props=l.memoizedProps,ve.state=l.memoizedState,ve.componentWillUnmount()}catch(Se){lt(d,c,Se)}}break;case 5:bo(X,X.return);break;case 22:if(X.memoizedState!==null){Wg(ne);continue}}pe!==null?(pe.return=X,me=pe):Wg(ne)}Q=Q.sibling}e:for(Q=null,ne=o;;){if(ne.tag===5){if(Q===null){Q=ne;try{m=ne.stateNode,V?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(P=ne.stateNode,L=ne.memoizedProps.style,M=L!=null&&L.hasOwnProperty("display")?L.display:null,P.style.display=Il("display",M))}catch(Se){lt(o,o.return,Se)}}}else if(ne.tag===6){if(Q===null)try{ne.stateNode.nodeValue=V?"":ne.memoizedProps}catch(Se){lt(o,o.return,Se)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===o)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===o)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===o)break e;Q===ne&&(Q=null),ne=ne.return}Q===ne&&(Q=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:Fn(l,o),Qn(o),d&4&&Fg(o);break;case 21:break;default:Fn(l,o),Qn(o)}}function Qn(o){var l=o.flags;if(l&2){try{e:{for(var c=o.return;c!==null;){if(_g(c)){var d=c;break e}c=c.return}throw Error(t(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(wi(m,""),d.flags&=-33);var y=jg(o);Uf(o,y,m);break;case 3:case 4:var M=d.stateNode.containerInfo,P=jg(o);Wf(o,P,M);break;default:throw Error(t(161))}}catch(L){lt(o,o.return,L)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function QS(o,l,c){me=o,$g(o)}function $g(o,l,c){for(var d=(o.mode&1)!==0;me!==null;){var m=me,y=m.child;if(m.tag===22&&d){var M=m.memoizedState!==null||Oa;if(!M){var P=m.alternate,L=P!==null&&P.memoizedState!==null||Ht;P=Oa;var V=Ht;if(Oa=M,(Ht=L)&&!V)for(me=m;me!==null;)M=me,L=M.child,M.tag===22&&M.memoizedState!==null?Ug(m):L!==null?(L.return=M,me=L):Ug(m);for(;y!==null;)me=y,$g(y),y=y.sibling;me=m,Oa=P,Ht=V}Vg(o)}else(m.subtreeFlags&8772)!==0&&y!==null?(y.return=m,me=y):Vg(o)}}function Vg(o){for(;me!==null;){var l=me;if((l.flags&8772)!==0){var c=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Ht||Ma(5,l);break;case 1:var d=l.stateNode;if(l.flags&4&&!Ht)if(c===null)d.componentDidMount();else{var m=l.elementType===l.type?c.memoizedProps:jn(l.type,c.memoizedProps);d.componentDidUpdate(m,c.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=l.updateQueue;y!==null&&Wm(l,y,d);break;case 3:var M=l.updateQueue;if(M!==null){if(c=null,l.child!==null)switch(l.child.tag){case 5:c=l.child.stateNode;break;case 1:c=l.child.stateNode}Wm(l,M,c)}break;case 5:var P=l.stateNode;if(c===null&&l.flags&4){c=P;var L=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&c.focus();break;case"img":L.src&&(c.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var V=l.alternate;if(V!==null){var Q=V.memoizedState;if(Q!==null){var ne=Q.dehydrated;ne!==null&&as(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ht||l.flags&512&&Vf(l)}catch(X){lt(l,l.return,X)}}if(l===o){me=null;break}if(c=l.sibling,c!==null){c.return=l.return,me=c;break}me=l.return}}function Wg(o){for(;me!==null;){var l=me;if(l===o){me=null;break}var c=l.sibling;if(c!==null){c.return=l.return,me=c;break}me=l.return}}function Ug(o){for(;me!==null;){var l=me;try{switch(l.tag){case 0:case 11:case 15:var c=l.return;try{Ma(4,l)}catch(L){lt(l,c,L)}break;case 1:var d=l.stateNode;if(typeof d.componentDidMount=="function"){var m=l.return;try{d.componentDidMount()}catch(L){lt(l,m,L)}}var y=l.return;try{Vf(l)}catch(L){lt(l,y,L)}break;case 5:var M=l.return;try{Vf(l)}catch(L){lt(l,M,L)}}}catch(L){lt(l,l.return,L)}if(l===o){me=null;break}var P=l.sibling;if(P!==null){P.return=l.return,me=P;break}me=l.return}}var ZS=Math.ceil,Ta=E.ReactCurrentDispatcher,qf=E.ReactCurrentOwner,Cn=E.ReactCurrentBatchConfig,qe=0,kt=null,ht=null,At=0,hn=0,Eo=jr(0),vt=0,Ds=null,Pi=0,Na=0,Kf=0,Ps=null,en=null,Gf=0,Oo=1/0,vr=null,Ra=!1,Jf=null,Wr=null,Da=!1,Ur=null,Pa=0,As=0,Yf=null,Aa=-1,La=0;function Kt(){return(qe&6)!==0?ct():Aa!==-1?Aa:Aa=ct()}function qr(o){return(o.mode&1)===0?1:(qe&2)!==0&&At!==0?At&-At:zS.transition!==null?(La===0&&(La=jh()),La):(o=Je,o!==0||(o=window.event,o=o===void 0?16:Kh(o.type)),o)}function Hn(o,l,c,d){if(50<As)throw As=0,Yf=null,Error(t(185));ns(o,c,d),((qe&2)===0||o!==kt)&&(o===kt&&((qe&2)===0&&(Na|=c),vt===4&&Kr(o,At)),tn(o,d),c===1&&qe===0&&(l.mode&1)===0&&(Oo=ct()+500,aa&&Fr()))}function tn(o,l){var c=o.callbackNode;zx(o,l);var d=Vl(o,o===kt?At:0);if(d===0)c!==null&&Ih(c),o.callbackNode=null,o.callbackPriority=0;else if(l=d&-d,o.callbackPriority!==l){if(c!=null&&Ih(c),l===1)o.tag===0?IS(Kg.bind(null,o)):Pm(Kg.bind(null,o)),DS(function(){(qe&6)===0&&Fr()}),c=null;else{switch(Bh(d)){case 1:c=Tc;break;case 4:c=zh;break;case 16:c=Bl;break;case 536870912:c=_h;break;default:c=Bl}c=ty(c,qg.bind(null,o))}o.callbackPriority=l,o.callbackNode=c}}function qg(o,l){if(Aa=-1,La=0,(qe&6)!==0)throw Error(t(327));var c=o.callbackNode;if(Mo()&&o.callbackNode!==c)return null;var d=Vl(o,o===kt?At:0);if(d===0)return null;if((d&30)!==0||(d&o.expiredLanes)!==0||l)l=Ia(o,d);else{l=d;var m=qe;qe|=2;var y=Jg();(kt!==o||At!==l)&&(vr=null,Oo=ct()+500,Li(o,l));do try{nk();break}catch(P){Gg(o,P)}while(!0);hf(),Ta.current=y,qe=m,ht!==null?l=0:(kt=null,At=0,l=vt)}if(l!==0){if(l===2&&(m=Nc(o),m!==0&&(d=m,l=Xf(o,m))),l===1)throw c=Ds,Li(o,0),Kr(o,d),tn(o,ct()),c;if(l===6)Kr(o,d);else{if(m=o.current.alternate,(d&30)===0&&!ek(m)&&(l=Ia(o,d),l===2&&(y=Nc(o),y!==0&&(d=y,l=Xf(o,y))),l===1))throw c=Ds,Li(o,0),Kr(o,d),tn(o,ct()),c;switch(o.finishedWork=m,o.finishedLanes=d,l){case 0:case 1:throw Error(t(345));case 2:Ii(o,en,vr);break;case 3:if(Kr(o,d),(d&130023424)===d&&(l=Gf+500-ct(),10<l)){if(Vl(o,0)!==0)break;if(m=o.suspendedLanes,(m&d)!==d){Kt(),o.pingedLanes|=o.suspendedLanes&m;break}o.timeoutHandle=nf(Ii.bind(null,o,en,vr),l);break}Ii(o,en,vr);break;case 4:if(Kr(o,d),(d&4194240)===d)break;for(l=o.eventTimes,m=-1;0<d;){var M=31-In(d);y=1<<M,M=l[M],M>m&&(m=M),d&=~y}if(d=m,d=ct()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*ZS(d/1960))-d,10<d){o.timeoutHandle=nf(Ii.bind(null,o,en,vr),d);break}Ii(o,en,vr);break;case 5:Ii(o,en,vr);break;default:throw Error(t(329))}}}return tn(o,ct()),o.callbackNode===c?qg.bind(null,o):null}function Xf(o,l){var c=Ps;return o.current.memoizedState.isDehydrated&&(Li(o,l).flags|=256),o=Ia(o,l),o!==2&&(l=en,en=c,l!==null&&Qf(l)),o}function Qf(o){en===null?en=o:en.push.apply(en,o)}function ek(o){for(var l=o;;){if(l.flags&16384){var c=l.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var d=0;d<c.length;d++){var m=c[d],y=m.getSnapshot;m=m.value;try{if(!zn(y(),m))return!1}catch{return!1}}}if(c=l.child,l.subtreeFlags&16384&&c!==null)c.return=l,l=c;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Kr(o,l){for(l&=~Kf,l&=~Na,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var c=31-In(l),d=1<<c;o[c]=-1,l&=~d}}function Kg(o){if((qe&6)!==0)throw Error(t(327));Mo();var l=Vl(o,0);if((l&1)===0)return tn(o,ct()),null;var c=Ia(o,l);if(o.tag!==0&&c===2){var d=Nc(o);d!==0&&(l=d,c=Xf(o,d))}if(c===1)throw c=Ds,Li(o,0),Kr(o,l),tn(o,ct()),c;if(c===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,Ii(o,en,vr),tn(o,ct()),null}function Zf(o,l){var c=qe;qe|=1;try{return o(l)}finally{qe=c,qe===0&&(Oo=ct()+500,aa&&Fr())}}function Ai(o){Ur!==null&&Ur.tag===0&&(qe&6)===0&&Mo();var l=qe;qe|=1;var c=Cn.transition,d=Je;try{if(Cn.transition=null,Je=1,o)return o()}finally{Je=d,Cn.transition=c,qe=l,(qe&6)===0&&Fr()}}function ed(){hn=Eo.current,Ze(Eo)}function Li(o,l){o.finishedWork=null,o.finishedLanes=0;var c=o.timeoutHandle;if(c!==-1&&(o.timeoutHandle=-1,RS(c)),ht!==null)for(c=ht.return;c!==null;){var d=c;switch(uf(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&sa();break;case 3:ko(),Ze(Xt),Ze(jt),kf();break;case 5:xf(d);break;case 4:ko();break;case 13:Ze(it);break;case 19:Ze(it);break;case 10:mf(d.type._context);break;case 22:case 23:ed()}c=c.return}if(kt=o,ht=o=Gr(o.current,null),At=hn=l,vt=0,Ds=null,Kf=Na=Pi=0,en=Ps=null,Ni!==null){for(l=0;l<Ni.length;l++)if(c=Ni[l],d=c.interleaved,d!==null){c.interleaved=null;var m=d.next,y=c.pending;if(y!==null){var M=y.next;y.next=m,d.next=M}c.pending=d}Ni=null}return o}function Gg(o,l){do{var c=ht;try{if(hf(),va.current=ka,wa){for(var d=ot.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}wa=!1}if(Di=0,St=yt=ot=null,Es=!1,Os=0,qf.current=null,c===null||c.return===null){vt=1,Ds=l,ht=null;break}e:{var y=o,M=c.return,P=c,L=l;if(l=At,P.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var V=L,Q=P,ne=Q.tag;if((Q.mode&1)===0&&(ne===0||ne===11||ne===15)){var X=Q.alternate;X?(Q.updateQueue=X.updateQueue,Q.memoizedState=X.memoizedState,Q.lanes=X.lanes):(Q.updateQueue=null,Q.memoizedState=null)}var pe=wg(M);if(pe!==null){pe.flags&=-257,xg(pe,M,P,y,l),pe.mode&1&&vg(y,V,l),l=pe,L=V;var ve=l.updateQueue;if(ve===null){var Se=new Set;Se.add(L),l.updateQueue=Se}else ve.add(L);break e}else{if((l&1)===0){vg(y,V,l),td();break e}L=Error(t(426))}}else if(tt&&P.mode&1){var ft=wg(M);if(ft!==null){(ft.flags&65536)===0&&(ft.flags|=256),xg(ft,M,P,y,l),df(Co(L,P));break e}}y=L=Co(L,P),vt!==4&&(vt=2),Ps===null?Ps=[y]:Ps.push(y),y=M;do{switch(y.tag){case 3:y.flags|=65536,l&=-l,y.lanes|=l;var F=gg(y,L,l);Vm(y,F);break e;case 1:P=L;var z=y.type,H=y.stateNode;if((y.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Wr===null||!Wr.has(H)))){y.flags|=65536,l&=-l,y.lanes|=l;var oe=yg(y,P,l);Vm(y,oe);break e}}y=y.return}while(y!==null)}Xg(c)}catch(be){l=be,ht===c&&c!==null&&(ht=c=c.return);continue}break}while(!0)}function Jg(){var o=Ta.current;return Ta.current=ka,o===null?ka:o}function td(){(vt===0||vt===3||vt===2)&&(vt=4),kt===null||(Pi&268435455)===0&&(Na&268435455)===0||Kr(kt,At)}function Ia(o,l){var c=qe;qe|=2;var d=Jg();(kt!==o||At!==l)&&(vr=null,Li(o,l));do try{tk();break}catch(m){Gg(o,m)}while(!0);if(hf(),qe=c,Ta.current=d,ht!==null)throw Error(t(261));return kt=null,At=0,vt}function tk(){for(;ht!==null;)Yg(ht)}function nk(){for(;ht!==null&&!Mx();)Yg(ht)}function Yg(o){var l=ey(o.alternate,o,hn);o.memoizedProps=o.pendingProps,l===null?Xg(o):ht=l,qf.current=null}function Xg(o){var l=o;do{var c=l.alternate;if(o=l.return,(l.flags&32768)===0){if(c=GS(c,l,hn),c!==null){ht=c;return}}else{if(c=JS(c,l),c!==null){c.flags&=32767,ht=c;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{vt=6,ht=null;return}}if(l=l.sibling,l!==null){ht=l;return}ht=l=o}while(l!==null);vt===0&&(vt=5)}function Ii(o,l,c){var d=Je,m=Cn.transition;try{Cn.transition=null,Je=1,rk(o,l,c,d)}finally{Cn.transition=m,Je=d}return null}function rk(o,l,c,d){do Mo();while(Ur!==null);if((qe&6)!==0)throw Error(t(327));c=o.finishedWork;var m=o.finishedLanes;if(c===null)return null;if(o.finishedWork=null,o.finishedLanes=0,c===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var y=c.lanes|c.childLanes;if(_x(o,y),o===kt&&(ht=kt=null,At=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Da||(Da=!0,ty(Bl,function(){return Mo(),null})),y=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||y){y=Cn.transition,Cn.transition=null;var M=Je;Je=1;var P=qe;qe|=4,qf.current=null,XS(o,c),Hg(c,o),CS(ef),ql=!!Zc,ef=Zc=null,o.current=c,QS(c),Tx(),qe=P,Je=M,Cn.transition=y}else o.current=c;if(Da&&(Da=!1,Ur=o,Pa=m),y=o.pendingLanes,y===0&&(Wr=null),Dx(c.stateNode),tn(o,ct()),l!==null)for(d=o.onRecoverableError,c=0;c<l.length;c++)m=l[c],d(m.value,{componentStack:m.stack,digest:m.digest});if(Ra)throw Ra=!1,o=Jf,Jf=null,o;return(Pa&1)!==0&&o.tag!==0&&Mo(),y=o.pendingLanes,(y&1)!==0?o===Yf?As++:(As=0,Yf=o):As=0,Fr(),null}function Mo(){if(Ur!==null){var o=Bh(Pa),l=Cn.transition,c=Je;try{if(Cn.transition=null,Je=16>o?16:o,Ur===null)var d=!1;else{if(o=Ur,Ur=null,Pa=0,(qe&6)!==0)throw Error(t(331));var m=qe;for(qe|=4,me=o.current;me!==null;){var y=me,M=y.child;if((me.flags&16)!==0){var P=y.deletions;if(P!==null){for(var L=0;L<P.length;L++){var V=P[L];for(me=V;me!==null;){var Q=me;switch(Q.tag){case 0:case 11:case 15:Rs(8,Q,y)}var ne=Q.child;if(ne!==null)ne.return=Q,me=ne;else for(;me!==null;){Q=me;var X=Q.sibling,pe=Q.return;if(zg(Q),Q===V){me=null;break}if(X!==null){X.return=pe,me=X;break}me=pe}}}var ve=y.alternate;if(ve!==null){var Se=ve.child;if(Se!==null){ve.child=null;do{var ft=Se.sibling;Se.sibling=null,Se=ft}while(Se!==null)}}me=y}}if((y.subtreeFlags&2064)!==0&&M!==null)M.return=y,me=M;else e:for(;me!==null;){if(y=me,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Rs(9,y,y.return)}var F=y.sibling;if(F!==null){F.return=y.return,me=F;break e}me=y.return}}var z=o.current;for(me=z;me!==null;){M=me;var H=M.child;if((M.subtreeFlags&2064)!==0&&H!==null)H.return=M,me=H;else e:for(M=z;me!==null;){if(P=me,(P.flags&2048)!==0)try{switch(P.tag){case 0:case 11:case 15:Ma(9,P)}}catch(be){lt(P,P.return,be)}if(P===M){me=null;break e}var oe=P.sibling;if(oe!==null){oe.return=P.return,me=oe;break e}me=P.return}}if(qe=m,Fr(),Gn&&typeof Gn.onPostCommitFiberRoot=="function")try{Gn.onPostCommitFiberRoot(Fl,o)}catch{}d=!0}return d}finally{Je=c,Cn.transition=l}}return!1}function Qg(o,l,c){l=Co(c,l),l=gg(o,l,1),o=$r(o,l,1),l=Kt(),o!==null&&(ns(o,1,l),tn(o,l))}function lt(o,l,c){if(o.tag===3)Qg(o,o,c);else for(;l!==null;){if(l.tag===3){Qg(l,o,c);break}else if(l.tag===1){var d=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Wr===null||!Wr.has(d))){o=Co(c,o),o=yg(l,o,1),l=$r(l,o,1),o=Kt(),l!==null&&(ns(l,1,o),tn(l,o));break}}l=l.return}}function ik(o,l,c){var d=o.pingCache;d!==null&&d.delete(l),l=Kt(),o.pingedLanes|=o.suspendedLanes&c,kt===o&&(At&c)===c&&(vt===4||vt===3&&(At&130023424)===At&&500>ct()-Gf?Li(o,0):Kf|=c),tn(o,l)}function Zg(o,l){l===0&&((o.mode&1)===0?l=1:(l=$l,$l<<=1,($l&130023424)===0&&($l=4194304)));var c=Kt();o=mr(o,l),o!==null&&(ns(o,l,c),tn(o,c))}function ok(o){var l=o.memoizedState,c=0;l!==null&&(c=l.retryLane),Zg(o,c)}function sk(o,l){var c=0;switch(o.tag){case 13:var d=o.stateNode,m=o.memoizedState;m!==null&&(c=m.retryLane);break;case 19:d=o.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(l),Zg(o,c)}var ey;ey=function(o,l,c){if(o!==null)if(o.memoizedProps!==l.pendingProps||Xt.current)Zt=!0;else{if((o.lanes&c)===0&&(l.flags&128)===0)return Zt=!1,KS(o,l,c);Zt=(o.flags&131072)!==0}else Zt=!1,tt&&(l.flags&1048576)!==0&&Am(l,ca,l.index);switch(l.lanes=0,l.tag){case 2:var d=l.type;Ea(o,l),o=l.pendingProps;var m=mo(l,jt.current);So(l,c),m=Ef(null,l,d,o,m,c);var y=Of();return l.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Qt(d)?(y=!0,la(l)):y=!1,l.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,vf(l),m.updater=Ca,l.stateNode=m,m._reactInternals=l,Pf(l,d,o,c),l=zf(null,l,d,!0,y,c)):(l.tag=0,tt&&y&&af(l),qt(null,l,m,c),l=l.child),l;case 16:d=l.elementType;e:{switch(Ea(o,l),o=l.pendingProps,m=d._init,d=m(d._payload),l.type=d,m=l.tag=ak(d),o=jn(d,o),m){case 0:l=If(null,l,d,o,c);break e;case 1:l=Og(null,l,d,o,c);break e;case 11:l=Sg(null,l,d,o,c);break e;case 14:l=kg(null,l,d,jn(d.type,o),c);break e}throw Error(t(306,d,""))}return l;case 0:return d=l.type,m=l.pendingProps,m=l.elementType===d?m:jn(d,m),If(o,l,d,m,c);case 1:return d=l.type,m=l.pendingProps,m=l.elementType===d?m:jn(d,m),Og(o,l,d,m,c);case 3:e:{if(Mg(l),o===null)throw Error(t(387));d=l.pendingProps,y=l.memoizedState,m=y.element,$m(o,l),ga(l,d,null,c);var M=l.memoizedState;if(d=M.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},l.updateQueue.baseState=y,l.memoizedState=y,l.flags&256){m=Co(Error(t(423)),l),l=Tg(o,l,d,c,m);break e}else if(d!==m){m=Co(Error(t(424)),l),l=Tg(o,l,d,c,m);break e}else for(pn=_r(l.stateNode.containerInfo.firstChild),dn=l,tt=!0,_n=null,c=Fm(l,null,d,c),l.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(vo(),d===m){l=yr(o,l,c);break e}qt(o,l,d,c)}l=l.child}return l;case 5:return Um(l),o===null&&ff(l),d=l.type,m=l.pendingProps,y=o!==null?o.memoizedProps:null,M=m.children,tf(d,m)?M=null:y!==null&&tf(d,y)&&(l.flags|=32),Eg(o,l),qt(o,l,M,c),l.child;case 6:return o===null&&ff(l),null;case 13:return Ng(o,l,c);case 4:return wf(l,l.stateNode.containerInfo),d=l.pendingProps,o===null?l.child=wo(l,null,d,c):qt(o,l,d,c),l.child;case 11:return d=l.type,m=l.pendingProps,m=l.elementType===d?m:jn(d,m),Sg(o,l,d,m,c);case 7:return qt(o,l,l.pendingProps,c),l.child;case 8:return qt(o,l,l.pendingProps.children,c),l.child;case 12:return qt(o,l,l.pendingProps.children,c),l.child;case 10:e:{if(d=l.type._context,m=l.pendingProps,y=l.memoizedProps,M=m.value,Xe(pa,d._currentValue),d._currentValue=M,y!==null)if(zn(y.value,M)){if(y.children===m.children&&!Xt.current){l=yr(o,l,c);break e}}else for(y=l.child,y!==null&&(y.return=l);y!==null;){var P=y.dependencies;if(P!==null){M=y.child;for(var L=P.firstContext;L!==null;){if(L.context===d){if(y.tag===1){L=gr(-1,c&-c),L.tag=2;var V=y.updateQueue;if(V!==null){V=V.shared;var Q=V.pending;Q===null?L.next=L:(L.next=Q.next,Q.next=L),V.pending=L}}y.lanes|=c,L=y.alternate,L!==null&&(L.lanes|=c),gf(y.return,c,l),P.lanes|=c;break}L=L.next}}else if(y.tag===10)M=y.type===l.type?null:y.child;else if(y.tag===18){if(M=y.return,M===null)throw Error(t(341));M.lanes|=c,P=M.alternate,P!==null&&(P.lanes|=c),gf(M,c,l),M=y.sibling}else M=y.child;if(M!==null)M.return=y;else for(M=y;M!==null;){if(M===l){M=null;break}if(y=M.sibling,y!==null){y.return=M.return,M=y;break}M=M.return}y=M}qt(o,l,m.children,c),l=l.child}return l;case 9:return m=l.type,d=l.pendingProps.children,So(l,c),m=Sn(m),d=d(m),l.flags|=1,qt(o,l,d,c),l.child;case 14:return d=l.type,m=jn(d,l.pendingProps),m=jn(d.type,m),kg(o,l,d,m,c);case 15:return Cg(o,l,l.type,l.pendingProps,c);case 17:return d=l.type,m=l.pendingProps,m=l.elementType===d?m:jn(d,m),Ea(o,l),l.tag=1,Qt(d)?(o=!0,la(l)):o=!1,So(l,c),hg(l,d,m),Pf(l,d,m,c),zf(null,l,d,!0,o,c);case 19:return Dg(o,l,c);case 22:return bg(o,l,c)}throw Error(t(156,l.tag))};function ty(o,l){return Lh(o,l)}function lk(o,l,c,d){this.tag=o,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(o,l,c,d){return new lk(o,l,c,d)}function nd(o){return o=o.prototype,!(!o||!o.isReactComponent)}function ak(o){if(typeof o=="function")return nd(o)?1:0;if(o!=null){if(o=o.$$typeof,o===K)return 11;if(o===he)return 14}return 2}function Gr(o,l){var c=o.alternate;return c===null?(c=bn(o.tag,l,o.key,o.mode),c.elementType=o.elementType,c.type=o.type,c.stateNode=o.stateNode,c.alternate=o,o.alternate=c):(c.pendingProps=l,c.type=o.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=o.flags&14680064,c.childLanes=o.childLanes,c.lanes=o.lanes,c.child=o.child,c.memoizedProps=o.memoizedProps,c.memoizedState=o.memoizedState,c.updateQueue=o.updateQueue,l=o.dependencies,c.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},c.sibling=o.sibling,c.index=o.index,c.ref=o.ref,c}function za(o,l,c,d,m,y){var M=2;if(d=o,typeof o=="function")nd(o)&&(M=1);else if(typeof o=="string")M=5;else e:switch(o){case T:return zi(c.children,m,y,l);case D:M=8,m|=8;break;case B:return o=bn(12,c,l,m|2),o.elementType=B,o.lanes=y,o;case re:return o=bn(13,c,l,m),o.elementType=re,o.lanes=y,o;case fe:return o=bn(19,c,l,m),o.elementType=fe,o.lanes=y,o;case le:return _a(c,m,y,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case W:M=10;break e;case te:M=9;break e;case K:M=11;break e;case he:M=14;break e;case ce:M=16,d=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return l=bn(M,c,l,m),l.elementType=o,l.type=d,l.lanes=y,l}function zi(o,l,c,d){return o=bn(7,o,d,l),o.lanes=c,o}function _a(o,l,c,d){return o=bn(22,o,d,l),o.elementType=le,o.lanes=c,o.stateNode={isHidden:!1},o}function rd(o,l,c){return o=bn(6,o,null,l),o.lanes=c,o}function id(o,l,c){return l=bn(4,o.children!==null?o.children:[],o.key,l),l.lanes=c,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function uk(o,l,c,d,m){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rc(0),this.expirationTimes=Rc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rc(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function od(o,l,c,d,m,y,M,P,L){return o=new uk(o,l,c,P,L),l===1?(l=1,y===!0&&(l|=8)):l=0,y=bn(3,null,null,l),o.current=y,y.stateNode=o,y.memoizedState={element:d,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},vf(y),o}function ck(o,l,c){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:d==null?null:""+d,children:o,containerInfo:l,implementation:c}}function ny(o){if(!o)return Br;o=o._reactInternals;e:{if(bi(o)!==o||o.tag!==1)throw Error(t(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Qt(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(t(171))}if(o.tag===1){var c=o.type;if(Qt(c))return Rm(o,c,l)}return l}function ry(o,l,c,d,m,y,M,P,L){return o=od(c,d,!0,o,m,y,M,P,L),o.context=ny(null),c=o.current,d=Kt(),m=qr(c),y=gr(d,m),y.callback=l??null,$r(c,y,m),o.current.lanes=m,ns(o,m,d),tn(o,d),o}function ja(o,l,c,d){var m=l.current,y=Kt(),M=qr(m);return c=ny(c),l.context===null?l.context=c:l.pendingContext=c,l=gr(y,M),l.payload={element:o},d=d===void 0?null:d,d!==null&&(l.callback=d),o=$r(m,l,M),o!==null&&(Hn(o,m,M,y),ma(o,m,M)),M}function Ba(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function iy(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var c=o.retryLane;o.retryLane=c!==0&&c<l?c:l}}function sd(o,l){iy(o,l),(o=o.alternate)&&iy(o,l)}function fk(){return null}var oy=typeof reportError=="function"?reportError:function(o){console.error(o)};function ld(o){this._internalRoot=o}Fa.prototype.render=ld.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(t(409));ja(o,l,null,null)},Fa.prototype.unmount=ld.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;Ai(function(){ja(null,o,null,null)}),l[fr]=null}};function Fa(o){this._internalRoot=o}Fa.prototype.unstable_scheduleHydration=function(o){if(o){var l=$h();o={blockedOn:null,target:o,priority:l};for(var c=0;c<Lr.length&&l!==0&&l<Lr[c].priority;c++);Lr.splice(c,0,o),c===0&&Uh(o)}};function ad(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Ha(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function sy(){}function dk(o,l,c,d,m){if(m){if(typeof d=="function"){var y=d;d=function(){var V=Ba(M);y.call(V)}}var M=ry(l,d,o,0,null,!1,!1,"",sy);return o._reactRootContainer=M,o[fr]=M.current,ys(o.nodeType===8?o.parentNode:o),Ai(),M}for(;m=o.lastChild;)o.removeChild(m);if(typeof d=="function"){var P=d;d=function(){var V=Ba(L);P.call(V)}}var L=od(o,0,!1,null,null,!1,!1,"",sy);return o._reactRootContainer=L,o[fr]=L.current,ys(o.nodeType===8?o.parentNode:o),Ai(function(){ja(l,L,c,d)}),L}function $a(o,l,c,d,m){var y=c._reactRootContainer;if(y){var M=y;if(typeof m=="function"){var P=m;m=function(){var L=Ba(M);P.call(L)}}ja(l,M,o,m)}else M=dk(c,l,o,m,d);return Ba(M)}Fh=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var c=ts(l.pendingLanes);c!==0&&(Dc(l,c|1),tn(l,ct()),(qe&6)===0&&(Oo=ct()+500,Fr()))}break;case 13:Ai(function(){var d=mr(o,1);if(d!==null){var m=Kt();Hn(d,o,1,m)}}),sd(o,1)}},Pc=function(o){if(o.tag===13){var l=mr(o,134217728);if(l!==null){var c=Kt();Hn(l,o,134217728,c)}sd(o,134217728)}},Hh=function(o){if(o.tag===13){var l=qr(o),c=mr(o,l);if(c!==null){var d=Kt();Hn(c,o,l,d)}sd(o,l)}},$h=function(){return Je},Vh=function(o,l){var c=Je;try{return Je=o,l()}finally{Je=c}},_t=function(o,l,c){switch(l){case"input":if(Ce(o,c),l=c.name,c.type==="radio"&&l!=null){for(c=o;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<c.length;l++){var d=c[l];if(d!==o&&d.form===o.form){var m=oa(d);if(!m)throw Error(t(90));j(d),Ce(d,m)}}}break;case"textarea":Ut(o,c);break;case"select":l=c.value,l!=null&&rt(o,!!c.multiple,l,!1)}},cr=Zf,zl=Ai;var pk={usingClientEntryPoint:!1,Events:[xs,po,oa,io,Si,Zf]},Ls={findFiberByHostInstance:Ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hk={bundleType:Ls.bundleType,version:Ls.version,rendererPackageName:Ls.rendererPackageName,rendererConfig:Ls.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Ph(o),o===null?null:o.stateNode},findFiberByHostInstance:Ls.findFiberByHostInstance||fk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Va=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Va.isDisabled&&Va.supportsFiber)try{Fl=Va.inject(hk),Gn=Va}catch{}}return nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pk,nn.createPortal=function(o,l){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ad(l))throw Error(t(200));return ck(o,l,null,c)},nn.createRoot=function(o,l){if(!ad(o))throw Error(t(299));var c=!1,d="",m=oy;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onRecoverableError!==void 0&&(m=l.onRecoverableError)),l=od(o,1,!1,null,null,c,!1,d,m),o[fr]=l.current,ys(o.nodeType===8?o.parentNode:o),new ld(l)},nn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=Ph(l),o=o===null?null:o.stateNode,o},nn.flushSync=function(o){return Ai(o)},nn.hydrate=function(o,l,c){if(!Ha(l))throw Error(t(200));return $a(null,o,l,!0,c)},nn.hydrateRoot=function(o,l,c){if(!ad(o))throw Error(t(405));var d=c!=null&&c.hydratedSources||null,m=!1,y="",M=oy;if(c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onRecoverableError!==void 0&&(M=c.onRecoverableError)),l=ry(l,null,o,1,c??null,m,!1,y,M),o[fr]=l.current,ys(o),d)for(o=0;o<d.length;o++)c=d[o],m=c._getVersion,m=m(c._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[c,m]:l.mutableSourceEagerHydrationData.push(c,m);return new Fa(l)},nn.render=function(o,l,c){if(!Ha(l))throw Error(t(200));return $a(null,o,l,!1,c)},nn.unmountComponentAtNode=function(o){if(!Ha(o))throw Error(t(40));return o._reactRootContainer?(Ai(function(){$a(null,null,o,!1,function(){o._reactRootContainer=null,o[fr]=null})}),!0):!1},nn.unstable_batchedUpdates=Zf,nn.unstable_renderSubtreeIntoContainer=function(o,l,c,d){if(!Ha(c))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return $a(o,l,c,!1,d)},nn.version="18.3.1-next-f1338f8080-20240426",nn}var hy;function Ol(){if(hy)return fd.exports;hy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),fd.exports=Sk(),fd.exports}var my;function kk(){if(my)return Wa;my=1;var n=Ol();return Wa.createRoot=n.createRoot,Wa.hydrateRoot=n.hydrateRoot,Wa}var Ck=kk();function Lt(n){this.content=n}Lt.prototype={constructor:Lt,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,i=r.find(n),s=r.content.slice();return i==-1?s.push(t||n,e):(s[i+1]=e,t&&(s[i]=t)),new Lt(s)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new Lt(t)},addToStart:function(n,e){return new Lt([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new Lt(t)},addBefore:function(n,e,t){var r=this.remove(e),i=r.content.slice(),s=r.find(n);return i.splice(s==-1?i.length:s,0,e,t),new Lt(i)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=Lt.from(n),n.size?new Lt(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=Lt.from(n),n.size?new Lt(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=Lt.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};Lt.from=function(n){if(n instanceof Lt)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new Lt(e)};function z0(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let i=n.child(r),s=e.child(r);if(i==s){t+=i.nodeSize;continue}if(!i.sameMarkup(s))return t;if(i.isText&&i.text!=s.text){for(let a=0;i.text[a]==s.text[a];a++)t++;return t}if(i.content.size||s.content.size){let a=z0(i.content,s.content,t+1);if(a!=null)return a}t+=i.nodeSize}}function _0(n,e,t,r){for(let i=n.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:t,b:r};let a=n.child(--i),u=e.child(--s),f=a.nodeSize;if(a==u){t-=f,r-=f;continue}if(!a.sameMarkup(u))return{a:t,b:r};if(a.isText&&a.text!=u.text){let p=0,h=Math.min(a.text.length,u.text.length);for(;p<h&&a.text[a.text.length-p-1]==u.text[u.text.length-p-1];)p++,t--,r--;return{a:t,b:r}}if(a.content.size||u.content.size){let p=_0(a.content,u.content,t-1,r-1);if(p)return p}t-=f,r-=f}}class ee{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,i=0,s){for(let a=0,u=0;u<t;a++){let f=this.content[a],p=u+f.nodeSize;if(p>e&&r(f,i+u,s||null,a)!==!1&&f.content.size){let h=u+1;f.nodesBetween(Math.max(0,e-h),Math.min(f.content.size,t-h),r,i+h)}u=p}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,i){let s="",a=!0;return this.nodesBetween(e,t,(u,f)=>{let p=u.isText?u.text.slice(Math.max(e,f)-f,t-f):u.isLeaf?i?typeof i=="function"?i(u):i:u.type.spec.leafText?u.type.spec.leafText(u):"":"";u.isBlock&&(u.isLeaf&&p||u.isTextblock)&&r&&(a?a=!1:s+=r),s+=p},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(t.isText&&t.sameMarkup(r)&&(i[i.length-1]=t.withText(t.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new ee(i,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],i=0;if(t>e)for(let s=0,a=0;a<t;s++){let u=this.content[s],f=a+u.nodeSize;f>e&&((a<e||f>t)&&(u.isText?u=u.cut(Math.max(0,e-a),Math.min(u.text.length,t-a)):u=u.cut(Math.max(0,e-a-1),Math.min(u.content.size,t-a-1))),r.push(u),i+=u.nodeSize),a=f}return new ee(r,i)}cutByIndex(e,t){return e==t?ee.empty:e==0&&t==this.content.length?this:new ee(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let i=this.content.slice(),s=this.size+t.nodeSize-r.nodeSize;return i[e]=t,new ee(i,s)}addToStart(e){return new ee([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ee(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let i=this.content[t];e(i,r,t),r+=i.nodeSize}}findDiffStart(e,t=0){return z0(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return _0(this,e,t,r)}findIndex(e,t=-1){if(e==0)return Ua(0,e);if(e==this.size)return Ua(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let s=this.child(r),a=i+s.nodeSize;if(a>=e)return a==e||t>0?Ua(r+1,a):Ua(r,i);i=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return ee.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new ee(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ee.empty;let t,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(t||(t=e.slice(0,i)),t[t.length-1]=s.withText(t[t.length-1].text+s.text)):t&&t.push(s)}return new ee(t||e,r)}static from(e){if(!e)return ee.empty;if(e instanceof ee)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ee([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ee.empty=new ee([],0);const hd={index:0,offset:0};function Ua(n,e){return hd.index=n,hd.offset=e,hd}function hu(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!hu(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!hu(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let Ye=class Zd{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))t||(t=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),r=!0),t&&t.push(s)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&hu(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let i=r.create(t.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Zd.none;if(e instanceof Zd)return[e];let t=e.slice();return t.sort((r,i)=>r.type.rank-i.type.rank),t}};Ye.none=[];class mu extends Error{}class de{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=B0(this.content,e+this.openStart,t);return r&&new de(r,this.openStart,this.openEnd)}removeBetween(e,t){return new de(j0(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return de.empty;let r=t.openStart||0,i=t.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new de(ee.fromJSON(e,t.content),r,i)}static maxOpen(e,t=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.lastChild)i++;return new de(e,r,i)}}de.empty=new de(ee.empty,0,0);function j0(n,e,t){let{index:r,offset:i}=n.findIndex(e),s=n.maybeChild(r),{index:a,offset:u}=n.findIndex(t);if(i==e||s.isText){if(u!=t&&!n.child(a).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=a)throw new RangeError("Removing non-flat range");return n.replaceChild(r,s.copy(j0(s.content,e-i-1,t-i-1)))}function B0(n,e,t,r){let{index:i,offset:s}=n.findIndex(e),a=n.maybeChild(i);if(s==e||a.isText)return n.cut(0,e).append(t).append(n.cut(e));let u=B0(a.content,e-s-1,t);return u&&n.replaceChild(i,a.copy(u))}function bk(n,e,t){if(t.openStart>n.depth)throw new mu("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new mu("Inconsistent open depths");return F0(n,e,t,0)}function F0(n,e,t,r){let i=n.index(r),s=n.node(r);if(i==e.index(r)&&r<n.depth-t.openStart){let a=F0(n,e,t,r+1);return s.copy(s.content.replaceChild(i,a))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let a=n.parent,u=a.content;return qi(a,u.cut(0,n.parentOffset).append(t.content).append(u.cut(e.parentOffset)))}else{let{start:a,end:u}=Ek(t,n);return qi(s,$0(n,a,u,e,r))}else return qi(s,gu(n,e,r))}function H0(n,e){if(!e.type.compatibleContent(n.type))throw new mu("Cannot join "+e.type.name+" onto "+n.type.name)}function ep(n,e,t){let r=n.node(t);return H0(r,e.node(t)),r}function Ui(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function Zs(n,e,t,r){let i=(e||n).node(t),s=0,a=e?e.index(t):i.childCount;n&&(s=n.index(t),n.depth>t?s++:n.textOffset&&(Ui(n.nodeAfter,r),s++));for(let u=s;u<a;u++)Ui(i.child(u),r);e&&e.depth==t&&e.textOffset&&Ui(e.nodeBefore,r)}function qi(n,e){return n.type.checkContent(e),n.copy(e)}function $0(n,e,t,r,i){let s=n.depth>i&&ep(n,e,i+1),a=r.depth>i&&ep(t,r,i+1),u=[];return Zs(null,n,i,u),s&&a&&e.index(i)==t.index(i)?(H0(s,a),Ui(qi(s,$0(n,e,t,r,i+1)),u)):(s&&Ui(qi(s,gu(n,e,i+1)),u),Zs(e,t,i,u),a&&Ui(qi(a,gu(t,r,i+1)),u)),Zs(r,null,i,u),new ee(u)}function gu(n,e,t){let r=[];if(Zs(null,n,t,r),n.depth>t){let i=ep(n,e,t+1);Ui(qi(i,gu(n,e,t+1)),r)}return Zs(e,null,t,r),new ee(r)}function Ek(n,e){let t=e.depth-n.openStart,i=e.node(t).copy(n.content);for(let s=t-1;s>=0;s--)i=e.node(s).copy(ee.from(i));return{start:i.resolveNoCache(n.openStart+t),end:i.resolveNoCache(i.content.size-n.openEnd-t)}}class dl{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(t);return r?e.child(t).cut(r):i}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],i=t==0?0:this.path[t*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return Ye.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),i=e.maybeChild(t);if(!r){let u=r;r=i,i=u}let s=r.marks;for(var a=0;a<s.length;a++)s[a].type.spec.inclusive===!1&&(!i||!s[a].isInSet(i.marks))&&(s=s[a--].removeFromSet(s));return s}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new yu(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],i=0,s=t;for(let a=e;;){let{index:u,offset:f}=a.content.findIndex(s),p=s-f;if(r.push(a,u,i+f),!p||(a=a.child(u),a.isText))break;s=p-1,i+=f+1}return new dl(t,r,s)}static resolveCached(e,t){let r=gy.get(e);if(r)for(let s=0;s<r.elts.length;s++){let a=r.elts[s];if(a.pos==t)return a}else gy.set(e,r=new Ok);let i=r.elts[r.i]=dl.resolve(e,t);return r.i=(r.i+1)%Mk,i}}class Ok{constructor(){this.elts=[],this.i=0}}const Mk=12,gy=new WeakMap;class yu{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Tk=Object.create(null);let ai=class tp{constructor(e,t,r,i=Ye.none){this.type=e,this.attrs=t,this.marks=i,this.content=r||ee.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,i=0){this.content.nodesBetween(e,t,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,i){return this.content.textBetween(e,t,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&hu(this.attrs,t||e.defaultAttrs||Tk)&&Ye.sameSet(this.marks,r||Ye.none)}copy(e=null){return e==this.content?this:new tp(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new tp(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return de.empty;let i=this.resolve(e),s=this.resolve(t),a=r?0:i.sharedDepth(t),u=i.start(a),p=i.node(a).content.cut(i.pos-u,s.pos-u);return new de(p,i.depth-a,s.depth-a)}replace(e,t,r){return bk(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:i}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(i==e||t.isText)return t;e-=i+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let i=this.content.child(t-1);return{node:i,index:t-1,offset:r-i.nodeSize}}resolve(e){return dl.resolveCached(this,e)}resolveNoCache(e){return dl.resolve(this,e)}rangeHasMark(e,t,r){let i=!1;return t>e&&this.nodesBetween(e,t,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),V0(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=ee.empty,i=0,s=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,i,s),u=a&&a.matchFragment(this.content,t);if(!u||!u.validEnd)return!1;for(let f=i;f<s;f++)if(!this.type.allowsMarks(r.child(f).marks))return!1;return!0}canReplaceWith(e,t,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),a=s&&s.matchFragment(this.content,t);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Ye.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Ye.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let i=ee.fromJSON(e,t.content),s=e.nodeType(t.type).create(t.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};ai.prototype.text=void 0;class vu extends ai{constructor(e,t,r,i){if(super(e,t,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):V0(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new vu(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new vu(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function V0(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class Xi{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new Nk(e,t);if(r.next==null)return Xi.empty;let i=W0(r);r.next&&r.err("Unexpected trailing text");let s=zk(Ik(i));return _k(s,r),s}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let i=this;for(let s=t;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let i=[this];function s(a,u){let f=a.matchFragment(e,r);if(f&&(!t||f.validEnd))return ee.from(u.map(p=>p.createAndFill()));for(let p=0;p<a.next.length;p++){let{type:h,next:g}=a.next[p];if(!(h.isText||h.hasRequiredAttrs())&&i.indexOf(g)==-1){i.push(g);let v=s(g,u.concat(h));if(v)return v}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let a=[];for(let u=i;u.type;u=u.via)a.push(u.type);return a.reverse()}for(let a=0;a<s.next.length;a++){let{type:u,next:f}=s.next[a];!u.isLeaf&&!u.hasRequiredAttrs()&&!(u.name in t)&&(!i.type||f.validEnd)&&(r.push({match:u.contentMatch,type:u,via:i}),t[u.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&t(r.next[i].next)}return t(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)s+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return s}).join(`
`)}}Xi.empty=new Xi(!0);class Nk{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function W0(n){let e=[];do e.push(Rk(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Rk(n){let e=[];do e.push(Dk(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Dk(n){let e=Lk(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=Pk(n,e);else break;return e}function yy(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function Pk(n,e){let t=yy(n),r=t;return n.eat(",")&&(n.next!="}"?r=yy(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function Ak(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let i=[];for(let s in t){let a=t[s];a.isInGroup(e)&&i.push(a)}return i.length==0&&n.err("No node type or group '"+e+"' found"),i}function Lk(n){if(n.eat("(")){let e=W0(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=Ak(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function Ik(n){let e=[[]];return i(s(n,0),t()),e;function t(){return e.push([])-1}function r(a,u,f){let p={term:f,to:u};return e[a].push(p),p}function i(a,u){a.forEach(f=>f.to=u)}function s(a,u){if(a.type=="choice")return a.exprs.reduce((f,p)=>f.concat(s(p,u)),[]);if(a.type=="seq")for(let f=0;;f++){let p=s(a.exprs[f],u);if(f==a.exprs.length-1)return p;i(p,u=t())}else if(a.type=="star"){let f=t();return r(u,f),i(s(a.expr,f),f),[r(f)]}else if(a.type=="plus"){let f=t();return i(s(a.expr,u),f),i(s(a.expr,f),f),[r(f)]}else{if(a.type=="opt")return[r(u)].concat(s(a.expr,u));if(a.type=="range"){let f=u;for(let p=0;p<a.min;p++){let h=t();i(s(a.expr,f),h),f=h}if(a.max==-1)i(s(a.expr,f),f);else for(let p=a.min;p<a.max;p++){let h=t();r(f,h),i(s(a.expr,f),h),f=h}return[r(f)]}else{if(a.type=="name")return[r(u,void 0,a.value)];throw new Error("Unknown expr type")}}}}function U0(n,e){return e-n}function vy(n,e){let t=[];return r(e),t.sort(U0);function r(i){let s=n[i];if(s.length==1&&!s[0].term)return r(s[0].to);t.push(i);for(let a=0;a<s.length;a++){let{term:u,to:f}=s[a];!u&&t.indexOf(f)==-1&&r(f)}}}function zk(n){let e=Object.create(null);return t(vy(n,0));function t(r){let i=[];r.forEach(a=>{n[a].forEach(({term:u,to:f})=>{if(!u)return;let p;for(let h=0;h<i.length;h++)i[h][0]==u&&(p=i[h][1]);vy(n,f).forEach(h=>{p||i.push([u,p=[]]),p.indexOf(h)==-1&&p.push(h)})})});let s=e[r.join(",")]=new Xi(r.indexOf(n.length-1)>-1);for(let a=0;a<i.length;a++){let u=i[a][1].sort(U0);s.next.push({type:i[a][0],next:e[u.join(",")]||t(u)})}return s}}function _k(n,e){for(let t=0,r=[n];t<r.length;t++){let i=r[t],s=!i.validEnd,a=[];for(let u=0;u<i.next.length;u++){let{type:f,next:p}=i.next[u];a.push(f.name),s&&!(f.isText||f.hasRequiredAttrs())&&(s=!1),r.indexOf(p)==-1&&r.push(p)}s&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function q0(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function K0(n,e){let t=Object.create(null);for(let r in n){let i=e&&e[r];if(i===void 0){let s=n[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=i}return t}function G0(n,e,t,r){for(let i in e)if(!(i in n))throw new RangeError(`Unsupported attribute ${i} for ${t} of type ${i}`);for(let i in n){let s=n[i];s.validate&&s.validate(e[i])}}function J0(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new Bk(n,r,e[r]);return t}let wy=class Y0{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=J0(e,r.attrs),this.defaultAttrs=q0(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Xi.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:K0(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ai(this,this.computeAttrs(e),ee.from(t),Ye.setFrom(r))}createChecked(e=null,t,r){return t=ee.from(t),this.checkContent(t),new ai(this,this.computeAttrs(e),t,Ye.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=ee.from(t),t.size){let a=this.contentMatch.fillBefore(t);if(!a)return null;t=a.append(t)}let i=this.contentMatch.matchFragment(t),s=i&&i.fillBefore(ee.empty,!0);return s?new ai(this,e,t.append(s),Ye.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){G0(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:Ye.none:e}static compile(e,t){let r=Object.create(null);e.forEach((s,a)=>r[s]=new Y0(s,t,a));let i=t.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function jk(n,e,t){let r=t.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${s}`)}}class Bk{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?jk(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class oc{constructor(e,t,r,i){this.name=e,this.rank=t,this.schema=r,this.spec=i,this.attrs=J0(e,i.attrs),this.excluded=null;let s=q0(this.attrs);this.instance=s?new Ye(this,s):null}create(e=null){return!e&&this.instance?this.instance:new Ye(this,K0(this.attrs,e))}static compile(e,t){let r=Object.create(null),i=0;return e.forEach((s,a)=>r[s]=new oc(s,i++,t,a)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){G0(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class X0{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let i in e)t[i]=e[i];t.nodes=Lt.from(e.nodes),t.marks=Lt.from(e.marks||{}),this.nodes=wy.compile(this.spec.nodes,this),this.marks=oc.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],a=s.spec.content||"",u=s.spec.marks;if(s.contentMatch=r[a]||(r[a]=Xi.parse(a,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=u=="_"?null:u?xy(this,u.split(" ")):u==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],a=s.spec.excludes;s.excluded=a==null?[s]:a==""?[]:xy(this,a.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof wy){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,i)}text(e,t){let r=this.nodes.text;return new vu(r,r.defaultAttrs,e,Ye.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return ai.fromJSON(this,e)}markFromJSON(e){return Ye.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function xy(n,e){let t=[];for(let r=0;r<e.length;r++){let i=e[r],s=n.marks[i],a=s;if(s)t.push(s);else for(let u in n.marks){let f=n.marks[u];(i=="_"||f.spec.group&&f.spec.group.split(" ").indexOf(i)>-1)&&t.push(a=f)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function Fk(n){return n.tag!=null}function Hk(n){return n.style!=null}class ui{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(i=>{if(Fk(i))this.tags.push(i);else if(Hk(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,t={}){let r=new ky(this,t,!1);return r.addAll(e,Ye.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new ky(this,t,!0);return r.addAll(e,Ye.none,t.from,t.to),de.maxOpen(r.finish())}matchTag(e,t,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(Wk(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||t.matchesContext(s.context))){if(s.getAttrs){let a=s.getAttrs(e);if(a===!1)continue;s.attrs=a||void 0}return s}}}matchStyle(e,t,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let a=this.styles[s],u=a.style;if(!(u.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||u.length>e.length&&(u.charCodeAt(e.length)!=61||u.slice(e.length+1)!=t))){if(a.getAttrs){let f=a.getAttrs(t);if(f===!1)continue;a.attrs=f||void 0}return a}}}static schemaRules(e){let t=[];function r(i){let s=i.priority==null?50:i.priority,a=0;for(;a<t.length;a++){let u=t[a];if((u.priority==null?50:u.priority)<s)break}t.splice(a,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(a=>{r(a=Cy(a)),a.mark||a.ignore||a.clearMark||(a.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(a=>{r(a=Cy(a)),a.node||a.ignore||a.mark||(a.node=i)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new ui(e,ui.schemaRules(e)))}}const Q0={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},$k={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Z0={ol:!0,ul:!0},pl=1,np=2,el=4;function Sy(n,e,t){return e!=null?(e?pl:0)|(e==="full"?np:0):n&&n.whitespace=="pre"?pl|np:t&~el}class qa{constructor(e,t,r,i,s,a){this.type=e,this.attrs=t,this.marks=r,this.solid=i,this.options=a,this.content=[],this.activeMarks=Ye.none,this.match=s||(a&el?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(ee.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&pl)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let t=ee.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(ee.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Q0.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class ky{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=t.topNode,s,a=Sy(null,t.preserveWhitespace,0)|(r?el:0);i?s=new qa(i.type,i.attrs,Ye.none,!0,t.topMatch||i.type.contentMatch,a):r?s=new qa(null,null,Ye.none,!0,null,a):s=new qa(e.schema.topNodeType,null,Ye.none,!0,null,a),this.nodes=[s],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,i=this.top,s=i.options&np?"full":this.localPreserveWS||(i.options&pl)>0;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)s!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=i.content[i.content.length-1],u=e.previousSibling;(!a||u&&u.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),t,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),u;Z0.hasOwnProperty(a)&&this.parser.normalizeLists&&Vk(e);let f=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(u=this.parser.matchTag(e,this,r));e:if(f?f.ignore:$k.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,t);else if(!f||f.skip||f.closeParent){f&&f.closeParent?this.open=Math.max(0,this.open-1):f&&f.skip.nodeType&&(e=f.skip);let p,h=this.needsBlock;if(Q0.hasOwnProperty(a))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),p=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let g=f&&f.skip?t:this.readStyles(e,t);g&&this.addAll(e,g),p&&this.sync(s),this.needsBlock=h}else{let p=this.readStyles(e,t);p&&this.addElementByRule(e,f,p,f.consuming===!1?u:void 0)}this.localPreserveWS=i}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],a=r.getPropertyValue(s);if(a)for(let u=void 0;;){let f=this.parser.matchStyle(s,a,this,u);if(!f)break;if(f.ignore)return null;if(f.clearMark?t=t.filter(p=>!f.clearMark(p)):t=t.concat(this.parser.schema.marks[f.mark].create(f.attrs)),f.consuming===!1)u=f;else break}}return t}addElementByRule(e,t,r,i){let s,a;if(t.node)if(a=this.parser.schema.nodes[t.node],a.isLeaf)this.insertNode(a.create(t.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let f=this.enter(a,t.attrs||null,r,t.preserveWhitespace);f&&(s=!0,r=f)}else{let f=this.parser.schema.marks[t.mark];r=r.concat(f.create(t.attrs))}let u=this.top;if(a&&a.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(f=>this.insertNode(f,r,!1));else{let f=e;typeof t.contentElement=="string"?f=e.querySelector(t.contentElement):typeof t.contentElement=="function"?f=t.contentElement(e):t.contentElement&&(f=t.contentElement),this.findAround(e,f,!0),this.addAll(f,r),this.findAround(e,f,!1)}s&&this.sync(u)&&this.open--}addAll(e,t,r,i){let s=r||0;for(let a=r?e.childNodes[r]:e.firstChild,u=i==null?null:e.childNodes[i];a!=u;a=a.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(a,t);this.findAtPoint(e,s)}findPlace(e,t,r){let i,s;for(let a=this.open,u=0;a>=0;a--){let f=this.nodes[a],p=f.findWrapping(e);if(p&&(!i||i.length>p.length+u)&&(i=p,s=f,!p.length))break;if(f.solid){if(r)break;u+=2}}if(!i)return null;this.sync(s);for(let a=0;a<i.length;a++)t=this.enterInner(i[a],null,t,!1);return t}insertNode(e,t,r){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(t=this.enterInner(s,null,t))}let i=this.findPlace(e,t,r);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let a=Ye.none;for(let u of i.concat(e.marks))(s.type?s.type.allowsMarkType(u.type):by(u.type,e.type))&&(a=u.addToSet(a));return s.content.push(e.mark(a)),!0}return!1}enter(e,t,r,i){let s=this.findPlace(e.create(t),r,!1);return s&&(s=this.enterInner(e,t,r,!0,i)),s}enterInner(e,t,r,i=!1,s){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let u=Sy(e,s,a.options);a.options&el&&a.content.length==0&&(u|=el);let f=Ye.none;return r=r.filter(p=>(a.type?a.type.allowsMarkType(p.type):by(p.type,e))?(f=p.addToSet(f),!1):!0),this.nodes.push(new qa(e,t,f,i,null,u)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=pl)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&t.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),a=(u,f)=>{for(;u>=0;u--){let p=t[u];if(p==""){if(u==t.length-1||u==0)continue;for(;f>=s;f--)if(a(u-1,f))return!0;return!1}else{let h=f>0||f==0&&i?this.nodes[f].type:r&&f>=s?r.node(f-s).type:null;if(!h||h.name!=p&&!h.isInGroup(p))return!1;f--}}return!0};return a(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function Vk(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&Z0.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function Wk(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function Cy(n){let e={};for(let t in n)e[t]=n[t];return e}function by(n,e){let t=e.schema.nodes;for(let r in t){let i=t[r];if(!i.allowsMarkType(n))continue;let s=[],a=u=>{s.push(u);for(let f=0;f<u.edgeCount;f++){let{type:p,next:h}=u.edge(f);if(p==e||s.indexOf(h)<0&&a(h))return!0}};if(a(i.contentMatch))return!0}}class ro{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=md(t).createDocumentFragment());let i=r,s=[];return e.forEach(a=>{if(s.length||a.marks.length){let u=0,f=0;for(;u<s.length&&f<a.marks.length;){let p=a.marks[f];if(!this.marks[p.type.name]){f++;continue}if(!p.eq(s[u][0])||p.type.spec.spanning===!1)break;u++,f++}for(;u<s.length;)i=s.pop()[1];for(;f<a.marks.length;){let p=a.marks[f++],h=this.serializeMark(p,a.isInline,t);h&&(s.push([p,i]),i.appendChild(h.dom),i=h.contentDOM||h.dom)}}i.appendChild(this.serializeNodeInner(a,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:i}=au(md(t),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,i)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,t);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,t,r={}){let i=this.marks[e.type.name];return i&&au(md(r),i(e,t),null,e.attrs)}static renderSpec(e,t,r=null,i){return au(e,t,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new ro(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=Ey(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return Ey(e.marks)}}function Ey(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function md(n){return n.document||window.document}const Oy=new WeakMap;function Uk(n){let e=Oy.get(n);return e===void 0&&Oy.set(n,e=qk(n)),e}function qk(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)t(r[i]);else for(let i in r)t(r[i])}return t(n),e}function au(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=Uk(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=i.indexOf(" ");a>0&&(t=i.slice(0,a),i=i.slice(a+1));let u,f=t?n.createElementNS(t,i):n.createElement(i),p=e[1],h=1;if(p&&typeof p=="object"&&p.nodeType==null&&!Array.isArray(p)){h=2;for(let g in p)if(p[g]!=null){let v=g.indexOf(" ");v>0?f.setAttributeNS(g.slice(0,v),g.slice(v+1),p[g]):f.setAttribute(g,p[g])}}for(let g=h;g<e.length;g++){let v=e[g];if(v===0){if(g<e.length-1||g>h)throw new RangeError("Content hole must be the only child of its parent node");return{dom:f,contentDOM:f}}else{let{dom:x,contentDOM:k}=au(n,v,t,r);if(f.appendChild(x),k){if(u)throw new RangeError("Multiple content holes");u=k}}}return{dom:f,contentDOM:u}}const e1=65535,t1=Math.pow(2,16);function Kk(n,e){return n+e*t1}function My(n){return n&e1}function Gk(n){return(n-(n&e1))/t1}const n1=1,r1=2,uu=4,i1=8;class rp{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&i1)>0}get deletedBefore(){return(this.delInfo&(n1|uu))>0}get deletedAfter(){return(this.delInfo&(r1|uu))>0}get deletedAcross(){return(this.delInfo&uu)>0}}class mn{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&mn.empty)return mn.empty}recover(e){let t=0,r=My(e);if(!this.inverted)for(let i=0;i<r;i++)t+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+t+Gk(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let i=0,s=this.inverted?2:1,a=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let f=this.ranges[u]-(this.inverted?i:0);if(f>e)break;let p=this.ranges[u+s],h=this.ranges[u+a],g=f+p;if(e<=g){let v=p?e==f?-1:e==g?1:t:t,x=f+i+(v<0?0:h);if(r)return x;let k=e==(t<0?f:g)?null:Kk(u/3,e-f),C=e==f?r1:e==g?n1:uu;return(t<0?e!=f:e!=g)&&(C|=i1),new rp(x,C,k)}i+=h-p}return r?e+i:new rp(e+i,0,null)}touches(e,t){let r=0,i=My(t),s=this.inverted?2:1,a=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let f=this.ranges[u]-(this.inverted?r:0);if(f>e)break;let p=this.ranges[u+s],h=f+p;if(e<=h&&u==i*3)return!0;r+=this.ranges[u+a]-p}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let a=this.ranges[i],u=a-(this.inverted?s:0),f=a+(this.inverted?0:s),p=this.ranges[i+t],h=this.ranges[i+r];e(u,u+p,f,f+h),s+=h-p}}invert(){return new mn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?mn.empty:new mn(e<0?[0,-e,0]:[0,0,e])}}mn.empty=new mn([]);class hl{constructor(e,t,r=0,i=e?e.length:0){this.mirror=t,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new hl(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,r=this._maps.length;t<e._maps.length;t++){let i=e.getMirror(t);this.appendMap(e._maps[t],i!=null&&i<t?r+i:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this._maps.length+e._maps.length;t>=0;t--){let i=e.getMirror(t);this.appendMap(e._maps[t].invert(),i!=null&&i>t?r-i-1:void 0)}}invert(){let e=new hl;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let i=0;for(let s=this.from;s<this.to;s++){let a=this._maps[s],u=a.mapResult(e,t);if(u.recover!=null){let f=this.getMirror(s);if(f!=null&&f>s&&f<this.to){s=f,e=this._maps[f].recover(u.recover);continue}}i|=u.delInfo,e=u.pos}return r?e:new rp(e,i,null)}}const gd=Object.create(null);class Wt{getMap(){return mn.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=gd[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in gd)throw new RangeError("Duplicate use of step JSON ID "+e);return gd[e]=t,t.prototype.jsonID=e,t}}class mt{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new mt(e,null)}static fail(e){return new mt(null,e)}static fromReplace(e,t,r,i){try{return mt.ok(e.replace(t,r,i))}catch(s){if(s instanceof mu)return mt.fail(s.message);throw s}}}function Lp(n,e,t){let r=[];for(let i=0;i<n.childCount;i++){let s=n.child(i);s.content.size&&(s=s.copy(Lp(s.content,e,s))),s.isInline&&(s=e(s,t,i)),r.push(s)}return ee.fromArray(r)}class oi extends Wt{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new de(Lp(t.content,(a,u)=>!a.isAtom||!u.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),i),t.openStart,t.openEnd);return mt.fromReplace(e,this.from,this.to,s)}invert(){return new ir(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new oi(t.pos,r.pos,this.mark)}merge(e){return e instanceof oi&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new oi(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new oi(t.from,t.to,e.markFromJSON(t.mark))}}Wt.jsonID("addMark",oi);class ir extends Wt{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new de(Lp(t.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),t.openStart,t.openEnd);return mt.fromReplace(e,this.from,this.to,r)}invert(){return new oi(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new ir(t.pos,r.pos,this.mark)}merge(e){return e instanceof ir&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ir(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new ir(t.from,t.to,e.markFromJSON(t.mark))}}Wt.jsonID("removeMark",ir);class si extends Wt{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return mt.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return mt.fromReplace(e,this.pos,this.pos+1,new de(ee.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let i=0;i<t.marks.length;i++)if(!t.marks[i].isInSet(r))return new si(this.pos,t.marks[i]);return new si(this.pos,this.mark)}}return new Qi(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new si(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new si(t.pos,e.markFromJSON(t.mark))}}Wt.jsonID("addNodeMark",si);class Qi extends Wt{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return mt.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return mt.fromReplace(e,this.pos,this.pos+1,new de(ee.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new si(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Qi(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Qi(t.pos,e.markFromJSON(t.mark))}}Wt.jsonID("removeNodeMark",Qi);class Et extends Wt{constructor(e,t,r,i=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=i}apply(e){return this.structure&&ip(e,this.from,this.to)?mt.fail("Structure replace would overwrite content"):mt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new mn([this.from,this.to-this.from,this.slice.size])}invert(e){return new Et(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new Et(t.pos,Math.max(t.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Et)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?de.empty:new de(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Et(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?de.empty:new de(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Et(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Et(t.from,t.to,de.fromJSON(e,t.slice),!!t.structure)}}Wt.jsonID("replace",Et);class Ot extends Wt{constructor(e,t,r,i,s,a,u=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=a,this.structure=u}apply(e){if(this.structure&&(ip(e,this.from,this.gapFrom)||ip(e,this.gapTo,this.to)))return mt.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return mt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?mt.fromReplace(e,this.from,this.to,r):mt.fail("Content does not fit in gap")}getMap(){return new mn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new Ot(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||i<t.pos||s>r.pos?null:new Ot(t.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ot(t.from,t.to,t.gapFrom,t.gapTo,de.fromJSON(e,t.slice),t.insert,!!t.structure)}}Wt.jsonID("replaceAround",Ot);function ip(n,e,t){let r=n.resolve(e),i=t-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let a=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}}return!1}function Jk(n,e,t,r){let i=[],s=[],a,u;n.doc.nodesBetween(e,t,(f,p,h)=>{if(!f.isInline)return;let g=f.marks;if(!r.isInSet(g)&&h.type.allowsMarkType(r.type)){let v=Math.max(p,e),x=Math.min(p+f.nodeSize,t),k=r.addToSet(g);for(let C=0;C<g.length;C++)g[C].isInSet(k)||(a&&a.to==v&&a.mark.eq(g[C])?a.to=x:i.push(a=new ir(v,x,g[C])));u&&u.to==v?u.to=x:s.push(u=new oi(v,x,r))}}),i.forEach(f=>n.step(f)),s.forEach(f=>n.step(f))}function Yk(n,e,t,r){let i=[],s=0;n.doc.nodesBetween(e,t,(a,u)=>{if(!a.isInline)return;s++;let f=null;if(r instanceof oc){let p=a.marks,h;for(;h=r.isInSet(p);)(f||(f=[])).push(h),p=h.removeFromSet(p)}else r?r.isInSet(a.marks)&&(f=[r]):f=a.marks;if(f&&f.length){let p=Math.min(u+a.nodeSize,t);for(let h=0;h<f.length;h++){let g=f[h],v;for(let x=0;x<i.length;x++){let k=i[x];k.step==s-1&&g.eq(i[x].style)&&(v=k)}v?(v.to=p,v.step=s):i.push({style:g,from:Math.max(u,e),to:p,step:s})}}}),i.forEach(a=>n.step(new ir(a.from,a.to,a.style)))}function Ip(n,e,t,r=t.contentMatch,i=!0){let s=n.doc.nodeAt(e),a=[],u=e+1;for(let f=0;f<s.childCount;f++){let p=s.child(f),h=u+p.nodeSize,g=r.matchType(p.type);if(!g)a.push(new Et(u,h,de.empty));else{r=g;for(let v=0;v<p.marks.length;v++)t.allowsMarkType(p.marks[v].type)||n.step(new ir(u,h,p.marks[v]));if(i&&p.isText&&t.whitespace!="pre"){let v,x=/\r?\n|\r/g,k;for(;v=x.exec(p.text);)k||(k=new de(ee.from(t.schema.text(" ",t.allowedMarks(p.marks))),0,0)),a.push(new Et(u+v.index,u+v.index+v[0].length,k))}}u=h}if(!r.validEnd){let f=r.fillBefore(ee.empty,!0);n.replace(u,u,new de(f,0,0))}for(let f=a.length-1;f>=0;f--)n.step(a[f])}function Xk(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function Yo(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let i=n.$from.node(r),s=n.$from.index(r),a=n.$to.indexAfter(r);if(r<n.depth&&i.canReplace(s,a,t))return r;if(r==0||i.type.spec.isolating||!Xk(i,s,a))break}return null}function Qk(n,e,t){let{$from:r,$to:i,depth:s}=e,a=r.before(s+1),u=i.after(s+1),f=a,p=u,h=ee.empty,g=0;for(let k=s,C=!1;k>t;k--)C||r.index(k)>0?(C=!0,h=ee.from(r.node(k).copy(h)),g++):f--;let v=ee.empty,x=0;for(let k=s,C=!1;k>t;k--)C||i.after(k+1)<i.end(k)?(C=!0,v=ee.from(i.node(k).copy(v)),x++):p++;n.step(new Ot(f,p,a,u,new de(h.append(v),g,x),h.size-g,!0))}function zp(n,e,t=null,r=n){let i=Zk(n,e),s=i&&eC(r,e);return s?i.map(Ty).concat({type:e,attrs:t}).concat(s.map(Ty)):null}function Ty(n){return{type:n,attrs:null}}function Zk(n,e){let{parent:t,startIndex:r,endIndex:i}=n,s=t.contentMatchAt(r).findWrapping(e);if(!s)return null;let a=s.length?s[0]:e;return t.canReplaceWith(r,i,a)?s:null}function eC(n,e){let{parent:t,startIndex:r,endIndex:i}=n,s=t.child(r),a=e.contentMatch.findWrapping(s.type);if(!a)return null;let f=(a.length?a[a.length-1]:e).contentMatch;for(let p=r;f&&p<i;p++)f=f.matchType(t.child(p).type);return!f||!f.validEnd?null:a}function tC(n,e,t){let r=ee.empty;for(let a=t.length-1;a>=0;a--){if(r.size){let u=t[a].type.contentMatch.matchFragment(r);if(!u||!u.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ee.from(t[a].type.create(t[a].attrs,r))}let i=e.start,s=e.end;n.step(new Ot(i,s,i,s,new de(r,0,0),t.length,!0))}function nC(n,e,t,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=n.steps.length;n.doc.nodesBetween(e,t,(a,u)=>{let f=typeof i=="function"?i(a):i;if(a.isTextblock&&!a.hasMarkup(r,f)&&rC(n.doc,n.mapping.slice(s).map(u),r)){let p=null;if(r.schema.linebreakReplacement){let x=r.whitespace=="pre",k=!!r.contentMatch.matchType(r.schema.linebreakReplacement);x&&!k?p=!1:!x&&k&&(p=!0)}p===!1&&s1(n,a,u,s),Ip(n,n.mapping.slice(s).map(u,1),r,void 0,p===null);let h=n.mapping.slice(s),g=h.map(u,1),v=h.map(u+a.nodeSize,1);return n.step(new Ot(g,v,g+1,v-1,new de(ee.from(r.create(f,null,a.marks)),0,0),1,!0)),p===!0&&o1(n,a,u,s),!1}})}function o1(n,e,t,r){e.forEach((i,s)=>{if(i.isText){let a,u=/\r?\n|\r/g;for(;a=u.exec(i.text);){let f=n.mapping.slice(r).map(t+1+s+a.index);n.replaceWith(f,f+1,e.type.schema.linebreakReplacement.create())}}})}function s1(n,e,t,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let a=n.mapping.slice(r).map(t+1+s);n.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function rC(n,e,t){let r=n.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,t)}function iC(n,e,t,r,i){let s=n.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");t||(t=s.type);let a=t.create(r,null,i||s.marks);if(s.isLeaf)return n.replaceWith(e,e+s.nodeSize,a);if(!t.validContent(s.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new Ot(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new de(ee.from(a),0,0),1,!0))}function Tr(n,e,t=1,r){let i=n.resolve(e),s=i.depth-t,a=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let p=i.depth-1,h=t-2;p>s;p--,h--){let g=i.node(p),v=i.index(p);if(g.type.spec.isolating)return!1;let x=g.content.cutByIndex(v,g.childCount),k=r&&r[h+1];k&&(x=x.replaceChild(0,k.type.create(k.attrs)));let C=r&&r[h]||g;if(!g.canReplace(v+1,g.childCount)||!C.type.validContent(x))return!1}let u=i.indexAfter(s),f=r&&r[0];return i.node(s).canReplaceWith(u,u,f?f.type:i.node(s+1).type)}function oC(n,e,t=1,r){let i=n.doc.resolve(e),s=ee.empty,a=ee.empty;for(let u=i.depth,f=i.depth-t,p=t-1;u>f;u--,p--){s=ee.from(i.node(u).copy(s));let h=r&&r[p];a=ee.from(h?h.type.create(h.attrs,a):i.node(u).copy(a))}n.step(new Et(e,e,new de(s.append(a),t,t),!0))}function hi(n,e){let t=n.resolve(e),r=t.index();return l1(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function sC(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),a=s.type==r?n.type.schema.nodes.text:s.type;if(t=t.matchType(a),!t||!n.type.allowsMarks(s.marks))return!1}return t.validEnd}function l1(n,e){return!!(n&&e&&!n.isLeaf&&sC(n,e))}function sc(n,e,t=-1){let r=n.resolve(e);for(let i=r.depth;;i--){let s,a,u=r.index(i);if(i==r.depth?(s=r.nodeBefore,a=r.nodeAfter):t>0?(s=r.node(i+1),u++,a=r.node(i).maybeChild(u)):(s=r.node(i).maybeChild(u-1),a=r.node(i+1)),s&&!s.isTextblock&&l1(s,a)&&r.node(i).canReplace(u,u+1))return e;if(i==0)break;e=t<0?r.before(i):r.after(i)}}function lC(n,e,t){let r=null,{linebreakReplacement:i}=n.doc.type.schema,s=n.doc.resolve(e-t),a=s.node().type;if(i&&a.inlineContent){let h=a.whitespace=="pre",g=!!a.contentMatch.matchType(i);h&&!g?r=!1:!h&&g&&(r=!0)}let u=n.steps.length;if(r===!1){let h=n.doc.resolve(e+t);s1(n,h.node(),h.before(),u)}a.inlineContent&&Ip(n,e+t-1,a,s.node().contentMatchAt(s.index()),r==null);let f=n.mapping.slice(u),p=f.map(e-t);if(n.step(new Et(p,f.map(e+t,-1),de.empty,!0)),r===!0){let h=n.doc.resolve(p);o1(n,h.node(),h.before(),n.steps.length)}return n}function aC(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,t))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,t))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function a1(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let i=t.content;for(let s=0;s<t.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(t.openStart==0&&t.size?2:1);s++)for(let a=r.depth;a>=0;a--){let u=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,f=r.index(a)+(u>0?1:0),p=r.node(a),h=!1;if(s==1)h=p.canReplace(f,f,i);else{let g=p.contentMatchAt(f).findWrapping(i.firstChild.type);h=g&&p.canReplaceWith(f,f,g[0])}if(h)return u==0?r.pos:u<0?r.before(a+1):r.after(a+1)}return null}function lc(n,e,t=e,r=de.empty){if(e==t&&!r.size)return null;let i=n.resolve(e),s=n.resolve(t);return u1(i,s,r)?new Et(e,t,r):new uC(i,s,r).fit()}function u1(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class uC{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=ee.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=ee.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let p=this.findFittable();p?this.placeNodes(p):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,a=r.depth,u=i.depth;for(;a&&u&&s.childCount==1;)s=s.firstChild.content,a--,u--;let f=new de(s,a,u);return e>-1?new Ot(r.pos,e,this.$to.pos,this.$to.end(),f,t):f.size||r.pos!=this.$to.pos?new Et(r.pos,i.pos,f):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=t.firstChild;if(t.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}t=s.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=yd(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let a=i.firstChild;for(let u=this.depth;u>=0;u--){let{type:f,match:p}=this.frontier[u],h,g=null;if(t==1&&(a?p.matchType(a.type)||(g=p.fillBefore(ee.from(a),!1)):s&&f.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:u,parent:s,inject:g};if(t==2&&a&&(h=p.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:u,parent:s,wrap:h};if(s&&p.matchType(s.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=yd(e,t);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new de(e,t+1,Math.max(r,i.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=yd(e,t);if(i.childCount<=1&&t>0){let s=e.size-t<=t+i.size;this.unplaced=new de(Gs(e,t-1,1),t-1,s?t-1:r)}else this.unplaced=new de(Gs(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:i,wrap:s}){for(;this.depth>t;)this.closeFrontierNode();if(s)for(let C=0;C<s.length;C++)this.openFrontierNode(s[C]);let a=this.unplaced,u=r?r.content:a.content,f=a.openStart-e,p=0,h=[],{match:g,type:v}=this.frontier[t];if(i){for(let C=0;C<i.childCount;C++)h.push(i.child(C));g=g.matchFragment(i)}let x=u.size+e-(a.content.size-a.openEnd);for(;p<u.childCount;){let C=u.child(p),w=g.matchType(C.type);if(!w)break;p++,(p>1||f==0||C.content.size)&&(g=w,h.push(c1(C.mark(v.allowedMarks(C.marks)),p==1?f:0,p==u.childCount?x:-1)))}let k=p==u.childCount;k||(x=-1),this.placed=Js(this.placed,t,ee.from(h)),this.frontier[t].match=g,k&&x<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let C=0,w=u;C<x;C++){let S=w.lastChild;this.frontier.push({type:S.type,match:S.contentMatchAt(S.childCount)}),w=S.content}this.unplaced=k?e==0?de.empty:new de(Gs(a.content,e-1,1),e-1,x<0?a.openEnd:e-1):new de(Gs(a.content,e,p),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!vd(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:i}=this.frontier[t],s=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),a=vd(e,t,i,r,s);if(a){for(let u=t-1;u>=0;u--){let{match:f,type:p}=this.frontier[u],h=vd(e,u,p,f,!0);if(!h||h.childCount)continue e}return{depth:t,fit:a,move:s?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Js(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,t=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Js(this.placed,this.depth,ee.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(ee.empty,!0);t.childCount&&(this.placed=Js(this.placed,this.frontier.length,t))}}function Gs(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(Gs(n.firstChild.content,e-1,t)))}function Js(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(Js(n.lastChild.content,e-1,t)))}function yd(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function c1(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,c1(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(ee.empty,!0)))),n.copy(r)}function vd(n,e,t,r,i){let s=n.node(e),a=i?n.indexAfter(e):n.index(e);if(a==s.childCount&&!t.compatibleContent(s.type))return null;let u=r.fillBefore(s.content,!0,a);return u&&!cC(t,s.content,a)?u:null}function cC(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function fC(n){return n.spec.defining||n.spec.definingForContent}function dC(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let i=n.doc.resolve(e),s=n.doc.resolve(t);if(u1(i,s,r))return n.step(new Et(e,t,r));let a=d1(i,n.doc.resolve(t));a[a.length-1]==0&&a.pop();let u=-(i.depth+1);a.unshift(u);for(let v=i.depth,x=i.pos-1;v>0;v--,x--){let k=i.node(v).type.spec;if(k.defining||k.definingAsContext||k.isolating)break;a.indexOf(v)>-1?u=v:i.before(v)==x&&a.splice(1,0,-v)}let f=a.indexOf(u),p=[],h=r.openStart;for(let v=r.content,x=0;;x++){let k=v.firstChild;if(p.push(k),x==r.openStart)break;v=k.content}for(let v=h-1;v>=0;v--){let x=p[v],k=fC(x.type);if(k&&!x.sameMarkup(i.node(Math.abs(u)-1)))h=v;else if(k||!x.type.isTextblock)break}for(let v=r.openStart;v>=0;v--){let x=(v+h+1)%(r.openStart+1),k=p[x];if(k)for(let C=0;C<a.length;C++){let w=a[(C+f)%a.length],S=!0;w<0&&(S=!1,w=-w);let b=i.node(w-1),O=i.index(w-1);if(b.canReplaceWith(O,O,k.type,k.marks))return n.replace(i.before(w),S?s.after(w):t,new de(f1(r.content,0,r.openStart,x),x,r.openEnd))}}let g=n.steps.length;for(let v=a.length-1;v>=0&&(n.replace(e,t,r),!(n.steps.length>g));v--){let x=a[v];x<0||(e=i.before(x),t=s.after(x))}}function f1(n,e,t,r,i){if(e<t){let s=n.firstChild;n=n.replaceChild(0,s.copy(f1(s.content,e+1,t,r,s)))}if(e>r){let s=i.contentMatchAt(0),a=s.fillBefore(n).append(n);n=a.append(s.matchFragment(a).fillBefore(ee.empty,!0))}return n}function pC(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let i=aC(n.doc,e,r.type);i!=null&&(e=t=i)}n.replaceRange(e,t,new de(ee.from(r),0,0))}function hC(n,e,t){let r=n.doc.resolve(e),i=n.doc.resolve(t),s=d1(r,i);for(let a=0;a<s.length;a++){let u=s[a],f=a==s.length-1;if(f&&u==0||r.node(u).type.contentMatch.validEnd)return n.delete(r.start(u),i.end(u));if(u>0&&(f||r.node(u-1).canReplace(r.index(u-1),i.indexAfter(u-1))))return n.delete(r.before(u),i.after(u))}for(let a=1;a<=r.depth&&a<=i.depth;a++)if(e-r.start(a)==r.depth-a&&t>r.end(a)&&i.end(a)-t!=i.depth-a&&r.start(a-1)==i.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),i.index(a-1)))return n.delete(r.before(a),t);n.delete(e,t)}function d1(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let i=r;i>=0;i--){let s=n.start(i);if(s<n.pos-(n.depth-i)||e.end(i)>e.pos+(e.depth-i)||n.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==n.depth&&i==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&t.push(i)}return t}class zo extends Wt{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return mt.fail("No node at attribute step's position");let r=Object.create(null);for(let s in t.attrs)r[s]=t.attrs[s];r[this.attr]=this.value;let i=t.type.create(r,null,t.marks);return mt.fromReplace(e,this.pos,this.pos+1,new de(ee.from(i),0,t.isLeaf?0:1))}getMap(){return mn.empty}invert(e){return new zo(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new zo(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new zo(t.pos,t.attr,t.value)}}Wt.jsonID("attr",zo);class ml extends Wt{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let i in e.attrs)t[i]=e.attrs[i];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return mt.ok(r)}getMap(){return mn.empty}invert(e){return new ml(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new ml(t.attr,t.value)}}Wt.jsonID("docAttr",ml);let jo=class extends Error{};jo=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};jo.prototype=Object.create(Error.prototype);jo.prototype.constructor=jo;jo.prototype.name="TransformError";class p1{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new hl}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new jo(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=de.empty){let i=lc(this.doc,e,t,r);return i&&this.step(i),this}replaceWith(e,t,r){return this.replace(e,t,new de(ee.from(r),0,0))}delete(e,t){return this.replace(e,t,de.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return dC(this,e,t,r),this}replaceRangeWith(e,t,r){return pC(this,e,t,r),this}deleteRange(e,t){return hC(this,e,t),this}lift(e,t){return Qk(this,e,t),this}join(e,t=1){return lC(this,e,t),this}wrap(e,t){return tC(this,e,t),this}setBlockType(e,t=e,r,i=null){return nC(this,e,t,r,i),this}setNodeMarkup(e,t,r=null,i){return iC(this,e,t,r,i),this}setNodeAttribute(e,t,r){return this.step(new zo(e,t,r)),this}setDocAttribute(e,t){return this.step(new ml(e,t)),this}addNodeMark(e,t){return this.step(new si(e,t)),this}removeNodeMark(e,t){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t instanceof Ye)t.isInSet(r.marks)&&this.step(new Qi(e,t));else{let i=r.marks,s,a=[];for(;s=t.isInSet(i);)a.push(new Qi(e,s)),i=s.removeFromSet(i);for(let u=a.length-1;u>=0;u--)this.step(a[u])}return this}split(e,t=1,r){return oC(this,e,t,r),this}addMark(e,t,r){return Jk(this,e,t,r),this}removeMark(e,t,r){return Yk(this,e,t,r),this}clearIncompatible(e,t,r){return Ip(this,e,t,r),this}}const wd=Object.create(null);class je{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new mC(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=de.empty){let r=t.content.lastChild,i=null;for(let u=0;u<t.openEnd;u++)i=r,r=r.lastChild;let s=e.steps.length,a=this.ranges;for(let u=0;u<a.length;u++){let{$from:f,$to:p}=a[u],h=e.mapping.slice(s);e.replaceRange(h.map(f.pos),h.map(p.pos),u?de.empty:t),u==0&&Dy(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:a,$to:u}=i[s],f=e.mapping.slice(r),p=f.map(a.pos),h=f.map(u.pos);s?e.deleteRange(p,h):(e.replaceRangeWith(p,h,t),Dy(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let i=e.parent.inlineContent?new ze(e):Ro(e.node(0),e.parent,e.pos,e.index(),t,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let a=t<0?Ro(e.node(0),e.node(s),e.before(s+1),e.index(s),t,r):Ro(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,t,r);if(a)return a}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new gn(e.node(0))}static atStart(e){return Ro(e,e,0,0,1)||new gn(e)}static atEnd(e){return Ro(e,e,e.content.size,e.childCount,-1)||new gn(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=wd[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in wd)throw new RangeError("Duplicate use of selection JSON ID "+e);return wd[e]=t,t.prototype.jsonID=e,t}getBookmark(){return ze.between(this.$anchor,this.$head).getBookmark()}}je.prototype.visible=!0;class mC{constructor(e,t){this.$from=e,this.$to=t}}let Ny=!1;function Ry(n){!Ny&&!n.parent.inlineContent&&(Ny=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class ze extends je{constructor(e,t=e){Ry(e),Ry(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return je.near(r);let i=e.resolve(t.map(this.anchor));return new ze(i.parent.inlineContent?i:r,r)}replace(e,t=de.empty){if(super.replace(e,t),t==de.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof ze&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new ac(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ze(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let i=e.resolve(t);return new this(i,r==t?i:e.resolve(r))}static between(e,t,r){let i=e.pos-t.pos;if((!r||i)&&(r=i>=0?1:-1),!t.parent.inlineContent){let s=je.findFrom(t,r,!0)||je.findFrom(t,-r,!0);if(s)t=s.$head;else return je.near(t,r)}return e.parent.inlineContent||(i==0?e=t:(e=(je.findFrom(e,-r,!0)||je.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=i<0&&(e=t))),new ze(e,t)}}je.jsonID("text",ze);class ac{constructor(e,t){this.anchor=e,this.head=t}map(e){return new ac(e.map(this.anchor),e.map(this.head))}resolve(e){return ze.between(e.resolve(this.anchor),e.resolve(this.head))}}class Oe extends je{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:i}=t.mapResult(this.anchor),s=e.resolve(i);return r?je.near(s):new Oe(s)}content(){return new de(ee.from(this.node),0,0)}eq(e){return e instanceof Oe&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new _p(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Oe(e.resolve(t.anchor))}static create(e,t){return new Oe(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Oe.prototype.visible=!1;je.jsonID("node",Oe);class _p{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new ac(r,r):new _p(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&Oe.isSelectable(r)?new Oe(t):je.near(t)}}class gn extends je{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=de.empty){if(t==de.empty){e.delete(0,e.doc.content.size);let r=je.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new gn(e)}map(e){return new gn(e)}eq(e){return e instanceof gn}getBookmark(){return gC}}je.jsonID("all",gn);const gC={map(){return this},resolve(n){return new gn(n)}};function Ro(n,e,t,r,i,s=!1){if(e.inlineContent)return ze.create(n,t);for(let a=r-(i>0?0:1);i>0?a<e.childCount:a>=0;a+=i){let u=e.child(a);if(u.isAtom){if(!s&&Oe.isSelectable(u))return Oe.create(n,t-(i<0?u.nodeSize:0))}else{let f=Ro(n,u,t+i,i<0?u.childCount:0,i,s);if(f)return f}t+=u.nodeSize*i}return null}function Dy(n,e,t){let r=n.steps.length-1;if(r<e)return;let i=n.steps[r];if(!(i instanceof Et||i instanceof Ot))return;let s=n.mapping.maps[r],a;s.forEach((u,f,p,h)=>{a==null&&(a=h)}),n.setSelection(je.near(n.doc.resolve(a),t))}const Py=1,Ka=2,Ay=4;class yC extends p1{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Py)&~Ka,this.storedMarks=null,this}get selectionSet(){return(this.updated&Py)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Ka,this}ensureMarks(e){return Ye.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Ka)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~Ka,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Ye.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let i=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),r=r??t,!e)return this.deleteRange(t,r);let s=this.storedMarks;if(!s){let a=this.doc.resolve(t);s=r==t?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,i.text(e,s)),this.selection.empty||this.setSelection(je.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Ay,this}get scrolledIntoView(){return(this.updated&Ay)>0}}function Ly(n,e){return!e||!n?n:n.bind(e)}class Ys{constructor(e,t,r){this.name=e,this.init=Ly(t.init,r),this.apply=Ly(t.apply,r)}}const vC=[new Ys("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new Ys("selection",{init(n,e){return n.selection||je.atStart(e.doc)},apply(n){return n.selection}}),new Ys("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new Ys("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class xd{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=vC.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Ys(r.key,r.spec.state,r))})}}class Lo{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let a=0;a<this.config.plugins.length;a++){let u=this.config.plugins[a];if(u.spec.appendTransaction){let f=i?i[a].n:0,p=i?i[a].state:this,h=f<t.length&&u.spec.appendTransaction.call(u,f?t.slice(f):t,p,r);if(h&&r.filterTransaction(h,a)){if(h.setMeta("appendedTransaction",e),!i){i=[];for(let g=0;g<this.config.plugins.length;g++)i.push(g<a?{state:r,n:t.length}:{state:this,n:0})}t.push(h),r=r.applyInner(h),s=!0}i&&(i[a]={state:r,n:t.length})}}if(!s)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new Lo(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];t[s.name]=s.apply(e,this[s.name],this,t)}return t}get tr(){return new yC(this)}static create(e){let t=new xd(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Lo(t);for(let i=0;i<t.fields.length;i++)r[t.fields[i].name]=t.fields[i].init(e,r);return r}reconfigure(e){let t=new xd(this.schema,e.plugins),r=t.fields,i=new Lo(t);for(let s=0;s<r.length;s++){let a=r[s].name;i[a]=this.hasOwnProperty(a)?this[a]:r[s].init(e,i)}return i}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(t[r]=s.toJSON.call(i,this[i.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new xd(e.schema,e.plugins),s=new Lo(i);return i.fields.forEach(a=>{if(a.name=="doc")s.doc=ai.fromJSON(e.schema,t.doc);else if(a.name=="selection")s.selection=je.fromJSON(s.doc,t.selection);else if(a.name=="storedMarks")t.storedMarks&&(s.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let u in r){let f=r[u],p=f.spec.state;if(f.key==a.name&&p&&p.fromJSON&&Object.prototype.hasOwnProperty.call(t,u)){s[a.name]=p.fromJSON.call(f,e,t[u],s);return}}s[a.name]=a.init(e,s)}}),s}}function h1(n,e,t){for(let r in n){let i=n[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=h1(i,e,{})),t[r]=i}return t}class Rt{constructor(e){this.spec=e,this.props={},e.props&&h1(e.props,this,this.props),this.key=e.key?e.key.key:m1("plugin")}getState(e){return e[this.key]}}const Sd=Object.create(null);function m1(n){return n in Sd?n+"$"+ ++Sd[n]:(Sd[n]=0,n+"$")}class un{constructor(e="key"){this.key=m1(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const It=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},Bo=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let op=null;const Er=function(n,e,t){let r=op||(op=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},wC=function(){op=null},Zi=function(n,e,t,r){return t&&(Iy(n,e,t,r,-1)||Iy(n,e,t,r,1))},xC=/^(img|br|input|textarea|hr)$/i;function Iy(n,e,t,r,i){for(var s;;){if(n==t&&e==r)return!0;if(e==(i<0?0:Tn(n))){let a=n.parentNode;if(!a||a.nodeType!=1||Ml(n)||xC.test(n.nodeName)||n.contentEditable=="false")return!1;e=It(n)+(i<0?0:1),n=a}else if(n.nodeType==1){let a=n.childNodes[e+(i<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((s=a.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=i;else return!1;else n=a,e=i<0?Tn(n):0}else return!1}}function Tn(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function SC(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=Tn(n)}else if(n.parentNode&&!Ml(n))e=It(n),n=n.parentNode;else return null}}function kC(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!Ml(n))e=It(n)+1,n=n.parentNode;else return null}}function CC(n,e,t){for(let r=e==0,i=e==Tn(n);r||i;){if(n==t)return!0;let s=It(n);if(n=n.parentNode,!n)return!1;r=r&&s==0,i=i&&s==Tn(n)}}function Ml(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const uc=function(n){return n.focusNode&&Zi(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function Fi(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function bC(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function EC(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(Tn(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(Tn(r.startContainer),r.startOffset)}}}const sr=typeof navigator<"u"?navigator:null,zy=typeof document<"u"?document:null,mi=sr&&sr.userAgent||"",sp=/Edge\/(\d+)/.exec(mi),g1=/MSIE \d/.exec(mi),lp=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(mi),on=!!(g1||lp||sp),ci=g1?document.documentMode:lp?+lp[1]:sp?+sp[1]:0,Wn=!on&&/gecko\/(\d+)/i.test(mi);Wn&&+(/Firefox\/(\d+)/.exec(mi)||[0,0])[1];const ap=!on&&/Chrome\/(\d+)/.exec(mi),Vt=!!ap,y1=ap?+ap[1]:0,Gt=!on&&!!sr&&/Apple Computer/.test(sr.vendor),Fo=Gt&&(/Mobile\/\w+/.test(mi)||!!sr&&sr.maxTouchPoints>2),Mn=Fo||(sr?/Mac/.test(sr.platform):!1),OC=sr?/Win/.test(sr.platform):!1,Or=/Android \d/.test(mi),Tl=!!zy&&"webkitFontSmoothing"in zy.documentElement.style,MC=Tl?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function TC(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function wr(n,e){return typeof n=="number"?n:n[e]}function NC(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function _y(n,e,t){let r=n.someProp("scrollThreshold")||0,i=n.someProp("scrollMargin")||5,s=n.dom.ownerDocument;for(let a=t||n.dom;a;){if(a.nodeType!=1){a=Bo(a);continue}let u=a,f=u==s.body,p=f?TC(s):NC(u),h=0,g=0;if(e.top<p.top+wr(r,"top")?g=-(p.top-e.top+wr(i,"top")):e.bottom>p.bottom-wr(r,"bottom")&&(g=e.bottom-e.top>p.bottom-p.top?e.top+wr(i,"top")-p.top:e.bottom-p.bottom+wr(i,"bottom")),e.left<p.left+wr(r,"left")?h=-(p.left-e.left+wr(i,"left")):e.right>p.right-wr(r,"right")&&(h=e.right-p.right+wr(i,"right")),h||g)if(f)s.defaultView.scrollBy(h,g);else{let x=u.scrollLeft,k=u.scrollTop;g&&(u.scrollTop+=g),h&&(u.scrollLeft+=h);let C=u.scrollLeft-x,w=u.scrollTop-k;e={left:e.left-C,top:e.top-w,right:e.right-C,bottom:e.bottom-w}}let v=f?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(v))break;a=v=="absolute"?a.offsetParent:Bo(a)}}function RC(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,a=t+1;a<Math.min(innerHeight,e.bottom);a+=5){let u=n.root.elementFromPoint(s,a);if(!u||u==n.dom||!n.dom.contains(u))continue;let f=u.getBoundingClientRect();if(f.top>=t-20){r=u,i=f.top;break}}return{refDOM:r,refTop:i,stack:v1(n.dom)}}function v1(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=Bo(r));return e}function DC({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;w1(t,r==0?0:r-e)}function w1(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:i,left:s}=n[t];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let To=null;function PC(n){if(n.setActive)return n.setActive();if(To)return n.focus(To);let e=v1(n);n.focus(To==null?{get preventScroll(){return To={preventScroll:!0},!0}}:void 0),To||(To=!1,w1(e,0))}function x1(n,e){let t,r=2e8,i,s=0,a=e.top,u=e.top,f,p;for(let h=n.firstChild,g=0;h;h=h.nextSibling,g++){let v;if(h.nodeType==1)v=h.getClientRects();else if(h.nodeType==3)v=Er(h).getClientRects();else continue;for(let x=0;x<v.length;x++){let k=v[x];if(k.top<=a&&k.bottom>=u){a=Math.max(k.bottom,a),u=Math.min(k.top,u);let C=k.left>e.left?k.left-e.left:k.right<e.left?e.left-k.right:0;if(C<r){t=h,r=C,i=C&&t.nodeType==3?{left:k.right<e.left?k.right:k.left,top:e.top}:e,h.nodeType==1&&C&&(s=g+(e.left>=(k.left+k.right)/2?1:0));continue}}else k.top>e.top&&!f&&k.left<=e.left&&k.right>=e.left&&(f=h,p={left:Math.max(k.left,Math.min(k.right,e.left)),top:k.top});!t&&(e.left>=k.right&&e.top>=k.top||e.left>=k.left&&e.top>=k.bottom)&&(s=g+1)}}return!t&&f&&(t=f,i=p,r=0),t&&t.nodeType==3?AC(t,i):!t||r&&t.nodeType==1?{node:n,offset:s}:x1(t,i)}function AC(n,e){let t=n.nodeValue.length,r=document.createRange();for(let i=0;i<t;i++){r.setEnd(n,i+1),r.setStart(n,i);let s=Zr(r,1);if(s.top!=s.bottom&&jp(e,s))return{node:n,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:n,offset:0}}function jp(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function LC(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function IC(n,e,t){let{node:r,offset:i}=x1(e,t),s=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();s=a.left!=a.right&&t.left>(a.left+a.right)/2?1:-1}return n.docView.posFromDOM(r,i,s)}function zC(n,e,t,r){let i=-1;for(let s=e,a=!1;s!=n.dom;){let u=n.docView.nearestDesc(s,!0),f;if(!u)return null;if(u.dom.nodeType==1&&(u.node.isBlock&&u.parent||!u.contentDOM)&&((f=u.dom.getBoundingClientRect()).width||f.height)&&(u.node.isBlock&&u.parent&&(!a&&f.left>r.left||f.top>r.top?i=u.posBefore:(!a&&f.right<r.left||f.bottom<r.top)&&(i=u.posAfter),a=!0),!u.contentDOM&&i<0&&!u.node.isText))return(u.node.isBlock?r.top<(f.top+f.bottom)/2:r.left<(f.left+f.right)/2)?u.posBefore:u.posAfter;s=u.dom.parentNode}return i>-1?i:n.docView.posFromDOM(e,t,-1)}function S1(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),s=i;;){let a=n.childNodes[s];if(a.nodeType==1){let u=a.getClientRects();for(let f=0;f<u.length;f++){let p=u[f];if(jp(e,p))return S1(a,e,p)}}if((s=(s+1)%r)==i)break}return n}function _C(n,e){let t=n.dom.ownerDocument,r,i=0,s=EC(t,e.left,e.top);s&&({node:r,offset:i}=s);let a=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),u;if(!a||!n.dom.contains(a.nodeType!=1?a.parentNode:a)){let p=n.dom.getBoundingClientRect();if(!jp(e,p)||(a=S1(n.dom,e,p),!a))return null}if(Gt)for(let p=a;r&&p;p=Bo(p))p.draggable&&(r=void 0);if(a=LC(a,e),r){if(Wn&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let h=r.childNodes[i],g;h.nodeName=="IMG"&&(g=h.getBoundingClientRect()).right<=e.left&&g.bottom>e.top&&i++}let p;Tl&&i&&r.nodeType==1&&(p=r.childNodes[i-1]).nodeType==1&&p.contentEditable=="false"&&p.getBoundingClientRect().top>=e.top&&i--,r==n.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?u=n.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(u=zC(n,r,i,e))}u==null&&(u=IC(n,a,e));let f=n.docView.nearestDesc(a,!0);return{pos:u,inside:f?f.posAtStart-f.border:-1}}function jy(n){return n.top<n.bottom||n.left<n.right}function Zr(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(jy(r))return r}return Array.prototype.find.call(t,jy)||n.getBoundingClientRect()}const jC=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function k1(n,e,t){let{node:r,offset:i,atom:s}=n.docView.domFromPos(e,t<0?-1:1),a=Tl||Wn;if(r.nodeType==3)if(a&&(jC.test(r.nodeValue)||(t<0?!i:i==r.nodeValue.length))){let f=Zr(Er(r,i,i),t);if(Wn&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let p=Zr(Er(r,i-1,i-1),-1);if(p.top==f.top){let h=Zr(Er(r,i,i+1),-1);if(h.top!=f.top)return zs(h,h.left<p.left)}}return f}else{let f=i,p=i,h=t<0?1:-1;return t<0&&!i?(p++,h=-1):t>=0&&i==r.nodeValue.length?(f--,h=1):t<0?f--:p++,zs(Zr(Er(r,f,p),h),h<0)}if(!n.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(t<0||i==Tn(r))){let f=r.childNodes[i-1];if(f.nodeType==1)return kd(f.getBoundingClientRect(),!1)}if(s==null&&i<Tn(r)){let f=r.childNodes[i];if(f.nodeType==1)return kd(f.getBoundingClientRect(),!0)}return kd(r.getBoundingClientRect(),t>=0)}if(s==null&&i&&(t<0||i==Tn(r))){let f=r.childNodes[i-1],p=f.nodeType==3?Er(f,Tn(f)-(a?0:1)):f.nodeType==1&&(f.nodeName!="BR"||!f.nextSibling)?f:null;if(p)return zs(Zr(p,1),!1)}if(s==null&&i<Tn(r)){let f=r.childNodes[i];for(;f.pmViewDesc&&f.pmViewDesc.ignoreForCoords;)f=f.nextSibling;let p=f?f.nodeType==3?Er(f,0,a?0:1):f.nodeType==1?f:null:null;if(p)return zs(Zr(p,-1),!0)}return zs(Zr(r.nodeType==3?Er(r):r,-t),t>=0)}function zs(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function kd(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function C1(n,e,t){let r=n.state,i=n.root.activeElement;r!=e&&n.updateState(e),i!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),i!=n.dom&&i&&i.focus()}}function BC(n,e,t){let r=e.selection,i=t=="up"?r.$from:r.$to;return C1(n,e,()=>{let{node:s}=n.docView.domFromPos(i.pos,t=="up"?-1:1);for(;;){let u=n.docView.nearestDesc(s,!0);if(!u)break;if(u.node.isBlock){s=u.contentDOM||u.dom;break}s=u.dom.parentNode}let a=k1(n,i.pos,1);for(let u=s.firstChild;u;u=u.nextSibling){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=Er(u,0,u.nodeValue.length).getClientRects();else continue;for(let p=0;p<f.length;p++){let h=f[p];if(h.bottom>h.top+1&&(t=="up"?a.top-h.top>(h.bottom-a.top)*2:h.bottom-a.bottom>(a.bottom-h.top)*2))return!1}}return!0})}const FC=/[\u0590-\u08ac]/;function HC(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,a=i==r.parent.content.size,u=n.domSelection();return u?!FC.test(r.parent.textContent)||!u.modify?t=="left"||t=="backward"?s:a:C1(n,e,()=>{let{focusNode:f,focusOffset:p,anchorNode:h,anchorOffset:g}=n.domSelectionRange(),v=u.caretBidiLevel;u.modify("move",t,"character");let x=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:k,focusOffset:C}=n.domSelectionRange(),w=k&&!x.contains(k.nodeType==1?k:k.parentNode)||f==k&&p==C;try{u.collapse(h,g),f&&(f!=h||p!=g)&&u.extend&&u.extend(f,p)}catch{}return v!=null&&(u.caretBidiLevel=v),w}):r.pos==r.start()||r.pos==r.end()}let By=null,Fy=null,Hy=!1;function $C(n,e,t){return By==e&&Fy==t?Hy:(By=e,Fy=t,Hy=t=="up"||t=="down"?BC(n,e,t):HC(n,e,t))}const Rn=0,$y=1,$i=2,lr=3;class Nl{constructor(e,t,r,i){this.parent=e,this.children=t,this.dom=r,this.contentDOM=i,this.dirty=Rn,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let i=this.children[t];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,a;if(e==this.contentDOM)s=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(a)+a.size:this.posAtStart}else{let s,a;if(e==this.contentDOM)s=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(a):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=t>It(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&t==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),a;if(s&&(!t||s.node))if(r&&(a=s.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return s}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let i=this.children[t],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)for(let a=0;a<i.children.length;a++){let u=i.children[a];if(u.size){i=u;break}}return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let a=this.children[r],u=s+a.size;if(u>e||a instanceof E1){i=e-s;break}s=u}if(i)return this.children[r].domFromPos(i-this.children[r].border,t);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof b1&&s.side>=0;r--);if(t<=0){let s,a=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,a=!1);return s&&t&&a&&!s.border&&!s.domAtom?s.domFromPos(s.size,t):{node:this.contentDOM,offset:s?It(s.dom)+1:0}}else{let s,a=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,a=!1);return s&&a&&!s.border&&!s.domAtom?s.domFromPos(0,t):{node:this.contentDOM,offset:s?It(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let a=r,u=0;;u++){let f=this.children[u],p=a+f.size;if(i==-1&&e<=p){let h=a+f.border;if(e>=h&&t<=p-f.border&&f.node&&f.contentDOM&&this.contentDOM.contains(f.contentDOM))return f.parseRange(e,t,h);e=a;for(let g=u;g>0;g--){let v=this.children[g-1];if(v.size&&v.dom.parentNode==this.contentDOM&&!v.emptyChildAt(1)){i=It(v.dom)+1;break}e-=v.size}i==-1&&(i=0)}if(i>-1&&(p>t||u==this.children.length-1)){t=p;for(let h=u+1;h<this.children.length;h++){let g=this.children[h];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(-1)){s=It(g.dom);break}t+=g.size}s==-1&&(s=this.contentDOM.childNodes.length);break}a=p}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,i=!1){let s=Math.min(e,t),a=Math.max(e,t);for(let x=0,k=0;x<this.children.length;x++){let C=this.children[x],w=k+C.size;if(s>k&&a<w)return C.setSelection(e-k-C.border,t-k-C.border,r,i);k=w}let u=this.domFromPos(e,e?-1:1),f=t==e?u:this.domFromPos(t,t?-1:1),p=r.root.getSelection(),h=r.domSelectionRange(),g=!1;if((Wn||Gt)&&e==t){let{node:x,offset:k}=u;if(x.nodeType==3){if(g=!!(k&&x.nodeValue[k-1]==`
`),g&&k==x.nodeValue.length)for(let C=x,w;C;C=C.parentNode){if(w=C.nextSibling){w.nodeName=="BR"&&(u=f={node:w.parentNode,offset:It(w)+1});break}let S=C.pmViewDesc;if(S&&S.node&&S.node.isBlock)break}}else{let C=x.childNodes[k-1];g=C&&(C.nodeName=="BR"||C.contentEditable=="false")}}if(Wn&&h.focusNode&&h.focusNode!=f.node&&h.focusNode.nodeType==1){let x=h.focusNode.childNodes[h.focusOffset];x&&x.contentEditable=="false"&&(i=!0)}if(!(i||g&&Gt)&&Zi(u.node,u.offset,h.anchorNode,h.anchorOffset)&&Zi(f.node,f.offset,h.focusNode,h.focusOffset))return;let v=!1;if((p.extend||e==t)&&!g){p.collapse(u.node,u.offset);try{e!=t&&p.extend(f.node,f.offset),v=!0}catch{}}if(!v){if(e>t){let k=u;u=f,f=k}let x=document.createRange();x.setEnd(f.node,f.offset),x.setStart(u.node,u.offset),p.removeAllRanges(),p.addRange(x)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],a=r+s.size;if(r==a?e<=a&&t>=r:e<a&&t>r){let u=r+s.border,f=a-s.border;if(e>=u&&t<=f){this.dirty=e==r||t==a?$i:$y,e==u&&t==f&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=lr:s.markDirty(e-u,t-u);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?$i:lr}r=a}this.dirty=$i}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?$i:$y;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class b1 extends Nl{constructor(e,t,r,i){let s,a=t.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!t.type.spec.raw){if(a.nodeType!=1){let u=document.createElement("span");u.appendChild(a),a=u}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=t,this.widget=t,s=this}matchesWidget(e){return this.dirty==Rn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class VC extends Nl{constructor(e,t,r,i){super(e,[],t,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class eo extends Nl{constructor(e,t,r,i,s){super(e,[],r,i),this.mark=t,this.spec=s}static create(e,t,r,i){let s=i.nodeViews[t.type.name],a=s&&s(t,i,r);return(!a||!a.dom)&&(a=ro.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new eo(e,t,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&lr||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=lr&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=Rn){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Rn}}slice(e,t,r){let i=eo.create(this.parent,this.mark,!0,r),s=this.children,a=this.size;t<a&&(s=cp(s,t,a,r)),e>0&&(s=cp(s,0,e,r));for(let u=0;u<s.length;u++)s[u].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class fi extends Nl{constructor(e,t,r,i,s,a,u,f,p){super(e,[],s,a),this.node=t,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=u}static create(e,t,r,i,s,a){let u=s.nodeViews[t.type.name],f,p=u&&u(t,s,()=>{if(!f)return a;if(f.parent)return f.parent.posBeforeChild(f)},r,i),h=p&&p.dom,g=p&&p.contentDOM;if(t.isText){if(!h)h=document.createTextNode(t.text);else if(h.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else h||({dom:h,contentDOM:g}=ro.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!g&&!t.isText&&h.nodeName!="BR"&&(h.hasAttribute("contenteditable")||(h.contentEditable="false"),t.type.spec.draggable&&(h.draggable=!0));let v=h;return h=T1(h,r,t),p?f=new WC(e,t,r,i,h,g||null,v,p,s,a+1):t.isText?new cc(e,t,r,i,h,v,s):new fi(e,t,r,i,h,g||null,v,s,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ee.empty)}return e}matchesNode(e,t,r){return this.dirty==Rn&&e.eq(this.node)&&wu(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,i=t,s=e.composing?this.localCompositionInfo(e,t):null,a=s&&s.pos>-1?s:null,u=s&&s.pos<0,f=new qC(this,a&&a.node,e);JC(this.node,this.innerDeco,(p,h,g)=>{p.spec.marks?f.syncToMarks(p.spec.marks,r,e):p.type.side>=0&&!g&&f.syncToMarks(h==this.node.childCount?Ye.none:this.node.child(h).marks,r,e),f.placeWidget(p,e,i)},(p,h,g,v)=>{f.syncToMarks(p.marks,r,e);let x;f.findNodeMatch(p,h,g,v)||u&&e.state.selection.from>i&&e.state.selection.to<i+p.nodeSize&&(x=f.findIndexWithChild(s.node))>-1&&f.updateNodeAt(p,h,g,x,e)||f.updateNextNode(p,h,g,e,v,i)||f.addNode(p,h,g,e,i),i+=p.nodeSize}),f.syncToMarks([],r,e),this.node.isTextblock&&f.addTextblockHacks(),f.destroyRest(),(f.changed||this.dirty==$i)&&(a&&this.protectLocalComposition(e,a),O1(this.contentDOM,this.children,e),Fo&&YC(this.dom))}localCompositionInfo(e,t){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof ze)||r<t||i>t+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let a=s.nodeValue,u=XC(this.node.content,a,r-t,i-t);return u<0?null:{node:s,pos:u,text:a}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:i}){if(this.getDesc(t))return;let s=t;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let a=new VC(this,s,t,i);e.input.compositionNodes.push(a),this.children=cp(this.children,r,r+i.length,e,a)}update(e,t,r,i){return this.dirty==lr||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,i),!0)}updateInner(e,t,r,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Rn}updateOuterDeco(e){if(wu(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=M1(this.dom,this.nodeDOM,up(this.outerDeco,this.node,t),up(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Vy(n,e,t,r,i){T1(r,e,n);let s=new fi(void 0,n,e,t,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class cc extends fi{constructor(e,t,r,i,s,a,u){super(e,t,r,i,s,null,a,u,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,i){return this.dirty==lr||this.dirty!=Rn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=Rn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Rn,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let i=this.node.cut(e,t),s=document.createTextNode(i.text);return new cc(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=lr)}get domAtom(){return!1}isText(e){return this.node.text==e}}class E1 extends Nl{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Rn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class WC extends fi{constructor(e,t,r,i,s,a,u,f,p,h){super(e,t,r,i,s,a,u,p,h),this.spec=f}update(e,t,r,i){if(this.dirty==lr)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,t,r);return s&&this.updateInner(e,t,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,i){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function O1(n,e,t){let r=n.firstChild,i=!1;for(let s=0;s<e.length;s++){let a=e[s],u=a.dom;if(u.parentNode==n){for(;u!=r;)r=Wy(r),i=!0;r=r.nextSibling}else i=!0,n.insertBefore(u,r);if(a instanceof eo){let f=r?r.previousSibling:n.lastChild;O1(a.contentDOM,a.children,t),r=f?f.nextSibling:n.firstChild}}for(;r;)r=Wy(r),i=!0;i&&t.trackWrites==n&&(t.trackWrites=null)}const tl=function(n){n&&(this.nodeName=n)};tl.prototype=Object.create(null);const Vi=[new tl];function up(n,e,t){if(n.length==0)return Vi;let r=t?Vi[0]:new tl,i=[r];for(let s=0;s<n.length;s++){let a=n[s].type.attrs;if(a){a.nodeName&&i.push(r=new tl(a.nodeName));for(let u in a){let f=a[u];f!=null&&(t&&i.length==1&&i.push(r=new tl(e.isInline?"span":"div")),u=="class"?r.class=(r.class?r.class+" ":"")+f:u=="style"?r.style=(r.style?r.style+";":"")+f:u!="nodeName"&&(r[u]=f))}}}return i}function M1(n,e,t,r){if(t==Vi&&r==Vi)return e;let i=e;for(let s=0;s<r.length;s++){let a=r[s],u=t[s];if(s){let f;u&&u.nodeName==a.nodeName&&i!=n&&(f=i.parentNode)&&f.nodeName.toLowerCase()==a.nodeName||(f=document.createElement(a.nodeName),f.pmIsDeco=!0,f.appendChild(i),u=Vi[0]),i=f}UC(i,u||Vi[0],a)}return i}function UC(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=t.class?t.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&n.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&n.classList.add(i[s]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)n.style.removeProperty(i[1])}t.style&&(n.style.cssText+=t.style)}}function T1(n,e,t){return M1(n,n,Vi,up(e,t,n.nodeType!=1))}function wu(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function Wy(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class qC{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=KC(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let i=0,s=this.stack.length>>1,a=Math.min(s,e.length);for(;i<a&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=Rn,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let u=-1;for(let f=this.index;f<Math.min(this.index+3,this.top.children.length);f++){let p=this.top.children[f];if(p.matchesMark(e[s])&&!this.isLocked(p.dom)){u=f;break}}if(u>-1)u>this.index&&(this.changed=!0,this.destroyBetween(this.index,u)),this.top=this.top.children[this.index];else{let f=eo.create(this.top,e[s],t,r);this.top.children.splice(this.index,0,f),this.top=f,this.changed=!0}this.index=0,s++}}findNodeMatch(e,t,r,i){let s=-1,a;if(i>=this.preMatch.index&&(a=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&a.matchesNode(e,t,r))s=this.top.children.indexOf(a,this.index);else for(let u=this.index,f=Math.min(this.top.children.length,u+5);u<f;u++){let p=this.top.children[u];if(p.matchesNode(e,t,r)&&!this.preMatch.matched.has(p)){s=u;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,t,r,i,s){let a=this.top.children[i];return a.dirty==lr&&a.dom==a.contentDOM&&(a.dirty=$i),a.update(e,t,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=t}}updateNextNode(e,t,r,i,s,a){for(let u=this.index;u<this.top.children.length;u++){let f=this.top.children[u];if(f instanceof fi){let p=this.preMatch.matched.get(f);if(p!=null&&p!=s)return!1;let h=f.dom,g,v=this.isLocked(h)&&!(e.isText&&f.node&&f.node.isText&&f.nodeDOM.nodeValue==e.text&&f.dirty!=lr&&wu(t,f.outerDeco));if(!v&&f.update(e,t,r,i))return this.destroyBetween(this.index,u),f.dom!=h&&(this.changed=!0),this.index++,!0;if(!v&&(g=this.recreateWrapper(f,e,t,r,i,a)))return this.destroyBetween(this.index,u),this.top.children[this.index]=g,g.contentDOM&&(g.dirty=$i,g.updateChildren(i,a+1),g.dirty=Rn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,i,s,a){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!wu(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let u=fi.create(this.top,t,r,i,s,a);if(u.contentDOM){u.children=e.children,e.children=[];for(let f of u.children)f.parent=u}return e.destroy(),u}addNode(e,t,r,i,s){let a=fi.create(this.top,e,t,r,i,s);a.contentDOM&&a.updateChildren(i,s+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,t,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new b1(this.top,e,t,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof eo;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof cc)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Gt||Vt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new E1(this.top,[],r,null);t!=this.top?t.children.push(i):t.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function KC(n,e){let t=e,r=t.children.length,i=n.childCount,s=new Map,a=[];e:for(;i>0;){let u;for(;;)if(r){let p=t.children[r-1];if(p instanceof eo)t=p,r=p.children.length;else{u=p,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let f=u.node;if(f){if(f!=n.child(i-1))break;--i,s.set(u,i),a.push(u)}}return{index:i,matched:s,matches:a.reverse()}}function GC(n,e){return n.type.side-e.type.side}function JC(n,e,t,r){let i=e.locals(n),s=0;if(i.length==0){for(let p=0;p<n.childCount;p++){let h=n.child(p);r(h,i,e.forChild(s,h),p),s+=h.nodeSize}return}let a=0,u=[],f=null;for(let p=0;;){let h,g;for(;a<i.length&&i[a].to==s;){let w=i[a++];w.widget&&(h?(g||(g=[h])).push(w):h=w)}if(h)if(g){g.sort(GC);for(let w=0;w<g.length;w++)t(g[w],p,!!f)}else t(h,p,!!f);let v,x;if(f)x=-1,v=f,f=null;else if(p<n.childCount)x=p,v=n.child(p++);else break;for(let w=0;w<u.length;w++)u[w].to<=s&&u.splice(w--,1);for(;a<i.length&&i[a].from<=s&&i[a].to>s;)u.push(i[a++]);let k=s+v.nodeSize;if(v.isText){let w=k;a<i.length&&i[a].from<w&&(w=i[a].from);for(let S=0;S<u.length;S++)u[S].to<w&&(w=u[S].to);w<k&&(f=v.cut(w-s),v=v.cut(0,w-s),k=w,x=-1)}else for(;a<i.length&&i[a].to<k;)a++;let C=v.isInline&&!v.isLeaf?u.filter(w=>!w.inline):u.slice();r(v,C,e.forChild(s,v),x),s=k}}function YC(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function XC(n,e,t,r){for(let i=0,s=0;i<n.childCount&&s<=r;){let a=n.child(i++),u=s;if(s+=a.nodeSize,!a.isText)continue;let f=a.text;for(;i<n.childCount;){let p=n.child(i++);if(s+=p.nodeSize,!p.isText)break;f+=p.text}if(s>=t){if(s>=r&&f.slice(r-e.length-u,r-u)==e)return r-e.length;let p=u<r?f.lastIndexOf(e,r-u-1):-1;if(p>=0&&p+e.length+u>=t)return u+p;if(t==r&&f.length>=r+e.length-u&&f.slice(r-u,r-u+e.length)==e)return r}}return-1}function cp(n,e,t,r,i){let s=[];for(let a=0,u=0;a<n.length;a++){let f=n[a],p=u,h=u+=f.size;p>=t||h<=e?s.push(f):(p<e&&s.push(f.slice(0,e-p,r)),i&&(s.push(i),i=void 0),h>t&&s.push(f.slice(t-p,f.size,r)))}return s}function Bp(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let i=n.docView.nearestDesc(t.focusNode),s=i&&i.size==0,a=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(a<0)return null;let u=r.resolve(a),f,p;if(uc(t)){for(f=a;i&&!i.node;)i=i.parent;let g=i.node;if(i&&g.isAtom&&Oe.isSelectable(g)&&i.parent&&!(g.isInline&&CC(t.focusNode,t.focusOffset,i.dom))){let v=i.posBefore;p=new Oe(a==v?u:r.resolve(v))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let g=a,v=a;for(let x=0;x<t.rangeCount;x++){let k=t.getRangeAt(x);g=Math.min(g,n.docView.posFromDOM(k.startContainer,k.startOffset,1)),v=Math.max(v,n.docView.posFromDOM(k.endContainer,k.endOffset,-1))}if(g<0)return null;[f,a]=v==n.state.selection.anchor?[v,g]:[g,v],u=r.resolve(a)}else f=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(f<0)return null}let h=r.resolve(f);if(!p){let g=e=="pointer"||n.state.selection.head<u.pos&&!s?1:-1;p=Fp(n,h,u,g)}return p}function N1(n){return n.editable?n.hasFocus():D1(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function Nr(n,e=!1){let t=n.state.selection;if(R1(n,t),!!N1(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&Vt){let r=n.domSelectionRange(),i=n.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Zi(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)ZC(n);else{let{anchor:r,head:i}=t,s,a;Uy&&!(t instanceof ze)&&(t.$from.parent.inlineContent||(s=qy(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(a=qy(n,t.to))),n.docView.setSelection(r,i,n,e),Uy&&(s&&Ky(s),a&&Ky(a)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&QC(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const Uy=Gt||Vt&&y1<63;function qy(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),i=r<t.childNodes.length?t.childNodes[r]:null,s=r?t.childNodes[r-1]:null;if(Gt&&i&&i.contentEditable=="false")return Cd(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return Cd(i);if(s)return Cd(s)}}function Cd(n){return n.contentEditable="true",Gt&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function Ky(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function QC(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,i=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=i)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!N1(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function ZC(n){let e=n.domSelection(),t=document.createRange();if(!e)return;let r=n.cursorWrapper.dom,i=r.nodeName=="IMG";i?t.setStart(r.parentNode,It(r)+1):t.setStart(r,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!i&&!n.state.selection.visible&&on&&ci<=11&&(r.disabled=!0,r.disabled=!1)}function R1(n,e){if(e instanceof Oe){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(Gy(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else Gy(n)}function Gy(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function Fp(n,e,t,r){return n.someProp("createSelectionBetween",i=>i(n,e,t))||ze.between(e,t,r)}function Jy(n){return n.editable&&!n.hasFocus()?!1:D1(n)}function D1(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function eb(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return Zi(e.node,e.offset,t.anchorNode,t.anchorOffset)}function fp(n,e){let{$anchor:t,$head:r}=n.selection,i=e>0?t.max(r):t.min(r),s=i.parent.inlineContent?i.depth?n.doc.resolve(e>0?i.after():i.before()):null:i;return s&&je.findFrom(s,e)}function ei(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function Yy(n,e,t){let r=n.state.selection;if(r instanceof ze)if(t.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let a=n.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return ei(n,new ze(r.$anchor,a))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let i=fp(n.state,e);return i&&i instanceof Oe?ei(n,i):!1}else if(!(Mn&&t.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,a;if(!s||s.isText)return!1;let u=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(a=n.docView.descAt(u))&&!a.contentDOM?Oe.isSelectable(s)?ei(n,new Oe(e<0?n.state.doc.resolve(i.pos-s.nodeSize):i)):Tl?ei(n,new ze(n.state.doc.resolve(e<0?u:u+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Oe&&r.node.isInline)return ei(n,new ze(e>0?r.$to:r.$from));{let i=fp(n.state,e);return i?ei(n,i):!1}}}function xu(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function nl(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function No(n,e){return e<0?tb(n):nb(n)}function tb(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i,s,a=!1;for(Wn&&t.nodeType==1&&r<xu(t)&&nl(t.childNodes[r],-1)&&(a=!0);;)if(r>0){if(t.nodeType!=1)break;{let u=t.childNodes[r-1];if(nl(u,-1))i=t,s=--r;else if(u.nodeType==3)t=u,r=t.nodeValue.length;else break}}else{if(P1(t))break;{let u=t.previousSibling;for(;u&&nl(u,-1);)i=t.parentNode,s=It(u),u=u.previousSibling;if(u)t=u,r=xu(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}a?dp(n,t,r):i&&dp(n,i,s)}function nb(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i=xu(t),s,a;for(;;)if(r<i){if(t.nodeType!=1)break;let u=t.childNodes[r];if(nl(u,1))s=t,a=++r;else break}else{if(P1(t))break;{let u=t.nextSibling;for(;u&&nl(u,1);)s=u.parentNode,a=It(u)+1,u=u.nextSibling;if(u)t=u,r=0,i=xu(t);else{if(t=t.parentNode,t==n.dom)break;r=i=0}}}s&&dp(n,s,a)}function P1(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function rb(n,e){for(;n&&e==n.childNodes.length&&!Ml(n);)e=It(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function ib(n,e){for(;n&&!e&&!Ml(n);)e=It(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function dp(n,e,t){if(e.nodeType!=3){let s,a;(a=rb(e,t))?(e=a,t=0):(s=ib(e,t))&&(e=s,t=s.nodeValue.length)}let r=n.domSelection();if(!r)return;if(uc(r)){let s=document.createRange();s.setEnd(e,t),s.setStart(e,t),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:i}=n;setTimeout(()=>{n.state==i&&Nr(n)},50)}function Xy(n,e){let t=n.state.doc.resolve(e);if(!(Vt||OC)&&t.parent.inlineContent){let i=n.coordsAtPos(e);if(e>t.start()){let s=n.coordsAtPos(e-1),a=(s.top+s.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<t.end()){let s=n.coordsAtPos(e+1),a=(s.top+s.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function Qy(n,e,t){let r=n.state.selection;if(r instanceof ze&&!r.empty||t.indexOf("s")>-1||Mn&&t.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let a=fp(n.state,e);if(a&&a instanceof Oe)return ei(n,a)}if(!i.parent.inlineContent){let a=e<0?i:s,u=r instanceof gn?je.near(a,e):je.findFrom(a,e);return u?ei(n,u):!1}return!1}function Zy(n,e){if(!(n.state.selection instanceof ze))return!0;let{$head:t,$anchor:r,empty:i}=n.state.selection;if(!t.sameParent(r))return!0;if(!i)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(s&&!s.isText){let a=n.state.tr;return e<0?a.delete(t.pos-s.nodeSize,t.pos):a.delete(t.pos,t.pos+s.nodeSize),n.dispatch(a),!0}return!1}function ev(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function ob(n){if(!Gt||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;ev(n,r,"true"),setTimeout(()=>ev(n,r,"false"),20)}return!1}function sb(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function lb(n,e){let t=e.keyCode,r=sb(e);if(t==8||Mn&&t==72&&r=="c")return Zy(n,-1)||No(n,-1);if(t==46&&!e.shiftKey||Mn&&t==68&&r=="c")return Zy(n,1)||No(n,1);if(t==13||t==27)return!0;if(t==37||Mn&&t==66&&r=="c"){let i=t==37?Xy(n,n.state.selection.from)=="ltr"?-1:1:-1;return Yy(n,i,r)||No(n,i)}else if(t==39||Mn&&t==70&&r=="c"){let i=t==39?Xy(n,n.state.selection.from)=="ltr"?1:-1:1;return Yy(n,i,r)||No(n,i)}else{if(t==38||Mn&&t==80&&r=="c")return Qy(n,-1,r)||No(n,-1);if(t==40||Mn&&t==78&&r=="c")return ob(n)||Qy(n,1,r)||No(n,1);if(r==(Mn?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function Hp(n,e){n.someProp("transformCopied",x=>{e=x(e,n)});let t=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let x=r.firstChild;t.push(x.type.name,x.attrs!=x.type.defaultAttrs?x.attrs:null),r=x.content}let a=n.someProp("clipboardSerializer")||ro.fromSchema(n.state.schema),u=j1(),f=u.createElement("div");f.appendChild(a.serializeFragment(r,{document:u}));let p=f.firstChild,h,g=0;for(;p&&p.nodeType==1&&(h=_1[p.nodeName.toLowerCase()]);){for(let x=h.length-1;x>=0;x--){let k=u.createElement(h[x]);for(;f.firstChild;)k.appendChild(f.firstChild);f.appendChild(k),g++}p=f.firstChild}p&&p.nodeType==1&&p.setAttribute("data-pm-slice",`${i} ${s}${g?` -${g}`:""} ${JSON.stringify(t)}`);let v=n.someProp("clipboardTextSerializer",x=>x(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:f,text:v,slice:e}}function A1(n,e,t,r,i){let s=i.parent.type.spec.code,a,u;if(!t&&!e)return null;let f=e&&(r||s||!t);if(f){if(n.someProp("transformPastedText",v=>{e=v(e,s||r,n)}),s)return e?new de(ee.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):de.empty;let g=n.someProp("clipboardTextParser",v=>v(e,i,r,n));if(g)u=g;else{let v=i.marks(),{schema:x}=n.state,k=ro.fromSchema(x);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(C=>{let w=a.appendChild(document.createElement("p"));C&&w.appendChild(k.serializeNode(x.text(C,v)))})}}else n.someProp("transformPastedHTML",g=>{t=g(t,n)}),a=fb(t),Tl&&db(a);let p=a&&a.querySelector("[data-pm-slice]"),h=p&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(p.getAttribute("data-pm-slice")||"");if(h&&h[3])for(let g=+h[3];g>0;g--){let v=a.firstChild;for(;v&&v.nodeType!=1;)v=v.nextSibling;if(!v)break;a=v}if(u||(u=(n.someProp("clipboardParser")||n.someProp("domParser")||ui.fromSchema(n.state.schema)).parseSlice(a,{preserveWhitespace:!!(f||h),context:i,ruleFromNode(v){return v.nodeName=="BR"&&!v.nextSibling&&v.parentNode&&!ab.test(v.parentNode.nodeName)?{ignore:!0}:null}})),h)u=pb(tv(u,+h[1],+h[2]),h[4]);else if(u=de.maxOpen(ub(u.content,i),!0),u.openStart||u.openEnd){let g=0,v=0;for(let x=u.content.firstChild;g<u.openStart&&!x.type.spec.isolating;g++,x=x.firstChild);for(let x=u.content.lastChild;v<u.openEnd&&!x.type.spec.isolating;v++,x=x.lastChild);u=tv(u,g,v)}return n.someProp("transformPasted",g=>{u=g(u,n)}),u}const ab=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function ub(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let i=e.node(t).contentMatchAt(e.index(t)),s,a=[];if(n.forEach(u=>{if(!a)return;let f=i.findWrapping(u.type),p;if(!f)return a=null;if(p=a.length&&s.length&&I1(f,s,u,a[a.length-1],0))a[a.length-1]=p;else{a.length&&(a[a.length-1]=z1(a[a.length-1],s.length));let h=L1(u,f);a.push(h),i=i.matchType(h.type),s=f}}),a)return ee.from(a)}return n}function L1(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,ee.from(n));return n}function I1(n,e,t,r,i){if(i<n.length&&i<e.length&&n[i]==e[i]){let s=I1(n,e,t,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==n.length-1?t.type:n[i+1]))return r.copy(r.content.append(ee.from(L1(t,n,i+1))))}}function z1(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,z1(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(ee.empty,!0);return n.copy(t.append(r))}function pp(n,e,t,r,i,s){let a=e<0?n.firstChild:n.lastChild,u=a.content;return n.childCount>1&&(s=0),i<r-1&&(u=pp(u,e,t,r,i+1,s)),i>=t&&(u=e<0?a.contentMatchAt(0).fillBefore(u,s<=i).append(u):u.append(a.contentMatchAt(a.childCount).fillBefore(ee.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,a.copy(u))}function tv(n,e,t){return e<n.openStart&&(n=new de(pp(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new de(pp(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const _1={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let nv=null;function j1(){return nv||(nv=document.implementation.createHTMLDocument("title"))}let bd=null;function cb(n){let e=window.trustedTypes;return e?(bd||(bd=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),bd.createHTML(n)):n}function fb(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=j1().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),i;if((i=r&&_1[r[1].toLowerCase()])&&(n=i.map(s=>"<"+s+">").join("")+n+i.map(s=>"</"+s+">").reverse().join("")),t.innerHTML=cb(n),i)for(let s=0;s<i.length;s++)t=t.querySelector(i[s])||t;return t}function db(n){let e=n.querySelectorAll(Vt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function pb(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:i,openStart:s,openEnd:a}=n;for(let u=r.length-2;u>=0;u-=2){let f=t.nodes[r[u]];if(!f||f.hasRequiredAttrs())break;i=ee.from(f.create(r[u+1],i)),s++,a++}return new de(i,s,a)}const Jt={},Yt={},hb={touchstart:!0,touchmove:!0};class mb{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function gb(n){for(let e in Jt){let t=Jt[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{vb(n,r)&&!$p(n,r)&&(n.editable||!(r.type in Yt))&&t(n,r)},hb[e]?{passive:!0}:void 0)}Gt&&n.dom.addEventListener("input",()=>null),hp(n)}function li(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function yb(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function hp(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>$p(n,r))})}function $p(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function vb(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function wb(n,e){!$p(n,e)&&Jt[e.type]&&(n.editable||!(e.type in Yt))&&Jt[e.type](n,e)}Yt.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!F1(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(Or&&Vt&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),Fo&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",i=>i(n,Fi(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||lb(n,t)?t.preventDefault():li(n,"key")};Yt.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};Yt.keypress=(n,e)=>{let t=e;if(F1(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||Mn&&t.metaKey)return;if(n.someProp("handleKeyPress",i=>i(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof ze)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(t.charCode),s=()=>n.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!n.someProp("handleTextInput",a=>a(n,r.$from.pos,r.$to.pos,i,s))&&n.dispatch(s()),t.preventDefault()}};function fc(n){return{left:n.clientX,top:n.clientY}}function xb(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function Vp(n,e,t,r,i){if(r==-1)return!1;let s=n.state.doc.resolve(r);for(let a=s.depth+1;a>0;a--)if(n.someProp(e,u=>a>s.depth?u(n,t,s.nodeAfter,s.before(a),i,!0):u(n,t,s.node(a),s.before(a),i,!1)))return!0;return!1}function _o(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);r.setMeta("pointer",!0),n.dispatch(r)}function Sb(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&Oe.isSelectable(r)?(_o(n,new Oe(t)),!0):!1}function kb(n,e){if(e==-1)return!1;let t=n.state.selection,r,i;t instanceof Oe&&(r=t.node);let s=n.state.doc.resolve(e);for(let a=s.depth+1;a>0;a--){let u=a>s.depth?s.nodeAfter:s.node(a);if(Oe.isSelectable(u)){r&&t.$from.depth>0&&a>=t.$from.depth&&s.before(t.$from.depth+1)==t.$from.pos?i=s.before(t.$from.depth):i=s.before(a);break}}return i!=null?(_o(n,Oe.create(n.state.doc,i)),!0):!1}function Cb(n,e,t,r,i){return Vp(n,"handleClickOn",e,t,r)||n.someProp("handleClick",s=>s(n,e,r))||(i?kb(n,t):Sb(n,t))}function bb(n,e,t,r){return Vp(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",i=>i(n,e,r))}function Eb(n,e,t,r){return Vp(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",i=>i(n,e,r))||Ob(n,t,r)}function Ob(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(_o(n,ze.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let a=s>i.depth?i.nodeAfter:i.node(s),u=i.before(s);if(a.inlineContent)_o(n,ze.create(r,u+1,u+1+a.content.size));else if(Oe.isSelectable(a))_o(n,Oe.create(r,u));else continue;return!0}}function Wp(n){return Su(n)}const B1=Mn?"metaKey":"ctrlKey";Jt.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=Wp(n),i=Date.now(),s="singleClick";i-n.input.lastClick.time<500&&xb(t,n.input.lastClick)&&!t[B1]&&n.input.lastClick.button==t.button&&(n.input.lastClick.type=="singleClick"?s="doubleClick":n.input.lastClick.type=="doubleClick"&&(s="tripleClick")),n.input.lastClick={time:i,x:t.clientX,y:t.clientY,type:s,button:t.button};let a=n.posAtCoords(fc(t));a&&(s=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new Mb(n,a,t,!!r)):(s=="doubleClick"?bb:Eb)(n,a.pos,a.inside,t)?t.preventDefault():li(n,"pointer"))};class Mb{constructor(e,t,r,i){this.view=e,this.pos=t,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[B1],this.allowDefault=r.shiftKey;let s,a;if(t.inside>-1)s=e.state.doc.nodeAt(t.inside),a=t.inside;else{let h=e.state.doc.resolve(t.pos);s=h.parent,a=h.depth?h.before():0}const u=i?null:r.target,f=u?e.docView.nearestDesc(u,!0):null;this.target=f&&f.dom.nodeType==1?f.dom:null;let{selection:p}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||p instanceof Oe&&p.from<=a&&p.to>a)&&(this.mightDrag={node:s,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Wn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),li(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Nr(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(fc(e))),this.updateAllowDefault(e),this.allowDefault||!t?li(this.view,"pointer"):Cb(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Gt&&this.mightDrag&&!this.mightDrag.node.isAtom||Vt&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(_o(this.view,je.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):li(this.view,"pointer")}move(e){this.updateAllowDefault(e),li(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Jt.touchstart=n=>{n.input.lastTouch=Date.now(),Wp(n),li(n,"pointer")};Jt.touchmove=n=>{n.input.lastTouch=Date.now(),li(n,"pointer")};Jt.contextmenu=n=>Wp(n);function F1(n,e){return n.composing?!0:Gt&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const Tb=Or?5e3:-1;Yt.compositionstart=Yt.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof ze&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),Su(n,!0),n.markCursor=null;else if(Su(n,!e.selection.empty),Wn&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let a=s<0?i.lastChild:i.childNodes[s-1];if(!a)break;if(a.nodeType==3){let u=n.domSelection();u&&u.collapse(a,a.nodeValue.length);break}else i=a,s=-1}}n.input.composing=!0}H1(n,Tb)};Yt.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,H1(n,20))};function H1(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>Su(n),e))}function $1(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=Rb());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function Nb(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=SC(e.focusNode,e.focusOffset),r=kC(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let i=r.pmViewDesc,s=n.domObserver.lastChangedTextNode;if(t==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let a=t.pmViewDesc;if(!(!a||!a.isText(t.nodeValue)))return r}}return t||r}function Rb(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function Su(n,e=!1){if(!(Or&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),$1(n),e||n.docView&&n.docView.dirty){let t=Bp(n),r=n.state.selection;return t&&!t.eq(r)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function Db(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const gl=on&&ci<15||Fo&&MC<604;Jt.copy=Yt.cut=(n,e)=>{let t=e,r=n.state.selection,i=t.type=="cut";if(r.empty)return;let s=gl?null:t.clipboardData,a=r.content(),{dom:u,text:f}=Hp(n,a);s?(t.preventDefault(),s.clearData(),s.setData("text/html",u.innerHTML),s.setData("text/plain",f)):Db(n,u),i&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Pb(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function Ab(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?yl(n,r.value,null,i,e):yl(n,r.textContent,r.innerHTML,i,e)},50)}function yl(n,e,t,r,i){let s=A1(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",f=>f(n,i,s||de.empty)))return!0;if(!s)return!1;let a=Pb(s),u=a?n.state.tr.replaceSelectionWith(a,r):n.state.tr.replaceSelection(s);return n.dispatch(u.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function V1(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}Yt.paste=(n,e)=>{let t=e;if(n.composing&&!Or)return;let r=gl?null:t.clipboardData,i=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&yl(n,V1(r),r.getData("text/html"),i,t)?t.preventDefault():Ab(n,t)};class W1{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const Lb=Mn?"altKey":"ctrlKey";function U1(n,e){let t=n.someProp("dragCopies",r=>!r(e));return t??!e[Lb]}Jt.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let i=n.state.selection,s=i.empty?null:n.posAtCoords(fc(t)),a;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof Oe?i.to-1:i.to))){if(r&&r.mightDrag)a=Oe.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let g=n.docView.nearestDesc(t.target,!0);g&&g.node.type.spec.draggable&&g!=n.docView&&(a=Oe.create(n.state.doc,g.posBefore))}}let u=(a||n.state.selection).content(),{dom:f,text:p,slice:h}=Hp(n,u);(!t.dataTransfer.files.length||!Vt||y1>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(gl?"Text":"text/html",f.innerHTML),t.dataTransfer.effectAllowed="copyMove",gl||t.dataTransfer.setData("text/plain",p),n.dragging=new W1(h,U1(n,t),a)};Jt.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};Yt.dragover=Yt.dragenter=(n,e)=>e.preventDefault();Yt.drop=(n,e)=>{let t=e,r=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let i=n.posAtCoords(fc(t));if(!i)return;let s=n.state.doc.resolve(i.pos),a=r&&r.slice;a?n.someProp("transformPasted",k=>{a=k(a,n)}):a=A1(n,V1(t.dataTransfer),gl?null:t.dataTransfer.getData("text/html"),!1,s);let u=!!(r&&U1(n,t));if(n.someProp("handleDrop",k=>k(n,t,a||de.empty,u))){t.preventDefault();return}if(!a)return;t.preventDefault();let f=a?a1(n.state.doc,s.pos,a):s.pos;f==null&&(f=s.pos);let p=n.state.tr;if(u){let{node:k}=r;k?k.replace(p):p.deleteSelection()}let h=p.mapping.map(f),g=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,v=p.doc;if(g?p.replaceRangeWith(h,h,a.content.firstChild):p.replaceRange(h,h,a),p.doc.eq(v))return;let x=p.doc.resolve(h);if(g&&Oe.isSelectable(a.content.firstChild)&&x.nodeAfter&&x.nodeAfter.sameMarkup(a.content.firstChild))p.setSelection(new Oe(x));else{let k=p.mapping.map(f);p.mapping.maps[p.mapping.maps.length-1].forEach((C,w,S,b)=>k=b),p.setSelection(Fp(n,x,p.doc.resolve(k)))}n.focus(),n.dispatch(p.setMeta("uiEvent","drop"))};Jt.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&Nr(n)},20))};Jt.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};Jt.beforeinput=(n,e)=>{if(Vt&&Or&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",s=>s(n,Fi(8,"Backspace")))))return;let{$cursor:i}=n.state.selection;i&&i.pos>0&&n.dispatch(n.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let n in Yt)Jt[n]=Yt[n];function vl(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class ku{constructor(e,t){this.toDOM=e,this.spec=t||Ki,this.side=this.spec.side||0}map(e,t,r,i){let{pos:s,deleted:a}=e.mapResult(t.from+i,this.side<0?-1:1);return a?null:new Nn(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof ku&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&vl(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class di{constructor(e,t){this.attrs=e,this.spec=t||Ki}map(e,t,r,i){let s=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-r,a=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=a?null:new Nn(s,a,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof di&&vl(this.attrs,e.attrs)&&vl(this.spec,e.spec)}static is(e){return e.type instanceof di}destroy(){}}class Up{constructor(e,t){this.attrs=e,this.spec=t||Ki}map(e,t,r,i){let s=e.mapResult(t.from+i,1);if(s.deleted)return null;let a=e.mapResult(t.to+i,-1);return a.deleted||a.pos<=s.pos?null:new Nn(s.pos-r,a.pos-r,this)}valid(e,t){let{index:r,offset:i}=e.content.findIndex(t.from),s;return i==t.from&&!(s=e.child(r)).isText&&i+s.nodeSize==t.to}eq(e){return this==e||e instanceof Up&&vl(this.attrs,e.attrs)&&vl(this.spec,e.spec)}destroy(){}}class Nn{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new Nn(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new Nn(e,e,new ku(t,r))}static inline(e,t,r,i){return new Nn(e,t,new di(r,i))}static node(e,t,r,i){return new Nn(e,t,new Up(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof di}get widget(){return this.type instanceof ku}}const Do=[],Ki={};class wt{constructor(e,t){this.local=e.length?e:Do,this.children=t.length?t:Do}static create(e,t){return t.length?Cu(t,e,0,Ki):$t}find(e,t,r){let i=[];return this.findInner(e??0,t??1e9,i,0,r),i}findInner(e,t,r,i,s){for(let a=0;a<this.local.length;a++){let u=this.local[a];u.from<=t&&u.to>=e&&(!s||s(u.spec))&&r.push(u.copy(u.from+i,u.to+i))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<t&&this.children[a+1]>e){let u=this.children[a]+1;this.children[a+2].findInner(e-u,t-u,r,i+u,s)}}map(e,t,r){return this==$t||e.maps.length==0?this:this.mapInner(e,t,0,0,r||Ki)}mapInner(e,t,r,i,s){let a;for(let u=0;u<this.local.length;u++){let f=this.local[u].map(e,r,i);f&&f.type.valid(t,f)?(a||(a=[])).push(f):s.onRemove&&s.onRemove(this.local[u].spec)}return this.children.length?Ib(this.children,a||[],e,t,r,i,s):a?new wt(a.sort(Gi),Do):$t}add(e,t){return t.length?this==$t?wt.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let i,s=0;e.forEach((u,f)=>{let p=f+r,h;if(h=K1(t,u,p)){for(i||(i=this.children.slice());s<i.length&&i[s]<f;)s+=3;i[s]==f?i[s+2]=i[s+2].addInner(u,h,p+1):i.splice(s,0,f,f+u.nodeSize,Cu(h,u,p+1,Ki)),s+=3}});let a=q1(s?G1(t):t,-r);for(let u=0;u<a.length;u++)a[u].type.valid(e,a[u])||a.splice(u--,1);return new wt(a.length?this.local.concat(a).sort(Gi):this.local,i||this.children)}remove(e){return e.length==0||this==$t?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let a,u=r[s]+t,f=r[s+1]+t;for(let h=0,g;h<e.length;h++)(g=e[h])&&g.from>u&&g.to<f&&(e[h]=null,(a||(a=[])).push(g));if(!a)continue;r==this.children&&(r=this.children.slice());let p=r[s+2].removeInner(a,u+1);p!=$t?r[s+2]=p:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,a;s<e.length;s++)if(a=e[s])for(let u=0;u<i.length;u++)i[u].eq(a,t)&&(i==this.local&&(i=this.local.slice()),i.splice(u--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new wt(i,r):$t}forChild(e,t){if(this==$t)return this;if(t.isLeaf)return wt.empty;let r,i;for(let u=0;u<this.children.length;u+=3)if(this.children[u]>=e){this.children[u]==e&&(r=this.children[u+2]);break}let s=e+1,a=s+t.content.size;for(let u=0;u<this.local.length;u++){let f=this.local[u];if(f.from<a&&f.to>s&&f.type instanceof di){let p=Math.max(s,f.from)-s,h=Math.min(a,f.to)-s;p<h&&(i||(i=[])).push(f.copy(p,h))}}if(i){let u=new wt(i.sort(Gi),Do);return r?new ri([u,r]):u}return r||$t}eq(e){if(this==e)return!0;if(!(e instanceof wt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return qp(this.localsInner(e))}localsInner(e){if(this==$t)return Do;if(e.inlineContent||!this.local.some(di.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof di||t.push(this.local[r]);return t}forEachSet(e){e(this)}}wt.empty=new wt([],[]);wt.removeOverlap=qp;const $t=wt.empty;class ri{constructor(e){this.members=e}map(e,t){const r=this.members.map(i=>i.map(e,t,Ki));return ri.from(r)}forChild(e,t){if(t.isLeaf)return wt.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,t);s!=$t&&(s instanceof ri?r=r.concat(s.members):r.push(s))}return ri.from(r)}eq(e){if(!(e instanceof ri)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!t)t=s;else{r&&(t=t.slice(),r=!1);for(let a=0;a<s.length;a++)t.push(s[a])}}return t?qp(r?t:t.sort(Gi)):Do}static from(e){switch(e.length){case 0:return $t;case 1:return e[0];default:return new ri(e.every(t=>t instanceof wt)?e:e.reduce((t,r)=>t.concat(r instanceof wt?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function Ib(n,e,t,r,i,s,a){let u=n.slice();for(let p=0,h=s;p<t.maps.length;p++){let g=0;t.maps[p].forEach((v,x,k,C)=>{let w=C-k-(x-v);for(let S=0;S<u.length;S+=3){let b=u[S+1];if(b<0||v>b+h-g)continue;let O=u[S]+h-g;x>=O?u[S+1]=v<=O?-2:-1:v>=h&&w&&(u[S]+=w,u[S+1]+=w)}g+=w}),h=t.maps[p].map(h,-1)}let f=!1;for(let p=0;p<u.length;p+=3)if(u[p+1]<0){if(u[p+1]==-2){f=!0,u[p+1]=-1;continue}let h=t.map(n[p]+s),g=h-i;if(g<0||g>=r.content.size){f=!0;continue}let v=t.map(n[p+1]+s,-1),x=v-i,{index:k,offset:C}=r.content.findIndex(g),w=r.maybeChild(k);if(w&&C==g&&C+w.nodeSize==x){let S=u[p+2].mapInner(t,w,h+1,n[p]+s+1,a);S!=$t?(u[p]=g,u[p+1]=x,u[p+2]=S):(u[p+1]=-2,f=!0)}else f=!0}if(f){let p=zb(u,n,e,t,i,s,a),h=Cu(p,r,0,a);e=h.local;for(let g=0;g<u.length;g+=3)u[g+1]<0&&(u.splice(g,3),g-=3);for(let g=0,v=0;g<h.children.length;g+=3){let x=h.children[g];for(;v<u.length&&u[v]<x;)v+=3;u.splice(v,0,h.children[g],h.children[g+1],h.children[g+2])}}return new wt(e.sort(Gi),u)}function q1(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let i=n[r];t.push(new Nn(i.from+e,i.to+e,i.type))}return t}function zb(n,e,t,r,i,s,a){function u(f,p){for(let h=0;h<f.local.length;h++){let g=f.local[h].map(r,i,p);g?t.push(g):a.onRemove&&a.onRemove(f.local[h].spec)}for(let h=0;h<f.children.length;h+=3)u(f.children[h+2],f.children[h]+p+1)}for(let f=0;f<n.length;f+=3)n[f+1]==-1&&u(n[f+2],e[f]+s+1);return t}function K1(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,i=null;for(let s=0,a;s<n.length;s++)(a=n[s])&&a.from>t&&a.to<r&&((i||(i=[])).push(a),n[s]=null);return i}function G1(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function Cu(n,e,t,r){let i=[],s=!1;e.forEach((u,f)=>{let p=K1(n,u,f+t);if(p){s=!0;let h=Cu(p,u,t+f+1,r);h!=$t&&i.push(f,f+u.nodeSize,h)}});let a=q1(s?G1(n):n,-t).sort(Gi);for(let u=0;u<a.length;u++)a[u].type.valid(e,a[u])||(r.onRemove&&r.onRemove(a[u].spec),a.splice(u--,1));return a.length||i.length?new wt(a,i):$t}function Gi(n,e){return n.from-e.from||n.to-e.to}function qp(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let i=t+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==n&&(e=n.slice()),e[i]=s.copy(s.from,r.to),rv(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,s.from),rv(e,i,r.copy(s.from,r.to)));break}}}return e}function rv(n,e,t){for(;e<n.length&&Gi(t,n[e])>0;)e++;n.splice(e,0,t)}function Ed(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=$t&&e.push(r)}),n.cursorWrapper&&e.push(wt.create(n.state.doc,[n.cursorWrapper.deco])),ri.from(e)}const _b={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},jb=on&&ci<=11;class Bb{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Fb{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Bb,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);on&&ci<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),jb&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,_b)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Jy(this.view)){if(this.suppressingSelectionUpdates)return Nr(this.view);if(on&&ci<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Zi(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let s=e.focusNode;s;s=Bo(s))t.add(s);for(let s=e.anchorNode;s;s=Bo(s))if(t.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&Jy(e)&&!this.ignoreSelectionChange(r),s=-1,a=-1,u=!1,f=[];if(e.editable)for(let h=0;h<t.length;h++){let g=this.registerMutation(t[h],f);g&&(s=s<0?g.from:Math.min(g.from,s),a=a<0?g.to:Math.max(g.to,a),g.typeOver&&(u=!0))}if(Wn&&f.length){let h=f.filter(g=>g.nodeName=="BR");if(h.length==2){let[g,v]=h;g.parentNode&&g.parentNode.parentNode==v.parentNode?v.remove():g.remove()}else{let{focusNode:g}=this.currentSelection;for(let v of h){let x=v.parentNode;x&&x.nodeName=="LI"&&(!g||Vb(e,g)!=x)&&v.remove()}}}let p=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&uc(r)&&(p=Bp(e))&&p.eq(je.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Nr(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,a),Hb(e)),this.handleDOMChange(s,a,u,f),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Nr(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let h=0;h<e.addedNodes.length;h++){let g=e.addedNodes[h];t.push(g),g.nodeType==3&&(this.lastChangedTextNode=g)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(on&&ci<=11&&e.addedNodes.length)for(let h=0;h<e.addedNodes.length;h++){let{previousSibling:g,nextSibling:v}=e.addedNodes[h];(!g||Array.prototype.indexOf.call(e.addedNodes,g)<0)&&(i=g),(!v||Array.prototype.indexOf.call(e.addedNodes,v)<0)&&(s=v)}let a=i&&i.parentNode==e.target?It(i)+1:0,u=r.localPosFromDOM(e.target,a,-1),f=s&&s.parentNode==e.target?It(s):e.target.childNodes.length,p=r.localPosFromDOM(e.target,f,1);return{from:u,to:p}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let iv=new WeakMap,ov=!1;function Hb(n){if(!iv.has(n)&&(iv.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=Wn,ov)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),ov=!0}}function sv(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,a=n.domAtPos(n.state.selection.anchor);return Zi(a.node,a.offset,i,s)&&([t,r,i,s]=[i,s,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:s}}function $b(n,e){if(e.getComposedRanges){let i=e.getComposedRanges(n.root)[0];if(i)return sv(n,i)}let t;function r(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?sv(n,t):null}function Vb(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function Wb(n,e,t){let{node:r,fromOffset:i,toOffset:s,from:a,to:u}=n.docView.parseRange(e,t),f=n.domSelectionRange(),p,h=f.anchorNode;if(h&&n.dom.contains(h.nodeType==1?h:h.parentNode)&&(p=[{node:h,offset:f.anchorOffset}],uc(f)||p.push({node:f.focusNode,offset:f.focusOffset})),Vt&&n.input.lastKeyCode===8)for(let w=s;w>i;w--){let S=r.childNodes[w-1],b=S.pmViewDesc;if(S.nodeName=="BR"&&!b){s=w;break}if(!b||b.size)break}let g=n.state.doc,v=n.someProp("domParser")||ui.fromSchema(n.state.schema),x=g.resolve(a),k=null,C=v.parse(r,{topNode:x.parent,topMatch:x.parent.contentMatchAt(x.index()),topOpen:!0,from:i,to:s,preserveWhitespace:x.parent.type.whitespace=="pre"?"full":!0,findPositions:p,ruleFromNode:Ub,context:x});if(p&&p[0].pos!=null){let w=p[0].pos,S=p[1]&&p[1].pos;S==null&&(S=w),k={anchor:w+a,head:S+a}}return{doc:C,sel:k,from:a,to:u}}function Ub(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(Gt&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||Gt&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const qb=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Kb(n,e,t,r,i){let s=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let D=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,B=Bp(n,D);if(B&&!n.state.selection.eq(B)){if(Vt&&Or&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",te=>te(n,Fi(13,"Enter"))))return;let W=n.state.tr.setSelection(B);D=="pointer"?W.setMeta("pointer",!0):D=="key"&&W.scrollIntoView(),s&&W.setMeta("composition",s),n.dispatch(W)}return}let a=n.state.doc.resolve(e),u=a.sharedDepth(t);e=a.before(u+1),t=n.state.doc.resolve(t).after(u+1);let f=n.state.selection,p=Wb(n,e,t),h=n.state.doc,g=h.slice(p.from,p.to),v,x;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(v=n.state.selection.to,x="end"):(v=n.state.selection.from,x="start"),n.input.lastKeyCode=null;let k=Yb(g.content,p.doc.content,p.from,v,x);if(k&&n.input.domChangeCount++,(Fo&&n.input.lastIOSEnter>Date.now()-225||Or)&&i.some(D=>D.nodeType==1&&!qb.test(D.nodeName))&&(!k||k.endA>=k.endB)&&n.someProp("handleKeyDown",D=>D(n,Fi(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!k)if(r&&f instanceof ze&&!f.empty&&f.$head.sameParent(f.$anchor)&&!n.composing&&!(p.sel&&p.sel.anchor!=p.sel.head))k={start:f.from,endA:f.to,endB:f.to};else{if(p.sel){let D=lv(n,n.state.doc,p.sel);if(D&&!D.eq(n.state.selection)){let B=n.state.tr.setSelection(D);s&&B.setMeta("composition",s),n.dispatch(B)}}return}n.state.selection.from<n.state.selection.to&&k.start==k.endB&&n.state.selection instanceof ze&&(k.start>n.state.selection.from&&k.start<=n.state.selection.from+2&&n.state.selection.from>=p.from?k.start=n.state.selection.from:k.endA<n.state.selection.to&&k.endA>=n.state.selection.to-2&&n.state.selection.to<=p.to&&(k.endB+=n.state.selection.to-k.endA,k.endA=n.state.selection.to)),on&&ci<=11&&k.endB==k.start+1&&k.endA==k.start&&k.start>p.from&&p.doc.textBetween(k.start-p.from-1,k.start-p.from+1)==" "&&(k.start--,k.endA--,k.endB--);let C=p.doc.resolveNoCache(k.start-p.from),w=p.doc.resolveNoCache(k.endB-p.from),S=h.resolve(k.start),b=C.sameParent(w)&&C.parent.inlineContent&&S.end()>=k.endA,O;if((Fo&&n.input.lastIOSEnter>Date.now()-225&&(!b||i.some(D=>D.nodeName=="DIV"||D.nodeName=="P"))||!b&&C.pos<p.doc.content.size&&(!C.sameParent(w)||!C.parent.inlineContent)&&!/\S/.test(p.doc.textBetween(C.pos,w.pos,"",""))&&(O=je.findFrom(p.doc.resolve(C.pos+1),1,!0))&&O.head>C.pos)&&n.someProp("handleKeyDown",D=>D(n,Fi(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>k.start&&Jb(h,k.start,k.endA,C,w)&&n.someProp("handleKeyDown",D=>D(n,Fi(8,"Backspace")))){Or&&Vt&&n.domObserver.suppressSelectionUpdates();return}Vt&&k.endB==k.start&&(n.input.lastChromeDelete=Date.now()),Or&&!b&&C.start()!=w.start()&&w.parentOffset==0&&C.depth==w.depth&&p.sel&&p.sel.anchor==p.sel.head&&p.sel.head==k.endA&&(k.endB-=2,w=p.doc.resolveNoCache(k.endB-p.from),setTimeout(()=>{n.someProp("handleKeyDown",function(D){return D(n,Fi(13,"Enter"))})},20));let E=k.start,R=k.endA,N=D=>{let B=D||n.state.tr.replace(E,R,p.doc.slice(k.start-p.from,k.endB-p.from));if(p.sel){let W=lv(n,B.doc,p.sel);W&&!(Vt&&n.composing&&W.empty&&(k.start!=k.endB||n.input.lastChromeDelete<Date.now()-100)&&(W.head==E||W.head==B.mapping.map(R)-1)||on&&W.empty&&W.head==E)&&B.setSelection(W)}return s&&B.setMeta("composition",s),B.scrollIntoView()},T;if(b){if(C.pos==w.pos){on&&ci<=11&&C.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>Nr(n),20));let D=N(n.state.tr.delete(E,R)),B=h.resolve(k.start).marksAcross(h.resolve(k.endA));B&&D.ensureMarks(B),n.dispatch(D)}else if(k.endA==k.endB&&(T=Gb(C.parent.content.cut(C.parentOffset,w.parentOffset),S.parent.content.cut(S.parentOffset,k.endA-S.start())))){let D=N(n.state.tr);T.type=="add"?D.addMark(E,R,T.mark):D.removeMark(E,R,T.mark),n.dispatch(D)}else if(C.parent.child(C.index()).isText&&C.index()==w.index()-(w.textOffset?0:1)){let D=C.parent.textBetween(C.parentOffset,w.parentOffset),B=()=>N(n.state.tr.insertText(D,E,R));n.someProp("handleTextInput",W=>W(n,E,R,D,B))||n.dispatch(B())}}else n.dispatch(N())}function lv(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:Fp(n,e.resolve(t.anchor),e.resolve(t.head))}function Gb(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,i=t,s=r,a,u,f;for(let h=0;h<r.length;h++)i=r[h].removeFromSet(i);for(let h=0;h<t.length;h++)s=t[h].removeFromSet(s);if(i.length==1&&s.length==0)u=i[0],a="add",f=h=>h.mark(u.addToSet(h.marks));else if(i.length==0&&s.length==1)u=s[0],a="remove",f=h=>h.mark(u.removeFromSet(h.marks));else return null;let p=[];for(let h=0;h<e.childCount;h++)p.push(f(e.child(h)));if(ee.from(p).eq(n))return{mark:u,type:a}}function Jb(n,e,t,r,i){if(t-e<=i.pos-r.pos||Od(r,!0,!1)<i.pos)return!1;let s=n.resolve(e);if(!r.parent.isTextblock){let u=s.nodeAfter;return u!=null&&t==e+u.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let a=n.resolve(Od(s,!0,!0));return!a.parent.isTextblock||a.pos>t||Od(a,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function Od(n,e,t){let r=n.depth,i=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,i++,e=!1;if(t){let s=n.node(r).maybeChild(n.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function Yb(n,e,t,r,i){let s=n.findDiffStart(e,t);if(s==null)return null;let{a,b:u}=n.findDiffEnd(e,t+n.size,t+e.size);if(i=="end"){let f=Math.max(0,s-Math.min(a,u));r-=a+f-s}if(a<s&&n.size<e.size){let f=r<=s&&r>=a?s-r:0;s-=f,s&&s<e.size&&av(e.textBetween(s-1,s+1))&&(s+=f?1:-1),u=s+(u-a),a=s}else if(u<s){let f=r<=s&&r>=u?s-r:0;s-=f,s&&s<n.size&&av(n.textBetween(s-1,s+1))&&(s+=f?1:-1),a=s+(a-u),u=s}return{start:s,endA:a,endB:u}}function av(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class J1{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new mb,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(pv),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=fv(this),cv(this),this.nodeViews=dv(this),this.docView=Vy(this.state.doc,uv(this),Ed(this),this.dom,this),this.domObserver=new Fb(this,(r,i,s,a)=>Kb(this,r,i,s,a)),this.domObserver.start(),gb(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&hp(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(pv),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let i=this.state,s=!1,a=!1;e.storedMarks&&this.composing&&($1(this),a=!0),this.state=e;let u=i.plugins!=e.plugins||this._props.plugins!=t.plugins;if(u||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let x=dv(this);Qb(x,this.nodeViews)&&(this.nodeViews=x,s=!0)}(u||t.handleDOMEvents!=this._props.handleDOMEvents)&&hp(this),this.editable=fv(this),cv(this);let f=Ed(this),p=uv(this),h=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",g=s||!this.docView.matchesNode(e.doc,p,f);(g||!e.selection.eq(i.selection))&&(a=!0);let v=h=="preserve"&&a&&this.dom.style.overflowAnchor==null&&RC(this);if(a){this.domObserver.stop();let x=g&&(on||Vt)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&Xb(i.selection,e.selection);if(g){let k=Vt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Nb(this)),(s||!this.docView.update(e.doc,p,f,this))&&(this.docView.updateOuterDeco(p),this.docView.destroy(),this.docView=Vy(e.doc,p,f,this.dom,this)),k&&!this.trackWrites&&(x=!0)}x||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&eb(this))?Nr(this,x):(R1(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),h=="reset"?this.dom.scrollTop=0:h=="to selection"?this.scrollToSelection():v&&DC(v)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof Oe){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&_y(this,t.getBoundingClientRect(),e)}else _y(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-t.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new W1(e.slice,e.move,i<0?void 0:Oe.create(this.state.doc,i))}someProp(e,t){let r=this._props&&this._props[e],i;if(r!=null&&(i=t?t(r):r))return i;for(let a=0;a<this.directPlugins.length;a++){let u=this.directPlugins[a].props[e];if(u!=null&&(i=t?t(u):u))return i}let s=this.state.plugins;if(s)for(let a=0;a<s.length;a++){let u=s[a].props[e];if(u!=null&&(i=t?t(u):u))return i}}hasFocus(){if(on){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&PC(this.dom),Nr(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return _C(this,e)}coordsAtPos(e,t=1){return k1(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let i=this.docView.posFromDOM(e,t,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,t){return $C(this,t||this.state,e)}pasteHTML(e,t){return yl(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return yl(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return Hp(this,e)}destroy(){this.docView&&(yb(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Ed(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,wC())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return wb(this,e)}domSelectionRange(){let e=this.domSelection();return e?Gt&&this.root.nodeType===11&&bC(this.dom.ownerDocument)==this.dom&&$b(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}J1.prototype.dispatch=function(n){let e=this._props.dispatchTransaction;e?e.call(this,n):this.updateState(this.state.apply(n))};function uv(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[Nn.node(0,n.state.doc.content.size,e)]}function cv(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:Nn.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function fv(n){return!n.someProp("editable",e=>e(n.state)===!1)}function Xb(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function dv(n){let e=Object.create(null);function t(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function Qb(n,e){let t=0,r=0;for(let i in n){if(n[i]!=e[i])return!0;t++}for(let i in e)r++;return t!=r}function pv(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var pi={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},bu={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Zb=typeof navigator<"u"&&/Mac/.test(navigator.platform),eE=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var zt=0;zt<10;zt++)pi[48+zt]=pi[96+zt]=String(zt);for(var zt=1;zt<=24;zt++)pi[zt+111]="F"+zt;for(var zt=65;zt<=90;zt++)pi[zt]=String.fromCharCode(zt+32),bu[zt]=String.fromCharCode(zt);for(var Md in pi)bu.hasOwnProperty(Md)||(bu[Md]=pi[Md]);function tE(n){var e=Zb&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||eE&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?bu:pi)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const nE=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),rE=typeof navigator<"u"&&/Win/.test(navigator.platform);function iE(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,i,s,a;for(let u=0;u<e.length-1;u++){let f=e[u];if(/^(cmd|meta|m)$/i.test(f))a=!0;else if(/^a(lt)?$/i.test(f))r=!0;else if(/^(c|ctrl|control)$/i.test(f))i=!0;else if(/^s(hift)?$/i.test(f))s=!0;else if(/^mod$/i.test(f))nE?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+f)}return r&&(t="Alt-"+t),i&&(t="Ctrl-"+t),a&&(t="Meta-"+t),s&&(t="Shift-"+t),t}function oE(n){let e=Object.create(null);for(let t in n)e[iE(t)]=n[t];return e}function Td(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function sE(n){return new Rt({props:{handleKeyDown:Y1(n)}})}function Y1(n){let e=oE(n);return function(t,r){let i=tE(r),s,a=e[Td(i,r)];if(a&&a(t.state,t.dispatch,t))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let u=e[Td(i,r,!1)];if(u&&u(t.state,t.dispatch,t))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(rE&&r.ctrlKey&&r.altKey)&&(s=pi[r.keyCode])&&s!=i){let u=e[Td(s,r)];if(u&&u(t.state,t.dispatch,t))return!0}}return!1}}const Kp=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function X1(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const Q1=(n,e,t)=>{let r=X1(n,t);if(!r)return!1;let i=Gp(r);if(!i){let a=r.blockRange(),u=a&&Yo(a);return u==null?!1:(e&&e(n.tr.lift(a,u).scrollIntoView()),!0)}let s=i.nodeBefore;if(lw(n,i,e,-1))return!0;if(r.parent.content.size==0&&(Ho(s,"end")||Oe.isSelectable(s)))for(let a=r.depth;;a--){let u=lc(n.doc,r.before(a),r.after(a),de.empty);if(u&&u.slice.size<u.to-u.from){if(e){let f=n.tr.step(u);f.setSelection(Ho(s,"end")?je.findFrom(f.doc.resolve(f.mapping.map(i.pos,-1)),-1):Oe.create(f.doc,i.pos-s.nodeSize)),e(f.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},lE=(n,e,t)=>{let r=X1(n,t);if(!r)return!1;let i=Gp(r);return i?Z1(n,i,e):!1},aE=(n,e,t)=>{let r=tw(n,t);if(!r)return!1;let i=Jp(r);return i?Z1(n,i,e):!1};function Z1(n,e,t){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let h=i.lastChild;if(!h)return!1;i=h}let a=e.nodeAfter,u=a,f=e.pos+1;for(;!u.isTextblock;f++){if(u.type.spec.isolating)return!1;let h=u.firstChild;if(!h)return!1;u=h}let p=lc(n.doc,s,f,de.empty);if(!p||p.from!=s||p instanceof Et&&p.slice.size>=f-s)return!1;if(t){let h=n.tr.step(p);h.setSelection(ze.create(h.doc,s)),t(h.scrollIntoView())}return!0}function Ho(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const ew=(n,e,t)=>{let{$head:r,empty:i}=n.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;s=Gp(r)}let a=s&&s.nodeBefore;return!a||!Oe.isSelectable(a)?!1:(e&&e(n.tr.setSelection(Oe.create(n.doc,s.pos-a.nodeSize)).scrollIntoView()),!0)};function Gp(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function tw(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const nw=(n,e,t)=>{let r=tw(n,t);if(!r)return!1;let i=Jp(r);if(!i)return!1;let s=i.nodeAfter;if(lw(n,i,e,1))return!0;if(r.parent.content.size==0&&(Ho(s,"start")||Oe.isSelectable(s))){let a=lc(n.doc,r.before(),r.after(),de.empty);if(a&&a.slice.size<a.to-a.from){if(e){let u=n.tr.step(a);u.setSelection(Ho(s,"start")?je.findFrom(u.doc.resolve(u.mapping.map(i.pos)),1):Oe.create(u.doc,u.mapping.map(i.pos))),e(u.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},rw=(n,e,t)=>{let{$head:r,empty:i}=n.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;s=Jp(r)}let a=s&&s.nodeAfter;return!a||!Oe.isSelectable(a)?!1:(e&&e(n.tr.setSelection(Oe.create(n.doc,s.pos)).scrollIntoView()),!0)};function Jp(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const uE=(n,e)=>{let t=n.selection,r=t instanceof Oe,i;if(r){if(t.node.isTextblock||!hi(n.doc,t.from))return!1;i=t.from}else if(i=sc(n.doc,t.from,-1),i==null)return!1;if(e){let s=n.tr.join(i);r&&s.setSelection(Oe.create(s.doc,i-n.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},cE=(n,e)=>{let t=n.selection,r;if(t instanceof Oe){if(t.node.isTextblock||!hi(n.doc,t.to))return!1;r=t.to}else if(r=sc(n.doc,t.to,1),r==null)return!1;return e&&e(n.tr.join(r).scrollIntoView()),!0},fE=(n,e)=>{let{$from:t,$to:r}=n.selection,i=t.blockRange(r),s=i&&Yo(i);return s==null?!1:(e&&e(n.tr.lift(i,s).scrollIntoView()),!0)},iw=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function Yp(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const dE=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let i=t.node(-1),s=t.indexAfter(-1),a=Yp(i.contentMatchAt(s));if(!a||!i.canReplaceWith(s,s,a))return!1;if(e){let u=t.after(),f=n.tr.replaceWith(u,u,a.createAndFill());f.setSelection(je.near(f.doc.resolve(u),1)),e(f.scrollIntoView())}return!0},ow=(n,e)=>{let t=n.selection,{$from:r,$to:i}=t;if(t instanceof gn||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=Yp(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let a=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,u=n.tr.insert(a,s.createAndFill());u.setSelection(ze.create(u.doc,a+1)),e(u.scrollIntoView())}return!0},sw=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let s=t.before();if(Tr(n.doc,s))return e&&e(n.tr.split(s).scrollIntoView()),!0}let r=t.blockRange(),i=r&&Yo(r);return i==null?!1:(e&&e(n.tr.lift(r,i).scrollIntoView()),!0)};function pE(n){return(e,t)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof Oe&&e.selection.node.isBlock)return!r.parentOffset||!Tr(e.doc,r.pos)?!1:(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],a,u,f=!1,p=!1;for(let x=r.depth;;x--)if(r.node(x).isBlock){f=r.end(x)==r.pos+(r.depth-x),p=r.start(x)==r.pos-(r.depth-x),u=Yp(r.node(x-1).contentMatchAt(r.indexAfter(x-1))),s.unshift(f&&u?{type:u}:null),a=x;break}else{if(x==1)return!1;s.unshift(null)}let h=e.tr;(e.selection instanceof ze||e.selection instanceof gn)&&h.deleteSelection();let g=h.mapping.map(r.pos),v=Tr(h.doc,g,s.length,s);if(v||(s[0]=u?{type:u}:null,v=Tr(h.doc,g,s.length,s)),!v)return!1;if(h.split(g,s.length,s),!f&&p&&r.node(a).type!=u){let x=h.mapping.map(r.before(a)),k=h.doc.resolve(x);u&&r.node(a-1).canReplaceWith(k.index(),k.index()+1,u)&&h.setNodeMarkup(h.mapping.map(r.before(a)),u)}return t&&t(h.scrollIntoView()),!0}}const hE=pE(),mE=(n,e)=>{let{$from:t,to:r}=n.selection,i,s=t.sharedDepth(r);return s==0?!1:(i=t.before(s),e&&e(n.tr.setSelection(Oe.create(n.doc,i))),!0)};function gE(n,e,t){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||hi(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function lw(n,e,t,r){let i=e.nodeBefore,s=e.nodeAfter,a,u,f=i.type.spec.isolating||s.type.spec.isolating;if(!f&&gE(n,e,t))return!0;let p=!f&&e.parent.canReplace(e.index(),e.index()+1);if(p&&(a=(u=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&u.matchType(a[0]||s.type).validEnd){if(t){let x=e.pos+s.nodeSize,k=ee.empty;for(let S=a.length-1;S>=0;S--)k=ee.from(a[S].create(null,k));k=ee.from(i.copy(k));let C=n.tr.step(new Ot(e.pos-1,x,e.pos,x,new de(k,1,0),a.length,!0)),w=C.doc.resolve(x+2*a.length);w.nodeAfter&&w.nodeAfter.type==i.type&&hi(C.doc,w.pos)&&C.join(w.pos),t(C.scrollIntoView())}return!0}let h=s.type.spec.isolating||r>0&&f?null:je.findFrom(e,1),g=h&&h.$from.blockRange(h.$to),v=g&&Yo(g);if(v!=null&&v>=e.depth)return t&&t(n.tr.lift(g,v).scrollIntoView()),!0;if(p&&Ho(s,"start",!0)&&Ho(i,"end")){let x=i,k=[];for(;k.push(x),!x.isTextblock;)x=x.lastChild;let C=s,w=1;for(;!C.isTextblock;C=C.firstChild)w++;if(x.canReplace(x.childCount,x.childCount,C.content)){if(t){let S=ee.empty;for(let O=k.length-1;O>=0;O--)S=ee.from(k[O].copy(S));let b=n.tr.step(new Ot(e.pos-k.length,e.pos+s.nodeSize,e.pos+w,e.pos+s.nodeSize-w,new de(S,k.length,0),0,!0));t(b.scrollIntoView())}return!0}}return!1}function aw(n){return function(e,t){let r=e.selection,i=n<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(t&&t(e.tr.setSelection(ze.create(e.doc,n<0?i.start(s):i.end(s)))),!0):!1}}const yE=aw(-1),vE=aw(1);function wE(n,e=null){return function(t,r){let{$from:i,$to:s}=t.selection,a=i.blockRange(s),u=a&&zp(a,n,e);return u?(r&&r(t.tr.wrap(a,u).scrollIntoView()),!0):!1}}function hv(n,e=null){return function(t,r){let i=!1;for(let s=0;s<t.selection.ranges.length&&!i;s++){let{$from:{pos:a},$to:{pos:u}}=t.selection.ranges[s];t.doc.nodesBetween(a,u,(f,p)=>{if(i)return!1;if(!(!f.isTextblock||f.hasMarkup(n,e)))if(f.type==n)i=!0;else{let h=t.doc.resolve(p),g=h.index();i=h.parent.canReplaceWith(g,g+1,n)}})}if(!i)return!1;if(r){let s=t.tr;for(let a=0;a<t.selection.ranges.length;a++){let{$from:{pos:u},$to:{pos:f}}=t.selection.ranges[a];s.setBlockType(u,f,n,e)}r(s.scrollIntoView())}return!0}}function Xp(...n){return function(e,t,r){for(let i=0;i<n.length;i++)if(n[i](e,t,r))return!0;return!1}}Xp(Kp,Q1,ew);Xp(Kp,nw,rw);Xp(iw,ow,sw,hE);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function xE(n,e=null){return function(t,r){let{$from:i,$to:s}=t.selection,a=i.blockRange(s);if(!a)return!1;let u=r?t.tr:null;return SE(u,a,n,e)?(r&&r(u.scrollIntoView()),!0):!1}}function SE(n,e,t,r=null){let i=!1,s=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let f=a.resolve(e.start-2);s=new yu(f,f,e.depth),e.endIndex<e.parent.childCount&&(e=new yu(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let u=zp(s,t,r,e);return u?(n&&kE(n,e,u,i,t),!0):!1}function kE(n,e,t,r,i){let s=ee.empty;for(let h=t.length-1;h>=0;h--)s=ee.from(t[h].type.create(t[h].attrs,s));n.step(new Ot(e.start-(r?2:0),e.end,e.start,e.end,new de(s,0,0),t.length,!0));let a=0;for(let h=0;h<t.length;h++)t[h].type==i&&(a=h+1);let u=t.length-a,f=e.start+t.length-(r?2:0),p=e.parent;for(let h=e.startIndex,g=e.endIndex,v=!0;h<g;h++,v=!1)!v&&Tr(n.doc,f,u)&&(n.split(f,u),f+=2*u),f+=p.child(h).nodeSize;return n}function CE(n){return function(e,t){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,a=>a.childCount>0&&a.firstChild.type==n);return s?t?r.node(s.depth-1).type==n?bE(e,t,n,s):EE(e,t,s):!0:!1}}function bE(n,e,t,r){let i=n.tr,s=r.end,a=r.$to.end(r.depth);s<a&&(i.step(new Ot(s-1,a,s,a,new de(ee.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new yu(i.doc.resolve(r.$from.pos),i.doc.resolve(a),r.depth));const u=Yo(r);if(u==null)return!1;i.lift(r,u);let f=i.doc.resolve(i.mapping.map(s,-1)-1);return hi(i.doc,f.pos)&&f.nodeBefore.type==f.nodeAfter.type&&i.join(f.pos),e(i.scrollIntoView()),!0}function EE(n,e,t){let r=n.tr,i=t.parent;for(let x=t.end,k=t.endIndex-1,C=t.startIndex;k>C;k--)x-=i.child(k).nodeSize,r.delete(x-1,x+1);let s=r.doc.resolve(t.start),a=s.nodeAfter;if(r.mapping.map(t.end)!=t.start+s.nodeAfter.nodeSize)return!1;let u=t.startIndex==0,f=t.endIndex==i.childCount,p=s.node(-1),h=s.index(-1);if(!p.canReplace(h+(u?0:1),h+1,a.content.append(f?ee.empty:ee.from(i))))return!1;let g=s.pos,v=g+a.nodeSize;return r.step(new Ot(g-(u?1:0),v+(f?1:0),g+1,v-1,new de((u?ee.empty:ee.from(i.copy(ee.empty))).append(f?ee.empty:ee.from(i.copy(ee.empty))),u?0:1,f?0:1),u?0:1)),e(r.scrollIntoView()),!0}function OE(n){return function(e,t){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,p=>p.childCount>0&&p.firstChild.type==n);if(!s)return!1;let a=s.startIndex;if(a==0)return!1;let u=s.parent,f=u.child(a-1);if(f.type!=n)return!1;if(t){let p=f.lastChild&&f.lastChild.type==u.type,h=ee.from(p?n.create():null),g=new de(ee.from(n.create(null,ee.from(u.type.create(null,h)))),p?3:1,0),v=s.start,x=s.end;t(e.tr.step(new Ot(v-(p?3:1),x,v,x,g,1,!0)).scrollIntoView())}return!0}}function dc(n){const{state:e,transaction:t}=n;let{selection:r}=t,{doc:i}=t,{storedMarks:s}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=t.selection,i=t.doc,s=t.storedMarks,t}}}class pc{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:i}=t,{tr:s}=r,a=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([u,f])=>[u,(...h)=>{const g=f(...h)(a);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(s),g}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:i,state:s}=this,{view:a}=i,u=[],f=!!e,p=e||s.tr,h=()=>(!f&&t&&!p.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(p),u.every(v=>v===!0)),g={...Object.fromEntries(Object.entries(r).map(([v,x])=>[v,(...C)=>{const w=this.buildProps(p,t),S=x(...C)(w);return u.push(S),g}])),run:h};return g}createCan(e){const{rawCommands:t,state:r}=this,i=!1,s=e||r.tr,a=this.buildProps(s,i);return{...Object.fromEntries(Object.entries(t).map(([f,p])=>[f,(...h)=>p(...h)({...a,dispatch:void 0})])),chain:()=>this.createChain(s,i)}}buildProps(e,t=!0){const{rawCommands:r,editor:i,state:s}=this,{view:a}=i,u={tr:e,editor:i,view:a,state:dc({state:s,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([f,p])=>[f,(...h)=>p(...h)(u)]))}};return u}}class ME{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,t)),this}off(e,t){const r=this.callbacks[e];return r&&(t?this.callbacks[e]=r.filter(i=>i!==t):delete this.callbacks[e]),this}once(e,t){const r=(...i)=>{this.off(e,r),t.apply(this,i)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function we(n,e,t){return n.config[e]===void 0&&n.parent?we(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?we(n.parent,e,t):null}):n.config[e]}function hc(n){const e=n.filter(i=>i.type==="extension"),t=n.filter(i=>i.type==="node"),r=n.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function uw(n){const e=[],{nodeExtensions:t,markExtensions:r}=hc(n),i=[...t,...r],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(a=>{const u={name:a.name,options:a.options,storage:a.storage,extensions:i},f=we(a,"addGlobalAttributes",u);if(!f)return;f().forEach(h=>{h.types.forEach(g=>{Object.entries(h.attributes).forEach(([v,x])=>{e.push({type:g,name:v,attribute:{...s,...x}})})})})}),i.forEach(a=>{const u={name:a.name,options:a.options,storage:a.storage},f=we(a,"addAttributes",u);if(!f)return;const p=f();Object.entries(p).forEach(([h,g])=>{const v={...s,...g};typeof(v==null?void 0:v.default)=="function"&&(v.default=v.default()),v!=null&&v.isRequired&&(v==null?void 0:v.default)===void 0&&delete v.default,e.push({type:a.name,name:h,attribute:v})})}),e}function Tt(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}function nt(...n){return n.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const u=s?String(s).split(" "):[],f=r[i]?r[i].split(" "):[],p=u.filter(h=>!f.includes(h));r[i]=[...f,...p].join(" ")}else if(i==="style"){const u=s?s.split(";").map(h=>h.trim()).filter(Boolean):[],f=r[i]?r[i].split(";").map(h=>h.trim()).filter(Boolean):[],p=new Map;f.forEach(h=>{const[g,v]=h.split(":").map(x=>x.trim());p.set(g,v)}),u.forEach(h=>{const[g,v]=h.split(":").map(x=>x.trim());p.set(g,v)}),r[i]=Array.from(p.entries()).map(([h,g])=>`${h}: ${g}`).join("; ")}else r[i]=s}),r},{})}function Eu(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,r)=>nt(t,r),{})}function cw(n){return typeof n=="function"}function Fe(n,e=void 0,...t){return cw(n)?e?n.bind(e)(...t):n(...t):n}function TE(n={}){return Object.keys(n).length===0&&n.constructor===Object}function NE(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function mv(n,e){return"style"in n?n:{...n,getAttrs:t=>{const r=n.getAttrs?n.getAttrs(t):n.attrs;if(r===!1)return!1;const i=e.reduce((s,a)=>{const u=a.attribute.parseHTML?a.attribute.parseHTML(t):NE(t.getAttribute(a.name));return u==null?s:{...s,[a.name]:u}},{});return{...r,...i}}}}function gv(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&TE(t)?!1:t!=null))}function RE(n,e){var t;const r=uw(n),{nodeExtensions:i,markExtensions:s}=hc(n),a=(t=i.find(p=>we(p,"topNode")))===null||t===void 0?void 0:t.name,u=Object.fromEntries(i.map(p=>{const h=r.filter(S=>S.type===p.name),g={name:p.name,options:p.options,storage:p.storage,editor:e},v=n.reduce((S,b)=>{const O=we(b,"extendNodeSchema",g);return{...S,...O?O(p):{}}},{}),x=gv({...v,content:Fe(we(p,"content",g)),marks:Fe(we(p,"marks",g)),group:Fe(we(p,"group",g)),inline:Fe(we(p,"inline",g)),atom:Fe(we(p,"atom",g)),selectable:Fe(we(p,"selectable",g)),draggable:Fe(we(p,"draggable",g)),code:Fe(we(p,"code",g)),whitespace:Fe(we(p,"whitespace",g)),linebreakReplacement:Fe(we(p,"linebreakReplacement",g)),defining:Fe(we(p,"defining",g)),isolating:Fe(we(p,"isolating",g)),attrs:Object.fromEntries(h.map(S=>{var b;return[S.name,{default:(b=S==null?void 0:S.attribute)===null||b===void 0?void 0:b.default}]}))}),k=Fe(we(p,"parseHTML",g));k&&(x.parseDOM=k.map(S=>mv(S,h)));const C=we(p,"renderHTML",g);C&&(x.toDOM=S=>C({node:S,HTMLAttributes:Eu(S,h)}));const w=we(p,"renderText",g);return w&&(x.toText=w),[p.name,x]})),f=Object.fromEntries(s.map(p=>{const h=r.filter(w=>w.type===p.name),g={name:p.name,options:p.options,storage:p.storage,editor:e},v=n.reduce((w,S)=>{const b=we(S,"extendMarkSchema",g);return{...w,...b?b(p):{}}},{}),x=gv({...v,inclusive:Fe(we(p,"inclusive",g)),excludes:Fe(we(p,"excludes",g)),group:Fe(we(p,"group",g)),spanning:Fe(we(p,"spanning",g)),code:Fe(we(p,"code",g)),attrs:Object.fromEntries(h.map(w=>{var S;return[w.name,{default:(S=w==null?void 0:w.attribute)===null||S===void 0?void 0:S.default}]}))}),k=Fe(we(p,"parseHTML",g));k&&(x.parseDOM=k.map(w=>mv(w,h)));const C=we(p,"renderHTML",g);return C&&(x.toDOM=w=>C({mark:w,HTMLAttributes:Eu(w,h)})),[p.name,x]}));return new X0({topNode:a,nodes:u,marks:f})}function Nd(n,e){return e.nodes[n]||e.marks[n]||null}function yv(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}function Qp(n,e){const t=ro.fromSchema(e).serializeFragment(n),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(t),i.innerHTML}const DE=(n,e=500)=>{let t="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-e),r,(i,s,a,u)=>{var f,p;const h=((p=(f=i.type.spec).toText)===null||p===void 0?void 0:p.call(f,{node:i,pos:s,parent:a,index:u}))||i.textContent||"%leaf%";t+=i.isAtom&&!i.isText?h:h.slice(0,Math.max(0,r-s))}),t};function Zp(n){return Object.prototype.toString.call(n)==="[object RegExp]"}class mc{constructor(e){this.find=e.find,this.handler=e.handler}}const PE=(n,e)=>{if(Zp(e))return e.exec(n);const t=e(n);if(!t)return null;const r=[t.text];return r.index=t.index,r.input=n,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function Ga(n){var e;const{editor:t,from:r,to:i,text:s,rules:a,plugin:u}=n,{view:f}=t;if(f.composing)return!1;const p=f.state.doc.resolve(r);if(p.parent.type.spec.code||!((e=p.nodeBefore||p.nodeAfter)===null||e===void 0)&&e.marks.find(v=>v.type.spec.code))return!1;let h=!1;const g=DE(p)+s;return a.forEach(v=>{if(h)return;const x=PE(g,v.find);if(!x)return;const k=f.state.tr,C=dc({state:f.state,transaction:k}),w={from:r-(x[0].length-s.length),to:i},{commands:S,chain:b,can:O}=new pc({editor:t,state:C});v.handler({state:C,range:w,match:x,commands:S,chain:b,can:O})===null||!k.steps.length||(k.setMeta(u,{transform:k,from:r,to:i,text:s}),f.dispatch(k),h=!0)}),h}function AE(n){const{editor:e,rules:t}=n,r=new Rt({state:{init(){return null},apply(i,s,a){const u=i.getMeta(r);if(u)return u;const f=i.getMeta("applyInputRules");return!!f&&setTimeout(()=>{let{text:h}=f;typeof h=="string"?h=h:h=Qp(ee.from(h),a.schema);const{from:g}=f,v=g+h.length;Ga({editor:e,from:g,to:v,text:h,rules:t,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,a,u){return Ga({editor:e,from:s,to:a,text:u,rules:t,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&Ga({editor:e,from:s.pos,to:s.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:a}=i.state.selection;return a?Ga({editor:e,from:a.pos,to:a.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function LE(n){return Object.prototype.toString.call(n).slice(8,-1)}function Ja(n){return LE(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function gc(n,e){const t={...n};return Ja(n)&&Ja(e)&&Object.keys(e).forEach(r=>{Ja(e[r])&&Ja(n[r])?t[r]=gc(n[r],e[r]):t[r]=e[r]}),t}class Un{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Fe(we(this,"addOptions",{name:this.name}))),this.storage=Fe(we(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Un(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>gc(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Un(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Fe(we(t,"addOptions",{name:t.name})),t.storage=Fe(we(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const a=i.marks();if(!!!a.find(p=>(p==null?void 0:p.type.name)===t.name))return!1;const f=a.find(p=>(p==null?void 0:p.type.name)===t.name);return f&&r.removeStoredMark(f),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}function IE(n){return typeof n=="number"}class zE{constructor(e){this.find=e.find,this.handler=e.handler}}const _E=(n,e,t)=>{if(Zp(e))return[...n.matchAll(e)];const r=e(n,t);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=n,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function jE(n){const{editor:e,state:t,from:r,to:i,rule:s,pasteEvent:a,dropEvent:u}=n,{commands:f,chain:p,can:h}=new pc({editor:e,state:t}),g=[];return t.doc.nodesBetween(r,i,(x,k)=>{if(!x.isTextblock||x.type.spec.code)return;const C=Math.max(r,k),w=Math.min(i,k+x.content.size),S=x.textBetween(C-k,w-k,void 0,"");_E(S,s.find,a).forEach(O=>{if(O.index===void 0)return;const E=C+O.index+1,R=E+O[0].length,N={from:t.tr.mapping.map(E),to:t.tr.mapping.map(R)},T=s.handler({state:t,range:N,match:O,commands:f,chain:p,can:h,pasteEvent:a,dropEvent:u});g.push(T)})}),g.every(x=>x!==null)}let Ya=null;const BE=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)===null||e===void 0||e.setData("text/html",n),t};function FE(n){const{editor:e,rules:t}=n;let r=null,i=!1,s=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,u;try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}const f=({state:h,from:g,to:v,rule:x,pasteEvt:k})=>{const C=h.tr,w=dc({state:h,transaction:C});if(!(!jE({editor:e,state:w,from:Math.max(g-1,0),to:v.b-1,rule:x,pasteEvent:k,dropEvent:u})||!C.steps.length)){try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,C}};return t.map(h=>new Rt({view(g){const v=k=>{var C;r=!((C=g.dom.parentElement)===null||C===void 0)&&C.contains(k.target)?g.dom.parentElement:null,r&&(Ya=e)},x=()=>{Ya&&(Ya=null)};return window.addEventListener("dragstart",v),window.addEventListener("dragend",x),{destroy(){window.removeEventListener("dragstart",v),window.removeEventListener("dragend",x)}}},props:{handleDOMEvents:{drop:(g,v)=>{if(s=r===g.dom.parentElement,u=v,!s){const x=Ya;x&&setTimeout(()=>{const k=x.state.selection;k&&x.commands.deleteRange({from:k.from,to:k.to})},10)}return!1},paste:(g,v)=>{var x;const k=(x=v.clipboardData)===null||x===void 0?void 0:x.getData("text/html");return a=v,i=!!(k!=null&&k.includes("data-pm-slice")),!1}}},appendTransaction:(g,v,x)=>{const k=g[0],C=k.getMeta("uiEvent")==="paste"&&!i,w=k.getMeta("uiEvent")==="drop"&&!s,S=k.getMeta("applyPasteRules"),b=!!S;if(!C&&!w&&!b)return;if(b){let{text:R}=S;typeof R=="string"?R=R:R=Qp(ee.from(R),x.schema);const{from:N}=S,T=N+R.length,D=BE(R);return f({rule:h,state:x,from:N,to:{b:T},pasteEvt:D})}const O=v.doc.content.findDiffStart(x.doc.content),E=v.doc.content.findDiffEnd(x.doc.content);if(!(!IE(O)||!E||O===E.b))return f({rule:h,state:x,from:O,to:E,pasteEvt:a})}}))}function HE(n){const e=n.filter((t,r)=>n.indexOf(t)!==r);return Array.from(new Set(e))}class Io{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=Io.resolve(e),this.schema=RE(this.extensions,t),this.setupExtensions()}static resolve(e){const t=Io.sort(Io.flatten(e)),r=HE(t.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const r={name:t.name,options:t.options,storage:t.storage},i=we(t,"addExtensions",r);return i?[t,...this.flatten(i())]:t}).flat(10)}static sort(e){return e.sort((r,i)=>{const s=we(r,"priority")||100,a=we(i,"priority")||100;return s>a?-1:s<a?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:Nd(t.name,this.schema)},i=we(t,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,t=Io.sort([...this.extensions].reverse()),r=[],i=[],s=t.map(a=>{const u={name:a.name,options:a.options,storage:a.storage,editor:e,type:Nd(a.name,this.schema)},f=[],p=we(a,"addKeyboardShortcuts",u);let h={};if(a.type==="mark"&&we(a,"exitable",u)&&(h.ArrowRight=()=>Un.handleExit({editor:e,mark:a})),p){const C=Object.fromEntries(Object.entries(p()).map(([w,S])=>[w,()=>S({editor:e})]));h={...h,...C}}const g=sE(h);f.push(g);const v=we(a,"addInputRules",u);yv(a,e.options.enableInputRules)&&v&&r.push(...v());const x=we(a,"addPasteRules",u);yv(a,e.options.enablePasteRules)&&x&&i.push(...x());const k=we(a,"addProseMirrorPlugins",u);if(k){const C=k();f.push(...C)}return f}).flat();return[AE({editor:e,rules:r}),...FE({editor:e,rules:i}),...s]}get attributes(){return uw(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=hc(this.extensions);return Object.fromEntries(t.filter(r=>!!we(r,"addNodeView")).map(r=>{const i=this.attributes.filter(f=>f.type===r.name),s={name:r.name,options:r.options,storage:r.storage,editor:e,type:Tt(r.name,this.schema)},a=we(r,"addNodeView",s);if(!a)return[];const u=(f,p,h,g,v)=>{const x=Eu(f,i);return a()({node:f,view:p,getPos:h,decorations:g,innerDecorations:v,editor:e,extension:r,HTMLAttributes:x})};return[r.name,u]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Nd(e.name,this.schema)};e.type==="mark"&&(!((t=Fe(we(e,"keepOnSplit",r)))!==null&&t!==void 0)||t)&&this.splittableMarks.push(e.name);const i=we(e,"onBeforeCreate",r),s=we(e,"onCreate",r),a=we(e,"onUpdate",r),u=we(e,"onSelectionUpdate",r),f=we(e,"onTransaction",r),p=we(e,"onFocus",r),h=we(e,"onBlur",r),g=we(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),a&&this.editor.on("update",a),u&&this.editor.on("selectionUpdate",u),f&&this.editor.on("transaction",f),p&&this.editor.on("focus",p),h&&this.editor.on("blur",h),g&&this.editor.on("destroy",g)})}}class Nt{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Fe(we(this,"addOptions",{name:this.name}))),this.storage=Fe(we(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Nt(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>gc(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Nt({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Fe(we(t,"addOptions",{name:t.name})),t.storage=Fe(we(t,"addStorage",{name:t.name,options:t.options})),t}}function fw(n,e,t){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:a={}}=t||{};let u="";return n.nodesBetween(r,i,(f,p,h,g)=>{var v;f.isBlock&&p>r&&(u+=s);const x=a==null?void 0:a[f.type.name];if(x)return h&&(u+=x({node:f,pos:p,parent:h,index:g,range:e})),!1;f.isText&&(u+=(v=f==null?void 0:f.text)===null||v===void 0?void 0:v.slice(Math.max(r,p)-p,i-p))}),u}function dw(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const $E=Nt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Rt({key:new un("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:r,selection:i}=e,{ranges:s}=i,a=Math.min(...s.map(h=>h.$from.pos)),u=Math.max(...s.map(h=>h.$to.pos)),f=dw(t);return fw(r,{from:a,to:u},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:f})}}})]}}),VE=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),WE=(n=!1)=>({commands:e})=>e.setContent("",n),UE=()=>({state:n,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:i}=r;return t&&i.forEach(({$from:s,$to:a})=>{n.doc.nodesBetween(s.pos,a.pos,(u,f)=>{if(u.type.isText)return;const{doc:p,mapping:h}=e,g=p.resolve(h.map(f)),v=p.resolve(h.map(f+u.nodeSize)),x=g.blockRange(v);if(!x)return;const k=Yo(x);if(u.type.isTextblock){const{defaultType:C}=g.parent.contentMatchAt(g.index());e.setNodeMarkup(x.start,C)}(k||k===0)&&e.lift(x,k)})}),!0},qE=n=>e=>n(e),KE=()=>({state:n,dispatch:e})=>ow(n,e),GE=(n,e)=>({editor:t,tr:r})=>{const{state:i}=t,s=i.doc.slice(n.from,n.to);r.deleteRange(n.from,n.to);const a=r.mapping.map(e);return r.insert(a,s.content),r.setSelection(new ze(r.doc.resolve(a-1))),!0},JE=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,r=t.$anchor.node();if(r.content.size>0)return!1;const i=n.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const u=i.before(s),f=i.after(s);n.delete(u,f).scrollIntoView()}return!0}return!1},YE=n=>({tr:e,state:t,dispatch:r})=>{const i=Tt(n,t.schema),s=e.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===i){if(r){const f=s.before(a),p=s.after(a);e.delete(f,p).scrollIntoView()}return!0}return!1},XE=n=>({tr:e,dispatch:t})=>{const{from:r,to:i}=n;return t&&e.delete(r,i),!0},QE=()=>({state:n,dispatch:e})=>Kp(n,e),ZE=()=>({commands:n})=>n.keyboardShortcut("Enter"),eO=()=>({state:n,dispatch:e})=>dE(n,e);function Ou(n,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>t.strict?e[i]===n[i]:Zp(e[i])?e[i].test(n[i]):e[i]===n[i]):!0}function pw(n,e,t={}){return n.find(r=>r.type===e&&Ou(Object.fromEntries(Object.keys(t).map(i=>[i,r.attrs[i]])),t))}function vv(n,e,t={}){return!!pw(n,e,t)}function eh(n,e,t){var r;if(!n||!e)return;let i=n.parent.childAfter(n.parentOffset);if((!i.node||!i.node.marks.some(h=>h.type===e))&&(i=n.parent.childBefore(n.parentOffset)),!i.node||!i.node.marks.some(h=>h.type===e)||(t=t||((r=i.node.marks[0])===null||r===void 0?void 0:r.attrs),!pw([...i.node.marks],e,t)))return;let a=i.index,u=n.start()+i.offset,f=a+1,p=u+i.node.nodeSize;for(;a>0&&vv([...n.parent.child(a-1).marks],e,t);)a-=1,u-=n.parent.child(a).nodeSize;for(;f<n.parent.childCount&&vv([...n.parent.child(f).marks],e,t);)p+=n.parent.child(f).nodeSize,f+=1;return{from:u,to:p}}function gi(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}const tO=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const s=gi(n,r.schema),{doc:a,selection:u}=t,{$from:f,from:p,to:h}=u;if(i){const g=eh(f,s,e);if(g&&g.from<=p&&g.to>=h){const v=ze.create(a,g.from,g.to);t.setSelection(v)}}return!0},nO=n=>e=>{const t=typeof n=="function"?n(e):n;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function th(n){return n instanceof ze}function Mr(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function hw(n,e=null){if(!e)return null;const t=je.atStart(n),r=je.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return r;const i=t.from,s=r.to;return e==="all"?ze.create(n,Mr(0,i,s),Mr(n.content.size,i,s)):ze.create(n,Mr(e,i,s),Mr(e,i,s))}function mw(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function yc(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const rO=(n=null,e={})=>({editor:t,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const a=()=>{(yc()||mw())&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(r.hasFocus()&&n===null||n===!1)return!0;if(s&&n===null&&!th(t.state.selection))return a(),!0;const u=hw(i.doc,n)||t.state.selection,f=t.state.selection.eq(u);return s&&(f||i.setSelection(u),f&&i.storedMarks&&i.setStoredMarks(i.storedMarks),a()),!0},iO=(n,e)=>t=>n.every((r,i)=>e(r,{...t,index:i})),oO=(n,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),gw=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const r=e[t];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?n.removeChild(r):r.nodeType===1&&gw(r)}return n};function Xa(n){const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return gw(t)}function wl(n,e,t){if(n instanceof ai||n instanceof ee)return n;t={slice:!0,parseOptions:{},...t};const r=typeof n=="object"&&n!==null,i=typeof n=="string";if(r)try{if(Array.isArray(n)&&n.length>0)return ee.fromArray(n.map(u=>e.nodeFromJSON(u)));const a=e.nodeFromJSON(n);return t.errorOnInvalidContent&&a.check(),a}catch(s){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",s),wl("",e,t)}if(i){if(t.errorOnInvalidContent){let a=!1,u="";const f=new X0({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:p=>(a=!0,u=typeof p=="string"?p:p.outerHTML,null)}]}})});if(t.slice?ui.fromSchema(f).parseSlice(Xa(n),t.parseOptions):ui.fromSchema(f).parse(Xa(n),t.parseOptions),t.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${u}`)})}const s=ui.fromSchema(e);return t.slice?s.parseSlice(Xa(n),t.parseOptions).content:s.parse(Xa(n),t.parseOptions)}return wl("",e,t)}function sO(n,e,t){const r=n.steps.length-1;if(r<e)return;const i=n.steps[r];if(!(i instanceof Et||i instanceof Ot))return;const s=n.mapping.maps[r];let a=0;s.forEach((u,f,p,h)=>{a===0&&(a=h)}),n.setSelection(je.near(n.doc.resolve(a),t))}const lO=n=>!("type"in n),aO=(n,e,t)=>({tr:r,dispatch:i,editor:s})=>{var a;if(i){t={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let u;const f=w=>{s.emit("contentError",{editor:s,error:w,disableCollaboration:()=>{s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},p={preserveWhitespace:"full",...t.parseOptions};if(!t.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{wl(e,s.schema,{parseOptions:p,errorOnInvalidContent:!0})}catch(w){f(w)}try{u=wl(e,s.schema,{parseOptions:p,errorOnInvalidContent:(a=t.errorOnInvalidContent)!==null&&a!==void 0?a:s.options.enableContentCheck})}catch(w){return f(w),!1}let{from:h,to:g}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},v=!0,x=!0;if((lO(u)?u:[u]).forEach(w=>{w.check(),v=v?w.isText&&w.marks.length===0:!1,x=x?w.isBlock:!1}),h===g&&x){const{parent:w}=r.doc.resolve(h);w.isTextblock&&!w.type.spec.code&&!w.childCount&&(h-=1,g+=1)}let C;if(v){if(Array.isArray(e))C=e.map(w=>w.text||"").join("");else if(e instanceof ee){let w="";e.forEach(S=>{S.text&&(w+=S.text)}),C=w}else typeof e=="object"&&e&&e.text?C=e.text:C=e;r.insertText(C,h,g)}else C=u,r.replaceWith(h,g,C);t.updateSelection&&sO(r,r.steps.length-1,-1),t.applyInputRules&&r.setMeta("applyInputRules",{from:h,text:C}),t.applyPasteRules&&r.setMeta("applyPasteRules",{from:h,text:C})}return!0},uO=()=>({state:n,dispatch:e})=>uE(n,e),cO=()=>({state:n,dispatch:e})=>cE(n,e),fO=()=>({state:n,dispatch:e})=>Q1(n,e),dO=()=>({state:n,dispatch:e})=>nw(n,e),pO=()=>({state:n,dispatch:e,tr:t})=>{try{const r=sc(n.doc,n.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},hO=()=>({state:n,dispatch:e,tr:t})=>{try{const r=sc(n.doc,n.selection.$from.pos,1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},mO=()=>({state:n,dispatch:e})=>lE(n,e),gO=()=>({state:n,dispatch:e})=>aE(n,e);function yw(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function yO(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,i,s,a;for(let u=0;u<e.length-1;u+=1){const f=e[u];if(/^(cmd|meta|m)$/i.test(f))a=!0;else if(/^a(lt)?$/i.test(f))r=!0;else if(/^(c|ctrl|control)$/i.test(f))i=!0;else if(/^s(hift)?$/i.test(f))s=!0;else if(/^mod$/i.test(f))yc()||yw()?a=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${f}`)}return r&&(t=`Alt-${t}`),i&&(t=`Ctrl-${t}`),a&&(t=`Meta-${t}`),s&&(t=`Shift-${t}`),t}const vO=n=>({editor:e,view:t,tr:r,dispatch:i})=>{const s=yO(n).split(/-(?!$)/),a=s.find(p=>!["Alt","Ctrl","Meta","Shift"].includes(p)),u=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),f=e.captureTransaction(()=>{t.someProp("handleKeyDown",p=>p(t,u))});return f==null||f.steps.forEach(p=>{const h=p.map(r.mapping);h&&i&&r.maybeStep(h)}),!0};function xl(n,e,t={}){const{from:r,to:i,empty:s}=n.selection,a=e?Tt(e,n.schema):null,u=[];n.doc.nodesBetween(r,i,(g,v)=>{if(g.isText)return;const x=Math.max(r,v),k=Math.min(i,v+g.nodeSize);u.push({node:g,from:x,to:k})});const f=i-r,p=u.filter(g=>a?a.name===g.node.type.name:!0).filter(g=>Ou(g.node.attrs,t,{strict:!1}));return s?!!p.length:p.reduce((g,v)=>g+v.to-v.from,0)>=f}const wO=(n,e={})=>({state:t,dispatch:r})=>{const i=Tt(n,t.schema);return xl(t,i,e)?fE(t,r):!1},xO=()=>({state:n,dispatch:e})=>sw(n,e),SO=n=>({state:e,dispatch:t})=>{const r=Tt(n,e.schema);return CE(r)(e,t)},kO=()=>({state:n,dispatch:e})=>iw(n,e);function vc(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function wv(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((r,i)=>(t.includes(i)||(r[i]=n[i]),r),{})}const CO=(n,e)=>({tr:t,state:r,dispatch:i})=>{let s=null,a=null;const u=vc(typeof n=="string"?n:n.name,r.schema);return u?(u==="node"&&(s=Tt(n,r.schema)),u==="mark"&&(a=gi(n,r.schema)),i&&t.selection.ranges.forEach(f=>{r.doc.nodesBetween(f.$from.pos,f.$to.pos,(p,h)=>{s&&s===p.type&&t.setNodeMarkup(h,void 0,wv(p.attrs,e)),a&&p.marks.length&&p.marks.forEach(g=>{a===g.type&&t.addMark(h,h+p.nodeSize,a.create(wv(g.attrs,e)))})})}),!0):!1},bO=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),EO=()=>({tr:n,dispatch:e})=>{if(e){const t=new gn(n.doc);n.setSelection(t)}return!0},OO=()=>({state:n,dispatch:e})=>ew(n,e),MO=()=>({state:n,dispatch:e})=>rw(n,e),TO=()=>({state:n,dispatch:e})=>mE(n,e),NO=()=>({state:n,dispatch:e})=>vE(n,e),RO=()=>({state:n,dispatch:e})=>yE(n,e);function mp(n,e,t={},r={}){return wl(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:r.errorOnInvalidContent})}const DO=(n,e=!1,t={},r={})=>({editor:i,tr:s,dispatch:a,commands:u})=>{var f,p;const{doc:h}=s;if(t.preserveWhitespace!=="full"){const g=mp(n,i.schema,t,{errorOnInvalidContent:(f=r.errorOnInvalidContent)!==null&&f!==void 0?f:i.options.enableContentCheck});return a&&s.replaceWith(0,h.content.size,g).setMeta("preventUpdate",!e),!0}return a&&s.setMeta("preventUpdate",!e),u.insertContentAt({from:0,to:h.content.size},n,{parseOptions:t,errorOnInvalidContent:(p=r.errorOnInvalidContent)!==null&&p!==void 0?p:i.options.enableContentCheck})};function vw(n,e){const t=gi(e,n.schema),{from:r,to:i,empty:s}=n.selection,a=[];s?(n.storedMarks&&a.push(...n.storedMarks),a.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,i,f=>{a.push(...f.marks)});const u=a.find(f=>f.type.name===t.name);return u?{...u.attrs}:{}}function PO(n,e){const t=new p1(n);return e.forEach(r=>{r.steps.forEach(i=>{t.step(i)})}),t}function AO(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function LO(n,e,t){const r=[];return n.nodesBetween(e.from,e.to,(i,s)=>{t(i)&&r.push({node:i,pos:s})}),r}function IO(n,e){for(let t=n.depth;t>0;t-=1){const r=n.node(t);if(e(r))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:r}}}function nh(n){return e=>IO(e.$from,n)}function zO(n,e){const t={from:0,to:n.content.size};return fw(n,t,e)}function _O(n,e){const t=Tt(e,n.schema),{from:r,to:i}=n.selection,s=[];n.doc.nodesBetween(r,i,u=>{s.push(u)});const a=s.reverse().find(u=>u.type.name===t.name);return a?{...a.attrs}:{}}function ww(n,e){const t=vc(typeof e=="string"?e:e.name,n.schema);return t==="node"?_O(n,e):t==="mark"?vw(n,e):{}}function jO(n,e=JSON.stringify){const t={};return n.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(t,i)?!1:t[i]=!0})}function BO(n){const e=jO(n);return e.length===1?e:e.filter((t,r)=>!e.filter((s,a)=>a!==r).some(s=>t.oldRange.from>=s.oldRange.from&&t.oldRange.to<=s.oldRange.to&&t.newRange.from>=s.newRange.from&&t.newRange.to<=s.newRange.to))}function FO(n){const{mapping:e,steps:t}=n,r=[];return e.maps.forEach((i,s)=>{const a=[];if(i.ranges.length)i.forEach((u,f)=>{a.push({from:u,to:f})});else{const{from:u,to:f}=t[s];if(u===void 0||f===void 0)return;a.push({from:u,to:f})}a.forEach(({from:u,to:f})=>{const p=e.slice(s).map(u,-1),h=e.slice(s).map(f),g=e.invert().map(p,-1),v=e.invert().map(h);r.push({oldRange:{from:g,to:v},newRange:{from:p,to:h}})})}),BO(r)}function rh(n,e,t){const r=[];return n===e?t.resolve(n).marks().forEach(i=>{const s=t.resolve(n),a=eh(s,i.type);a&&r.push({mark:i,...a})}):t.nodesBetween(n,e,(i,s)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(a=>({from:s,to:s+i.nodeSize,mark:a})))}),r}function cu(n,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const i=n.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}function gp(n,e,t={}){const{empty:r,ranges:i}=n.selection,s=e?gi(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(g=>s?s.name===g.type.name:!0).find(g=>Ou(g.attrs,t,{strict:!1}));let a=0;const u=[];if(i.forEach(({$from:g,$to:v})=>{const x=g.pos,k=v.pos;n.doc.nodesBetween(x,k,(C,w)=>{if(!C.isText&&!C.marks.length)return;const S=Math.max(x,w),b=Math.min(k,w+C.nodeSize),O=b-S;a+=O,u.push(...C.marks.map(E=>({mark:E,from:S,to:b})))})}),a===0)return!1;const f=u.filter(g=>s?s.name===g.mark.type.name:!0).filter(g=>Ou(g.mark.attrs,t,{strict:!1})).reduce((g,v)=>g+v.to-v.from,0),p=u.filter(g=>s?g.mark.type!==s&&g.mark.type.excludes(s):!0).reduce((g,v)=>g+v.to-v.from,0);return(f>0?f+p:f)>=a}function HO(n,e,t={}){if(!e)return xl(n,null,t)||gp(n,null,t);const r=vc(e,n.schema);return r==="node"?xl(n,e,t):r==="mark"?gp(n,e,t):!1}function xv(n,e){const{nodeExtensions:t}=hc(e),r=t.find(a=>a.name===n);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=Fe(we(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function ih(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var r;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((r=n.text)!==null&&r!==void 0?r:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let i=!0;return n.content.forEach(s=>{i!==!1&&(ih(s,{ignoreWhitespace:t,checkChildren:e})||(i=!1))}),i}return!1}function xw(n){return n instanceof Oe}function $O(n,e,t){const i=n.state.doc.content.size,s=Mr(e,0,i),a=Mr(t,0,i),u=n.coordsAtPos(s),f=n.coordsAtPos(a,-1),p=Math.min(u.top,f.top),h=Math.max(u.bottom,f.bottom),g=Math.min(u.left,f.left),v=Math.max(u.right,f.right),x=v-g,k=h-p,S={top:p,bottom:h,left:g,right:v,width:x,height:k,x:g,y:p};return{...S,toJSON:()=>S}}function VO(n,e,t){var r;const{selection:i}=e;let s=null;if(th(i)&&(s=i.$cursor),s){const u=(r=n.storedMarks)!==null&&r!==void 0?r:s.marks();return!!t.isInSet(u)||!u.some(f=>f.type.excludes(t))}const{ranges:a}=i;return a.some(({$from:u,$to:f})=>{let p=u.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(u.pos,f.pos,(h,g,v)=>{if(p)return!1;if(h.isInline){const x=!v||v.type.allowsMarkType(t),k=!!t.isInSet(h.marks)||!h.marks.some(C=>C.type.excludes(t));p=x&&k}return!p}),p})}const WO=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const{selection:s}=t,{empty:a,ranges:u}=s,f=gi(n,r.schema);if(i)if(a){const p=vw(r,f);t.addStoredMark(f.create({...p,...e}))}else u.forEach(p=>{const h=p.$from.pos,g=p.$to.pos;r.doc.nodesBetween(h,g,(v,x)=>{const k=Math.max(x,h),C=Math.min(x+v.nodeSize,g);v.marks.find(S=>S.type===f)?v.marks.forEach(S=>{f===S.type&&t.addMark(k,C,f.create({...S.attrs,...e}))}):t.addMark(k,C,f.create(e))})});return VO(r,t,f)},UO=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),qO=(n,e={})=>({state:t,dispatch:r,chain:i})=>{const s=Tt(n,t.schema);let a;return t.selection.$anchor.sameParent(t.selection.$head)&&(a=t.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:u})=>hv(s,{...a,...e})(t)?!0:u.clearNodes()).command(({state:u})=>hv(s,{...a,...e})(u,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},KO=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,i=Mr(n,0,r.content.size),s=Oe.create(r,i);e.setSelection(s)}return!0},GO=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:i,to:s}=typeof n=="number"?{from:n,to:n}:n,a=ze.atStart(r).from,u=ze.atEnd(r).to,f=Mr(i,a,u),p=Mr(s,a,u),h=ze.create(r,f,p);e.setSelection(h)}return!0},JO=n=>({state:e,dispatch:t})=>{const r=Tt(n,e.schema);return OE(r)(e,t)};function Sv(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const r=t.filter(i=>e==null?void 0:e.includes(i.type.name));n.tr.ensureMarks(r)}}const YO=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:r,editor:i})=>{const{selection:s,doc:a}=e,{$from:u,$to:f}=s,p=i.extensionManager.attributes,h=cu(p,u.node().type.name,u.node().attrs);if(s instanceof Oe&&s.node.isBlock)return!u.parentOffset||!Tr(a,u.pos)?!1:(r&&(n&&Sv(t,i.extensionManager.splittableMarks),e.split(u.pos).scrollIntoView()),!0);if(!u.parent.isBlock)return!1;const g=f.parentOffset===f.parent.content.size,v=u.depth===0?void 0:AO(u.node(-1).contentMatchAt(u.indexAfter(-1)));let x=g&&v?[{type:v,attrs:h}]:void 0,k=Tr(e.doc,e.mapping.map(u.pos),1,x);if(!x&&!k&&Tr(e.doc,e.mapping.map(u.pos),1,v?[{type:v}]:void 0)&&(k=!0,x=v?[{type:v,attrs:h}]:void 0),r){if(k&&(s instanceof ze&&e.deleteSelection(),e.split(e.mapping.map(u.pos),1,x),v&&!g&&!u.parentOffset&&u.parent.type!==v)){const C=e.mapping.map(u.before()),w=e.doc.resolve(C);u.node(-1).canReplaceWith(w.index(),w.index()+1,v)&&e.setNodeMarkup(e.mapping.map(u.before()),v)}n&&Sv(t,i.extensionManager.splittableMarks),e.scrollIntoView()}return k},XO=(n,e={})=>({tr:t,state:r,dispatch:i,editor:s})=>{var a;const u=Tt(n,r.schema),{$from:f,$to:p}=r.selection,h=r.selection.node;if(h&&h.isBlock||f.depth<2||!f.sameParent(p))return!1;const g=f.node(-1);if(g.type!==u)return!1;const v=s.extensionManager.attributes;if(f.parent.content.size===0&&f.node(-1).childCount===f.indexAfter(-1)){if(f.depth===2||f.node(-3).type!==u||f.index(-2)!==f.node(-2).childCount-1)return!1;if(i){let S=ee.empty;const b=f.index(-1)?1:f.index(-2)?2:3;for(let D=f.depth-b;D>=f.depth-3;D-=1)S=ee.from(f.node(D).copy(S));const O=f.indexAfter(-1)<f.node(-2).childCount?1:f.indexAfter(-2)<f.node(-3).childCount?2:3,E={...cu(v,f.node().type.name,f.node().attrs),...e},R=((a=u.contentMatch.defaultType)===null||a===void 0?void 0:a.createAndFill(E))||void 0;S=S.append(ee.from(u.createAndFill(null,R)||void 0));const N=f.before(f.depth-(b-1));t.replace(N,f.after(-O),new de(S,4-b,0));let T=-1;t.doc.nodesBetween(N,t.doc.content.size,(D,B)=>{if(T>-1)return!1;D.isTextblock&&D.content.size===0&&(T=B+1)}),T>-1&&t.setSelection(ze.near(t.doc.resolve(T))),t.scrollIntoView()}return!0}const x=p.pos===f.end()?g.contentMatchAt(0).defaultType:null,k={...cu(v,g.type.name,g.attrs),...e},C={...cu(v,f.node().type.name,f.node().attrs),...e};t.delete(f.pos,p.pos);const w=x?[{type:u,attrs:k},{type:x,attrs:C}]:[{type:u,attrs:k}];if(!Tr(t.doc,f.pos,2))return!1;if(i){const{selection:S,storedMarks:b}=r,{splittableMarks:O}=s.extensionManager,E=b||S.$to.parentOffset&&S.$from.marks();if(t.split(f.pos,2,w).scrollIntoView(),!E||!i)return!0;const R=E.filter(N=>O.includes(N.type.name));t.ensureMarks(R)}return!0},Rd=(n,e)=>{const t=nh(a=>a.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===(i==null?void 0:i.type)&&hi(n.doc,t.pos)&&n.join(t.pos),!0},Dd=(n,e)=>{const t=nh(a=>a.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===(i==null?void 0:i.type)&&hi(n.doc,r)&&n.join(r),!0},QO=(n,e,t,r={})=>({editor:i,tr:s,state:a,dispatch:u,chain:f,commands:p,can:h})=>{const{extensions:g,splittableMarks:v}=i.extensionManager,x=Tt(n,a.schema),k=Tt(e,a.schema),{selection:C,storedMarks:w}=a,{$from:S,$to:b}=C,O=S.blockRange(b),E=w||C.$to.parentOffset&&C.$from.marks();if(!O)return!1;const R=nh(N=>xv(N.type.name,g))(C);if(O.depth>=1&&R&&O.depth-R.depth<=1){if(R.node.type===x)return p.liftListItem(k);if(xv(R.node.type.name,g)&&x.validContent(R.node.content)&&u)return f().command(()=>(s.setNodeMarkup(R.pos,x),!0)).command(()=>Rd(s,x)).command(()=>Dd(s,x)).run()}return!t||!E||!u?f().command(()=>h().wrapInList(x,r)?!0:p.clearNodes()).wrapInList(x,r).command(()=>Rd(s,x)).command(()=>Dd(s,x)).run():f().command(()=>{const N=h().wrapInList(x,r),T=E.filter(D=>v.includes(D.type.name));return s.ensureMarks(T),N?!0:p.clearNodes()}).wrapInList(x,r).command(()=>Rd(s,x)).command(()=>Dd(s,x)).run()},ZO=(n,e={},t={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=t,a=gi(n,r.schema);return gp(r,a,e)?i.unsetMark(a,{extendEmptyMarkRange:s}):i.setMark(a,e)},eM=(n,e,t={})=>({state:r,commands:i})=>{const s=Tt(n,r.schema),a=Tt(e,r.schema),u=xl(r,s,t);let f;return r.selection.$anchor.sameParent(r.selection.$head)&&(f=r.selection.$anchor.parent.attrs),u?i.setNode(a,f):i.setNode(s,{...f,...t})},tM=(n,e={})=>({state:t,commands:r})=>{const i=Tt(n,t.schema);return xl(t,i,e)?r.lift(i):r.wrapIn(i,e)},nM=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let r=0;r<t.length;r+=1){const i=t[r];let s;if(i.spec.isInputRules&&(s=i.getState(n))){if(e){const a=n.tr,u=s.transform;for(let f=u.steps.length-1;f>=0;f-=1)a.step(u.steps[f].invert(u.docs[f]));if(s.text){const f=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,n.schema.text(s.text,f))}else a.delete(s.from,s.to)}return!0}}return!1},rM=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:r,ranges:i}=t;return r||e&&i.forEach(s=>{n.removeMark(s.$from.pos,s.$to.pos)}),!0},iM=(n,e={})=>({tr:t,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:a=!1}=e,{selection:u}=t,f=gi(n,r.schema),{$from:p,empty:h,ranges:g}=u;if(!i)return!0;if(h&&a){let{from:v,to:x}=u;const k=(s=p.marks().find(w=>w.type===f))===null||s===void 0?void 0:s.attrs,C=eh(p,f,k);C&&(v=C.from,x=C.to),t.removeMark(v,x,f)}else g.forEach(v=>{t.removeMark(v.$from.pos,v.$to.pos,f)});return t.removeStoredMark(f),!0},oM=(n,e={})=>({tr:t,state:r,dispatch:i})=>{let s=null,a=null;const u=vc(typeof n=="string"?n:n.name,r.schema);return u?(u==="node"&&(s=Tt(n,r.schema)),u==="mark"&&(a=gi(n,r.schema)),i&&t.selection.ranges.forEach(f=>{const p=f.$from.pos,h=f.$to.pos;let g,v,x,k;t.selection.empty?r.doc.nodesBetween(p,h,(C,w)=>{s&&s===C.type&&(x=Math.max(w,p),k=Math.min(w+C.nodeSize,h),g=w,v=C)}):r.doc.nodesBetween(p,h,(C,w)=>{w<p&&s&&s===C.type&&(x=Math.max(w,p),k=Math.min(w+C.nodeSize,h),g=w,v=C),w>=p&&w<=h&&(s&&s===C.type&&t.setNodeMarkup(w,void 0,{...C.attrs,...e}),a&&C.marks.length&&C.marks.forEach(S=>{if(a===S.type){const b=Math.max(w,p),O=Math.min(w+C.nodeSize,h);t.addMark(b,O,a.create({...S.attrs,...e}))}}))}),v&&(g!==void 0&&t.setNodeMarkup(g,void 0,{...v.attrs,...e}),a&&v.marks.length&&v.marks.forEach(C=>{a===C.type&&t.addMark(x,k,a.create({...C.attrs,...e}))}))}),!0):!1},sM=(n,e={})=>({state:t,dispatch:r})=>{const i=Tt(n,t.schema);return wE(i,e)(t,r)},lM=(n,e={})=>({state:t,dispatch:r})=>{const i=Tt(n,t.schema);return xE(i,e)(t,r)};var aM=Object.freeze({__proto__:null,blur:VE,clearContent:WE,clearNodes:UE,command:qE,createParagraphNear:KE,cut:GE,deleteCurrentNode:JE,deleteNode:YE,deleteRange:XE,deleteSelection:QE,enter:ZE,exitCode:eO,extendMarkRange:tO,first:nO,focus:rO,forEach:iO,insertContent:oO,insertContentAt:aO,joinBackward:fO,joinDown:cO,joinForward:dO,joinItemBackward:pO,joinItemForward:hO,joinTextblockBackward:mO,joinTextblockForward:gO,joinUp:uO,keyboardShortcut:vO,lift:wO,liftEmptyBlock:xO,liftListItem:SO,newlineInCode:kO,resetAttributes:CO,scrollIntoView:bO,selectAll:EO,selectNodeBackward:OO,selectNodeForward:MO,selectParentNode:TO,selectTextblockEnd:NO,selectTextblockStart:RO,setContent:DO,setMark:WO,setMeta:UO,setNode:qO,setNodeSelection:KO,setTextSelection:GO,sinkListItem:JO,splitBlock:YO,splitListItem:XO,toggleList:QO,toggleMark:ZO,toggleNode:eM,toggleWrap:tM,undoInputRule:nM,unsetAllMarks:rM,unsetMark:iM,updateAttributes:oM,wrapIn:sM,wrapInList:lM});const uM=Nt.create({name:"commands",addCommands(){return{...aM}}}),cM=Nt.create({name:"drop",addProseMirrorPlugins(){return[new Rt({key:new un("tiptapDrop"),props:{handleDrop:(n,e,t,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:r})}}})]}}),fM=Nt.create({name:"editable",addProseMirrorPlugins(){return[new Rt({key:new un("editable"),props:{editable:()=>this.editor.options.editable}})]}}),dM=new un("focusEvents"),pM=Nt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new Rt({key:dM,props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),hM=Nt.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:u})=>{const{selection:f,doc:p}=u,{empty:h,$anchor:g}=f,{pos:v,parent:x}=g,k=g.parent.isTextblock&&v>0?u.doc.resolve(v-1):g,C=k.parent.type.spec.isolating,w=g.pos-g.parentOffset,S=C&&k.parent.childCount===1?w===g.pos:je.atStart(p).from===v;return!h||!x.type.isTextblock||x.textContent.length||!S||S&&g.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return yc()||yw()?s:i},addProseMirrorPlugins(){return[new Rt({key:new un("clearDocument"),appendTransaction:(n,e,t)=>{if(n.some(C=>C.getMeta("composition")))return;const r=n.some(C=>C.docChanged)&&!e.doc.eq(t.doc),i=n.some(C=>C.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:a,to:u}=e.selection,f=je.atStart(e.doc).from,p=je.atEnd(e.doc).to;if(s||!(a===f&&u===p)||!ih(t.doc))return;const v=t.tr,x=dc({state:t,transaction:v}),{commands:k}=new pc({editor:this.editor,state:x});if(k.clearNodes(),!!v.steps.length)return v}})]}}),mM=Nt.create({name:"paste",addProseMirrorPlugins(){return[new Rt({key:new un("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),gM=Nt.create({name:"tabindex",addProseMirrorPlugins(){return[new Rt({key:new un("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Hi{get name(){return this.node.type.name}constructor(e,t,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=t,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:t,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new Hi(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Hi(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Hi(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,r)=>{const i=t.isBlock&&!t.isTextblock,s=t.isAtom&&!t.isText,a=this.pos+r+(s?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const u=this.resolvedPos.doc.resolve(a);if(!i&&u.depth<=this.depth)return;const f=new Hi(u,this.editor,i,i?t:null);i&&(f.actualDepth=this.depth+1),e.push(new Hi(u,this.editor,i,i?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(t).length>0){const s=i.node.attrs,a=Object.keys(t);for(let u=0;u<a.length;u+=1){const f=a[u];if(s[f]!==t[f])break}}else r=i;i=i.parent}return r}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(t);return this.children.forEach(a=>{r&&i.length>0||(a.node.type.name===e&&s.every(f=>t[f]===a.node.attrs[f])&&i.push(a),!(r&&i.length>0)&&(i=i.concat(a.querySelectorAll(e,t,r))))}),i}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}const yM=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function vM(n,e,t){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(i),i}class wM extends ME{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:r,moved:i})=>this.options.onDrop(t,r,i)),this.on("paste",({event:t,slice:r})=>this.options.onPaste(t,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=vM(yM,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const r=cw(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let r=t;if([].concat(e).forEach(s=>{const a=typeof s=="string"?`${s}$`:s.key;r=r.filter(u=>!u.key.startsWith(a))}),t.length===r.length)return;const i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}createExtensionManager(){var e,t;const i=[...this.options.enableCoreExtensions?[fM,$E.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),uM,pM,hM,gM,cM,mM].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new Io(i,this)}createCommandManager(){this.commandManager=new pc({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=mp(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(a){if(!(a instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(a.message))throw a;this.emit("contentError",{editor:this,error:a,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(u=>u.name!=="collaboration"),this.createExtensionManager()}}),t=mp(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=hw(t,this.options.autofocus);this.view=new J1(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:Lo.create({doc:t,selection:r||void 0})});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.createNodeViews(),this.prependClass();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(a=>{var u;return(u=this.capturedTransaction)===null||u===void 0?void 0:u.step(a)});return}const t=this.state.apply(e),r=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),s=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return ww(this.state,e)}isActive(e,t){const r=typeof e=="string"?e:null,i=typeof e=="string"?t:e;return HO(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Qp(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:r={}}=e||{};return zO(this.state.doc,{blockSeparator:t,textSerializers:{...dw(this.schema),...r}})}get isEmpty(){return ih(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,t))||null}$nodes(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new Hi(t,this)}get $doc(){return this.$pos(0)}}function $o(n){return new mc({find:n.find,handler:({state:e,range:t,match:r})=>{const i=Fe(n.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,a=r[r.length-1],u=r[0];if(a){const f=u.search(/\S/),p=t.from+u.indexOf(a),h=p+a.length;if(rh(t.from,t.to,e.doc).filter(x=>x.mark.type.excluded.find(C=>C===n.type&&C!==x.mark.type)).filter(x=>x.to>p).length)return null;h<t.to&&s.delete(h,t.to),p>t.from&&s.delete(t.from+f,p);const v=t.from+f+a.length;s.addMark(t.from+f,v,n.type.create(i||{})),s.removeStoredMark(n.type)}}})}function Sw(n){return new mc({find:n.find,handler:({state:e,range:t,match:r})=>{const i=Fe(n.getAttributes,void 0,r)||{},{tr:s}=e,a=t.from;let u=t.to;const f=n.type.create(i);if(r[1]){const p=r[0].lastIndexOf(r[1]);let h=a+p;h>u?h=u:u=h+r[1].length;const g=r[0][r[0].length-1];s.insertText(g,a+r[0].length-1),s.replaceWith(h,u,f)}else if(r[0]){const p=n.type.isInline?a:a-1;s.insert(p,n.type.create(i)).delete(s.mapping.map(a),s.mapping.map(u))}s.scrollIntoView()}})}function yp(n){return new mc({find:n.find,handler:({state:e,range:t,match:r})=>{const i=e.doc.resolve(t.from),s=Fe(n.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,s)}})}function Sl(n){return new mc({find:n.find,handler:({state:e,range:t,match:r,chain:i})=>{const s=Fe(n.getAttributes,void 0,r)||{},a=e.tr.delete(t.from,t.to),f=a.doc.resolve(t.from).blockRange(),p=f&&zp(f,n.type,s);if(!p)return null;if(a.wrap(f,p),n.keepMarks&&n.editor){const{selection:g,storedMarks:v}=e,{splittableMarks:x}=n.editor.extensionManager,k=v||g.$to.parentOffset&&g.$from.marks();if(k){const C=k.filter(w=>x.includes(w.type.name));a.ensureMarks(C)}}if(n.keepAttributes){const g=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(g,s).run()}const h=a.doc.resolve(t.from-1).nodeBefore;h&&h.type===n.type&&hi(a.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(r,h))&&a.join(t.from-1)}})}class xt{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Fe(we(this,"addOptions",{name:this.name}))),this.storage=Fe(we(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new xt(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>gc(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new xt(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Fe(we(t,"addOptions",{name:t.name})),t.storage=Fe(we(t,"addStorage",{name:t.name,options:t.options})),t}}class xM{constructor(e,t,r){this.isDragging=!1,this.component=e,this.editor=t.editor,this.options={stopEvent:null,ignoreMutation:null,...r},this.extension=t.extension,this.node=t.node,this.decorations=t.decorations,this.innerDecorations=t.innerDecorations,this.view=t.view,this.HTMLAttributes=t.HTMLAttributes,this.getPos=t.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(e){var t,r,i,s,a,u,f;const{view:p}=this.editor,h=e.target,g=h.nodeType===3?(t=h.parentElement)===null||t===void 0?void 0:t.closest("[data-drag-handle]"):h.closest("[data-drag-handle]");if(!this.dom||!((r=this.contentDOM)===null||r===void 0)&&r.contains(h)||!g)return;let v=0,x=0;if(this.dom!==g){const b=this.dom.getBoundingClientRect(),O=g.getBoundingClientRect(),E=(i=e.offsetX)!==null&&i!==void 0?i:(s=e.nativeEvent)===null||s===void 0?void 0:s.offsetX,R=(a=e.offsetY)!==null&&a!==void 0?a:(u=e.nativeEvent)===null||u===void 0?void 0:u.offsetY;v=O.x-b.x+E,x=O.y-b.y+R}const k=this.dom.cloneNode(!0);(f=e.dataTransfer)===null||f===void 0||f.setDragImage(k,v,x);const C=this.getPos();if(typeof C!="number")return;const w=Oe.create(p.state.doc,C),S=p.state.tr.setSelection(w);p.dispatch(S)}stopEvent(e){var t;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:e});const r=e.target;if(!(this.dom.contains(r)&&!(!((t=this.contentDOM)===null||t===void 0)&&t.contains(r))))return!1;const s=e.type.startsWith("drag"),a=e.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(r.tagName)||r.isContentEditable)&&!a&&!s)return!0;const{isEditable:f}=this.editor,{isDragging:p}=this,h=!!this.node.type.spec.draggable,g=Oe.isSelectable(this.node),v=e.type==="copy",x=e.type==="paste",k=e.type==="cut",C=e.type==="mousedown";if(!h&&g&&s&&e.target===this.dom&&e.preventDefault(),h&&s&&!p&&e.target===this.dom)return e.preventDefault(),!1;if(h&&f&&!p&&C){const w=r.closest("[data-drag-handle]");w&&(this.dom===w||this.dom.contains(w))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(p||a||v||x||k||C&&g)}ignoreMutation(e){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:e}):this.node.isLeaf||this.node.isAtom?!0:e.type==="selection"||this.dom.contains(e.target)&&e.type==="childList"&&(yc()||mw())&&this.editor.isFocused&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(r=>r.isContentEditable)?!1:this.contentDOM===e.target&&e.type==="attributes"?!0:!this.contentDOM.contains(e.target)}updateAttributes(e){this.editor.commands.command(({tr:t})=>{const r=this.getPos();return typeof r!="number"?!1:(t.setNodeMarkup(r,void 0,{...this.node.attrs,...e}),!0)})}deleteNode(){const e=this.getPos();if(typeof e!="number")return;const t=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:t})}}function to(n){return new zE({find:n.find,handler:({state:e,range:t,match:r,pasteEvent:i})=>{const s=Fe(n.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:a}=e,u=r[r.length-1],f=r[0];let p=t.to;if(u){const h=f.search(/\S/),g=t.from+f.indexOf(u),v=g+u.length;if(rh(t.from,t.to,e.doc).filter(k=>k.mark.type.excluded.find(w=>w===n.type&&w!==k.mark.type)).filter(k=>k.to>g).length)return null;v<t.to&&a.delete(v,t.to),g>t.from&&a.delete(t.from+h,g),p=t.from+h+u.length,a.addMark(t.from+h,p,n.type.create(s||{})),a.removeStoredMark(n.type)}}})}function SM(n,e){const{selection:t}=n,{$from:r}=t;if(t instanceof Oe){const s=r.index();return r.parent.canReplaceWith(s,s+1,e)}let i=r.depth;for(;i>=0;){const s=r.index(i);if(r.node(i).contentMatchAt(s).matchType(e))return!0;i-=1}return!1}var sn="top",Pn="bottom",An="right",ln="left",oh="auto",Rl=[sn,Pn,An,ln],Vo="start",kl="end",kM="clippingParents",kw="viewport",_s="popper",CM="reference",kv=Rl.reduce(function(n,e){return n.concat([e+"-"+Vo,e+"-"+kl])},[]),Cw=[].concat(Rl,[oh]).reduce(function(n,e){return n.concat([e,e+"-"+Vo,e+"-"+kl])},[]),bM="beforeRead",EM="read",OM="afterRead",MM="beforeMain",TM="main",NM="afterMain",RM="beforeWrite",DM="write",PM="afterWrite",AM=[bM,EM,OM,MM,TM,NM,RM,DM,PM];function ar(n){return n?(n.nodeName||"").toLowerCase():null}function yn(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function no(n){var e=yn(n).Element;return n instanceof e||n instanceof Element}function Dn(n){var e=yn(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function sh(n){if(typeof ShadowRoot>"u")return!1;var e=yn(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function LM(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},s=e.elements[t];!Dn(s)||!ar(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(a){var u=i[a];u===!1?s.removeAttribute(a):s.setAttribute(a,u===!0?"":u)}))})}function IM(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},a=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),u=a.reduce(function(f,p){return f[p]="",f},{});!Dn(i)||!ar(i)||(Object.assign(i.style,u),Object.keys(s).forEach(function(f){i.removeAttribute(f)}))})}}const bw={name:"applyStyles",enabled:!0,phase:"write",fn:LM,effect:IM,requires:["computeStyles"]};function or(n){return n.split("-")[0]}var Ji=Math.max,Mu=Math.min,Wo=Math.round;function vp(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Ew(){return!/^((?!chrome|android).)*safari/i.test(vp())}function Uo(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,s=1;e&&Dn(n)&&(i=n.offsetWidth>0&&Wo(r.width)/n.offsetWidth||1,s=n.offsetHeight>0&&Wo(r.height)/n.offsetHeight||1);var a=no(n)?yn(n):window,u=a.visualViewport,f=!Ew()&&t,p=(r.left+(f&&u?u.offsetLeft:0))/i,h=(r.top+(f&&u?u.offsetTop:0))/s,g=r.width/i,v=r.height/s;return{width:g,height:v,top:h,right:p+g,bottom:h+v,left:p,x:p,y:h}}function lh(n){var e=Uo(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function Ow(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&sh(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Rr(n){return yn(n).getComputedStyle(n)}function zM(n){return["table","td","th"].indexOf(ar(n))>=0}function yi(n){return((no(n)?n.ownerDocument:n.document)||window.document).documentElement}function wc(n){return ar(n)==="html"?n:n.assignedSlot||n.parentNode||(sh(n)?n.host:null)||yi(n)}function Cv(n){return!Dn(n)||Rr(n).position==="fixed"?null:n.offsetParent}function _M(n){var e=/firefox/i.test(vp()),t=/Trident/i.test(vp());if(t&&Dn(n)){var r=Rr(n);if(r.position==="fixed")return null}var i=wc(n);for(sh(i)&&(i=i.host);Dn(i)&&["html","body"].indexOf(ar(i))<0;){var s=Rr(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Dl(n){for(var e=yn(n),t=Cv(n);t&&zM(t)&&Rr(t).position==="static";)t=Cv(t);return t&&(ar(t)==="html"||ar(t)==="body"&&Rr(t).position==="static")?e:t||_M(n)||e}function ah(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function rl(n,e,t){return Ji(n,Mu(e,t))}function jM(n,e,t){var r=rl(n,e,t);return r>t?t:r}function Mw(){return{top:0,right:0,bottom:0,left:0}}function Tw(n){return Object.assign({},Mw(),n)}function Nw(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var BM=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,Tw(typeof e!="number"?e:Nw(e,Rl))};function FM(n){var e,t=n.state,r=n.name,i=n.options,s=t.elements.arrow,a=t.modifiersData.popperOffsets,u=or(t.placement),f=ah(u),p=[ln,An].indexOf(u)>=0,h=p?"height":"width";if(!(!s||!a)){var g=BM(i.padding,t),v=lh(s),x=f==="y"?sn:ln,k=f==="y"?Pn:An,C=t.rects.reference[h]+t.rects.reference[f]-a[f]-t.rects.popper[h],w=a[f]-t.rects.reference[f],S=Dl(s),b=S?f==="y"?S.clientHeight||0:S.clientWidth||0:0,O=C/2-w/2,E=g[x],R=b-v[h]-g[k],N=b/2-v[h]/2+O,T=rl(E,N,R),D=f;t.modifiersData[r]=(e={},e[D]=T,e.centerOffset=T-N,e)}}function HM(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Ow(e.elements.popper,i)&&(e.elements.arrow=i))}const $M={name:"arrow",enabled:!0,phase:"main",fn:FM,effect:HM,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function qo(n){return n.split("-")[1]}var VM={top:"auto",right:"auto",bottom:"auto",left:"auto"};function WM(n,e){var t=n.x,r=n.y,i=e.devicePixelRatio||1;return{x:Wo(t*i)/i||0,y:Wo(r*i)/i||0}}function bv(n){var e,t=n.popper,r=n.popperRect,i=n.placement,s=n.variation,a=n.offsets,u=n.position,f=n.gpuAcceleration,p=n.adaptive,h=n.roundOffsets,g=n.isFixed,v=a.x,x=v===void 0?0:v,k=a.y,C=k===void 0?0:k,w=typeof h=="function"?h({x,y:C}):{x,y:C};x=w.x,C=w.y;var S=a.hasOwnProperty("x"),b=a.hasOwnProperty("y"),O=ln,E=sn,R=window;if(p){var N=Dl(t),T="clientHeight",D="clientWidth";if(N===yn(t)&&(N=yi(t),Rr(N).position!=="static"&&u==="absolute"&&(T="scrollHeight",D="scrollWidth")),N=N,i===sn||(i===ln||i===An)&&s===kl){E=Pn;var B=g&&N===R&&R.visualViewport?R.visualViewport.height:N[T];C-=B-r.height,C*=f?1:-1}if(i===ln||(i===sn||i===Pn)&&s===kl){O=An;var W=g&&N===R&&R.visualViewport?R.visualViewport.width:N[D];x-=W-r.width,x*=f?1:-1}}var te=Object.assign({position:u},p&&VM),K=h===!0?WM({x,y:C},yn(t)):{x,y:C};if(x=K.x,C=K.y,f){var re;return Object.assign({},te,(re={},re[E]=b?"0":"",re[O]=S?"0":"",re.transform=(R.devicePixelRatio||1)<=1?"translate("+x+"px, "+C+"px)":"translate3d("+x+"px, "+C+"px, 0)",re))}return Object.assign({},te,(e={},e[E]=b?C+"px":"",e[O]=S?x+"px":"",e.transform="",e))}function UM(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,s=t.adaptive,a=s===void 0?!0:s,u=t.roundOffsets,f=u===void 0?!0:u,p={placement:or(e.placement),variation:qo(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,bv(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:f})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,bv(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const qM={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:UM,data:{}};var Qa={passive:!0};function KM(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,s=i===void 0?!0:i,a=r.resize,u=a===void 0?!0:a,f=yn(e.elements.popper),p=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&p.forEach(function(h){h.addEventListener("scroll",t.update,Qa)}),u&&f.addEventListener("resize",t.update,Qa),function(){s&&p.forEach(function(h){h.removeEventListener("scroll",t.update,Qa)}),u&&f.removeEventListener("resize",t.update,Qa)}}const GM={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:KM,data:{}};var JM={left:"right",right:"left",bottom:"top",top:"bottom"};function fu(n){return n.replace(/left|right|bottom|top/g,function(e){return JM[e]})}var YM={start:"end",end:"start"};function Ev(n){return n.replace(/start|end/g,function(e){return YM[e]})}function uh(n){var e=yn(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function ch(n){return Uo(yi(n)).left+uh(n).scrollLeft}function XM(n,e){var t=yn(n),r=yi(n),i=t.visualViewport,s=r.clientWidth,a=r.clientHeight,u=0,f=0;if(i){s=i.width,a=i.height;var p=Ew();(p||!p&&e==="fixed")&&(u=i.offsetLeft,f=i.offsetTop)}return{width:s,height:a,x:u+ch(n),y:f}}function QM(n){var e,t=yi(n),r=uh(n),i=(e=n.ownerDocument)==null?void 0:e.body,s=Ji(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Ji(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),u=-r.scrollLeft+ch(n),f=-r.scrollTop;return Rr(i||t).direction==="rtl"&&(u+=Ji(t.clientWidth,i?i.clientWidth:0)-s),{width:s,height:a,x:u,y:f}}function fh(n){var e=Rr(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function Rw(n){return["html","body","#document"].indexOf(ar(n))>=0?n.ownerDocument.body:Dn(n)&&fh(n)?n:Rw(wc(n))}function il(n,e){var t;e===void 0&&(e=[]);var r=Rw(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),s=yn(r),a=i?[s].concat(s.visualViewport||[],fh(r)?r:[]):r,u=e.concat(a);return i?u:u.concat(il(wc(a)))}function wp(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function ZM(n,e){var t=Uo(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function Ov(n,e,t){return e===kw?wp(XM(n,t)):no(e)?ZM(e,t):wp(QM(yi(n)))}function eT(n){var e=il(wc(n)),t=["absolute","fixed"].indexOf(Rr(n).position)>=0,r=t&&Dn(n)?Dl(n):n;return no(r)?e.filter(function(i){return no(i)&&Ow(i,r)&&ar(i)!=="body"}):[]}function tT(n,e,t,r){var i=e==="clippingParents"?eT(n):[].concat(e),s=[].concat(i,[t]),a=s[0],u=s.reduce(function(f,p){var h=Ov(n,p,r);return f.top=Ji(h.top,f.top),f.right=Mu(h.right,f.right),f.bottom=Mu(h.bottom,f.bottom),f.left=Ji(h.left,f.left),f},Ov(n,a,r));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function Dw(n){var e=n.reference,t=n.element,r=n.placement,i=r?or(r):null,s=r?qo(r):null,a=e.x+e.width/2-t.width/2,u=e.y+e.height/2-t.height/2,f;switch(i){case sn:f={x:a,y:e.y-t.height};break;case Pn:f={x:a,y:e.y+e.height};break;case An:f={x:e.x+e.width,y:u};break;case ln:f={x:e.x-t.width,y:u};break;default:f={x:e.x,y:e.y}}var p=i?ah(i):null;if(p!=null){var h=p==="y"?"height":"width";switch(s){case Vo:f[p]=f[p]-(e[h]/2-t[h]/2);break;case kl:f[p]=f[p]+(e[h]/2-t[h]/2);break}}return f}function Cl(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,s=t.strategy,a=s===void 0?n.strategy:s,u=t.boundary,f=u===void 0?kM:u,p=t.rootBoundary,h=p===void 0?kw:p,g=t.elementContext,v=g===void 0?_s:g,x=t.altBoundary,k=x===void 0?!1:x,C=t.padding,w=C===void 0?0:C,S=Tw(typeof w!="number"?w:Nw(w,Rl)),b=v===_s?CM:_s,O=n.rects.popper,E=n.elements[k?b:v],R=tT(no(E)?E:E.contextElement||yi(n.elements.popper),f,h,a),N=Uo(n.elements.reference),T=Dw({reference:N,element:O,placement:i}),D=wp(Object.assign({},O,T)),B=v===_s?D:N,W={top:R.top-B.top+S.top,bottom:B.bottom-R.bottom+S.bottom,left:R.left-B.left+S.left,right:B.right-R.right+S.right},te=n.modifiersData.offset;if(v===_s&&te){var K=te[i];Object.keys(W).forEach(function(re){var fe=[An,Pn].indexOf(re)>=0?1:-1,he=[sn,Pn].indexOf(re)>=0?"y":"x";W[re]+=K[he]*fe})}return W}function nT(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,s=t.rootBoundary,a=t.padding,u=t.flipVariations,f=t.allowedAutoPlacements,p=f===void 0?Cw:f,h=qo(r),g=h?u?kv:kv.filter(function(k){return qo(k)===h}):Rl,v=g.filter(function(k){return p.indexOf(k)>=0});v.length===0&&(v=g);var x=v.reduce(function(k,C){return k[C]=Cl(n,{placement:C,boundary:i,rootBoundary:s,padding:a})[or(C)],k},{});return Object.keys(x).sort(function(k,C){return x[k]-x[C]})}function rT(n){if(or(n)===oh)return[];var e=fu(n);return[Ev(n),e,Ev(e)]}function iT(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,s=i===void 0?!0:i,a=t.altAxis,u=a===void 0?!0:a,f=t.fallbackPlacements,p=t.padding,h=t.boundary,g=t.rootBoundary,v=t.altBoundary,x=t.flipVariations,k=x===void 0?!0:x,C=t.allowedAutoPlacements,w=e.options.placement,S=or(w),b=S===w,O=f||(b||!k?[fu(w)]:rT(w)),E=[w].concat(O).reduce(function(Ee,De){return Ee.concat(or(De)===oh?nT(e,{placement:De,boundary:h,rootBoundary:g,padding:p,flipVariations:k,allowedAutoPlacements:C}):De)},[]),R=e.rects.reference,N=e.rects.popper,T=new Map,D=!0,B=E[0],W=0;W<E.length;W++){var te=E[W],K=or(te),re=qo(te)===Vo,fe=[sn,Pn].indexOf(K)>=0,he=fe?"width":"height",ce=Cl(e,{placement:te,boundary:h,rootBoundary:g,altBoundary:v,padding:p}),le=fe?re?An:ln:re?Pn:sn;R[he]>N[he]&&(le=fu(le));var G=fu(le),se=[];if(s&&se.push(ce[K]<=0),u&&se.push(ce[le]<=0,ce[G]<=0),se.every(function(Ee){return Ee})){B=te,D=!1;break}T.set(te,se)}if(D)for(var Z=k?3:1,A=function(De){var Ie=E.find(function($e){var Y=T.get($e);if(Y)return Y.slice(0,De).every(function(ue){return ue})});if(Ie)return B=Ie,"break"},U=Z;U>0;U--){var ke=A(U);if(ke==="break")break}e.placement!==B&&(e.modifiersData[r]._skip=!0,e.placement=B,e.reset=!0)}}const oT={name:"flip",enabled:!0,phase:"main",fn:iT,requiresIfExists:["offset"],data:{_skip:!1}};function Mv(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function Tv(n){return[sn,An,Pn,ln].some(function(e){return n[e]>=0})}function sT(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,a=Cl(e,{elementContext:"reference"}),u=Cl(e,{altBoundary:!0}),f=Mv(a,r),p=Mv(u,i,s),h=Tv(f),g=Tv(p);e.modifiersData[t]={referenceClippingOffsets:f,popperEscapeOffsets:p,isReferenceHidden:h,hasPopperEscaped:g},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":g})}const lT={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:sT};function aT(n,e,t){var r=or(n),i=[ln,sn].indexOf(r)>=0?-1:1,s=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,a=s[0],u=s[1];return a=a||0,u=(u||0)*i,[ln,An].indexOf(r)>=0?{x:u,y:a}:{x:a,y:u}}function uT(n){var e=n.state,t=n.options,r=n.name,i=t.offset,s=i===void 0?[0,0]:i,a=Cw.reduce(function(h,g){return h[g]=aT(g,e.rects,s),h},{}),u=a[e.placement],f=u.x,p=u.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=f,e.modifiersData.popperOffsets.y+=p),e.modifiersData[r]=a}const cT={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:uT};function fT(n){var e=n.state,t=n.name;e.modifiersData[t]=Dw({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const dT={name:"popperOffsets",enabled:!0,phase:"read",fn:fT,data:{}};function pT(n){return n==="x"?"y":"x"}function hT(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,s=i===void 0?!0:i,a=t.altAxis,u=a===void 0?!1:a,f=t.boundary,p=t.rootBoundary,h=t.altBoundary,g=t.padding,v=t.tether,x=v===void 0?!0:v,k=t.tetherOffset,C=k===void 0?0:k,w=Cl(e,{boundary:f,rootBoundary:p,padding:g,altBoundary:h}),S=or(e.placement),b=qo(e.placement),O=!b,E=ah(S),R=pT(E),N=e.modifiersData.popperOffsets,T=e.rects.reference,D=e.rects.popper,B=typeof C=="function"?C(Object.assign({},e.rects,{placement:e.placement})):C,W=typeof B=="number"?{mainAxis:B,altAxis:B}:Object.assign({mainAxis:0,altAxis:0},B),te=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,K={x:0,y:0};if(N){if(s){var re,fe=E==="y"?sn:ln,he=E==="y"?Pn:An,ce=E==="y"?"height":"width",le=N[E],G=le+w[fe],se=le-w[he],Z=x?-D[ce]/2:0,A=b===Vo?T[ce]:D[ce],U=b===Vo?-D[ce]:-T[ce],ke=e.elements.arrow,Ee=x&&ke?lh(ke):{width:0,height:0},De=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Mw(),Ie=De[fe],$e=De[he],Y=rl(0,T[ce],Ee[ce]),ue=O?T[ce]/2-Z-Y-Ie-W.mainAxis:A-Y-Ie-W.mainAxis,Me=O?-T[ce]/2+Z+Y+$e+W.mainAxis:U+Y+$e+W.mainAxis,I=e.elements.arrow&&Dl(e.elements.arrow),j=I?E==="y"?I.clientTop||0:I.clientLeft||0:0,$=(re=te==null?void 0:te[E])!=null?re:0,J=le+ue-$-j,ge=le+Me-$,ae=rl(x?Mu(G,J):G,le,x?Ji(se,ge):se);N[E]=ae,K[E]=ae-le}if(u){var Ce,ye=E==="x"?sn:ln,Te=E==="x"?Pn:An,_e=N[R],rt=R==="y"?"height":"width",st=_e+w[ye],Ge=_e-w[Te],Ut=[sn,ln].indexOf(S)!==-1,vn=(Ce=te==null?void 0:te[R])!=null?Ce:0,Ln=Ut?st:_e-T[rt]-D[rt]-vn+W.altAxis,qn=Ut?_e+T[rt]+D[rt]-vn-W.altAxis:Ge,Dt=x&&Ut?jM(Ln,_e,qn):rl(x?Ln:st,_e,x?qn:Ge);N[R]=Dt,K[R]=Dt-_e}e.modifiersData[r]=K}}const mT={name:"preventOverflow",enabled:!0,phase:"main",fn:hT,requiresIfExists:["offset"]};function gT(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function yT(n){return n===yn(n)||!Dn(n)?uh(n):gT(n)}function vT(n){var e=n.getBoundingClientRect(),t=Wo(e.width)/n.offsetWidth||1,r=Wo(e.height)/n.offsetHeight||1;return t!==1||r!==1}function wT(n,e,t){t===void 0&&(t=!1);var r=Dn(e),i=Dn(e)&&vT(e),s=yi(e),a=Uo(n,i,t),u={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(r||!r&&!t)&&((ar(e)!=="body"||fh(s))&&(u=yT(e)),Dn(e)?(f=Uo(e,!0),f.x+=e.clientLeft,f.y+=e.clientTop):s&&(f.x=ch(s))),{x:a.left+u.scrollLeft-f.x,y:a.top+u.scrollTop-f.y,width:a.width,height:a.height}}function xT(n){var e=new Map,t=new Set,r=[];n.forEach(function(s){e.set(s.name,s)});function i(s){t.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(u){if(!t.has(u)){var f=e.get(u);f&&i(f)}}),r.push(s)}return n.forEach(function(s){t.has(s.name)||i(s)}),r}function ST(n){var e=xT(n);return AM.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function kT(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function CT(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var Nv={placement:"bottom",modifiers:[],strategy:"absolute"};function Rv(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function bT(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,s=i===void 0?Nv:i;return function(u,f,p){p===void 0&&(p=s);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},Nv,s),modifiersData:{},elements:{reference:u,popper:f},attributes:{},styles:{}},g=[],v=!1,x={state:h,setOptions:function(S){var b=typeof S=="function"?S(h.options):S;C(),h.options=Object.assign({},s,h.options,b),h.scrollParents={reference:no(u)?il(u):u.contextElement?il(u.contextElement):[],popper:il(f)};var O=ST(CT([].concat(r,h.options.modifiers)));return h.orderedModifiers=O.filter(function(E){return E.enabled}),k(),x.update()},forceUpdate:function(){if(!v){var S=h.elements,b=S.reference,O=S.popper;if(Rv(b,O)){h.rects={reference:wT(b,Dl(O),h.options.strategy==="fixed"),popper:lh(O)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(W){return h.modifiersData[W.name]=Object.assign({},W.data)});for(var E=0;E<h.orderedModifiers.length;E++){if(h.reset===!0){h.reset=!1,E=-1;continue}var R=h.orderedModifiers[E],N=R.fn,T=R.options,D=T===void 0?{}:T,B=R.name;typeof N=="function"&&(h=N({state:h,options:D,name:B,instance:x})||h)}}}},update:kT(function(){return new Promise(function(w){x.forceUpdate(),w(h)})}),destroy:function(){C(),v=!0}};if(!Rv(u,f))return x;x.setOptions(p).then(function(w){!v&&p.onFirstUpdate&&p.onFirstUpdate(w)});function k(){h.orderedModifiers.forEach(function(w){var S=w.name,b=w.options,O=b===void 0?{}:b,E=w.effect;if(typeof E=="function"){var R=E({state:h,name:S,instance:x,options:O}),N=function(){};g.push(R||N)}})}function C(){g.forEach(function(w){return w()}),g=[]}return x}}var ET=[GM,dT,qM,bw,cT,oT,mT,$M,lT],OT=bT({defaultModifiers:ET}),MT="tippy-box",Pw="tippy-content",TT="tippy-backdrop",Aw="tippy-arrow",Lw="tippy-svg-arrow",Bi={passive:!0,capture:!0},Iw=function(){return document.body};function Pd(n,e,t){if(Array.isArray(n)){var r=n[e];return r??(Array.isArray(t)?t[e]:t)}return n}function dh(n,e){var t={}.toString.call(n);return t.indexOf("[object")===0&&t.indexOf(e+"]")>-1}function zw(n,e){return typeof n=="function"?n.apply(void 0,e):n}function Dv(n,e){if(e===0)return n;var t;return function(r){clearTimeout(t),t=setTimeout(function(){n(r)},e)}}function NT(n){return n.split(/\s+/).filter(Boolean)}function Po(n){return[].concat(n)}function Pv(n,e){n.indexOf(e)===-1&&n.push(e)}function RT(n){return n.filter(function(e,t){return n.indexOf(e)===t})}function DT(n){return n.split("-")[0]}function Tu(n){return[].slice.call(n)}function Av(n){return Object.keys(n).reduce(function(e,t){return n[t]!==void 0&&(e[t]=n[t]),e},{})}function ol(){return document.createElement("div")}function xc(n){return["Element","Fragment"].some(function(e){return dh(n,e)})}function PT(n){return dh(n,"NodeList")}function AT(n){return dh(n,"MouseEvent")}function LT(n){return!!(n&&n._tippy&&n._tippy.reference===n)}function IT(n){return xc(n)?[n]:PT(n)?Tu(n):Array.isArray(n)?n:Tu(document.querySelectorAll(n))}function Ad(n,e){n.forEach(function(t){t&&(t.style.transitionDuration=e+"ms")})}function Lv(n,e){n.forEach(function(t){t&&t.setAttribute("data-state",e)})}function zT(n){var e,t=Po(n),r=t[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function _T(n,e){var t=e.clientX,r=e.clientY;return n.every(function(i){var s=i.popperRect,a=i.popperState,u=i.props,f=u.interactiveBorder,p=DT(a.placement),h=a.modifiersData.offset;if(!h)return!0;var g=p==="bottom"?h.top.y:0,v=p==="top"?h.bottom.y:0,x=p==="right"?h.left.x:0,k=p==="left"?h.right.x:0,C=s.top-r+g>f,w=r-s.bottom-v>f,S=s.left-t+x>f,b=t-s.right-k>f;return C||w||S||b})}function Ld(n,e,t){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){n[r](i,t)})}function Iv(n,e){for(var t=e;t;){var r;if(n.contains(t))return!0;t=t.getRootNode==null||(r=t.getRootNode())==null?void 0:r.host}return!1}var rr={isTouch:!1},zv=0;function jT(){rr.isTouch||(rr.isTouch=!0,window.performance&&document.addEventListener("mousemove",_w))}function _w(){var n=performance.now();n-zv<20&&(rr.isTouch=!1,document.removeEventListener("mousemove",_w)),zv=n}function BT(){var n=document.activeElement;if(LT(n)){var e=n._tippy;n.blur&&!e.state.isVisible&&n.blur()}}function FT(){document.addEventListener("touchstart",jT,Bi),window.addEventListener("blur",BT)}var HT=typeof window<"u"&&typeof document<"u",$T=HT?!!window.msCrypto:!1,VT={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},WT={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Vn=Object.assign({appendTo:Iw,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},VT,WT),UT=Object.keys(Vn),qT=function(e){var t=Object.keys(e);t.forEach(function(r){Vn[r]=e[r]})};function jw(n){var e=n.plugins||[],t=e.reduce(function(r,i){var s=i.name,a=i.defaultValue;if(s){var u;r[s]=n[s]!==void 0?n[s]:(u=Vn[s])!=null?u:a}return r},{});return Object.assign({},n,t)}function KT(n,e){var t=e?Object.keys(jw(Object.assign({},Vn,{plugins:e}))):UT,r=t.reduce(function(i,s){var a=(n.getAttribute("data-tippy-"+s)||"").trim();if(!a)return i;if(s==="content")i[s]=a;else try{i[s]=JSON.parse(a)}catch{i[s]=a}return i},{});return r}function _v(n,e){var t=Object.assign({},e,{content:zw(e.content,[n])},e.ignoreAttributes?{}:KT(n,e.plugins));return t.aria=Object.assign({},Vn.aria,t.aria),t.aria={expanded:t.aria.expanded==="auto"?e.interactive:t.aria.expanded,content:t.aria.content==="auto"?e.interactive?null:"describedby":t.aria.content},t}var GT=function(){return"innerHTML"};function xp(n,e){n[GT()]=e}function jv(n){var e=ol();return n===!0?e.className=Aw:(e.className=Lw,xc(n)?e.appendChild(n):xp(e,n)),e}function Bv(n,e){xc(e.content)?(xp(n,""),n.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?xp(n,e.content):n.textContent=e.content)}function Sp(n){var e=n.firstElementChild,t=Tu(e.children);return{box:e,content:t.find(function(r){return r.classList.contains(Pw)}),arrow:t.find(function(r){return r.classList.contains(Aw)||r.classList.contains(Lw)}),backdrop:t.find(function(r){return r.classList.contains(TT)})}}function Bw(n){var e=ol(),t=ol();t.className=MT,t.setAttribute("data-state","hidden"),t.setAttribute("tabindex","-1");var r=ol();r.className=Pw,r.setAttribute("data-state","hidden"),Bv(r,n.props),e.appendChild(t),t.appendChild(r),i(n.props,n.props);function i(s,a){var u=Sp(e),f=u.box,p=u.content,h=u.arrow;a.theme?f.setAttribute("data-theme",a.theme):f.removeAttribute("data-theme"),typeof a.animation=="string"?f.setAttribute("data-animation",a.animation):f.removeAttribute("data-animation"),a.inertia?f.setAttribute("data-inertia",""):f.removeAttribute("data-inertia"),f.style.maxWidth=typeof a.maxWidth=="number"?a.maxWidth+"px":a.maxWidth,a.role?f.setAttribute("role",a.role):f.removeAttribute("role"),(s.content!==a.content||s.allowHTML!==a.allowHTML)&&Bv(p,n.props),a.arrow?h?s.arrow!==a.arrow&&(f.removeChild(h),f.appendChild(jv(a.arrow))):f.appendChild(jv(a.arrow)):h&&f.removeChild(h)}return{popper:e,onUpdate:i}}Bw.$$tippy=!0;var JT=1,Za=[],Id=[];function YT(n,e){var t=_v(n,Object.assign({},Vn,jw(Av(e)))),r,i,s,a=!1,u=!1,f=!1,p=!1,h,g,v,x=[],k=Dv(J,t.interactiveDebounce),C,w=JT++,S=null,b=RT(t.plugins),O={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},E={id:w,reference:n,popper:ol(),popperInstance:S,props:t,state:O,plugins:b,clearDelayTimeouts:Ln,setProps:qn,setContent:Dt,show:Ll,hide:wi,hideWithInteractivity:xi,enable:Ut,disable:vn,unmount:Ec,destroy:Il};if(!t.render)return E;var R=t.render(E),N=R.popper,T=R.onUpdate;N.setAttribute("data-tippy-root",""),N.id="tippy-"+E.id,E.popper=N,n._tippy=E,N._tippy=E;var D=b.map(function(q){return q.fn(E)}),B=n.hasAttribute("aria-expanded");return I(),Z(),le(),G("onCreate",[E]),t.showOnCreate&&st(),N.addEventListener("mouseenter",function(){E.props.interactive&&E.state.isVisible&&E.clearDelayTimeouts()}),N.addEventListener("mouseleave",function(){E.props.interactive&&E.props.trigger.indexOf("mouseenter")>=0&&fe().addEventListener("mousemove",k)}),E;function W(){var q=E.props.touch;return Array.isArray(q)?q:[q,0]}function te(){return W()[0]==="hold"}function K(){var q;return!!((q=E.props.render)!=null&&q.$$tippy)}function re(){return C||n}function fe(){var q=re().parentNode;return q?zT(q):document}function he(){return Sp(N)}function ce(q){return E.state.isMounted&&!E.state.isVisible||rr.isTouch||h&&h.type==="focus"?0:Pd(E.props.delay,q?0:1,Vn.delay)}function le(q){q===void 0&&(q=!1),N.style.pointerEvents=E.props.interactive&&!q?"":"none",N.style.zIndex=""+E.props.zIndex}function G(q,xe,Pe){if(Pe===void 0&&(Pe=!0),D.forEach(function(Ve){Ve[q]&&Ve[q].apply(Ve,xe)}),Pe){var Ue;(Ue=E.props)[q].apply(Ue,xe)}}function se(){var q=E.props.aria;if(q.content){var xe="aria-"+q.content,Pe=N.id,Ue=Po(E.props.triggerTarget||n);Ue.forEach(function(Ve){var gt=Ve.getAttribute(xe);if(E.state.isVisible)Ve.setAttribute(xe,gt?gt+" "+Pe:Pe);else{var _t=gt&&gt.replace(Pe,"").trim();_t?Ve.setAttribute(xe,_t):Ve.removeAttribute(xe)}})}}function Z(){if(!(B||!E.props.aria.expanded)){var q=Po(E.props.triggerTarget||n);q.forEach(function(xe){E.props.interactive?xe.setAttribute("aria-expanded",E.state.isVisible&&xe===re()?"true":"false"):xe.removeAttribute("aria-expanded")})}}function A(){fe().removeEventListener("mousemove",k),Za=Za.filter(function(q){return q!==k})}function U(q){if(!(rr.isTouch&&(f||q.type==="mousedown"))){var xe=q.composedPath&&q.composedPath()[0]||q.target;if(!(E.props.interactive&&Iv(N,xe))){if(Po(E.props.triggerTarget||n).some(function(Pe){return Iv(Pe,xe)})){if(rr.isTouch||E.state.isVisible&&E.props.trigger.indexOf("click")>=0)return}else G("onClickOutside",[E,q]);E.props.hideOnClick===!0&&(E.clearDelayTimeouts(),E.hide(),u=!0,setTimeout(function(){u=!1}),E.state.isMounted||Ie())}}}function ke(){f=!0}function Ee(){f=!1}function De(){var q=fe();q.addEventListener("mousedown",U,!0),q.addEventListener("touchend",U,Bi),q.addEventListener("touchstart",Ee,Bi),q.addEventListener("touchmove",ke,Bi)}function Ie(){var q=fe();q.removeEventListener("mousedown",U,!0),q.removeEventListener("touchend",U,Bi),q.removeEventListener("touchstart",Ee,Bi),q.removeEventListener("touchmove",ke,Bi)}function $e(q,xe){ue(q,function(){!E.state.isVisible&&N.parentNode&&N.parentNode.contains(N)&&xe()})}function Y(q,xe){ue(q,xe)}function ue(q,xe){var Pe=he().box;function Ue(Ve){Ve.target===Pe&&(Ld(Pe,"remove",Ue),xe())}if(q===0)return xe();Ld(Pe,"remove",g),Ld(Pe,"add",Ue),g=Ue}function Me(q,xe,Pe){Pe===void 0&&(Pe=!1);var Ue=Po(E.props.triggerTarget||n);Ue.forEach(function(Ve){Ve.addEventListener(q,xe,Pe),x.push({node:Ve,eventType:q,handler:xe,options:Pe})})}function I(){te()&&(Me("touchstart",$,{passive:!0}),Me("touchend",ge,{passive:!0})),NT(E.props.trigger).forEach(function(q){if(q!=="manual")switch(Me(q,$),q){case"mouseenter":Me("mouseleave",ge);break;case"focus":Me($T?"focusout":"blur",ae);break;case"focusin":Me("focusout",ae);break}})}function j(){x.forEach(function(q){var xe=q.node,Pe=q.eventType,Ue=q.handler,Ve=q.options;xe.removeEventListener(Pe,Ue,Ve)}),x=[]}function $(q){var xe,Pe=!1;if(!(!E.state.isEnabled||Ce(q)||u)){var Ue=((xe=h)==null?void 0:xe.type)==="focus";h=q,C=q.currentTarget,Z(),!E.state.isVisible&&AT(q)&&Za.forEach(function(Ve){return Ve(q)}),q.type==="click"&&(E.props.trigger.indexOf("mouseenter")<0||a)&&E.props.hideOnClick!==!1&&E.state.isVisible?Pe=!0:st(q),q.type==="click"&&(a=!Pe),Pe&&!Ue&&Ge(q)}}function J(q){var xe=q.target,Pe=re().contains(xe)||N.contains(xe);if(!(q.type==="mousemove"&&Pe)){var Ue=rt().concat(N).map(function(Ve){var gt,_t=Ve._tippy,cn=(gt=_t.popperInstance)==null?void 0:gt.state;return cn?{popperRect:Ve.getBoundingClientRect(),popperState:cn,props:t}:null}).filter(Boolean);_T(Ue,q)&&(A(),Ge(q))}}function ge(q){var xe=Ce(q)||E.props.trigger.indexOf("click")>=0&&a;if(!xe){if(E.props.interactive){E.hideWithInteractivity(q);return}Ge(q)}}function ae(q){E.props.trigger.indexOf("focusin")<0&&q.target!==re()||E.props.interactive&&q.relatedTarget&&N.contains(q.relatedTarget)||Ge(q)}function Ce(q){return rr.isTouch?te()!==q.type.indexOf("touch")>=0:!1}function ye(){Te();var q=E.props,xe=q.popperOptions,Pe=q.placement,Ue=q.offset,Ve=q.getReferenceClientRect,gt=q.moveTransition,_t=K()?Sp(N).arrow:null,cn=Ve?{getBoundingClientRect:Ve,contextElement:Ve.contextElement||re()}:n,ur={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Si){var cr=Si.state;if(K()){var zl=he(),ki=zl.box;["placement","reference-hidden","escaped"].forEach(function(Ci){Ci==="placement"?ki.setAttribute("data-placement",cr.placement):cr.attributes.popper["data-popper-"+Ci]?ki.setAttribute("data-"+Ci,""):ki.removeAttribute("data-"+Ci)}),cr.attributes.popper={}}}},Kn=[{name:"offset",options:{offset:Ue}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!gt}},ur];K()&&_t&&Kn.push({name:"arrow",options:{element:_t,padding:3}}),Kn.push.apply(Kn,(xe==null?void 0:xe.modifiers)||[]),E.popperInstance=OT(cn,N,Object.assign({},xe,{placement:Pe,onFirstUpdate:v,modifiers:Kn}))}function Te(){E.popperInstance&&(E.popperInstance.destroy(),E.popperInstance=null)}function _e(){var q=E.props.appendTo,xe,Pe=re();E.props.interactive&&q===Iw||q==="parent"?xe=Pe.parentNode:xe=zw(q,[Pe]),xe.contains(N)||xe.appendChild(N),E.state.isMounted=!0,ye()}function rt(){return Tu(N.querySelectorAll("[data-tippy-root]"))}function st(q){E.clearDelayTimeouts(),q&&G("onTrigger",[E,q]),De();var xe=ce(!0),Pe=W(),Ue=Pe[0],Ve=Pe[1];rr.isTouch&&Ue==="hold"&&Ve&&(xe=Ve),xe?r=setTimeout(function(){E.show()},xe):E.show()}function Ge(q){if(E.clearDelayTimeouts(),G("onUntrigger",[E,q]),!E.state.isVisible){Ie();return}if(!(E.props.trigger.indexOf("mouseenter")>=0&&E.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(q.type)>=0&&a)){var xe=ce(!1);xe?i=setTimeout(function(){E.state.isVisible&&E.hide()},xe):s=requestAnimationFrame(function(){E.hide()})}}function Ut(){E.state.isEnabled=!0}function vn(){E.hide(),E.state.isEnabled=!1}function Ln(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(s)}function qn(q){if(!E.state.isDestroyed){G("onBeforeUpdate",[E,q]),j();var xe=E.props,Pe=_v(n,Object.assign({},xe,Av(q),{ignoreAttributes:!0}));E.props=Pe,I(),xe.interactiveDebounce!==Pe.interactiveDebounce&&(A(),k=Dv(J,Pe.interactiveDebounce)),xe.triggerTarget&&!Pe.triggerTarget?Po(xe.triggerTarget).forEach(function(Ue){Ue.removeAttribute("aria-expanded")}):Pe.triggerTarget&&n.removeAttribute("aria-expanded"),Z(),le(),T&&T(xe,Pe),E.popperInstance&&(ye(),rt().forEach(function(Ue){requestAnimationFrame(Ue._tippy.popperInstance.forceUpdate)})),G("onAfterUpdate",[E,q])}}function Dt(q){E.setProps({content:q})}function Ll(){var q=E.state.isVisible,xe=E.state.isDestroyed,Pe=!E.state.isEnabled,Ue=rr.isTouch&&!E.props.touch,Ve=Pd(E.props.duration,0,Vn.duration);if(!(q||xe||Pe||Ue)&&!re().hasAttribute("disabled")&&(G("onShow",[E],!1),E.props.onShow(E)!==!1)){if(E.state.isVisible=!0,K()&&(N.style.visibility="visible"),le(),De(),E.state.isMounted||(N.style.transition="none"),K()){var gt=he(),_t=gt.box,cn=gt.content;Ad([_t,cn],0)}v=function(){var Kn;if(!(!E.state.isVisible||p)){if(p=!0,N.offsetHeight,N.style.transition=E.props.moveTransition,K()&&E.props.animation){var io=he(),Si=io.box,cr=io.content;Ad([Si,cr],Ve),Lv([Si,cr],"visible")}se(),Z(),Pv(Id,E),(Kn=E.popperInstance)==null||Kn.forceUpdate(),G("onMount",[E]),E.props.animation&&K()&&Y(Ve,function(){E.state.isShown=!0,G("onShown",[E])})}},_e()}}function wi(){var q=!E.state.isVisible,xe=E.state.isDestroyed,Pe=!E.state.isEnabled,Ue=Pd(E.props.duration,1,Vn.duration);if(!(q||xe||Pe)&&(G("onHide",[E],!1),E.props.onHide(E)!==!1)){if(E.state.isVisible=!1,E.state.isShown=!1,p=!1,a=!1,K()&&(N.style.visibility="hidden"),A(),Ie(),le(!0),K()){var Ve=he(),gt=Ve.box,_t=Ve.content;E.props.animation&&(Ad([gt,_t],Ue),Lv([gt,_t],"hidden"))}se(),Z(),E.props.animation?K()&&$e(Ue,E.unmount):E.unmount()}}function xi(q){fe().addEventListener("mousemove",k),Pv(Za,k),k(q)}function Ec(){E.state.isVisible&&E.hide(),E.state.isMounted&&(Te(),rt().forEach(function(q){q._tippy.unmount()}),N.parentNode&&N.parentNode.removeChild(N),Id=Id.filter(function(q){return q!==E}),E.state.isMounted=!1,G("onHidden",[E]))}function Il(){E.state.isDestroyed||(E.clearDelayTimeouts(),E.unmount(),j(),delete n._tippy,E.state.isDestroyed=!0,G("onDestroy",[E]))}}function Pl(n,e){e===void 0&&(e={});var t=Vn.plugins.concat(e.plugins||[]);FT();var r=Object.assign({},e,{plugins:t}),i=IT(n),s=i.reduce(function(a,u){var f=u&&YT(u,r);return f&&a.push(f),a},[]);return xc(n)?s[0]:s}Pl.defaultProps=Vn;Pl.setDefaultProps=qT;Pl.currentInput=rr;Object.assign({},bw,{effect:function(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow)}});Pl.setDefaultProps({render:Bw});class XT{constructor({editor:e,element:t,view:r,tippyOptions:i={},updateDelay:s=250,shouldShow:a}){this.preventHide=!1,this.shouldShow=({view:u,state:f,from:p,to:h})=>{const{doc:g,selection:v}=f,{empty:x}=v,k=!g.textBetween(p,h).length&&th(f.selection),C=this.element.contains(document.activeElement);return!(!(u.hasFocus()||C)||x||k||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:u})=>{var f;if(this.preventHide){this.preventHide=!1;return}u!=null&&u.relatedTarget&&(!((f=this.element.parentNode)===null||f===void 0)&&f.contains(u.relatedTarget))||(u==null?void 0:u.relatedTarget)!==this.editor.view.dom&&this.hide()},this.tippyBlurHandler=u=>{this.blurHandler({event:u})},this.handleDebouncedUpdate=(u,f)=>{const p=!(f!=null&&f.selection.eq(u.state.selection)),h=!(f!=null&&f.doc.eq(u.state.doc));!p&&!h||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(u,p,h,f)},this.updateDelay))},this.updateHandler=(u,f,p,h)=>{var g,v,x;const{state:k,composing:C}=u,{selection:w}=k;if(C||!f&&!p)return;this.createTooltip();const{ranges:b}=w,O=Math.min(...b.map(N=>N.$from.pos)),E=Math.max(...b.map(N=>N.$to.pos));if(!((g=this.shouldShow)===null||g===void 0?void 0:g.call(this,{editor:this.editor,element:this.element,view:u,state:k,oldState:h,from:O,to:E}))){this.hide();return}(v=this.tippy)===null||v===void 0||v.setProps({getReferenceClientRect:((x=this.tippyOptions)===null||x===void 0?void 0:x.getReferenceClientRect)||(()=>{if(xw(k.selection)){let N=u.nodeDOM(O);if(N){const T=N.dataset.nodeViewWrapper?N:N.querySelector("[data-node-view-wrapper]");if(T&&(N=T.firstChild),N)return N.getBoundingClientRect()}}return $O(u,O,E)})}),this.show()},this.editor=e,this.element=t,this.view=r,this.updateDelay=s,a&&(this.shouldShow=a),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,t=!!e.parentElement;this.tippy||!t||(this.tippy=Pl(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,t){const{state:r}=e,i=r.selection.from!==r.selection.to;if(this.updateDelay>0&&i){this.handleDebouncedUpdate(e,t);return}const s=!(t!=null&&t.selection.eq(e.state.selection)),a=!(t!=null&&t.doc.eq(e.state.doc));this.updateHandler(e,s,a,t)}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e,t;!((e=this.tippy)===null||e===void 0)&&e.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(t=this.tippy)===null||t===void 0||t.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const Fw=n=>new Rt({key:typeof n.pluginKey=="string"?new un(n.pluginKey):n.pluginKey,view:e=>new XT({view:e,...n})});Nt.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[Fw({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});var Hw=Ol();const QT=Ap(Hw);function ZT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var $w={exports:{}},zd={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv;function eN(){if(Fv)return zd;Fv=1;var n=bt;function e(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,i=n.useEffect,s=n.useLayoutEffect,a=n.useDebugValue;function u(g,v){var x=v(),k=r({inst:{value:x,getSnapshot:v}}),C=k[0].inst,w=k[1];return s(function(){C.value=x,C.getSnapshot=v,f(C)&&w({inst:C})},[g,x,v]),i(function(){return f(C)&&w({inst:C}),g(function(){f(C)&&w({inst:C})})},[g]),a(x),x}function f(g){var v=g.getSnapshot;g=g.value;try{var x=v();return!t(g,x)}catch{return!0}}function p(g,v){return v()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:u;return zd.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:h,zd}$w.exports=eN();var ph=$w.exports;const tN=(...n)=>e=>{n.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},nN=({contentComponent:n})=>{const e=ph.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return bt.createElement(bt.Fragment,null,Object.values(e))};function rN(){const n=new Set;let e={};return{subscribe(t){return n.add(t),()=>{n.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,r){e={...e,[t]:QT.createPortal(r.reactElement,r.element,t)},n.forEach(i=>i())},removeRenderer(t){const r={...e};delete r[t],e=r,n.forEach(i=>i())}}}class iN extends bt.Component{constructor(e){var t;super(e),this.editorContentRef=bt.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((t=e.editor)===null||t===void 0)&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=rN(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){const{editor:e,innerRef:t,...r}=this.props;return bt.createElement(bt.Fragment,null,bt.createElement("div",{ref:tN(t,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&bt.createElement(nN,{contentComponent:e.contentComponent}))}}const oN=Ae.forwardRef((n,e)=>{const t=bt.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[n.editor]);return bt.createElement(iN,{key:t,innerRef:e,...n})}),sN=bt.memo(oN);var lN=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(!n(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;for(i of e.entries())if(!n(i[1],t.get(i[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[i]))return!1;for(i=r;i--!==0;){var a=s[i];if(!(a==="_owner"&&e.$$typeof)&&!n(e[a],t[a]))return!1}return!0}return e!==e&&t!==t},aN=ZT(lN),Vw={exports:{}},_d={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function uN(){if(Hv)return _d;Hv=1;var n=bt,e=ph;function t(p,h){return p===h&&(p!==0||1/p===1/h)||p!==p&&h!==h}var r=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,s=n.useRef,a=n.useEffect,u=n.useMemo,f=n.useDebugValue;return _d.useSyncExternalStoreWithSelector=function(p,h,g,v,x){var k=s(null);if(k.current===null){var C={hasValue:!1,value:null};k.current=C}else C=k.current;k=u(function(){function S(N){if(!b){if(b=!0,O=N,N=v(N),x!==void 0&&C.hasValue){var T=C.value;if(x(T,N))return E=T}return E=N}if(T=E,r(O,N))return T;var D=v(N);return x!==void 0&&x(T,D)?T:(O=N,E=D)}var b=!1,O,E,R=g===void 0?null:g;return[function(){return S(h())},R===null?void 0:function(){return S(R())}]},[h,g,v,x]);var w=i(p,k[0],k[1]);return a(function(){C.hasValue=!0,C.value=w},[w]),f(w),w},_d}Vw.exports=uN();var cN=Vw.exports;const fN=typeof window<"u"?Ae.useLayoutEffect:Ae.useEffect;class dN{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(i=>i())},r=this.editor;return r.on("transaction",t),()=>{r.off("transaction",t)}}}}function pN(n){var e;const[t]=Ae.useState(()=>new dN(n.editor)),r=cN.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,n.selector,(e=n.equalityFn)!==null&&e!==void 0?e:aN);return fN(()=>t.watch(n.editor),[n.editor,t]),Ae.useDebugValue(r),r}const hN=!1,kp=typeof window>"u",mN=kp||!!(typeof window<"u"&&window.next);class hh{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?kp||mN?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)===null||s===void 0?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)===null||s===void 0?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)===null||s===void 0?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)===null||s===void 0?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)===null||s===void 0?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)===null||s===void 0?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)===null||s===void 0?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)===null||s===void 0?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)===null||s===void 0?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)===null||s===void 0?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)===null||s===void 0?void 0:s.call(i,...r)}};return new wM(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&t.extensions?e.extensions.length!==t.extensions.length?!1:e.extensions.every((i,s)=>{var a;return i===((a=t.extensions)===null||a===void 0?void 0:a[s])}):e[r]===t[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?hh.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function gN(n={},e=[]){const t=Ae.useRef(n);t.current=n;const[r]=Ae.useState(()=>new hh(t)),i=ph.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return Ae.useDebugValue(i),Ae.useEffect(r.onRender(e)),pN({editor:i,selector:({transactionNumber:s})=>n.shouldRerenderOnTransaction===!1?null:n.immediatelyRender&&s===0?0:s+1}),i}const Ww=Ae.createContext({editor:null});Ww.Consumer;const yN=()=>Ae.useContext(Ww),vN=n=>{const[e,t]=Ae.useState(null),{editor:r}=yN();return Ae.useEffect(()=>{var i;if(!e||!((i=n.editor)===null||i===void 0)&&i.isDestroyed||r!=null&&r.isDestroyed)return;const{pluginKey:s="bubbleMenu",editor:a,tippyOptions:u={},updateDelay:f,shouldShow:p=null}=n,h=a||r;if(!h){console.warn("BubbleMenu component is not rendered inside of an editor component or does not have editor prop.");return}const g=Fw({updateDelay:f,editor:h,element:e,pluginKey:s,shouldShow:p,tippyOptions:u});return h.registerPlugin(g),()=>{h.unregisterPlugin(s)}},[n.editor,r,e]),bt.createElement("div",{ref:t,className:n.className,style:{visibility:"hidden"}},n.children)},Uw=Ae.createContext({onDragStart:void 0}),wN=()=>Ae.useContext(Uw),Ko=bt.forwardRef((n,e)=>{const{onDragStart:t}=wN(),r=n.as||"div";return bt.createElement(r,{...n,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...n.style}})});function $v(n){return!!(typeof n=="function"&&n.prototype&&n.prototype.isReactComponent)}function Vv(n){return!!(typeof n=="object"&&n.$$typeof&&(n.$$typeof.toString()==="Symbol(react.forward_ref)"||n.$$typeof.description==="react.forward_ref"))}function xN(n){return!!(typeof n=="object"&&n.$$typeof&&(n.$$typeof.toString()==="Symbol(react.memo)"||n.$$typeof.description==="react.memo"))}function SN(n){if($v(n)||Vv(n))return!0;if(xN(n)){const e=n.type;if(e)return $v(e)||Vv(e)}return!1}function kN(){try{if(Ae.version)return parseInt(Ae.version.split(".")[0],10)>=19}catch{}return!1}class CN{constructor(e,{editor:t,props:r={},as:i="div",className:s=""}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=e,this.editor=t,this.props=r,this.element=document.createElement(i),this.element.classList.add("react-renderer"),s&&this.element.classList.add(...s.split(" ")),this.editor.isInitialized?Hw.flushSync(()=>{this.render()}):this.render()}render(){var e;const t=this.component,r=this.props,i=this.editor,s=kN(),a=SN(t),u={...r};u.ref&&!(s||a)&&delete u.ref,!u.ref&&(s||a)&&(u.ref=f=>{this.ref=f}),this.reactElement=bt.createElement(t,{...u}),(e=i==null?void 0:i.contentComponent)===null||e===void 0||e.setRenderer(this.id,this)}updateProps(e={}){this.props={...this.props,...e},this.render()}destroy(){var e;const t=this.editor;(e=t==null?void 0:t.contentComponent)===null||e===void 0||e.removeRenderer(this.id)}updateAttributes(e){Object.keys(e).forEach(t=>{this.element.setAttribute(t,e[t])})}}class bN extends xM{mount(){const e={editor:this.editor,node:this.node,decorations:this.decorations,innerDecorations:this.innerDecorations,view:this.view,selected:!1,extension:this.extension,HTMLAttributes:this.HTMLAttributes,getPos:()=>this.getPos(),updateAttributes:(p={})=>this.updateAttributes(p),deleteNode:()=>this.deleteNode(),ref:Ae.createRef()};if(!this.component.displayName){const p=h=>h.charAt(0).toUpperCase()+h.substring(1);this.component.displayName=p(this.extension.name)}const i={onDragStart:this.onDragStart.bind(this),nodeViewContentRef:p=>{p&&this.contentDOMElement&&p.firstChild!==this.contentDOMElement&&p.appendChild(this.contentDOMElement)}},s=this.component,a=Ae.memo(p=>bt.createElement(Uw.Provider,{value:i},Ae.createElement(s,p)));a.displayName="ReactNodeView",this.node.isLeaf?this.contentDOMElement=null:this.options.contentDOMElementTag?this.contentDOMElement=document.createElement(this.options.contentDOMElementTag):this.contentDOMElement=document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.dataset.nodeViewContentReact="",this.contentDOMElement.style.whiteSpace="inherit");let u=this.node.isInline?"span":"div";this.options.as&&(u=this.options.as);const{className:f=""}=this.options;this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.renderer=new CN(a,{editor:this.editor,props:e,as:u,className:`node-${this.node.type.name} ${f}`.trim()}),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.updateElementAttributes()}get dom(){var e;if(this.renderer.element.firstElementChild&&!(!((e=this.renderer.element.firstElementChild)===null||e===void 0)&&e.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}handleSelectionUpdate(){const{from:e,to:t}=this.editor.state.selection,r=this.getPos();if(typeof r=="number")if(e<=r&&t>=r+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}}update(e,t,r){const i=s=>{this.renderer.updateProps(s),typeof this.options.attrs=="function"&&this.updateElementAttributes()};if(e.type!==this.node.type)return!1;if(typeof this.options.update=="function"){const s=this.node,a=this.decorations,u=this.innerDecorations;return this.node=e,this.decorations=t,this.innerDecorations=r,this.options.update({oldNode:s,oldDecorations:a,newNode:e,newDecorations:t,oldInnerDecorations:u,innerDecorations:r,updateProps:()=>i({node:e,decorations:t,innerDecorations:r})})}return e===this.node&&this.decorations===t&&this.innerDecorations===r||(this.node=e,this.decorations=t,this.innerDecorations=r,i({node:e,decorations:t,innerDecorations:r})),!0}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate),this.contentDOMElement=null}updateElementAttributes(){if(this.options.attrs){let e={};if(typeof this.options.attrs=="function"){const t=this.editor.extensionManager.attributes,r=Eu(this.node,t);e=this.options.attrs({node:this.node,HTMLAttributes:r})}else e=this.options.attrs;this.renderer.updateAttributes(e)}}}function Al(n,e){return t=>t.editor.contentComponent?new bN(n,t,e):{}}const EN=/^\s*>\s$/,ON=xt.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return["blockquote",nt(this.options.HTMLAttributes,n),0]},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Sl({find:EN,type:this.type})]}}),MN=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,TN=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,NN=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,RN=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,DN=Un.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name===this.name},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return["strong",nt(this.options.HTMLAttributes,n),0]},addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[$o({find:MN,type:this.type}),$o({find:NN,type:this.type})]},addPasteRules(){return[to({find:TN,type:this.type}),to({find:RN,type:this.type})]}}),PN="listItem",Wv="textStyle",Uv=/^\s*([-+*])\s$/,AN=xt.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",nt(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleBulletList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(PN,this.editor.getAttributes(Wv)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=Sl({find:Uv,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Sl({find:Uv,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Wv),editor:this.editor})),[n]}}),LN=/(^|[^`])`([^`]+)`(?!`)/,IN=/(^|[^`])`([^`]+)`(?!`)/g,zN=Un.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",nt(this.options.HTMLAttributes,n),0]},addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[$o({find:LN,type:this.type})]},addPasteRules(){return[to({find:IN,type:this.type})]}}),_N=/^```([a-z]+)?[\s\n]$/,jN=/^~~~([a-z]+)?[\s\n]$/,BN=xt.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:n=>{var e;const{languageClassPrefix:t}=this.options,s=[...((e=n.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(a=>a.startsWith(t)).map(a=>a.replace(t,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:e}){return["pre",nt(this.options.HTMLAttributes,e),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode(this.name,n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!n||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=n,{selection:t}=e,{$from:r,empty:i}=t;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!s||!a?!1:n.chain().command(({tr:u})=>(u.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:r}=e,{$from:i,empty:s}=t;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const u=i.after();return u===void 0?!1:r.nodeAt(u)?n.commands.command(({tr:p})=>(p.setSelection(je.near(r.resolve(u))),!0)):n.commands.exitCode()}}},addInputRules(){return[yp({find:_N,type:this.type,getAttributes:n=>({language:n[1]})}),yp({find:jN,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new Rt({key:new un("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i==null?void 0:i.mode;if(!t||!s)return!1;const{tr:a,schema:u}=n.state,f=u.text(t.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:s},f)),a.selection.$from.parent.type!==this.type&&a.setSelection(ze.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),n.dispatch(a),!0}}})]}}),FN=xt.create({name:"doc",topNode:!0,content:"block+"});function HN(n={}){return new Rt({view(e){return new $N(e,n)}})}class $N{constructor(e,t){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=t.width)!==null&&r!==void 0?r:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=a=>{this[i](a)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,r,i=this.editorView.dom,s=i.getBoundingClientRect(),a=s.width/i.offsetWidth,u=s.height/i.offsetHeight;if(t){let g=e.nodeBefore,v=e.nodeAfter;if(g||v){let x=this.editorView.nodeDOM(this.cursorPos-(g?g.nodeSize:0));if(x){let k=x.getBoundingClientRect(),C=g?k.bottom:k.top;g&&v&&(C=(C+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let w=this.width/2*u;r={left:k.left,right:k.right,top:C-w,bottom:C+w}}}}if(!r){let g=this.editorView.coordsAtPos(this.cursorPos),v=this.width/2*a;r={left:g.left-v,right:g.left+v,top:g.top,bottom:g.bottom}}let f=this.editorView.dom.offsetParent;this.element||(this.element=f.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let p,h;if(!f||f==document.body&&getComputedStyle(f).position=="static")p=-pageXOffset,h=-pageYOffset;else{let g=f.getBoundingClientRect(),v=g.width/f.offsetWidth,x=g.height/f.offsetHeight;p=g.left-f.scrollLeft*v,h=g.top-f.scrollTop*x}this.element.style.left=(r.left-p)/a+"px",this.element.style.top=(r.top-h)/u+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/u+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,t,e):i;if(t&&!s){let a=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let u=a1(this.editorView.state.doc,a,this.editorView.dragging.slice);u!=null&&(a=u)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const VN=Nt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[HN(this.options)]}});class ut extends je{constructor(e){super(e,e)}map(e,t){let r=e.resolve(t.map(this.head));return ut.valid(r)?new ut(r):je.near(r)}content(){return de.empty}eq(e){return e instanceof ut&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new ut(e.resolve(t.pos))}getBookmark(){return new mh(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!WN(e)||!UN(e))return!1;let r=t.type.spec.allowGapCursor;if(r!=null)return r;let i=t.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,t,r=!1){e:for(;;){if(!r&&ut.valid(e))return e;let i=e.pos,s=null;for(let a=e.depth;;a--){let u=e.node(a);if(t>0?e.indexAfter(a)<u.childCount:e.index(a)>0){s=u.child(t>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;i+=t;let f=e.doc.resolve(i);if(ut.valid(f))return f}for(;;){let a=t>0?s.firstChild:s.lastChild;if(!a){if(s.isAtom&&!s.isText&&!Oe.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*t),r=!1;continue e}break}s=a,i+=t;let u=e.doc.resolve(i);if(ut.valid(u))return u}return null}}}ut.prototype.visible=!1;ut.findFrom=ut.findGapCursorFrom;je.jsonID("gapcursor",ut);class mh{constructor(e){this.pos=e}map(e){return new mh(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return ut.valid(t)?new ut(t):je.near(t)}}function WN(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),r=n.node(e);if(t==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function UN(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),r=n.node(e);if(t==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function qN(){return new Rt({props:{decorations:YN,createSelectionBetween(n,e,t){return e.pos==t.pos&&ut.valid(t)?new ut(t):null},handleClick:GN,handleKeyDown:KN,handleDOMEvents:{beforeinput:JN}}})}const KN=Y1({ArrowLeft:eu("horiz",-1),ArrowRight:eu("horiz",1),ArrowUp:eu("vert",-1),ArrowDown:eu("vert",1)});function eu(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let a=r.selection,u=e>0?a.$to:a.$from,f=a.empty;if(a instanceof ze){if(!s.endOfTextblock(t)||u.depth==0)return!1;f=!1,u=r.doc.resolve(e>0?u.after():u.before())}let p=ut.findGapCursorFrom(u,e,f);return p?(i&&i(r.tr.setSelection(new ut(p))),!0):!1}}function GN(n,e,t){if(!n||!n.editable)return!1;let r=n.state.doc.resolve(e);if(!ut.valid(r))return!1;let i=n.posAtCoords({left:t.clientX,top:t.clientY});return i&&i.inside>-1&&Oe.isSelectable(n.state.doc.nodeAt(i.inside))?!1:(n.dispatch(n.state.tr.setSelection(new ut(r))),!0)}function JN(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof ut))return!1;let{$from:t}=n.state.selection,r=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!r)return!1;let i=ee.empty;for(let a=r.length-1;a>=0;a--)i=ee.from(r[a].createAndFill(null,i));let s=n.state.tr.replace(t.pos,t.pos,new de(i,0,0));return s.setSelection(ze.near(s.doc.resolve(t.pos+1))),n.dispatch(s),!1}function YN(n){if(!(n.selection instanceof ut))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",wt.create(n.doc,[Nn.widget(n.selection.head,e,{key:"gapcursor"})])}const XN=Nt.create({name:"gapCursor",addProseMirrorPlugins(){return[qN()]},extendNodeSchema(n){var e;const t={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(e=Fe(we(n,"allowGapCursor",t)))!==null&&e!==void 0?e:null}}}),QN=xt.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",nt(this.options.HTMLAttributes,n)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:r})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:i,storedMarks:s}=t;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:u}=r.extensionManager,f=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:p,dispatch:h})=>{if(h&&f&&a){const g=f.filter(v=>u.includes(v.type.name));p.ensureMarks(g)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),ZN=xt.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,nt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>({...n,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>yp({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}});var Nu=200,Mt=function(){};Mt.prototype.append=function(e){return e.length?(e=Mt.from(e),!this.length&&e||e.length<Nu&&this.leafAppend(e)||this.length<Nu&&e.leafPrepend(this)||this.appendInner(e)):this};Mt.prototype.prepend=function(e){return e.length?Mt.from(e).append(this):this};Mt.prototype.appendInner=function(e){return new eR(this,e)};Mt.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?Mt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};Mt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Mt.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};Mt.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,a){return i.push(e(s,a))},t,r),i};Mt.from=function(e){return e instanceof Mt?e:e&&e.length?new qw(e):Mt.empty};var qw=function(n){function e(r){n.call(this),this.values=r}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,a,u){for(var f=s;f<a;f++)if(i(this.values[f],u+f)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,a,u){for(var f=s-1;f>=a;f--)if(i(this.values[f],u+f)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Nu)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Nu)return new e(i.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(Mt);Mt.empty=new qw([]);var eR=function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,a){var u=this.left.length;if(i<u&&this.left.forEachInner(r,i,Math.min(s,u),a)===!1||s>u&&this.right.forEachInner(r,Math.max(i-u,0),Math.min(this.length,s)-u,a+u)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,a){var u=this.left.length;if(i>u&&this.right.forEachInvertedInner(r,i-u,Math.max(s,u)-u,a+u)===!1||s<u&&this.left.forEachInvertedInner(r,Math.min(i,u),s,a)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Mt);const tR=500;class $n{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;t&&(i=this.remapping(r,this.items.length),s=i.maps.length);let a=e.tr,u,f,p=[],h=[];return this.items.forEach((g,v)=>{if(!g.step){i||(i=this.remapping(r,v+1),s=i.maps.length),s--,h.push(g);return}if(i){h.push(new er(g.map));let x=g.step.map(i.slice(s)),k;x&&a.maybeStep(x).doc&&(k=a.mapping.maps[a.mapping.maps.length-1],p.push(new er(k,void 0,void 0,p.length+h.length))),s--,k&&i.appendMap(k,s)}else a.maybeStep(g.step);if(g.selection)return u=i?g.selection.map(i.slice(s)):g.selection,f=new $n(this.items.slice(0,r).append(h.reverse().concat(p)),this.eventCount-1),!1},this.items.length,0),{remaining:f,transform:a,selection:u}}addTransform(e,t,r,i){let s=[],a=this.eventCount,u=this.items,f=!i&&u.length?u.get(u.length-1):null;for(let h=0;h<e.steps.length;h++){let g=e.steps[h].invert(e.docs[h]),v=new er(e.mapping.maps[h],g,t),x;(x=f&&f.merge(v))&&(v=x,h?s.pop():u=u.slice(0,u.length-1)),s.push(v),t&&(a++,t=void 0),i||(f=v)}let p=a-r.depth;return p>rR&&(u=nR(u,p),a-=p),new $n(u.append(s),a)}remapping(e,t){let r=new hl;return this.items.forEach((i,s)=>{let a=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,a)},e,t),r}addMaps(e){return this.eventCount==0?this:new $n(this.items.append(e.map(t=>new er(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-t),s=e.mapping,a=e.steps.length,u=this.eventCount;this.items.forEach(v=>{v.selection&&u--},i);let f=t;this.items.forEach(v=>{let x=s.getMirror(--f);if(x==null)return;a=Math.min(a,x);let k=s.maps[x];if(v.step){let C=e.steps[x].invert(e.docs[x]),w=v.selection&&v.selection.map(s.slice(f+1,x));w&&u++,r.push(new er(k,C,w))}else r.push(new er(k))},i);let p=[];for(let v=t;v<a;v++)p.push(new er(s.maps[v]));let h=this.items.slice(0,i).append(p).append(r),g=new $n(h,u);return g.emptyItemCount()>tR&&(g=g.compress(this.items.length-r.length)),g}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,i=[],s=0;return this.items.forEach((a,u)=>{if(u>=e)i.push(a),a.selection&&s++;else if(a.step){let f=a.step.map(t.slice(r)),p=f&&f.getMap();if(r--,p&&t.appendMap(p,r),f){let h=a.selection&&a.selection.map(t.slice(r));h&&s++;let g=new er(p.invert(),f,h),v,x=i.length-1;(v=i.length&&i[x].merge(g))?i[x]=v:i.push(g)}}else a.map&&r--},this.items.length,0),new $n(Mt.from(i.reverse()),s)}}$n.empty=new $n(Mt.empty,0);function nR(n,e){let t;return n.forEach((r,i)=>{if(r.selection&&e--==0)return t=i,!1}),n.slice(t)}class er{constructor(e,t,r,i){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new er(t.getMap().invert(),t,this.selection)}}}class ti{constructor(e,t,r,i,s){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const rR=20;function iR(n,e,t,r){let i=t.getMeta(Yi),s;if(i)return i.historyState;t.getMeta(lR)&&(n=new ti(n.done,n.undone,null,0,-1));let a=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(a&&a.getMeta(Yi))return a.getMeta(Yi).redo?new ti(n.done.addTransform(t,void 0,r,du(e)),n.undone,qv(t.mapping.maps),n.prevTime,n.prevComposition):new ti(n.done,n.undone.addTransform(t,void 0,r,du(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let u=t.getMeta("composition"),f=n.prevTime==0||!a&&n.prevComposition!=u&&(n.prevTime<(t.time||0)-r.newGroupDelay||!oR(t,n.prevRanges)),p=a?jd(n.prevRanges,t.mapping):qv(t.mapping.maps);return new ti(n.done.addTransform(t,f?e.selection.getBookmark():void 0,r,du(e)),$n.empty,p,t.time,u??n.prevComposition)}else return(s=t.getMeta("rebased"))?new ti(n.done.rebased(t,s),n.undone.rebased(t,s),jd(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new ti(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),jd(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function oR(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(t=!0)}),t}function qv(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((r,i,s,a)=>e.push(s,a));return e}function jd(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let i=e.map(n[r],1),s=e.map(n[r+1],-1);i<=s&&t.push(i,s)}return t}function sR(n,e,t){let r=du(e),i=Yi.get(e).spec.config,s=(t?n.undone:n.done).popEvent(e,r);if(!s)return null;let a=s.selection.resolve(s.transform.doc),u=(t?n.done:n.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),f=new ti(t?u:s.remaining,t?s.remaining:u,null,0,-1);return s.transform.setSelection(a).setMeta(Yi,{redo:t,historyState:f})}let Bd=!1,Kv=null;function du(n){let e=n.plugins;if(Kv!=e){Bd=!1,Kv=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){Bd=!0;break}}return Bd}const Yi=new un("history"),lR=new un("closeHistory");function aR(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new Rt({key:Yi,state:{init(){return new ti($n.empty,$n.empty,null,0,-1)},apply(e,t,r){return iR(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,i=r=="historyUndo"?Gw:r=="historyRedo"?Jw:null;return i?(t.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function Kw(n,e){return(t,r)=>{let i=Yi.getState(t);if(!i||(n?i.undone:i.done).eventCount==0)return!1;if(r){let s=sR(i,t,n);s&&r(e?s.scrollIntoView():s)}return!0}}const Gw=Kw(!1,!0),Jw=Kw(!0,!0),uR=Nt.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>Gw(n,e),redo:()=>({state:n,dispatch:e})=>Jw(n,e)}},addProseMirrorPlugins(){return[aR(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),cR=xt.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",nt(this.options.HTMLAttributes,n)]},addCommands(){return{setHorizontalRule:()=>({chain:n,state:e})=>{if(!SM(e,e.schema.nodes[this.name]))return!1;const{selection:t}=e,{$from:r,$to:i}=t,s=n();return r.parentOffset===0?s.insertContentAt({from:Math.max(r.pos-1,0),to:i.pos},{type:this.name}):xw(t)?s.insertContentAt(i.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:a,dispatch:u})=>{var f;if(u){const{$to:p}=a.selection,h=p.end();if(p.nodeAfter)p.nodeAfter.isTextblock?a.setSelection(ze.create(a.doc,p.pos+1)):p.nodeAfter.isBlock?a.setSelection(Oe.create(a.doc,p.pos)):a.setSelection(ze.create(a.doc,p.pos));else{const g=(f=p.parent.type.contentMatch.defaultType)===null||f===void 0?void 0:f.create();g&&(a.insert(h,g),a.setSelection(ze.create(a.doc,h+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Sw({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),fR=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,dR=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,pR=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,hR=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,mR=Un.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:n=>n.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",nt(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[$o({find:fR,type:this.type}),$o({find:pR,type:this.type})]},addPasteRules(){return[to({find:dR,type:this.type}),to({find:hR,type:this.type})]}}),gR=xt.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",nt(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),yR="listItem",Gv="textStyle",Jv=/^(\d+)\.\s$/,vR=xt.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:null,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:e,...t}=n;return e===1?["ol",nt(this.options.HTMLAttributes,t),0]:["ol",nt(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(yR,this.editor.getAttributes(Gv)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=Sl({find:Jv,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Sl({find:Jv,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Gv)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[n]}}),wR=xt.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",nt(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),xR=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,SR=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,kR=Un.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",nt(this.options.HTMLAttributes,n),0]},addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[$o({find:xR,type:this.type})]},addPasteRules(){return[to({find:SR,type:this.type})]}}),CR=xt.create({name:"text",group:"inline"}),bR=Nt.create({name:"starterKit",addExtensions(){const n=[];return this.options.bold!==!1&&n.push(DN.configure(this.options.bold)),this.options.blockquote!==!1&&n.push(ON.configure(this.options.blockquote)),this.options.bulletList!==!1&&n.push(AN.configure(this.options.bulletList)),this.options.code!==!1&&n.push(zN.configure(this.options.code)),this.options.codeBlock!==!1&&n.push(BN.configure(this.options.codeBlock)),this.options.document!==!1&&n.push(FN.configure(this.options.document)),this.options.dropcursor!==!1&&n.push(VN.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&n.push(XN.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&n.push(QN.configure(this.options.hardBreak)),this.options.heading!==!1&&n.push(ZN.configure(this.options.heading)),this.options.history!==!1&&n.push(uR.configure(this.options.history)),this.options.horizontalRule!==!1&&n.push(cR.configure(this.options.horizontalRule)),this.options.italic!==!1&&n.push(mR.configure(this.options.italic)),this.options.listItem!==!1&&n.push(gR.configure(this.options.listItem)),this.options.orderedList!==!1&&n.push(vR.configure(this.options.orderedList)),this.options.paragraph!==!1&&n.push(wR.configure(this.options.paragraph)),this.options.strike!==!1&&n.push(kR.configure(this.options.strike)),this.options.text!==!1&&n.push(CR.configure(this.options.text)),n}}),ER=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,OR=xt.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:n}){return["img",nt(this.options.HTMLAttributes,n)]},addCommands(){return{setImage:n=>({commands:e})=>e.insertContent({type:this.name,attrs:n})}},addInputRules(){return[Sw({find:ER,type:this.type,getAttributes:n=>{const[,,e,t,r]=n;return{src:t,alt:e,title:r}}})]}});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Yw=(...n)=>n.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ");/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var TR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=Ae.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...u},f)=>Ae.createElement("svg",{ref:f,...TR,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:Yw("lucide",i),...u},[...a.map(([p,h])=>Ae.createElement(p,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=(n,e)=>{const t=Ae.forwardRef(({className:r,...i},s)=>Ae.createElement(NR,{ref:s,iconNode:e,className:Yw(`lucide-${MR(n)}`,r),...i}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=pt("AlignCenter",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"17",x2:"7",y1:"12",y2:"12",key:"rsh8ii"}],["line",{x1:"19",x2:"5",y1:"18",y2:"18",key:"1t0tuv"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=pt("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=pt("AlignRight",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}],["line",{x1:"21",x2:"7",y1:"18",y2:"18",key:"1g9eri"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=pt("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=pt("CloudUpload",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=pt("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=pt("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=pt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=pt("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=pt("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=pt("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=pt("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=pt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=pt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=pt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=pt("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=pt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=pt("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=pt("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=pt("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=pt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),gh=({editor:n,node:e,updateAttributes:t,deleteNode:r})=>{const{width:i,textAlign:s}=e.attrs,a=p=>{t({textAlign:p})},u=p=>{t({width:p})},f=()=>{t({textAlign:"left"})};return _.jsxs("div",{className:"media-menu",children:[_.jsx("button",{onClick:()=>u("100%"),className:i==="100%"?"is-active":"",children:"100%"}),_.jsx("button",{onClick:()=>u("75%"),className:i==="75%"?"is-active":"",children:"75%"}),_.jsx("button",{onClick:()=>u("50%"),className:i==="50%"?"is-active":"",children:"50%"}),_.jsx("button",{onClick:()=>u("25%"),className:i==="25%"?"is-active":"",children:"25%"}),_.jsx("button",{onClick:()=>u("100%"),title:"Original size",children:_.jsx(Yv,{size:18})}),_.jsx("div",{className:"divider"}),_.jsx("button",{onClick:()=>a("left"),className:s==="left"?"is-active":"",children:_.jsx(Qw,{size:18})}),_.jsx("button",{onClick:()=>a("center"),className:s==="center"?"is-active":"",children:_.jsx(Xw,{size:18})}),_.jsx("button",{onClick:()=>a("right"),className:s==="right"?"is-active":"",children:_.jsx(Zw,{size:18})}),_.jsx("button",{onClick:f,title:"Reset alignment",children:_.jsx(Yv,{size:18})}),_.jsx("div",{className:"divider"}),_.jsx("button",{onClick:r,children:_.jsx(HR,{size:18})})]})},qR=({editor:n,node:e,updateAttributes:t,selected:r,deleteNode:i})=>{const{src:s,alt:a,width:u,textAlign:f="left"}=e.attrs,h=(()=>{switch(f){case"center":return"has-text-align-center";case"right":return"has-text-align-right";default:return"has-text-align-left"}})();return _.jsxs(Ko,{className:`content-item-wrapper ${h}`,children:[_.jsx("div",{className:"drag-handle",contentEditable:!1,children:_.jsx(Sc,{size:18})}),_.jsxs("div",{className:`image-container ${h}`,style:{width:u},children:[r&&_.jsx(gh,{editor:n,node:e,updateAttributes:t,deleteNode:i}),_.jsxs("div",{className:"image-wrapper",children:[_.jsx("div",{className:"click-interceptor",contentEditable:!1,"data-drag-handle":!0}),_.jsx("img",{src:s,alt:a})]})]})]})},KR=OR.extend({addAttributes(){var n;return{...(n=this.parent)==null?void 0:n.call(this),width:{default:"100%"},textAlign:{default:"left"}}},addNodeView(){return Al(qR)}}),GR=Un.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["u",nt(this.options.HTMLAttributes,n),0]},addCommands(){return{setUnderline:()=>({commands:n})=>n.setMark(this.name),toggleUnderline:()=>({commands:n})=>n.toggleMark(this.name),unsetUnderline:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),JR="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",YR="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Go=(n,e)=>{for(const t in e)n[t]=e[t];return n},Cp="numeric",bp="ascii",Ep="alpha",sl="asciinumeric",Xs="alphanumeric",Op="domain",ex="emoji",XR="scheme",QR="slashscheme",Fd="whitespace";function ZR(n,e){return n in e||(e[n]=[]),e[n]}function Wi(n,e,t){e[Cp]&&(e[sl]=!0,e[Xs]=!0),e[bp]&&(e[sl]=!0,e[Ep]=!0),e[sl]&&(e[Xs]=!0),e[Ep]&&(e[Xs]=!0),e[Xs]&&(e[Op]=!0),e[ex]&&(e[Op]=!0);for(const r in e){const i=ZR(r,t);i.indexOf(n)<0&&i.push(n)}}function eD(n,e){const t={};for(const r in e)e[r].indexOf(n)>=0&&(t[r]=!0);return t}function rn(n=null){this.j={},this.jr=[],this.jd=null,this.t=n}rn.groups={};rn.prototype={accepts(){return!!this.t},go(n){const e=this,t=e.j[n];if(t)return t;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],s=e.jr[r][1];if(s&&i.test(n))return s}return e.jd},has(n,e=!1){return e?n in this.j:!!this.go(n)},ta(n,e,t,r){for(let i=0;i<n.length;i++)this.tt(n[i],e,t,r)},tr(n,e,t,r){r=r||rn.groups;let i;return e&&e.j?i=e:(i=new rn(e),t&&r&&Wi(e,t,r)),this.jr.push([n,i]),i},ts(n,e,t,r){let i=this;const s=n.length;if(!s)return i;for(let a=0;a<s-1;a++)i=i.tt(n[a]);return i.tt(n[s-1],e,t,r)},tt(n,e,t,r){r=r||rn.groups;const i=this;if(e&&e.j)return i.j[n]=e,e;const s=e;let a,u=i.go(n);if(u?(a=new rn,Go(a.j,u.j),a.jr.push.apply(a.jr,u.jr),a.jd=u.jd,a.t=u.t):a=new rn,s){if(r)if(a.t&&typeof a.t=="string"){const f=Go(eD(a.t,r),t);Wi(s,f,r)}else t&&Wi(s,t,r);a.t=s}return i.j[n]=a,a}};const Be=(n,e,t,r,i)=>n.ta(e,t,r,i),at=(n,e,t,r,i)=>n.tr(e,t,r,i),Xv=(n,e,t,r,i)=>n.ts(e,t,r,i),ie=(n,e,t,r,i)=>n.tt(e,t,r,i),br="WORD",Mp="UWORD",tx="ASCIINUMERICAL",nx="ALPHANUMERICAL",bl="LOCALHOST",Tp="TLD",Np="UTLD",pu="SCHEME",Ao="SLASH_SCHEME",yh="NUM",Rp="WS",vh="NL",ll="OPENBRACE",al="CLOSEBRACE",Ru="OPENBRACKET",Du="CLOSEBRACKET",Pu="OPENPAREN",Au="CLOSEPAREN",Lu="OPENANGLEBRACKET",Iu="CLOSEANGLEBRACKET",zu="FULLWIDTHLEFTPAREN",_u="FULLWIDTHRIGHTPAREN",ju="LEFTCORNERBRACKET",Bu="RIGHTCORNERBRACKET",Fu="LEFTWHITECORNERBRACKET",Hu="RIGHTWHITECORNERBRACKET",$u="FULLWIDTHLESSTHAN",Vu="FULLWIDTHGREATERTHAN",Wu="AMPERSAND",Uu="APOSTROPHE",qu="ASTERISK",ni="AT",Ku="BACKSLASH",Gu="BACKTICK",Ju="CARET",ii="COLON",wh="COMMA",Yu="DOLLAR",tr="DOT",Xu="EQUALS",xh="EXCLAMATION",On="HYPHEN",ul="PERCENT",Qu="PIPE",Zu="PLUS",ec="POUND",cl="QUERY",Sh="QUOTE",rx="FULLWIDTHMIDDLEDOT",kh="SEMI",nr="SLASH",fl="TILDE",tc="UNDERSCORE",ix="EMOJI",nc="SYM";var ox=Object.freeze({__proto__:null,ALPHANUMERICAL:nx,AMPERSAND:Wu,APOSTROPHE:Uu,ASCIINUMERICAL:tx,ASTERISK:qu,AT:ni,BACKSLASH:Ku,BACKTICK:Gu,CARET:Ju,CLOSEANGLEBRACKET:Iu,CLOSEBRACE:al,CLOSEBRACKET:Du,CLOSEPAREN:Au,COLON:ii,COMMA:wh,DOLLAR:Yu,DOT:tr,EMOJI:ix,EQUALS:Xu,EXCLAMATION:xh,FULLWIDTHGREATERTHAN:Vu,FULLWIDTHLEFTPAREN:zu,FULLWIDTHLESSTHAN:$u,FULLWIDTHMIDDLEDOT:rx,FULLWIDTHRIGHTPAREN:_u,HYPHEN:On,LEFTCORNERBRACKET:ju,LEFTWHITECORNERBRACKET:Fu,LOCALHOST:bl,NL:vh,NUM:yh,OPENANGLEBRACKET:Lu,OPENBRACE:ll,OPENBRACKET:Ru,OPENPAREN:Pu,PERCENT:ul,PIPE:Qu,PLUS:Zu,POUND:ec,QUERY:cl,QUOTE:Sh,RIGHTCORNERBRACKET:Bu,RIGHTWHITECORNERBRACKET:Hu,SCHEME:pu,SEMI:kh,SLASH:nr,SLASH_SCHEME:Ao,SYM:nc,TILDE:fl,TLD:Tp,UNDERSCORE:tc,UTLD:Np,UWORD:Mp,WORD:br,WS:Rp});const xr=/[a-z]/,js=new RegExp("\\p{L}","u"),Hd=new RegExp("\\p{Emoji}","u"),Sr=/\d/,$d=/\s/,Qv="\r",Vd=`
`,tD="",nD="",Wd="";let tu=null,nu=null;function rD(n=[]){const e={};rn.groups=e;const t=new rn;tu==null&&(tu=Zv(JR)),nu==null&&(nu=Zv(YR)),ie(t,"'",Uu),ie(t,"{",ll),ie(t,"}",al),ie(t,"[",Ru),ie(t,"]",Du),ie(t,"(",Pu),ie(t,")",Au),ie(t,"<",Lu),ie(t,">",Iu),ie(t,"",zu),ie(t,"",_u),ie(t,"",ju),ie(t,"",Bu),ie(t,"",Fu),ie(t,"",Hu),ie(t,"",$u),ie(t,"",Vu),ie(t,"&",Wu),ie(t,"*",qu),ie(t,"@",ni),ie(t,"`",Gu),ie(t,"^",Ju),ie(t,":",ii),ie(t,",",wh),ie(t,"$",Yu),ie(t,".",tr),ie(t,"=",Xu),ie(t,"!",xh),ie(t,"-",On),ie(t,"%",ul),ie(t,"|",Qu),ie(t,"+",Zu),ie(t,"#",ec),ie(t,"?",cl),ie(t,'"',Sh),ie(t,"/",nr),ie(t,";",kh),ie(t,"~",fl),ie(t,"_",tc),ie(t,"\\",Ku),ie(t,"",rx);const r=at(t,Sr,yh,{[Cp]:!0});at(r,Sr,r);const i=at(r,xr,tx,{[sl]:!0}),s=at(r,js,nx,{[Xs]:!0}),a=at(t,xr,br,{[bp]:!0});at(a,Sr,i),at(a,xr,a),at(i,Sr,i),at(i,xr,i);const u=at(t,js,Mp,{[Ep]:!0});at(u,xr),at(u,Sr,s),at(u,js,u),at(s,Sr,s),at(s,xr),at(s,js,s);const f=ie(t,Vd,vh,{[Fd]:!0}),p=ie(t,Qv,Rp,{[Fd]:!0}),h=at(t,$d,Rp,{[Fd]:!0});ie(t,Wd,h),ie(p,Vd,f),ie(p,Wd,h),at(p,$d,h),ie(h,Qv),ie(h,Vd),at(h,$d,h),ie(h,Wd,h);const g=at(t,Hd,ix,{[ex]:!0});ie(g,"#"),at(g,Hd,g),ie(g,tD,g);const v=ie(g,nD);ie(v,"#"),at(v,Hd,g);const x=[[xr,a],[Sr,i]],k=[[xr,null],[js,u],[Sr,s]];for(let C=0;C<tu.length;C++)Yr(t,tu[C],Tp,br,x);for(let C=0;C<nu.length;C++)Yr(t,nu[C],Np,Mp,k);Wi(Tp,{tld:!0,ascii:!0},e),Wi(Np,{utld:!0,alpha:!0},e),Yr(t,"file",pu,br,x),Yr(t,"mailto",pu,br,x),Yr(t,"http",Ao,br,x),Yr(t,"https",Ao,br,x),Yr(t,"ftp",Ao,br,x),Yr(t,"ftps",Ao,br,x),Wi(pu,{scheme:!0,ascii:!0},e),Wi(Ao,{slashscheme:!0,ascii:!0},e),n=n.sort((C,w)=>C[0]>w[0]?1:-1);for(let C=0;C<n.length;C++){const w=n[C][0],b=n[C][1]?{[XR]:!0}:{[QR]:!0};w.indexOf("-")>=0?b[Op]=!0:xr.test(w)?Sr.test(w)?b[sl]=!0:b[bp]=!0:b[Cp]=!0,Xv(t,w,w,b)}return Xv(t,"localhost",bl,{ascii:!0}),t.jd=new rn(nc),{start:t,tokens:Go({groups:e},ox)}}function sx(n,e){const t=iD(e.replace(/[A-Z]/g,u=>u.toLowerCase())),r=t.length,i=[];let s=0,a=0;for(;a<r;){let u=n,f=null,p=0,h=null,g=-1,v=-1;for(;a<r&&(f=u.go(t[a]));)u=f,u.accepts()?(g=0,v=0,h=u):g>=0&&(g+=t[a].length,v++),p+=t[a].length,s+=t[a].length,a++;s-=g,a-=v,p-=g,i.push({t:h.t,v:e.slice(s-p,s),s:s-p,e:s})}return i}function iD(n){const e=[],t=n.length;let r=0;for(;r<t;){let i=n.charCodeAt(r),s,a=i<55296||i>56319||r+1===t||(s=n.charCodeAt(r+1))<56320||s>57343?n[r]:n.slice(r,r+2);e.push(a),r+=a.length}return e}function Yr(n,e,t,r,i){let s;const a=e.length;for(let u=0;u<a-1;u++){const f=e[u];n.j[f]?s=n.j[f]:(s=new rn(r),s.jr=i.slice(),n.j[f]=s),n=s}return s=new rn(t),s.jr=i.slice(),n.j[e[a-1]]=s,s}function Zv(n){const e=[],t=[];let r=0,i="0123456789";for(;r<n.length;){let s=0;for(;i.indexOf(n[r+s])>=0;)s++;if(s>0){e.push(t.join(""));for(let a=parseInt(n.substring(r,r+s),10);a>0;a--)t.pop();r+=s}else t.push(n[r]),r++}return e}const El={defaultProtocol:"http",events:null,format:e0,formatHref:e0,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Ch(n,e=null){let t=Go({},El);n&&(t=Go(t,n instanceof Ch?n.o:n));const r=t.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=i}Ch.prototype={o:El,ignoreTags:[],defaultRender(n){return n},check(n){return this.get("validate",n.toString(),n)},get(n,e,t){const r=e!=null;let i=this.o[n];return i&&(typeof i=="object"?(i=t.t in i?i[t.t]:El[n],typeof i=="function"&&r&&(i=i(e,t))):typeof i=="function"&&r&&(i=i(e,t.t,t)),i)},getObj(n,e,t){let r=this.o[n];return typeof r=="function"&&e!=null&&(r=r(e,t.t,t)),r},render(n){const e=n.render(this);return(this.get("render",null,n)||this.defaultRender)(e,n.t,n)}};function e0(n){return n}function lx(n,e){this.t="token",this.v=n,this.tk=e}lx.prototype={isLink:!1,toString(){return this.v},toHref(n){return this.toString()},toFormattedString(n){const e=this.toString(),t=n.get("truncate",e,this),r=n.get("format",e,this);return t&&r.length>t?r.substring(0,t)+"":r},toFormattedHref(n){return n.get("formatHref",this.toHref(n.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(n=El.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(n),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(n){return{type:this.t,value:this.toFormattedString(n),isLink:this.isLink,href:this.toFormattedHref(n),start:this.startIndex(),end:this.endIndex()}},validate(n){return n.get("validate",this.toString(),this)},render(n){const e=this,t=this.toHref(n.get("defaultProtocol")),r=n.get("formatHref",t,this),i=n.get("tagName",t,e),s=this.toFormattedString(n),a={},u=n.get("className",t,e),f=n.get("target",t,e),p=n.get("rel",t,e),h=n.getObj("attributes",t,e),g=n.getObj("events",t,e);return a.href=r,u&&(a.class=u),f&&(a.target=f),p&&(a.rel=p),h&&Go(a,h),{tagName:i,attributes:a,content:s,eventListeners:g}}};function kc(n,e){class t extends lx{constructor(i,s){super(i,s),this.t=n}}for(const r in e)t.prototype[r]=e[r];return t.t=n,t}const t0=kc("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),n0=kc("text"),oD=kc("nl"),ru=kc("url",{isLink:!0,toHref(n=El.defaultProtocol){return this.hasProtocol()?this.v:`${n}://${this.v}`},hasProtocol(){const n=this.tk;return n.length>=2&&n[0].t!==bl&&n[1].t===ii}}),En=n=>new rn(n);function sD({groups:n}){const e=n.domain.concat([Wu,qu,ni,Ku,Gu,Ju,Yu,Xu,On,yh,ul,Qu,Zu,ec,nr,nc,fl,tc]),t=[Uu,ii,wh,tr,xh,ul,cl,Sh,kh,Lu,Iu,ll,al,Du,Ru,Pu,Au,zu,_u,ju,Bu,Fu,Hu,$u,Vu],r=[Wu,Uu,qu,Ku,Gu,Ju,Yu,Xu,On,ll,al,ul,Qu,Zu,ec,cl,nr,nc,fl,tc],i=En(),s=ie(i,fl);Be(s,r,s),Be(s,n.domain,s);const a=En(),u=En(),f=En();Be(i,n.domain,a),Be(i,n.scheme,u),Be(i,n.slashscheme,f),Be(a,r,s),Be(a,n.domain,a);const p=ie(a,ni);ie(s,ni,p),ie(u,ni,p),ie(f,ni,p);const h=ie(s,tr);Be(h,r,s),Be(h,n.domain,s);const g=En();Be(p,n.domain,g),Be(g,n.domain,g);const v=ie(g,tr);Be(v,n.domain,g);const x=En(t0);Be(v,n.tld,x),Be(v,n.utld,x),ie(p,bl,x);const k=ie(g,On);ie(k,On,k),Be(k,n.domain,g),Be(x,n.domain,g),ie(x,tr,v),ie(x,On,k);const C=ie(x,ii);Be(C,n.numeric,t0);const w=ie(a,On),S=ie(a,tr);ie(w,On,w),Be(w,n.domain,a),Be(S,r,s),Be(S,n.domain,a);const b=En(ru);Be(S,n.tld,b),Be(S,n.utld,b),Be(b,n.domain,a),Be(b,r,s),ie(b,tr,S),ie(b,On,w),ie(b,ni,p);const O=ie(b,ii),E=En(ru);Be(O,n.numeric,E);const R=En(ru),N=En();Be(R,e,R),Be(R,t,N),Be(N,e,R),Be(N,t,N),ie(b,nr,R),ie(E,nr,R);const T=ie(u,ii),D=ie(f,ii),B=ie(D,nr),W=ie(B,nr);Be(u,n.domain,a),ie(u,tr,S),ie(u,On,w),Be(f,n.domain,a),ie(f,tr,S),ie(f,On,w),Be(T,n.domain,R),ie(T,nr,R),ie(T,cl,R),Be(W,n.domain,R),Be(W,e,R),ie(W,nr,R);const te=[[ll,al],[Ru,Du],[Pu,Au],[Lu,Iu],[zu,_u],[ju,Bu],[Fu,Hu],[$u,Vu]];for(let K=0;K<te.length;K++){const[re,fe]=te[K],he=ie(R,re);ie(N,re,he),ie(he,fe,R);const ce=En(ru);Be(he,e,ce);const le=En();Be(he,t),Be(ce,e,ce),Be(ce,t,le),Be(le,e,ce),Be(le,t,le),ie(ce,fe,R),ie(le,fe,R)}return ie(i,bl,b),ie(i,vh,oD),{start:i,tokens:ox}}function lD(n,e,t){let r=t.length,i=0,s=[],a=[];for(;i<r;){let u=n,f=null,p=null,h=0,g=null,v=-1;for(;i<r&&!(f=u.go(t[i].t));)a.push(t[i++]);for(;i<r&&(p=f||u.go(t[i].t));)f=null,u=p,u.accepts()?(v=0,g=u):v>=0&&v++,i++,h++;if(v<0)i-=h,i<r&&(a.push(t[i]),i++);else{a.length>0&&(s.push(Ud(n0,e,a)),a=[]),i-=v,h-=v;const x=g.t,k=t.slice(i-h,i);s.push(Ud(x,e,k))}}return a.length>0&&s.push(Ud(n0,e,a)),s}function Ud(n,e,t){const r=t[0].s,i=t[t.length-1].e,s=e.slice(r,i);return new n(s,t)}const aD=typeof console<"u"&&console&&console.warn||(()=>{}),uD="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",et={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function cD(){return rn.groups={},et.scanner=null,et.parser=null,et.tokenQueue=[],et.pluginQueue=[],et.customSchemes=[],et.initialized=!1,et}function r0(n,e=!1){if(et.initialized&&aD(`linkifyjs: already initialized - will not register custom scheme "${n}" ${uD}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(n))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);et.customSchemes.push([n,e])}function fD(){et.scanner=rD(et.customSchemes);for(let n=0;n<et.tokenQueue.length;n++)et.tokenQueue[n][1]({scanner:et.scanner});et.parser=sD(et.scanner.tokens);for(let n=0;n<et.pluginQueue.length;n++)et.pluginQueue[n][1]({scanner:et.scanner,parser:et.parser});return et.initialized=!0,et}function bh(n){return et.initialized||fD(),lD(et.parser.start,n,sx(et.scanner.start,n))}bh.scan=sx;function ax(n,e=null,t=null){if(e&&typeof e=="object"){if(t)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);t=e,e=null}const r=new Ch(t),i=bh(n),s=[];for(let a=0;a<i.length;a++){const u=i[a];u.isLink&&(!e||u.t===e)&&r.check(u)&&s.push(u.toFormattedObject(r))}return s}function dD(n){return n.length===1?n[0].isLink:n.length===3&&n[1].isLink?["()","[]"].includes(n[0].value+n[2].value):!1}function pD(n){return new Rt({key:new un("autolink"),appendTransaction:(e,t,r)=>{const i=e.some(p=>p.docChanged)&&!t.doc.eq(r.doc),s=e.some(p=>p.getMeta("preventAutolink"));if(!i||s)return;const{tr:a}=r,u=PO(t.doc,[...e]);if(FO(u).forEach(({newRange:p})=>{const h=LO(r.doc,p,x=>x.isTextblock);let g,v;if(h.length>1?(g=h[0],v=r.doc.textBetween(g.pos,g.pos+g.node.nodeSize,void 0," ")):h.length&&r.doc.textBetween(p.from,p.to," "," ").endsWith(" ")&&(g=h[0],v=r.doc.textBetween(g.pos,p.to,void 0," ")),g&&v){const x=v.split(" ").filter(S=>S!=="");if(x.length<=0)return!1;const k=x[x.length-1],C=g.pos+v.lastIndexOf(k);if(!k)return!1;const w=bh(k).map(S=>S.toObject(n.defaultProtocol));if(!dD(w))return!1;w.filter(S=>S.isLink).map(S=>({...S,from:C+S.start+1,to:C+S.end+1})).filter(S=>r.schema.marks.code?!r.doc.rangeHasMark(S.from,S.to,r.schema.marks.code):!0).filter(S=>n.validate(S.value)).filter(S=>n.shouldAutoLink(S.value)).forEach(S=>{rh(S.from,S.to,r.doc).some(b=>b.mark.type===n.type)||a.addMark(S.from,S.to,n.type.create({href:S.href}))})}}),!!a.steps.length)return a}})}function hD(n){return new Rt({key:new un("handleClickLink"),props:{handleClick:(e,t,r)=>{var i,s;if(r.button!==0||!e.editable)return!1;let a=r.target;const u=[];for(;a.nodeName!=="DIV";)u.push(a),a=a.parentNode;if(!u.find(v=>v.nodeName==="A"))return!1;const f=ww(e.state,n.type.name),p=r.target,h=(i=p==null?void 0:p.href)!==null&&i!==void 0?i:f.href,g=(s=p==null?void 0:p.target)!==null&&s!==void 0?s:f.target;return p&&h?(window.open(h,g),!0):!1}}})}function mD(n){return new Rt({key:new un("handlePasteLink"),props:{handlePaste:(e,t,r)=>{const{state:i}=e,{selection:s}=i,{empty:a}=s;if(a)return!1;let u="";r.content.forEach(p=>{u+=p.textContent});const f=ax(u,{defaultProtocol:n.defaultProtocol}).find(p=>p.isLink&&p.value===u);return!u||!f?!1:n.editor.commands.setMark(n.type,{href:f.href})}}})}const gD=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function _i(n,e){const t=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&t.push(i)}),!n||n.replace(gD,"").match(new RegExp(`^(?:(?:${t.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}const yD=Un.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(n=>{if(typeof n=="string"){r0(n);return}r0(n.scheme,n.optionalSlashes)})},onDestroy(){cD()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(n,e)=>!!_i(n,e.protocols),validate:n=>!!n,shouldAutoLink:n=>!!n}},addAttributes(){return{href:{default:null,parseHTML(n){return n.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:n=>{const e=n.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:t=>!!_i(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:n}){return this.options.isAllowedUri(n.href,{defaultValidate:e=>!!_i(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",nt(this.options.HTMLAttributes,n),0]:["a",nt(this.options.HTMLAttributes,{...n,href:""}),0]},addCommands(){return{setLink:n=>({chain:e})=>{const{href:t}=n;return this.options.isAllowedUri(t,{defaultValidate:r=>!!_i(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,n).setMeta("preventAutolink",!0).run():!1},toggleLink:n=>({chain:e})=>{const{href:t}=n;return this.options.isAllowedUri(t,{defaultValidate:r=>!!_i(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().toggleMark(this.name,n,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run():!1},unsetLink:()=>({chain:n})=>n().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[to({find:n=>{const e=[];if(n){const{protocols:t,defaultProtocol:r}=this.options,i=ax(n).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:a=>!!_i(a,t),protocols:t,defaultProtocol:r}));i.length&&i.forEach(s=>e.push({text:s.value,data:{href:s.href},index:s.start}))}return e},type:this.type,getAttributes:n=>{var e;return{href:(e=n.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const n=[],{protocols:e,defaultProtocol:t}=this.options;return this.options.autolink&&n.push(pD({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!_i(i,e),protocols:e,defaultProtocol:t}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&n.push(hD({type:this.type})),this.options.linkOnPaste&&n.push(mD({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),n}}),vD=Nt.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:n=>{const e=n.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:n=>n.textAlign?{style:`text-align: ${n.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:n=>({commands:e})=>this.options.alignments.includes(n)?this.options.types.map(t=>e.updateAttributes(t,{textAlign:n})).every(t=>t):!1,unsetTextAlign:()=>({commands:n})=>this.options.types.map(e=>n.resetAttributes(e,"textAlign")).every(e=>e),toggleTextAlign:n=>({editor:e,commands:t})=>this.options.alignments.includes(n)?e.isActive({textAlign:n})?t.unsetTextAlign():t.setTextAlign(n):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),wD=n=>{if(!n.children.length)return;const e=n.querySelectorAll("span");e&&e.forEach(t=>{var r,i;const s=t.getAttribute("style"),a=(i=(r=t.parentElement)===null||r===void 0?void 0:r.closest("span"))===null||i===void 0?void 0:i.getAttribute("style");t.setAttribute("style",`${a};${s}`)})},xD=Un.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!1}},parseHTML(){return[{tag:"span",getAttrs:n=>n.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&wD(n),{}):!1}]},renderHTML({HTMLAttributes:n}){return["span",nt(this.options.HTMLAttributes,n),0]},addCommands(){return{removeEmptyTextStyle:()=>({tr:n})=>{const{selection:e}=n;return n.doc.nodesBetween(e.from,e.to,(t,r)=>{if(t.isTextblock)return!0;t.marks.filter(i=>i.type===this.type).some(i=>Object.values(i.attrs).some(s=>!!s))||n.removeMark(r,r+t.nodeSize,this.type)}),!0}}}}),SD=({editor:n,node:e,updateAttributes:t,selected:r,deleteNode:i})=>{const{src:s,width:a}=e.attrs;return s?_.jsxs(Ko,{className:"content-item-wrapper",children:[_.jsx("div",{className:"drag-handle",contentEditable:!1,children:_.jsx(Sc,{size:18})}),_.jsxs("div",{className:"iframe-container",style:{width:a},children:[r&&_.jsx(gh,{editor:n,node:e,updateAttributes:t,deleteNode:i}),_.jsxs("div",{className:"iframe-wrapper",children:[_.jsx("div",{className:"click-interceptor","data-drag-handle":!0,contentEditable:!1}),_.jsx("iframe",{src:s,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})]})]})]}):_.jsx(Ko,{children:_.jsxs("div",{style:{border:"2px solid red",padding:"10px",backgroundColor:"#fff0f0"},children:[_.jsx("h4",{children:"Iframe  : SRC  "}),_.jsxs("p",{children:[" : ",JSON.stringify(e.attrs)]})]})})},kD=xt.create({name:"iframe",group:"block",atom:!0,draggable:!0,addAttributes(){return{src:{default:null},width:{default:"100%"},frameborder:{default:0},allowfullscreen:{default:!0},allow:{default:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"},referrerpolicy:{default:"strict-origin-when-cross-origin"}}},parseHTML(){return[{tag:"iframe"}]},renderHTML({HTMLAttributes:n}){return["iframe",nt(n)]},addNodeView(){return Al(SD)},addCommands(){return{setIframe:n=>({commands:e})=>e.insertContent({type:this.name,attrs:n})}}}),CD=({editor:n,node:e,updateAttributes:t,selected:r,deleteNode:i})=>{const{src:s,width:a,textAlign:u="left"}=e.attrs,p=(()=>{switch(u){case"center":return"has-text-align-center";case"right":return"has-text-align-right";default:return"has-text-align-left"}})(),h=v=>{console.error("Video failed to load:",s,v)},g=()=>{console.log("Video loaded successfully:",s)};return _.jsxs(Ko,{className:`content-item-wrapper ${p}`,children:[_.jsx("div",{className:"drag-handle",contentEditable:!1,children:_.jsx(Sc,{size:18})}),_.jsxs("div",{className:`video-container ${p}`,style:{width:a},children:[r&&_.jsx(gh,{editor:n,node:e,updateAttributes:t,deleteNode:i}),_.jsxs("div",{className:"video-wrapper",children:[_.jsx("div",{className:"click-interceptor",contentEditable:!1,"data-drag-handle":!0}),_.jsx("video",{src:s,controls:!0,onError:h,onLoadedData:g,preload:"metadata"})]})]})]})},bD=xt.create({name:"videoPlayer",group:"block",atom:!0,draggable:!0,addAttributes(){return{src:{default:null},width:{default:"100%"},textAlign:{default:"left"}}},parseHTML(){return[{tag:"video"}]},renderHTML({HTMLAttributes:n}){return["video",nt(n,{controls:"true"})]},addNodeView(){return Al(CD)},addCommands(){return{setVideo:n=>({commands:e})=>e.insertContent({type:this.name,attrs:n})}}}),ED=({node:n})=>{const{src:e}=n.attrs;return _.jsxs(Ko,{className:"content-item-wrapper",children:[_.jsx("div",{className:"drag-handle",contentEditable:!1,"data-drag-handle":!0,children:_.jsx(Sc,{size:18})}),_.jsx("div",{className:"audio-wrapper",children:_.jsx("audio",{src:e,controls:!0})})]})},OD=xt.create({name:"audioPlayer",group:"block",atom:!0,draggable:!0,addAttributes(){return{src:{default:null},width:{default:"100%"}}},parseHTML(){return[{tag:"audio"}]},renderHTML({HTMLAttributes:n}){return["audio",nt(n,{controls:"true"})]},addNodeView(){return Al(ED)},addCommands(){return{setAudio:n=>({commands:e})=>e.insertContent({type:this.name,attrs:n})}}});var qd={exports:{}},Bs={},Qs={exports:{}},MD=Qs.exports,i0;function Eh(){return i0||(i0=1,function(n,e){(function(t,r){r(e)})(MD,function(t){function r(Y){return function(Me,I,j,$,J,ge,ae){return Y(Me,I,ae)}}function i(Y){return function(Me,I,j,$){if(!Me||!I||typeof Me!="object"||typeof I!="object")return Y(Me,I,j,$);var J=$.get(Me),ge=$.get(I);if(J&&ge)return J===I&&ge===Me;$.set(Me,I),$.set(I,Me);var ae=Y(Me,I,j,$);return $.delete(Me),$.delete(I),ae}}function s(Y,ue){var Me={};for(var I in Y)Me[I]=Y[I];for(var I in ue)Me[I]=ue[I];return Me}function a(Y){return Y.constructor===Object||Y.constructor==null}function u(Y){return typeof Y.then=="function"}function f(Y,ue){return Y===ue||Y!==Y&&ue!==ue}var p="[object Arguments]",h="[object Boolean]",g="[object Date]",v="[object RegExp]",x="[object Map]",k="[object Number]",C="[object Object]",w="[object Set]",S="[object String]",b=Object.prototype.toString;function O(Y){var ue=Y.areArraysEqual,Me=Y.areDatesEqual,I=Y.areMapsEqual,j=Y.areObjectsEqual,$=Y.areRegExpsEqual,J=Y.areSetsEqual,ge=Y.createIsNestedEqual,ae=ge(Ce);function Ce(ye,Te,_e){if(ye===Te)return!0;if(!ye||!Te||typeof ye!="object"||typeof Te!="object")return ye!==ye&&Te!==Te;if(a(ye)&&a(Te))return j(ye,Te,ae,_e);var rt=Array.isArray(ye),st=Array.isArray(Te);if(rt||st)return rt===st&&ue(ye,Te,ae,_e);var Ge=b.call(ye);return Ge!==b.call(Te)?!1:Ge===g?Me(ye,Te,ae,_e):Ge===v?$(ye,Te,ae,_e):Ge===x?I(ye,Te,ae,_e):Ge===w?J(ye,Te,ae,_e):Ge===C||Ge===p?u(ye)||u(Te)?!1:j(ye,Te,ae,_e):Ge===h||Ge===k||Ge===S?f(ye.valueOf(),Te.valueOf()):!1}return Ce}function E(Y,ue,Me,I){var j=Y.length;if(ue.length!==j)return!1;for(;j-- >0;)if(!Me(Y[j],ue[j],j,j,Y,ue,I))return!1;return!0}var R=i(E);function N(Y,ue){return f(Y.valueOf(),ue.valueOf())}function T(Y,ue,Me,I){var j=Y.size===ue.size;if(!j)return!1;if(!Y.size)return!0;var $={},J=0;return Y.forEach(function(ge,ae){if(j){var Ce=!1,ye=0;ue.forEach(function(Te,_e){!Ce&&!$[ye]&&(Ce=Me(ae,_e,J,ye,Y,ue,I)&&Me(ge,Te,ae,_e,Y,ue,I))&&($[ye]=!0),ye++}),J++,j=Ce}}),j}var D=i(T),B="_owner",W=Object.prototype.hasOwnProperty;function te(Y,ue,Me,I){var j=Object.keys(Y),$=j.length;if(Object.keys(ue).length!==$)return!1;for(var J;$-- >0;){if(J=j[$],J===B){var ge=!!Y.$$typeof,ae=!!ue.$$typeof;if((ge||ae)&&ge!==ae)return!1}if(!W.call(ue,J)||!Me(Y[J],ue[J],J,J,Y,ue,I))return!1}return!0}var K=i(te);function re(Y,ue){return Y.source===ue.source&&Y.flags===ue.flags}function fe(Y,ue,Me,I){var j=Y.size===ue.size;if(!j)return!1;if(!Y.size)return!0;var $={};return Y.forEach(function(J,ge){if(j){var ae=!1,Ce=0;ue.forEach(function(ye,Te){!ae&&!$[Ce]&&(ae=Me(J,ye,ge,Te,Y,ue,I))&&($[Ce]=!0),Ce++}),j=ae}}),j}var he=i(fe),ce=Object.freeze({areArraysEqual:E,areDatesEqual:N,areMapsEqual:T,areObjectsEqual:te,areRegExpsEqual:re,areSetsEqual:fe,createIsNestedEqual:r}),le=Object.freeze({areArraysEqual:R,areDatesEqual:N,areMapsEqual:D,areObjectsEqual:K,areRegExpsEqual:re,areSetsEqual:he,createIsNestedEqual:r}),G=O(ce);function se(Y,ue){return G(Y,ue,void 0)}var Z=O(s(ce,{createIsNestedEqual:function(){return f}}));function A(Y,ue){return Z(Y,ue,void 0)}var U=O(le);function ke(Y,ue){return U(Y,ue,new WeakMap)}var Ee=O(s(le,{createIsNestedEqual:function(){return f}}));function De(Y,ue){return Ee(Y,ue,new WeakMap)}function Ie(Y){return O(s(ce,Y(ce)))}function $e(Y){var ue=O(s(le,Y(le)));return function(Me,I,j){return j===void 0&&(j=new WeakMap),ue(Me,I,j)}}t.circularDeepEqual=ke,t.circularShallowEqual=De,t.createCustomCircularEqual=$e,t.createCustomEqual=Ie,t.deepEqual=se,t.sameValueZeroEqual=f,t.shallowEqual=A,Object.defineProperty(t,"__esModule",{value:!0})})}(Qs,Qs.exports)),Qs.exports}var iu={exports:{}},o0;function Oh(){if(o0)return iu.exports;o0=1;function n(t){var r,i,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(r=0;r<a;r++)t[r]&&(i=n(t[r]))&&(s&&(s+=" "),s+=i)}else for(i in t)t[i]&&(s&&(s+=" "),s+=i);return s}function e(){for(var t,r,i=0,s="",a=arguments.length;i<a;i++)(t=arguments[i])&&(r=n(t))&&(s&&(s+=" "),s+=r);return s}return iu.exports=e,iu.exports.clsx=e,iu.exports}var We={},Kd,s0;function TD(){return s0||(s0=1,Kd=function(e,t,r){return e===t?!0:e.className===t.className&&r(e.style,t.style)&&e.width===t.width&&e.autoSize===t.autoSize&&e.cols===t.cols&&e.draggableCancel===t.draggableCancel&&e.draggableHandle===t.draggableHandle&&r(e.verticalCompact,t.verticalCompact)&&r(e.compactType,t.compactType)&&r(e.layout,t.layout)&&r(e.margin,t.margin)&&r(e.containerPadding,t.containerPadding)&&e.rowHeight===t.rowHeight&&e.maxRows===t.maxRows&&e.isBounded===t.isBounded&&e.isDraggable===t.isDraggable&&e.isResizable===t.isResizable&&e.allowOverlap===t.allowOverlap&&e.preventCollision===t.preventCollision&&e.useCSSTransforms===t.useCSSTransforms&&e.transformScale===t.transformScale&&e.isDroppable===t.isDroppable&&r(e.resizeHandles,t.resizeHandles)&&r(e.resizeHandle,t.resizeHandle)&&e.onLayoutChange===t.onLayoutChange&&e.onDragStart===t.onDragStart&&e.onDrag===t.onDrag&&e.onDragStop===t.onDragStop&&e.onResizeStart===t.onResizeStart&&e.onResize===t.onResize&&e.onResizeStop===t.onResizeStop&&e.onDrop===t.onDrop&&r(e.droppingItem,t.droppingItem)&&r(e.innerRef,t.innerRef)}),Kd}var l0;function Xo(){if(l0)return We;l0=1,Object.defineProperty(We,"__esModule",{value:!0}),We.bottom=r,We.childrenEqual=f,We.cloneLayout=i,We.cloneLayoutItem=u,We.collides=h,We.compact=g,We.compactItem=k,We.compactType=Y,We.correctBounds=C,We.fastPositionEqual=p,We.fastRGLPropsEqual=void 0,We.getAllCollisions=b,We.getFirstCollision=S,We.getLayoutItem=w,We.getStatics=O,We.modifyLayout=s,We.moveElement=E,We.moveElementAwayFromCollision=R,We.noop=void 0,We.perc=N,We.resizeItemInDirection=Z,We.setTopLeft=U,We.setTransform=A,We.sortLayoutItems=ke,We.sortLayoutItemsByColRow=De,We.sortLayoutItemsByRowCol=Ee,We.synchronizeLayoutWithChildren=Ie,We.validateLayout=$e,We.withLayoutItem=a;var n=Eh(),e=t(an());function t(I){return I&&I.__esModule?I:{default:I}}function r(I){let j=0,$;for(let J=0,ge=I.length;J<ge;J++)$=I[J].y+I[J].h,$>j&&(j=$);return j}function i(I){const j=Array(I.length);for(let $=0,J=I.length;$<J;$++)j[$]=u(I[$]);return j}function s(I,j){const $=Array(I.length);for(let J=0,ge=I.length;J<ge;J++)j.i===I[J].i?$[J]=j:$[J]=I[J];return $}function a(I,j,$){let J=w(I,j);return J?(J=$(u(J)),I=s(I,J),[I,J]):[I,null]}function u(I){return{w:I.w,h:I.h,x:I.x,y:I.y,i:I.i,minW:I.minW,maxW:I.maxW,minH:I.minH,maxH:I.maxH,moved:!!I.moved,static:!!I.static,isDraggable:I.isDraggable,isResizable:I.isResizable,resizeHandles:I.resizeHandles,isBounded:I.isBounded}}function f(I,j){return(0,n.deepEqual)(e.default.Children.map(I,$=>$==null?void 0:$.key),e.default.Children.map(j,$=>$==null?void 0:$.key))&&(0,n.deepEqual)(e.default.Children.map(I,$=>$==null?void 0:$.props["data-grid"]),e.default.Children.map(j,$=>$==null?void 0:$.props["data-grid"]))}We.fastRGLPropsEqual=TD();function p(I,j){return I.left===j.left&&I.top===j.top&&I.width===j.width&&I.height===j.height}function h(I,j){return!(I.i===j.i||I.x+I.w<=j.x||I.x>=j.x+j.w||I.y+I.h<=j.y||I.y>=j.y+j.h)}function g(I,j,$,J){const ge=O(I),ae=ke(I,j),Ce=Array(I.length);for(let ye=0,Te=ae.length;ye<Te;ye++){let _e=u(ae[ye]);_e.static||(_e=k(ge,_e,j,$,ae,J),ge.push(_e)),Ce[I.indexOf(ae[ye])]=_e,_e.moved=!1}return Ce}const v={x:"w",y:"h"};function x(I,j,$,J){const ge=v[J];j[J]+=1;const ae=I.map(Ce=>Ce.i).indexOf(j.i);for(let Ce=ae+1;Ce<I.length;Ce++){const ye=I[Ce];if(!ye.static){if(ye.y>j.y+j.h)break;h(j,ye)&&x(I,ye,$+j[ge],J)}}j[J]=$}function k(I,j,$,J,ge,ae){const Ce=$==="vertical",ye=$==="horizontal";if(Ce)for(j.y=Math.min(r(I),j.y);j.y>0&&!S(I,j);)j.y--;else if(ye)for(;j.x>0&&!S(I,j);)j.x--;let Te;for(;(Te=S(I,j))&&!($===null&&ae);)if(ye?x(ge,j,Te.x+Te.w,"x"):x(ge,j,Te.y+Te.h,"y"),ye&&j.x+j.w>J)for(j.x=J-j.w,j.y++;j.x>0&&!S(I,j);)j.x--;return j.y=Math.max(j.y,0),j.x=Math.max(j.x,0),j}function C(I,j){const $=O(I);for(let J=0,ge=I.length;J<ge;J++){const ae=I[J];if(ae.x+ae.w>j.cols&&(ae.x=j.cols-ae.w),ae.x<0&&(ae.x=0,ae.w=j.cols),!ae.static)$.push(ae);else for(;S($,ae);)ae.y++}return I}function w(I,j){for(let $=0,J=I.length;$<J;$++)if(I[$].i===j)return I[$]}function S(I,j){for(let $=0,J=I.length;$<J;$++)if(h(I[$],j))return I[$]}function b(I,j){return I.filter($=>h($,j))}function O(I){return I.filter(j=>j.static)}function E(I,j,$,J,ge,ae,Ce,ye,Te){if(j.static&&j.isDraggable!==!0||j.y===J&&j.x===$)return I;`${j.i}${String($)}${String(J)}${j.x}${j.y}`;const _e=j.x,rt=j.y;typeof $=="number"&&(j.x=$),typeof J=="number"&&(j.y=J),j.moved=!0;let st=ke(I,Ce);(Ce==="vertical"&&typeof J=="number"?rt>=J:Ce==="horizontal"&&typeof $=="number"?_e>=$:!1)&&(st=st.reverse());const Ut=b(st,j),vn=Ut.length>0;if(vn&&Te)return i(I);if(vn&&ae)return`${j.i}`,j.x=_e,j.y=rt,j.moved=!1,I;for(let Ln=0,qn=Ut.length;Ln<qn;Ln++){const Dt=Ut[Ln];`${j.i}${j.x}${j.y}${Dt.i}${Dt.x}${Dt.y}`,!Dt.moved&&(Dt.static?I=R(I,Dt,j,ge,Ce):I=R(I,j,Dt,ge,Ce))}return I}function R(I,j,$,J,ge,ae){const Ce=ge==="horizontal",ye=ge==="vertical",Te=j.static;if(J){J=!1;const st={x:Ce?Math.max(j.x-$.w,0):$.x,y:ye?Math.max(j.y-$.h,0):$.y,w:$.w,h:$.h,i:"-1"},Ge=S(I,st),Ut=Ge&&Ge.y+Ge.h>j.y,vn=Ge&&j.x+j.w>Ge.x;if(Ge){if(Ut&&ye)return E(I,$,void 0,j.y+1,J,Te,ge);if(Ut&&ge==null)return j.y=$.y,$.y=$.y+$.h,I;if(vn&&Ce)return E(I,j,$.x,void 0,J,Te,ge)}else return`${$.i}${st.x}${st.y}`,E(I,$,Ce?st.x:void 0,ye?st.y:void 0,J,Te,ge)}const _e=Ce?$.x+1:void 0,rt=ye?$.y+1:void 0;return _e==null&&rt==null?I:E(I,$,Ce?$.x+1:void 0,ye?$.y+1:void 0,J,Te,ge)}function N(I){return I*100+"%"}const T=(I,j,$,J)=>I+$>J?j:$,D=(I,j,$)=>I<0?j:$,B=I=>Math.max(0,I),W=I=>Math.max(0,I),te=(I,j,$)=>{let{left:J,height:ge,width:ae}=j;const Ce=I.top-(ge-I.height);return{left:J,width:ae,height:D(Ce,I.height,ge),top:W(Ce)}},K=(I,j,$)=>{let{top:J,left:ge,height:ae,width:Ce}=j;return{top:J,height:ae,width:T(I.left,I.width,Ce,$),left:B(ge)}},re=(I,j,$)=>{let{top:J,height:ge,width:ae}=j;const Ce=I.left-(ae-I.width);return{height:ge,width:Ce<0?I.width:T(I.left,I.width,ae,$),top:W(J),left:B(Ce)}},fe=(I,j,$)=>{let{top:J,left:ge,height:ae,width:Ce}=j;return{width:Ce,left:ge,height:D(J,I.height,ae),top:W(J)}},se={n:te,ne:function(){return te(arguments.length<=0?void 0:arguments[0],K(...arguments))},e:K,se:function(){return fe(arguments.length<=0?void 0:arguments[0],K(...arguments))},s:fe,sw:function(){return fe(arguments.length<=0?void 0:arguments[0],re(...arguments))},w:re,nw:function(){return te(arguments.length<=0?void 0:arguments[0],re(...arguments))}};function Z(I,j,$,J){const ge=se[I];return ge?ge(j,{...j,...$},J):$}function A(I){let{top:j,left:$,width:J,height:ge}=I;const ae=`translate(${$}px,${j}px)`;return{transform:ae,WebkitTransform:ae,MozTransform:ae,msTransform:ae,OTransform:ae,width:`${J}px`,height:`${ge}px`,position:"absolute"}}function U(I){let{top:j,left:$,width:J,height:ge}=I;return{top:`${j}px`,left:`${$}px`,width:`${J}px`,height:`${ge}px`,position:"absolute"}}function ke(I,j){return j==="horizontal"?De(I):j==="vertical"?Ee(I):I}function Ee(I){return I.slice(0).sort(function(j,$){return j.y>$.y||j.y===$.y&&j.x>$.x?1:j.y===$.y&&j.x===$.x?0:-1})}function De(I){return I.slice(0).sort(function(j,$){return j.x>$.x||j.x===$.x&&j.y>$.y?1:-1})}function Ie(I,j,$,J,ge){I=I||[];const ae=[];e.default.Children.forEach(j,ye=>{if((ye==null?void 0:ye.key)==null)return;const Te=w(I,String(ye.key)),_e=ye.props["data-grid"];Te&&_e==null?ae.push(u(Te)):_e?ae.push(u({..._e,i:ye.key})):ae.push(u({w:1,h:1,x:0,y:r(ae),i:String(ye.key)}))});const Ce=C(ae,{cols:$});return ge?Ce:g(Ce,J,$)}function $e(I){let j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Layout";const $=["x","y","w","h"];if(!Array.isArray(I))throw new Error(j+" must be an array!");for(let J=0,ge=I.length;J<ge;J++){const ae=I[J];for(let Ce=0;Ce<$.length;Ce++){const ye=$[Ce],Te=ae[ye];if(typeof Te!="number"||Number.isNaN(Te))throw new Error(`ReactGridLayout: ${j}[${J}].${ye} must be a number! Received: ${Te} (${typeof Te})`)}if(typeof ae.i<"u"&&typeof ae.i!="string")throw new Error(`ReactGridLayout: ${j}[${J}].i must be a string! Received: ${ae.i} (${typeof ae.i})`)}}function Y(I){const{verticalCompact:j,compactType:$}=I||{};return j===!1?null:$}function ue(){}const Me=()=>{};return We.noop=Me,We}var kr={},a0;function Mh(){if(a0)return kr;a0=1,Object.defineProperty(kr,"__esModule",{value:!0}),kr.calcGridColWidth=n,kr.calcGridItemPosition=t,kr.calcGridItemWHPx=e,kr.calcWH=i,kr.calcXY=r,kr.clamp=s;function n(a){const{margin:u,containerPadding:f,containerWidth:p,cols:h}=a;return(p-u[0]*(h-1)-f[0]*2)/h}function e(a,u,f){return Number.isFinite(a)?Math.round(u*a+Math.max(0,a-1)*f):a}function t(a,u,f,p,h,g){const{margin:v,containerPadding:x,rowHeight:k}=a,C=n(a),w={};return g&&g.resizing?(w.width=Math.round(g.resizing.width),w.height=Math.round(g.resizing.height)):(w.width=e(p,C,v[0]),w.height=e(h,k,v[1])),g&&g.dragging?(w.top=Math.round(g.dragging.top),w.left=Math.round(g.dragging.left)):g&&g.resizing&&typeof g.resizing.top=="number"&&typeof g.resizing.left=="number"?(w.top=Math.round(g.resizing.top),w.left=Math.round(g.resizing.left)):(w.top=Math.round((k+v[1])*f+x[1]),w.left=Math.round((C+v[0])*u+x[0])),w}function r(a,u,f,p,h){const{margin:g,containerPadding:v,cols:x,rowHeight:k,maxRows:C}=a,w=n(a);let S=Math.round((f-v[0])/(w+g[0])),b=Math.round((u-v[1])/(k+g[1]));return S=s(S,0,x-p),b=s(b,0,C-h),{x:S,y:b}}function i(a,u,f,p,h,g){const{margin:v,maxRows:x,cols:k,rowHeight:C}=a,w=n(a);let S=Math.round((u+v[0])/(w+v[0])),b=Math.round((f+v[1])/(C+v[1])),O=s(S,0,k-p),E=s(b,0,x-h);return["sw","w","nw"].indexOf(g)!==-1&&(O=s(S,0,k)),["nw","n","ne"].indexOf(g)!==-1&&(E=s(b,0,x)),{w:O,h:E}}function s(a,u,f){return Math.max(Math.min(a,f),u)}return kr}var Fs={},Gd={exports:{}},Jd,u0;function ND(){if(u0)return Jd;u0=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Jd=n,Jd}var Yd,c0;function RD(){if(c0)return Yd;c0=1;var n=ND();function e(){}function t(){}return t.resetWarningCache=e,Yd=function(){function r(a,u,f,p,h,g){if(g!==n){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},Yd}var f0;function vi(){return f0||(f0=1,Gd.exports=RD()()),Gd.exports}var Hs={exports:{}},Xd={};function ux(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=ux(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function d0(){for(var n,e,t=0,r="";t<arguments.length;)(n=arguments[t++])&&(e=ux(n))&&(r&&(r+=" "),r+=e);return r}const DD=Object.freeze(Object.defineProperty({__proto__:null,clsx:d0,default:d0},Symbol.toStringTag,{value:"Module"})),PD=I0(DD);var dt={},Xr={},p0;function Cc(){if(p0)return Xr;p0=1,Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.dontSetMe=i,Xr.findInArray=n,Xr.int=r,Xr.isFunction=e,Xr.isNum=t;function n(s,a){for(let u=0,f=s.length;u<f;u++)if(a.apply(a,[s[u],u,s]))return s[u]}function e(s){return typeof s=="function"||Object.prototype.toString.call(s)==="[object Function]"}function t(s){return typeof s=="number"&&!isNaN(s)}function r(s){return parseInt(s,10)}function i(s,a,u){if(s[a])return new Error("Invalid prop ".concat(a," passed to ").concat(u," - do not set this, set it on the child."))}return Xr}var Qr={},h0;function AD(){if(h0)return Qr;h0=1,Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.browserPrefixToKey=t,Qr.browserPrefixToStyle=r,Qr.default=void 0,Qr.getPrefix=e;const n=["Moz","Webkit","O","ms"];function e(){var s;let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const u=(s=window.document)===null||s===void 0||(s=s.documentElement)===null||s===void 0?void 0:s.style;if(!u||a in u)return"";for(let f=0;f<n.length;f++)if(t(a,n[f])in u)return n[f];return""}function t(s,a){return a?"".concat(a).concat(i(s)):s}function r(s,a){return a?"-".concat(a.toLowerCase(),"-").concat(s):s}function i(s){let a="",u=!0;for(let f=0;f<s.length;f++)u?(a+=s[f].toUpperCase(),u=!1):s[f]==="-"?u=!0:a+=s[f];return a}return Qr.default=e(),Qr}var m0;function Th(){if(m0)return dt;m0=1,Object.defineProperty(dt,"__esModule",{value:!0}),dt.addClassName=R,dt.addEvent=u,dt.addUserSelectStyles=O,dt.createCSSTransform=k,dt.createSVGTransform=C,dt.getTouch=S,dt.getTouchIdentifier=b,dt.getTranslation=w,dt.innerHeight=g,dt.innerWidth=v,dt.matchesSelector=s,dt.matchesSelectorAndParentsTo=a,dt.offsetXYFromParent=x,dt.outerHeight=p,dt.outerWidth=h,dt.removeClassName=N,dt.removeEvent=f,dt.removeUserSelectStyles=E;var n=Cc(),e=r(AD());function t(T){if(typeof WeakMap!="function")return null;var D=new WeakMap,B=new WeakMap;return(t=function(W){return W?B:D})(T)}function r(T,D){if(T&&T.__esModule)return T;if(T===null||typeof T!="object"&&typeof T!="function")return{default:T};var B=t(D);if(B&&B.has(T))return B.get(T);var W={},te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var K in T)if(K!=="default"&&Object.prototype.hasOwnProperty.call(T,K)){var re=te?Object.getOwnPropertyDescriptor(T,K):null;re&&(re.get||re.set)?Object.defineProperty(W,K,re):W[K]=T[K]}return W.default=T,B&&B.set(T,W),W}let i="";function s(T,D){return i||(i=(0,n.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(B){return(0,n.isFunction)(T[B])})),(0,n.isFunction)(T[i])?T[i](D):!1}function a(T,D,B){let W=T;do{if(s(W,D))return!0;if(W===B)return!1;W=W.parentNode}while(W);return!1}function u(T,D,B,W){if(!T)return;const te={capture:!0,...W};T.addEventListener?T.addEventListener(D,B,te):T.attachEvent?T.attachEvent("on"+D,B):T["on"+D]=B}function f(T,D,B,W){if(!T)return;const te={capture:!0,...W};T.removeEventListener?T.removeEventListener(D,B,te):T.detachEvent?T.detachEvent("on"+D,B):T["on"+D]=null}function p(T){let D=T.clientHeight;const B=T.ownerDocument.defaultView.getComputedStyle(T);return D+=(0,n.int)(B.borderTopWidth),D+=(0,n.int)(B.borderBottomWidth),D}function h(T){let D=T.clientWidth;const B=T.ownerDocument.defaultView.getComputedStyle(T);return D+=(0,n.int)(B.borderLeftWidth),D+=(0,n.int)(B.borderRightWidth),D}function g(T){let D=T.clientHeight;const B=T.ownerDocument.defaultView.getComputedStyle(T);return D-=(0,n.int)(B.paddingTop),D-=(0,n.int)(B.paddingBottom),D}function v(T){let D=T.clientWidth;const B=T.ownerDocument.defaultView.getComputedStyle(T);return D-=(0,n.int)(B.paddingLeft),D-=(0,n.int)(B.paddingRight),D}function x(T,D,B){const te=D===D.ownerDocument.body?{left:0,top:0}:D.getBoundingClientRect(),K=(T.clientX+D.scrollLeft-te.left)/B,re=(T.clientY+D.scrollTop-te.top)/B;return{x:K,y:re}}function k(T,D){const B=w(T,D,"px");return{[(0,e.browserPrefixToKey)("transform",e.default)]:B}}function C(T,D){return w(T,D,"")}function w(T,D,B){let{x:W,y:te}=T,K="translate(".concat(W).concat(B,",").concat(te).concat(B,")");if(D){const re="".concat(typeof D.x=="string"?D.x:D.x+B),fe="".concat(typeof D.y=="string"?D.y:D.y+B);K="translate(".concat(re,", ").concat(fe,")")+K}return K}function S(T,D){return T.targetTouches&&(0,n.findInArray)(T.targetTouches,B=>D===B.identifier)||T.changedTouches&&(0,n.findInArray)(T.changedTouches,B=>D===B.identifier)}function b(T){if(T.targetTouches&&T.targetTouches[0])return T.targetTouches[0].identifier;if(T.changedTouches&&T.changedTouches[0])return T.changedTouches[0].identifier}function O(T){if(!T)return;let D=T.getElementById("react-draggable-style-el");D||(D=T.createElement("style"),D.type="text/css",D.id="react-draggable-style-el",D.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,D.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,T.getElementsByTagName("head")[0].appendChild(D)),T.body&&R(T.body,"react-draggable-transparent-selection")}function E(T){if(T)try{if(T.body&&N(T.body,"react-draggable-transparent-selection"),T.selection)T.selection.empty();else{const D=(T.defaultView||window).getSelection();D&&D.type!=="Caret"&&D.removeAllRanges()}}catch{}}function R(T,D){T.classList?T.classList.add(D):T.className.match(new RegExp("(?:^|\\s)".concat(D,"(?!\\S)")))||(T.className+=" ".concat(D))}function N(T,D){T.classList?T.classList.remove(D):T.className=T.className.replace(new RegExp("(?:^|\\s)".concat(D,"(?!\\S)"),"g"),"")}return dt}var Zn={},g0;function cx(){if(g0)return Zn;g0=1,Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.canDragX=i,Zn.canDragY=s,Zn.createCoreData=u,Zn.createDraggableData=f,Zn.getBoundPosition=t,Zn.getControlPosition=a,Zn.snapToGrid=r;var n=Cc(),e=Th();function t(g,v,x){if(!g.props.bounds)return[v,x];let{bounds:k}=g.props;k=typeof k=="string"?k:p(k);const C=h(g);if(typeof k=="string"){const{ownerDocument:w}=C,S=w.defaultView;let b;if(k==="parent"?b=C.parentNode:b=w.querySelector(k),!(b instanceof S.HTMLElement))throw new Error('Bounds selector "'+k+'" could not find an element.');const O=b,E=S.getComputedStyle(C),R=S.getComputedStyle(O);k={left:-C.offsetLeft+(0,n.int)(R.paddingLeft)+(0,n.int)(E.marginLeft),top:-C.offsetTop+(0,n.int)(R.paddingTop)+(0,n.int)(E.marginTop),right:(0,e.innerWidth)(O)-(0,e.outerWidth)(C)-C.offsetLeft+(0,n.int)(R.paddingRight)-(0,n.int)(E.marginRight),bottom:(0,e.innerHeight)(O)-(0,e.outerHeight)(C)-C.offsetTop+(0,n.int)(R.paddingBottom)-(0,n.int)(E.marginBottom)}}return(0,n.isNum)(k.right)&&(v=Math.min(v,k.right)),(0,n.isNum)(k.bottom)&&(x=Math.min(x,k.bottom)),(0,n.isNum)(k.left)&&(v=Math.max(v,k.left)),(0,n.isNum)(k.top)&&(x=Math.max(x,k.top)),[v,x]}function r(g,v,x){const k=Math.round(v/g[0])*g[0],C=Math.round(x/g[1])*g[1];return[k,C]}function i(g){return g.props.axis==="both"||g.props.axis==="x"}function s(g){return g.props.axis==="both"||g.props.axis==="y"}function a(g,v,x){const k=typeof v=="number"?(0,e.getTouch)(g,v):null;if(typeof v=="number"&&!k)return null;const C=h(x),w=x.props.offsetParent||C.offsetParent||C.ownerDocument.body;return(0,e.offsetXYFromParent)(k||g,w,x.props.scale)}function u(g,v,x){const k=!(0,n.isNum)(g.lastX),C=h(g);return k?{node:C,deltaX:0,deltaY:0,lastX:v,lastY:x,x:v,y:x}:{node:C,deltaX:v-g.lastX,deltaY:x-g.lastY,lastX:g.lastX,lastY:g.lastY,x:v,y:x}}function f(g,v){const x=g.props.scale;return{node:v.node,x:g.state.x+v.deltaX/x,y:g.state.y+v.deltaY/x,deltaX:v.deltaX/x,deltaY:v.deltaY/x,lastX:g.state.x,lastY:g.state.y}}function p(g){return{left:g.left,top:g.top,right:g.right,bottom:g.bottom}}function h(g){const v=g.findDOMNode();if(!v)throw new Error("<DraggableCore>: Unmounted during event!");return v}return Zn}var $s={},ou={},y0;function fx(){if(y0)return ou;y0=1,Object.defineProperty(ou,"__esModule",{value:!0}),ou.default=n;function n(){}return ou}var v0;function LD(){if(v0)return $s;v0=1,Object.defineProperty($s,"__esModule",{value:!0}),$s.default=void 0;var n=p(an()),e=u(vi()),t=u(Ol()),r=Th(),i=cx(),s=Cc(),a=u(fx());function u(w){return w&&w.__esModule?w:{default:w}}function f(w){if(typeof WeakMap!="function")return null;var S=new WeakMap,b=new WeakMap;return(f=function(O){return O?b:S})(w)}function p(w,S){if(w&&w.__esModule)return w;if(w===null||typeof w!="object"&&typeof w!="function")return{default:w};var b=f(S);if(b&&b.has(w))return b.get(w);var O={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var R in w)if(R!=="default"&&Object.prototype.hasOwnProperty.call(w,R)){var N=E?Object.getOwnPropertyDescriptor(w,R):null;N&&(N.get||N.set)?Object.defineProperty(O,R,N):O[R]=w[R]}return O.default=w,b&&b.set(w,O),O}function h(w,S,b){return S=g(S),S in w?Object.defineProperty(w,S,{value:b,enumerable:!0,configurable:!0,writable:!0}):w[S]=b,w}function g(w){var S=v(w,"string");return typeof S=="symbol"?S:String(S)}function v(w,S){if(typeof w!="object"||w===null)return w;var b=w[Symbol.toPrimitive];if(b!==void 0){var O=b.call(w,S);if(typeof O!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(w)}const x={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let k=x.mouse,C=class extends n.Component{constructor(){super(...arguments),h(this,"dragging",!1),h(this,"lastX",NaN),h(this,"lastY",NaN),h(this,"touchIdentifier",null),h(this,"mounted",!1),h(this,"handleDragStart",S=>{if(this.props.onMouseDown(S),!this.props.allowAnyClick&&typeof S.button=="number"&&S.button!==0)return!1;const b=this.findDOMNode();if(!b||!b.ownerDocument||!b.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:O}=b;if(this.props.disabled||!(S.target instanceof O.defaultView.Node)||this.props.handle&&!(0,r.matchesSelectorAndParentsTo)(S.target,this.props.handle,b)||this.props.cancel&&(0,r.matchesSelectorAndParentsTo)(S.target,this.props.cancel,b))return;S.type==="touchstart"&&S.preventDefault();const E=(0,r.getTouchIdentifier)(S);this.touchIdentifier=E;const R=(0,i.getControlPosition)(S,E,this);if(R==null)return;const{x:N,y:T}=R,D=(0,i.createCoreData)(this,N,T);(0,a.default)("DraggableCore: handleDragStart: %j",D),(0,a.default)("calling",this.props.onStart),!(this.props.onStart(S,D)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,r.addUserSelectStyles)(O),this.dragging=!0,this.lastX=N,this.lastY=T,(0,r.addEvent)(O,k.move,this.handleDrag),(0,r.addEvent)(O,k.stop,this.handleDragStop))}),h(this,"handleDrag",S=>{const b=(0,i.getControlPosition)(S,this.touchIdentifier,this);if(b==null)return;let{x:O,y:E}=b;if(Array.isArray(this.props.grid)){let T=O-this.lastX,D=E-this.lastY;if([T,D]=(0,i.snapToGrid)(this.props.grid,T,D),!T&&!D)return;O=this.lastX+T,E=this.lastY+D}const R=(0,i.createCoreData)(this,O,E);if((0,a.default)("DraggableCore: handleDrag: %j",R),this.props.onDrag(S,R)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const D=document.createEvent("MouseEvents");D.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(D)}return}this.lastX=O,this.lastY=E}),h(this,"handleDragStop",S=>{if(!this.dragging)return;const b=(0,i.getControlPosition)(S,this.touchIdentifier,this);if(b==null)return;let{x:O,y:E}=b;if(Array.isArray(this.props.grid)){let D=O-this.lastX||0,B=E-this.lastY||0;[D,B]=(0,i.snapToGrid)(this.props.grid,D,B),O=this.lastX+D,E=this.lastY+B}const R=(0,i.createCoreData)(this,O,E);if(this.props.onStop(S,R)===!1||this.mounted===!1)return!1;const T=this.findDOMNode();T&&this.props.enableUserSelectHack&&(0,r.removeUserSelectStyles)(T.ownerDocument),(0,a.default)("DraggableCore: handleDragStop: %j",R),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,T&&((0,a.default)("DraggableCore: Removing handlers"),(0,r.removeEvent)(T.ownerDocument,k.move,this.handleDrag),(0,r.removeEvent)(T.ownerDocument,k.stop,this.handleDragStop))}),h(this,"onMouseDown",S=>(k=x.mouse,this.handleDragStart(S))),h(this,"onMouseUp",S=>(k=x.mouse,this.handleDragStop(S))),h(this,"onTouchStart",S=>(k=x.touch,this.handleDragStart(S))),h(this,"onTouchEnd",S=>(k=x.touch,this.handleDragStop(S)))}componentDidMount(){this.mounted=!0;const S=this.findDOMNode();S&&(0,r.addEvent)(S,x.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const S=this.findDOMNode();if(S){const{ownerDocument:b}=S;(0,r.removeEvent)(b,x.mouse.move,this.handleDrag),(0,r.removeEvent)(b,x.touch.move,this.handleDrag),(0,r.removeEvent)(b,x.mouse.stop,this.handleDragStop),(0,r.removeEvent)(b,x.touch.stop,this.handleDragStop),(0,r.removeEvent)(S,x.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,r.removeUserSelectStyles)(b)}}findDOMNode(){var S,b;return(S=this.props)!==null&&S!==void 0&&S.nodeRef?(b=this.props)===null||b===void 0||(b=b.nodeRef)===null||b===void 0?void 0:b.current:t.default.findDOMNode(this)}render(){return n.cloneElement(n.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return $s.default=C,h(C,"displayName","DraggableCore"),h(C,"propTypes",{allowAnyClick:e.default.bool,children:e.default.node.isRequired,disabled:e.default.bool,enableUserSelectHack:e.default.bool,offsetParent:function(w,S){if(w[S]&&w[S].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:e.default.arrayOf(e.default.number),handle:e.default.string,cancel:e.default.string,nodeRef:e.default.object,onStart:e.default.func,onDrag:e.default.func,onStop:e.default.func,onMouseDown:e.default.func,scale:e.default.number,className:s.dontSetMe,style:s.dontSetMe,transform:s.dontSetMe}),h(C,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),$s}var w0;function ID(){return w0||(w0=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"DraggableCore",{enumerable:!0,get:function(){return f.default}}),n.default=void 0;var e=v(an()),t=h(vi()),r=h(Ol()),i=h(PD),s=Th(),a=cx(),u=Cc(),f=h(LD()),p=h(fx());function h(b){return b&&b.__esModule?b:{default:b}}function g(b){if(typeof WeakMap!="function")return null;var O=new WeakMap,E=new WeakMap;return(g=function(R){return R?E:O})(b)}function v(b,O){if(b&&b.__esModule)return b;if(b===null||typeof b!="object"&&typeof b!="function")return{default:b};var E=g(O);if(E&&E.has(b))return E.get(b);var R={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var T in b)if(T!=="default"&&Object.prototype.hasOwnProperty.call(b,T)){var D=N?Object.getOwnPropertyDescriptor(b,T):null;D&&(D.get||D.set)?Object.defineProperty(R,T,D):R[T]=b[T]}return R.default=b,E&&E.set(b,R),R}function x(){return x=Object.assign?Object.assign.bind():function(b){for(var O=1;O<arguments.length;O++){var E=arguments[O];for(var R in E)Object.prototype.hasOwnProperty.call(E,R)&&(b[R]=E[R])}return b},x.apply(this,arguments)}function k(b,O,E){return O=C(O),O in b?Object.defineProperty(b,O,{value:E,enumerable:!0,configurable:!0,writable:!0}):b[O]=E,b}function C(b){var O=w(b,"string");return typeof O=="symbol"?O:String(O)}function w(b,O){if(typeof b!="object"||b===null)return b;var E=b[Symbol.toPrimitive];if(E!==void 0){var R=E.call(b,O);if(typeof R!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(b)}class S extends e.Component{static getDerivedStateFromProps(O,E){let{position:R}=O,{prevPropsPosition:N}=E;return R&&(!N||R.x!==N.x||R.y!==N.y)?((0,p.default)("Draggable: getDerivedStateFromProps %j",{position:R,prevPropsPosition:N}),{x:R.x,y:R.y,prevPropsPosition:{...R}}):null}constructor(O){super(O),k(this,"onDragStart",(E,R)=>{if((0,p.default)("Draggable: onDragStart: %j",R),this.props.onStart(E,(0,a.createDraggableData)(this,R))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),k(this,"onDrag",(E,R)=>{if(!this.state.dragging)return!1;(0,p.default)("Draggable: onDrag: %j",R);const N=(0,a.createDraggableData)(this,R),T={x:N.x,y:N.y,slackX:0,slackY:0};if(this.props.bounds){const{x:B,y:W}=T;T.x+=this.state.slackX,T.y+=this.state.slackY;const[te,K]=(0,a.getBoundPosition)(this,T.x,T.y);T.x=te,T.y=K,T.slackX=this.state.slackX+(B-T.x),T.slackY=this.state.slackY+(W-T.y),N.x=T.x,N.y=T.y,N.deltaX=T.x-this.state.x,N.deltaY=T.y-this.state.y}if(this.props.onDrag(E,N)===!1)return!1;this.setState(T)}),k(this,"onDragStop",(E,R)=>{if(!this.state.dragging||this.props.onStop(E,(0,a.createDraggableData)(this,R))===!1)return!1;(0,p.default)("Draggable: onDragStop: %j",R);const T={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:B,y:W}=this.props.position;T.x=B,T.y=W}this.setState(T)}),this.state={dragging:!1,dragged:!1,x:O.position?O.position.x:O.defaultPosition.x,y:O.position?O.position.y:O.defaultPosition.y,prevPropsPosition:{...O.position},slackX:0,slackY:0,isElementSVG:!1},O.position&&!(O.onDrag||O.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var O,E;return(O=(E=this.props)===null||E===void 0||(E=E.nodeRef)===null||E===void 0?void 0:E.current)!==null&&O!==void 0?O:r.default.findDOMNode(this)}render(){const{axis:O,bounds:E,children:R,defaultPosition:N,defaultClassName:T,defaultClassNameDragging:D,defaultClassNameDragged:B,position:W,positionOffset:te,scale:K,...re}=this.props;let fe={},he=null;const le=!!!W||this.state.dragging,G=W||N,se={x:(0,a.canDragX)(this)&&le?this.state.x:G.x,y:(0,a.canDragY)(this)&&le?this.state.y:G.y};this.state.isElementSVG?he=(0,s.createSVGTransform)(se,te):fe=(0,s.createCSSTransform)(se,te);const Z=(0,i.default)(R.props.className||"",T,{[D]:this.state.dragging,[B]:this.state.dragged});return e.createElement(f.default,x({},re,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(R),{className:Z,style:{...R.props.style,...fe},transform:he}))}}n.default=S,k(S,"displayName","Draggable"),k(S,"propTypes",{...f.default.propTypes,axis:t.default.oneOf(["both","x","y","none"]),bounds:t.default.oneOfType([t.default.shape({left:t.default.number,right:t.default.number,top:t.default.number,bottom:t.default.number}),t.default.string,t.default.oneOf([!1])]),defaultClassName:t.default.string,defaultClassNameDragging:t.default.string,defaultClassNameDragged:t.default.string,defaultPosition:t.default.shape({x:t.default.number,y:t.default.number}),positionOffset:t.default.shape({x:t.default.oneOfType([t.default.number,t.default.string]),y:t.default.oneOfType([t.default.number,t.default.string])}),position:t.default.shape({x:t.default.number,y:t.default.number}),className:u.dontSetMe,style:u.dontSetMe,transform:u.dontSetMe}),k(S,"defaultProps",{...f.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})}(Xd)),Xd}var x0;function Nh(){if(x0)return Hs.exports;x0=1;const{default:n,DraggableCore:e}=ID();return Hs.exports=n,Hs.exports.default=n,Hs.exports.DraggableCore=e,Hs.exports}var Vs={exports:{}},Ws={},su={},S0;function zD(){if(S0)return su;S0=1,su.__esModule=!0,su.cloneElement=u;var n=e(an());function e(f){return f&&f.__esModule?f:{default:f}}function t(f,p){var h=Object.keys(f);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(f);p&&(g=g.filter(function(v){return Object.getOwnPropertyDescriptor(f,v).enumerable})),h.push.apply(h,g)}return h}function r(f){for(var p=1;p<arguments.length;p++){var h=arguments[p]!=null?arguments[p]:{};p%2?t(Object(h),!0).forEach(function(g){i(f,g,h[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(h)):t(Object(h)).forEach(function(g){Object.defineProperty(f,g,Object.getOwnPropertyDescriptor(h,g))})}return f}function i(f,p,h){return p=s(p),p in f?Object.defineProperty(f,p,{value:h,enumerable:!0,configurable:!0,writable:!0}):f[p]=h,f}function s(f){var p=a(f,"string");return typeof p=="symbol"?p:String(p)}function a(f,p){if(typeof f!="object"||f===null)return f;var h=f[Symbol.toPrimitive];if(h!==void 0){var g=h.call(f,p);if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(f)}function u(f,p){return p.style&&f.props.style&&(p.style=r(r({},f.props.style),p.style)),p.className&&f.props.className&&(p.className=f.props.className+" "+p.className),n.default.cloneElement(f,p)}return su}var Us={},k0;function dx(){if(k0)return Us;k0=1,Us.__esModule=!0,Us.resizableProps=void 0;var n=e(vi());Nh();function e(r){return r&&r.__esModule?r:{default:r}}var t={axis:n.default.oneOf(["both","x","y","none"]),className:n.default.string,children:n.default.element.isRequired,draggableOpts:n.default.shape({allowAnyClick:n.default.bool,cancel:n.default.string,children:n.default.node,disabled:n.default.bool,enableUserSelectHack:n.default.bool,offsetParent:n.default.node,grid:n.default.arrayOf(n.default.number),handle:n.default.string,nodeRef:n.default.object,onStart:n.default.func,onDrag:n.default.func,onStop:n.default.func,onMouseDown:n.default.func,scale:n.default.number}),height:function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];var u=s[0];if(u.axis==="both"||u.axis==="y"){var f;return(f=n.default.number).isRequired.apply(f,s)}return n.default.number.apply(n.default,s)},handle:n.default.oneOfType([n.default.node,n.default.func]),handleSize:n.default.arrayOf(n.default.number),lockAspectRatio:n.default.bool,maxConstraints:n.default.arrayOf(n.default.number),minConstraints:n.default.arrayOf(n.default.number),onResizeStop:n.default.func,onResizeStart:n.default.func,onResize:n.default.func,resizeHandles:n.default.arrayOf(n.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:n.default.number,width:function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];var u=s[0];if(u.axis==="both"||u.axis==="x"){var f;return(f=n.default.number).isRequired.apply(f,s)}return n.default.number.apply(n.default,s)}};return Us.resizableProps=t,Us}var C0;function px(){if(C0)return Ws;C0=1,Ws.__esModule=!0,Ws.default=void 0;var n=a(an()),e=Nh(),t=zD(),r=dx(),i=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function s(S){if(typeof WeakMap!="function")return null;var b=new WeakMap,O=new WeakMap;return(s=function(R){return R?O:b})(S)}function a(S,b){if(S&&S.__esModule)return S;if(S===null||typeof S!="object"&&typeof S!="function")return{default:S};var O=s(b);if(O&&O.has(S))return O.get(S);var E={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var N in S)if(N!=="default"&&Object.prototype.hasOwnProperty.call(S,N)){var T=R?Object.getOwnPropertyDescriptor(S,N):null;T&&(T.get||T.set)?Object.defineProperty(E,N,T):E[N]=S[N]}return E.default=S,O&&O.set(S,E),E}function u(){return u=Object.assign?Object.assign.bind():function(S){for(var b=1;b<arguments.length;b++){var O=arguments[b];for(var E in O)Object.prototype.hasOwnProperty.call(O,E)&&(S[E]=O[E])}return S},u.apply(this,arguments)}function f(S,b){if(S==null)return{};var O={},E=Object.keys(S),R,N;for(N=0;N<E.length;N++)R=E[N],!(b.indexOf(R)>=0)&&(O[R]=S[R]);return O}function p(S,b){var O=Object.keys(S);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(S);b&&(E=E.filter(function(R){return Object.getOwnPropertyDescriptor(S,R).enumerable})),O.push.apply(O,E)}return O}function h(S){for(var b=1;b<arguments.length;b++){var O=arguments[b]!=null?arguments[b]:{};b%2?p(Object(O),!0).forEach(function(E){g(S,E,O[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(O)):p(Object(O)).forEach(function(E){Object.defineProperty(S,E,Object.getOwnPropertyDescriptor(O,E))})}return S}function g(S,b,O){return b=v(b),b in S?Object.defineProperty(S,b,{value:O,enumerable:!0,configurable:!0,writable:!0}):S[b]=O,S}function v(S){var b=x(S,"string");return typeof b=="symbol"?b:String(b)}function x(S,b){if(typeof S!="object"||S===null)return S;var O=S[Symbol.toPrimitive];if(O!==void 0){var E=O.call(S,b);if(typeof E!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(S)}function k(S,b){S.prototype=Object.create(b.prototype),S.prototype.constructor=S,C(S,b)}function C(S,b){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,R){return E.__proto__=R,E},C(S,b)}var w=function(S){k(b,S);function b(){for(var E,R=arguments.length,N=new Array(R),T=0;T<R;T++)N[T]=arguments[T];return E=S.call.apply(S,[this].concat(N))||this,E.handleRefs={},E.lastHandleRect=null,E.slack=null,E}var O=b.prototype;return O.componentWillUnmount=function(){this.resetData()},O.resetData=function(){this.lastHandleRect=this.slack=null},O.runConstraints=function(R,N){var T=this.props,D=T.minConstraints,B=T.maxConstraints,W=T.lockAspectRatio;if(!D&&!B&&!W)return[R,N];if(W){var te=this.props.width/this.props.height,K=R-this.props.width,re=N-this.props.height;Math.abs(K)>Math.abs(re*te)?N=R/te:R=N*te}var fe=R,he=N,ce=this.slack||[0,0],le=ce[0],G=ce[1];return R+=le,N+=G,D&&(R=Math.max(D[0],R),N=Math.max(D[1],N)),B&&(R=Math.min(B[0],R),N=Math.min(B[1],N)),this.slack=[le+(fe-R),G+(he-N)],[R,N]},O.resizeHandler=function(R,N){var T=this;return function(D,B){var W=B.node,te=B.deltaX,K=B.deltaY;R==="onResizeStart"&&T.resetData();var re=(T.props.axis==="both"||T.props.axis==="x")&&N!=="n"&&N!=="s",fe=(T.props.axis==="both"||T.props.axis==="y")&&N!=="e"&&N!=="w";if(!(!re&&!fe)){var he=N[0],ce=N[N.length-1],le=W.getBoundingClientRect();if(T.lastHandleRect!=null){if(ce==="w"){var G=le.left-T.lastHandleRect.left;te+=G}if(he==="n"){var se=le.top-T.lastHandleRect.top;K+=se}}T.lastHandleRect=le,ce==="w"&&(te=-te),he==="n"&&(K=-K);var Z=T.props.width+(re?te/T.props.transformScale:0),A=T.props.height+(fe?K/T.props.transformScale:0),U=T.runConstraints(Z,A);Z=U[0],A=U[1];var ke=Z!==T.props.width||A!==T.props.height,Ee=typeof T.props[R]=="function"?T.props[R]:null,De=R==="onResize"&&!ke;Ee&&!De&&(D.persist==null||D.persist(),Ee(D,{node:W,size:{width:Z,height:A},handle:N})),R==="onResizeStop"&&T.resetData()}}},O.renderResizeHandle=function(R,N){var T=this.props.handle;if(!T)return n.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+R,ref:N});if(typeof T=="function")return T(R,N);var D=typeof T.type=="string",B=h({ref:N},D?{}:{handleAxis:R});return n.cloneElement(T,B)},O.render=function(){var R=this,N=this.props,T=N.children,D=N.className,B=N.draggableOpts;N.width,N.height,N.handle,N.handleSize,N.lockAspectRatio,N.axis,N.minConstraints,N.maxConstraints,N.onResize,N.onResizeStop,N.onResizeStart;var W=N.resizeHandles;N.transformScale;var te=f(N,i);return(0,t.cloneElement)(T,h(h({},te),{},{className:(D?D+" ":"")+"react-resizable",children:[].concat(T.props.children,W.map(function(K){var re,fe=(re=R.handleRefs[K])!=null?re:R.handleRefs[K]=n.createRef();return n.createElement(e.DraggableCore,u({},B,{nodeRef:fe,key:"resizableHandle-"+K,onStop:R.resizeHandler("onResizeStop",K),onStart:R.resizeHandler("onResizeStart",K),onDrag:R.resizeHandler("onResize",K)}),R.renderResizeHandle(K,fe))}))}))},b}(n.Component);return Ws.default=w,w.propTypes=r.resizableProps,w.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1},Ws}var qs={},b0;function _D(){if(b0)return qs;b0=1,qs.__esModule=!0,qs.default=void 0;var n=u(an()),e=s(vi()),t=s(px()),r=dx(),i=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function s(b){return b&&b.__esModule?b:{default:b}}function a(b){if(typeof WeakMap!="function")return null;var O=new WeakMap,E=new WeakMap;return(a=function(N){return N?E:O})(b)}function u(b,O){if(b&&b.__esModule)return b;if(b===null||typeof b!="object"&&typeof b!="function")return{default:b};var E=a(O);if(E&&E.has(b))return E.get(b);var R={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var T in b)if(T!=="default"&&Object.prototype.hasOwnProperty.call(b,T)){var D=N?Object.getOwnPropertyDescriptor(b,T):null;D&&(D.get||D.set)?Object.defineProperty(R,T,D):R[T]=b[T]}return R.default=b,E&&E.set(b,R),R}function f(){return f=Object.assign?Object.assign.bind():function(b){for(var O=1;O<arguments.length;O++){var E=arguments[O];for(var R in E)Object.prototype.hasOwnProperty.call(E,R)&&(b[R]=E[R])}return b},f.apply(this,arguments)}function p(b,O){var E=Object.keys(b);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(b);O&&(R=R.filter(function(N){return Object.getOwnPropertyDescriptor(b,N).enumerable})),E.push.apply(E,R)}return E}function h(b){for(var O=1;O<arguments.length;O++){var E=arguments[O]!=null?arguments[O]:{};O%2?p(Object(E),!0).forEach(function(R){g(b,R,E[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(E)):p(Object(E)).forEach(function(R){Object.defineProperty(b,R,Object.getOwnPropertyDescriptor(E,R))})}return b}function g(b,O,E){return O=v(O),O in b?Object.defineProperty(b,O,{value:E,enumerable:!0,configurable:!0,writable:!0}):b[O]=E,b}function v(b){var O=x(b,"string");return typeof O=="symbol"?O:String(O)}function x(b,O){if(typeof b!="object"||b===null)return b;var E=b[Symbol.toPrimitive];if(E!==void 0){var R=E.call(b,O);if(typeof R!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(b)}function k(b,O){if(b==null)return{};var E={},R=Object.keys(b),N,T;for(T=0;T<R.length;T++)N=R[T],!(O.indexOf(N)>=0)&&(E[N]=b[N]);return E}function C(b,O){b.prototype=Object.create(O.prototype),b.prototype.constructor=b,w(b,O)}function w(b,O){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(R,N){return R.__proto__=N,R},w(b,O)}var S=function(b){C(O,b);function O(){for(var R,N=arguments.length,T=new Array(N),D=0;D<N;D++)T[D]=arguments[D];return R=b.call.apply(b,[this].concat(T))||this,R.state={width:R.props.width,height:R.props.height,propsWidth:R.props.width,propsHeight:R.props.height},R.onResize=function(B,W){var te=W.size;R.props.onResize?(B.persist==null||B.persist(),R.setState(te,function(){return R.props.onResize&&R.props.onResize(B,W)})):R.setState(te)},R}O.getDerivedStateFromProps=function(N,T){return T.propsWidth!==N.width||T.propsHeight!==N.height?{width:N.width,height:N.height,propsWidth:N.width,propsHeight:N.height}:null};var E=O.prototype;return E.render=function(){var N=this.props,T=N.handle,D=N.handleSize;N.onResize;var B=N.onResizeStart,W=N.onResizeStop,te=N.draggableOpts,K=N.minConstraints,re=N.maxConstraints,fe=N.lockAspectRatio,he=N.axis;N.width,N.height;var ce=N.resizeHandles,le=N.style,G=N.transformScale,se=k(N,i);return n.createElement(t.default,{axis:he,draggableOpts:te,handle:T,handleSize:D,height:this.state.height,lockAspectRatio:fe,maxConstraints:re,minConstraints:K,onResizeStart:B,onResize:this.onResize,onResizeStop:W,resizeHandles:ce,transformScale:G,width:this.state.width},n.createElement("div",f({},se,{style:h(h({},le),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},O}(n.Component);return qs.default=S,S.propTypes=h(h({},r.resizableProps),{},{children:e.default.element}),qs}var E0;function jD(){return E0||(E0=1,Vs.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},Vs.exports.Resizable=px().default,Vs.exports.ResizableBox=_D().default),Vs.exports}var Cr={},O0;function hx(){if(O0)return Cr;O0=1,Object.defineProperty(Cr,"__esModule",{value:!0}),Cr.resizeHandleType=Cr.resizeHandleAxesType=Cr.default=void 0;var n=t(vi()),e=t(an());function t(s){return s&&s.__esModule?s:{default:s}}const r=Cr.resizeHandleAxesType=n.default.arrayOf(n.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),i=Cr.resizeHandleType=n.default.oneOfType([n.default.node,n.default.func]);return Cr.default={className:n.default.string,style:n.default.object,width:n.default.number,autoSize:n.default.bool,cols:n.default.number,draggableCancel:n.default.string,draggableHandle:n.default.string,verticalCompact:function(s){s.verticalCompact},compactType:n.default.oneOf(["vertical","horizontal"]),layout:function(s){var a=s.layout;a!==void 0&&Xo().validateLayout(a,"layout")},margin:n.default.arrayOf(n.default.number),containerPadding:n.default.arrayOf(n.default.number),rowHeight:n.default.number,maxRows:n.default.number,isBounded:n.default.bool,isDraggable:n.default.bool,isResizable:n.default.bool,allowOverlap:n.default.bool,preventCollision:n.default.bool,useCSSTransforms:n.default.bool,transformScale:n.default.number,isDroppable:n.default.bool,resizeHandles:r,resizeHandle:i,onLayoutChange:n.default.func,onDragStart:n.default.func,onDrag:n.default.func,onDragStop:n.default.func,onResizeStart:n.default.func,onResize:n.default.func,onResizeStop:n.default.func,onDrop:n.default.func,droppingItem:n.default.shape({i:n.default.string.isRequired,w:n.default.number.isRequired,h:n.default.number.isRequired}),children:function(s,a){const u=s[a],f={};e.default.Children.forEach(u,function(p){if((p==null?void 0:p.key)!=null){if(f[p.key])throw new Error('Duplicate child key "'+p.key+'" found! This will cause problems in ReactGridLayout.');f[p.key]=!0}})},innerRef:n.default.any},Cr}var M0;function BD(){if(M0)return Fs;M0=1,Object.defineProperty(Fs,"__esModule",{value:!0}),Fs.default=void 0;var n=p(an()),e=Ol(),t=p(vi()),r=Nh(),i=jD(),s=Xo(),a=Mh(),u=hx(),f=p(Oh());function p(k){return k&&k.__esModule?k:{default:k}}function h(k,C,w){return C=g(C),C in k?Object.defineProperty(k,C,{value:w,enumerable:!0,configurable:!0,writable:!0}):k[C]=w,k}function g(k){var C=v(k,"string");return typeof C=="symbol"?C:String(C)}function v(k,C){if(typeof k!="object"||k===null)return k;var w=k[Symbol.toPrimitive];if(w!==void 0){var S=w.call(k,C);if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(C==="string"?String:Number)(k)}let x=class extends n.default.Component{constructor(){super(...arguments),h(this,"state",{resizing:null,dragging:null,className:""}),h(this,"elementRef",n.default.createRef()),h(this,"onDragStart",(C,w)=>{let{node:S}=w;const{onDragStart:b,transformScale:O}=this.props;if(!b)return;const E={top:0,left:0},{offsetParent:R}=S;if(!R)return;const N=R.getBoundingClientRect(),T=S.getBoundingClientRect(),D=T.left/O,B=N.left/O,W=T.top/O,te=N.top/O;E.left=D-B+R.scrollLeft,E.top=W-te+R.scrollTop,this.setState({dragging:E});const{x:K,y:re}=(0,a.calcXY)(this.getPositionParams(),E.top,E.left,this.props.w,this.props.h);return b.call(this,this.props.i,K,re,{e:C,node:S,newPosition:E})}),h(this,"onDrag",(C,w,S)=>{let{node:b,deltaX:O,deltaY:E}=w;const{onDrag:R}=this.props;if(!R)return;if(!this.state.dragging)throw new Error("onDrag called before onDragStart.");let N=this.state.dragging.top+E,T=this.state.dragging.left+O;const{isBounded:D,i:B,w:W,h:te,containerWidth:K}=this.props,re=this.getPositionParams();if(D){const{offsetParent:le}=b;if(le){const{margin:G,rowHeight:se,containerPadding:Z}=this.props,A=le.clientHeight-(0,a.calcGridItemWHPx)(te,se,G[1]);N=(0,a.clamp)(N-Z[1],0,A);const U=(0,a.calcGridColWidth)(re),ke=K-(0,a.calcGridItemWHPx)(W,U,G[0]);T=(0,a.clamp)(T-Z[0],0,ke)}}const fe={top:N,left:T};S?this.setState({dragging:fe}):(0,e.flushSync)(()=>{this.setState({dragging:fe})});const{x:he,y:ce}=(0,a.calcXY)(re,N,T,W,te);return R.call(this,B,he,ce,{e:C,node:b,newPosition:fe})}),h(this,"onDragStop",(C,w)=>{let{node:S}=w;const{onDragStop:b}=this.props;if(!b)return;if(!this.state.dragging)throw new Error("onDragEnd called before onDragStart.");const{w:O,h:E,i:R}=this.props,{left:N,top:T}=this.state.dragging,D={top:T,left:N};this.setState({dragging:null});const{x:B,y:W}=(0,a.calcXY)(this.getPositionParams(),T,N,O,E);return b.call(this,R,B,W,{e:C,node:S,newPosition:D})}),h(this,"onResizeStop",(C,w,S)=>this.onResizeHandler(C,w,S,"onResizeStop")),h(this,"onResizeStart",(C,w,S)=>this.onResizeHandler(C,w,S,"onResizeStart")),h(this,"onResize",(C,w,S)=>this.onResizeHandler(C,w,S,"onResize"))}shouldComponentUpdate(C,w){if(this.props.children!==C.children||this.props.droppingPosition!==C.droppingPosition)return!0;const S=(0,a.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),b=(0,a.calcGridItemPosition)(this.getPositionParams(C),C.x,C.y,C.w,C.h,w);return!(0,s.fastPositionEqual)(S,b)||this.props.useCSSTransforms!==C.useCSSTransforms}componentDidMount(){this.moveDroppingItem({})}componentDidUpdate(C){this.moveDroppingItem(C)}moveDroppingItem(C){const{droppingPosition:w}=this.props;if(!w)return;const S=this.elementRef.current;if(!S)return;const b=C.droppingPosition||{left:0,top:0},{dragging:O}=this.state,E=O&&w.left!==b.left||w.top!==b.top;if(!O)this.onDragStart(w.e,{node:S,deltaX:w.left,deltaY:w.top});else if(E){const R=w.left-O.left,N=w.top-O.top;this.onDrag(w.e,{node:S,deltaX:R,deltaY:N},!0)}}getPositionParams(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return{cols:C.cols,containerPadding:C.containerPadding,containerWidth:C.containerWidth,margin:C.margin,maxRows:C.maxRows,rowHeight:C.rowHeight}}createStyle(C){const{usePercentages:w,containerWidth:S,useCSSTransforms:b}=this.props;let O;return b?O=(0,s.setTransform)(C):(O=(0,s.setTopLeft)(C),w&&(O.left=(0,s.perc)(C.left/S),O.width=(0,s.perc)(C.width/S))),O}mixinDraggable(C,w){return n.default.createElement(r.DraggableCore,{disabled:!w,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},C)}curryResizeHandler(C,w){return(S,b)=>w(S,b,C)}mixinResizable(C,w,S){const{cols:b,minW:O,minH:E,maxW:R,maxH:N,transformScale:T,resizeHandles:D,resizeHandle:B}=this.props,W=this.getPositionParams(),te=(0,a.calcGridItemPosition)(W,0,0,b,0).width,K=(0,a.calcGridItemPosition)(W,0,0,O,E),re=(0,a.calcGridItemPosition)(W,0,0,R,N),fe=[K.width,K.height],he=[Math.min(re.width,te),Math.min(re.height,1/0)];return n.default.createElement(i.Resizable,{draggableOpts:{disabled:!S},className:S?void 0:"react-resizable-hide",width:w.width,height:w.height,minConstraints:fe,maxConstraints:he,onResizeStop:this.curryResizeHandler(w,this.onResizeStop),onResizeStart:this.curryResizeHandler(w,this.onResizeStart),onResize:this.curryResizeHandler(w,this.onResize),transformScale:T,resizeHandles:D,handle:B},C)}onResizeHandler(C,w,S,b){let{node:O,size:E,handle:R}=w;const N=this.props[b];if(!N)return;const{x:T,y:D,i:B,maxH:W,minH:te,containerWidth:K}=this.props,{minW:re,maxW:fe}=this.props;let he=E;O&&(he=(0,s.resizeItemInDirection)(R,S,E,K),(0,e.flushSync)(()=>{this.setState({resizing:b==="onResizeStop"?null:he})}));let{w:ce,h:le}=(0,a.calcWH)(this.getPositionParams(),he.width,he.height,T,D,R);ce=(0,a.clamp)(ce,Math.max(re,1),fe),le=(0,a.clamp)(le,te,W),N.call(this,B,ce,le,{e:C,node:O,size:he,handle:R})}render(){const{x:C,y:w,w:S,h:b,isDraggable:O,isResizable:E,droppingPosition:R,useCSSTransforms:N}=this.props,T=(0,a.calcGridItemPosition)(this.getPositionParams(),C,w,S,b,this.state),D=n.default.Children.only(this.props.children);let B=n.default.cloneElement(D,{ref:this.elementRef,className:(0,f.default)("react-grid-item",D.props.className,this.props.className,{static:this.props.static,resizing:!!this.state.resizing,"react-draggable":O,"react-draggable-dragging":!!this.state.dragging,dropping:!!R,cssTransforms:N}),style:{...this.props.style,...D.props.style,...this.createStyle(T)}});return B=this.mixinResizable(B,T,E),B=this.mixinDraggable(B,O),B}};return Fs.default=x,h(x,"propTypes",{children:t.default.element,cols:t.default.number.isRequired,containerWidth:t.default.number.isRequired,rowHeight:t.default.number.isRequired,margin:t.default.array.isRequired,maxRows:t.default.number.isRequired,containerPadding:t.default.array.isRequired,x:t.default.number.isRequired,y:t.default.number.isRequired,w:t.default.number.isRequired,h:t.default.number.isRequired,minW:function(k,C){const w=k[C];if(typeof w!="number")return new Error("minWidth not Number");if(w>k.w||w>k.maxW)return new Error("minWidth larger than item width/maxWidth")},maxW:function(k,C){const w=k[C];if(typeof w!="number")return new Error("maxWidth not Number");if(w<k.w||w<k.minW)return new Error("maxWidth smaller than item width/minWidth")},minH:function(k,C){const w=k[C];if(typeof w!="number")return new Error("minHeight not Number");if(w>k.h||w>k.maxH)return new Error("minHeight larger than item height/maxHeight")},maxH:function(k,C){const w=k[C];if(typeof w!="number")return new Error("maxHeight not Number");if(w<k.h||w<k.minH)return new Error("maxHeight smaller than item height/minHeight")},i:t.default.string.isRequired,resizeHandles:u.resizeHandleAxesType,resizeHandle:u.resizeHandleType,onDragStop:t.default.func,onDragStart:t.default.func,onDrag:t.default.func,onResizeStop:t.default.func,onResizeStart:t.default.func,onResize:t.default.func,isDraggable:t.default.bool.isRequired,isResizable:t.default.bool.isRequired,isBounded:t.default.bool.isRequired,static:t.default.bool,useCSSTransforms:t.default.bool.isRequired,transformScale:t.default.number,className:t.default.string,handle:t.default.string,cancel:t.default.string,droppingPosition:t.default.shape({e:t.default.object.isRequired,left:t.default.number.isRequired,top:t.default.number.isRequired})}),h(x,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1}),Fs}var T0;function mx(){if(T0)return Bs;T0=1,Object.defineProperty(Bs,"__esModule",{value:!0}),Bs.default=void 0;var n=p(an()),e=Eh(),t=u(Oh()),r=Xo(),i=Mh(),s=u(BD()),a=u(hx());function u(w){return w&&w.__esModule?w:{default:w}}function f(w){if(typeof WeakMap!="function")return null;var S=new WeakMap,b=new WeakMap;return(f=function(O){return O?b:S})(w)}function p(w,S){if(w&&w.__esModule)return w;if(w===null||typeof w!="object"&&typeof w!="function")return{default:w};var b=f(S);if(b&&b.has(w))return b.get(w);var O={__proto__:null},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var R in w)if(R!=="default"&&Object.prototype.hasOwnProperty.call(w,R)){var N=E?Object.getOwnPropertyDescriptor(w,R):null;N&&(N.get||N.set)?Object.defineProperty(O,R,N):O[R]=w[R]}return O.default=w,b&&b.set(w,O),O}function h(w,S,b){return S=g(S),S in w?Object.defineProperty(w,S,{value:b,enumerable:!0,configurable:!0,writable:!0}):w[S]=b,w}function g(w){var S=v(w,"string");return typeof S=="symbol"?S:String(S)}function v(w,S){if(typeof w!="object"||w===null)return w;var b=w[Symbol.toPrimitive];if(b!==void 0){var O=b.call(w,S);if(typeof O!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(w)}const x="react-grid-layout";let k=!1;try{k=/firefox/i.test(navigator.userAgent)}catch{}let C=class extends n.Component{constructor(){super(...arguments),h(this,"state",{activeDrag:null,layout:(0,r.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,(0,r.compactType)(this.props),this.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,resizing:!1,droppingDOMNode:null,children:[]}),h(this,"dragEnterCounter",0),h(this,"onDragStart",(S,b,O,E)=>{let{e:R,node:N}=E;const{layout:T}=this.state,D=(0,r.getLayoutItem)(T,S);if(!D)return;const B={w:D.w,h:D.h,x:D.x,y:D.y,placeholder:!0,i:S};return this.setState({oldDragItem:(0,r.cloneLayoutItem)(D),oldLayout:T,activeDrag:B}),this.props.onDragStart(T,D,D,null,R,N)}),h(this,"onDrag",(S,b,O,E)=>{let{e:R,node:N}=E;const{oldDragItem:T}=this.state;let{layout:D}=this.state;const{cols:B,allowOverlap:W,preventCollision:te}=this.props,K=(0,r.getLayoutItem)(D,S);if(!K)return;const re={w:K.w,h:K.h,x:K.x,y:K.y,placeholder:!0,i:S};D=(0,r.moveElement)(D,K,b,O,!0,te,(0,r.compactType)(this.props),B,W),this.props.onDrag(D,T,K,re,R,N),this.setState({layout:W?D:(0,r.compact)(D,(0,r.compactType)(this.props),B),activeDrag:re})}),h(this,"onDragStop",(S,b,O,E)=>{let{e:R,node:N}=E;if(!this.state.activeDrag)return;const{oldDragItem:T}=this.state;let{layout:D}=this.state;const{cols:B,preventCollision:W,allowOverlap:te}=this.props,K=(0,r.getLayoutItem)(D,S);if(!K)return;D=(0,r.moveElement)(D,K,b,O,!0,W,(0,r.compactType)(this.props),B,te);const fe=te?D:(0,r.compact)(D,(0,r.compactType)(this.props),B);this.props.onDragStop(fe,T,K,null,R,N);const{oldLayout:he}=this.state;this.setState({activeDrag:null,layout:fe,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(fe,he)}),h(this,"onResizeStart",(S,b,O,E)=>{let{e:R,node:N}=E;const{layout:T}=this.state,D=(0,r.getLayoutItem)(T,S);D&&(this.setState({oldResizeItem:(0,r.cloneLayoutItem)(D),oldLayout:this.state.layout,resizing:!0}),this.props.onResizeStart(T,D,D,null,R,N))}),h(this,"onResize",(S,b,O,E)=>{let{e:R,node:N,size:T,handle:D}=E;const{oldResizeItem:B}=this.state,{layout:W}=this.state,{cols:te,preventCollision:K,allowOverlap:re}=this.props;let fe=!1,he,ce,le;const[G,se]=(0,r.withLayoutItem)(W,S,A=>{let U;return ce=A.x,le=A.y,["sw","w","nw","n","ne"].indexOf(D)!==-1&&(["sw","nw","w"].indexOf(D)!==-1&&(ce=A.x+(A.w-b),b=A.x!==ce&&ce<0?A.w:b,ce=ce<0?0:ce),["ne","n","nw"].indexOf(D)!==-1&&(le=A.y+(A.h-O),O=A.y!==le&&le<0?A.h:O,le=le<0?0:le),fe=!0),K&&!re&&(U=(0,r.getAllCollisions)(W,{...A,w:b,h:O,x:ce,y:le}).filter(Ee=>Ee.i!==A.i).length>0,U&&(le=A.y,O=A.h,ce=A.x,b=A.w,fe=!1)),A.w=b,A.h=O,A});if(!se)return;he=G,fe&&(he=(0,r.moveElement)(G,se,ce,le,!0,this.props.preventCollision,(0,r.compactType)(this.props),te,re));const Z={w:se.w,h:se.h,x:se.x,y:se.y,static:!0,i:S};this.props.onResize(he,B,se,Z,R,N),this.setState({layout:re?he:(0,r.compact)(he,(0,r.compactType)(this.props),te),activeDrag:Z})}),h(this,"onResizeStop",(S,b,O,E)=>{let{e:R,node:N}=E;const{layout:T,oldResizeItem:D}=this.state,{cols:B,allowOverlap:W}=this.props,te=(0,r.getLayoutItem)(T,S),K=W?T:(0,r.compact)(T,(0,r.compactType)(this.props),B);this.props.onResizeStop(K,D,te,null,R,N);const{oldLayout:re}=this.state;this.setState({activeDrag:null,layout:K,oldResizeItem:null,oldLayout:null,resizing:!1}),this.onLayoutMaybeChanged(K,re)}),h(this,"onDragOver",S=>{var G;if(S.preventDefault(),S.stopPropagation(),k&&!((G=S.nativeEvent.target)!=null&&G.classList.contains(x)))return!1;const{droppingItem:b,onDropDragOver:O,margin:E,cols:R,rowHeight:N,maxRows:T,width:D,containerPadding:B,transformScale:W}=this.props,te=O==null?void 0:O(S);if(te===!1)return this.state.droppingDOMNode&&this.removeDroppingPlaceholder(),!1;const K={...b,...te},{layout:re}=this.state,fe=S.currentTarget.getBoundingClientRect(),he=S.clientX-fe.left,ce=S.clientY-fe.top,le={left:he/W,top:ce/W,e:S};if(this.state.droppingDOMNode){if(this.state.droppingPosition){const{left:se,top:Z}=this.state.droppingPosition;(se!=he||Z!=ce)&&this.setState({droppingPosition:le})}}else{const se={cols:R,margin:E,maxRows:T,rowHeight:N,containerWidth:D,containerPadding:B||E},Z=(0,i.calcXY)(se,ce,he,K.w,K.h);this.setState({droppingDOMNode:n.createElement("div",{key:K.i}),droppingPosition:le,layout:[...re,{...K,x:Z.x,y:Z.y,static:!1,isDraggable:!0}]})}}),h(this,"removeDroppingPlaceholder",()=>{const{droppingItem:S,cols:b}=this.props,{layout:O}=this.state,E=(0,r.compact)(O.filter(R=>R.i!==S.i),(0,r.compactType)(this.props),b,this.props.allowOverlap);this.setState({layout:E,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})}),h(this,"onDragLeave",S=>{S.preventDefault(),S.stopPropagation(),this.dragEnterCounter--,this.dragEnterCounter===0&&this.removeDroppingPlaceholder()}),h(this,"onDragEnter",S=>{S.preventDefault(),S.stopPropagation(),this.dragEnterCounter++}),h(this,"onDrop",S=>{S.preventDefault(),S.stopPropagation();const{droppingItem:b}=this.props,{layout:O}=this.state,E=O.find(R=>R.i===b.i);this.dragEnterCounter=0,this.removeDroppingPlaceholder(),this.props.onDrop(O,E,S)})}componentDidMount(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}static getDerivedStateFromProps(S,b){let O;return b.activeDrag?null:(!(0,e.deepEqual)(S.layout,b.propsLayout)||S.compactType!==b.compactType?O=S.layout:(0,r.childrenEqual)(S.children,b.children)||(O=b.layout),O?{layout:(0,r.synchronizeLayoutWithChildren)(O,S.children,S.cols,(0,r.compactType)(S),S.allowOverlap),compactType:S.compactType,children:S.children,propsLayout:S.layout}:null)}shouldComponentUpdate(S,b){return this.props.children!==S.children||!(0,r.fastRGLPropsEqual)(this.props,S,e.deepEqual)||this.state.activeDrag!==b.activeDrag||this.state.mounted!==b.mounted||this.state.droppingPosition!==b.droppingPosition}componentDidUpdate(S,b){if(!this.state.activeDrag){const O=this.state.layout,E=b.layout;this.onLayoutMaybeChanged(O,E)}}containerHeight(){if(!this.props.autoSize)return;const S=(0,r.bottom)(this.state.layout),b=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return S*this.props.rowHeight+(S-1)*this.props.margin[1]+b*2+"px"}onLayoutMaybeChanged(S,b){b||(b=this.state.layout),(0,e.deepEqual)(b,S)||this.props.onLayoutChange(S)}placeholder(){const{activeDrag:S}=this.state;if(!S)return null;const{width:b,cols:O,margin:E,containerPadding:R,rowHeight:N,maxRows:T,useCSSTransforms:D,transformScale:B}=this.props;return n.createElement(s.default,{w:S.w,h:S.h,x:S.x,y:S.y,i:S.i,className:`react-grid-placeholder ${this.state.resizing?"placeholder-resizing":""}`,containerWidth:b,cols:O,margin:E,containerPadding:R||E,maxRows:T,rowHeight:N,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:D,transformScale:B},n.createElement("div",null))}processGridItem(S,b){if(!S||!S.key)return;const O=(0,r.getLayoutItem)(this.state.layout,String(S.key));if(!O)return null;const{width:E,cols:R,margin:N,containerPadding:T,rowHeight:D,maxRows:B,isDraggable:W,isResizable:te,isBounded:K,useCSSTransforms:re,transformScale:fe,draggableCancel:he,draggableHandle:ce,resizeHandles:le,resizeHandle:G}=this.props,{mounted:se,droppingPosition:Z}=this.state,A=typeof O.isDraggable=="boolean"?O.isDraggable:!O.static&&W,U=typeof O.isResizable=="boolean"?O.isResizable:!O.static&&te,ke=O.resizeHandles||le,Ee=A&&K&&O.isBounded!==!1;return n.createElement(s.default,{containerWidth:E,cols:R,margin:N,containerPadding:T||N,maxRows:B,rowHeight:D,cancel:he,handle:ce,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:A,isResizable:U,isBounded:Ee,useCSSTransforms:re&&se,usePercentages:!se,transformScale:fe,w:O.w,h:O.h,x:O.x,y:O.y,i:O.i,minH:O.minH,minW:O.minW,maxH:O.maxH,maxW:O.maxW,static:O.static,droppingPosition:b?Z:void 0,resizeHandles:ke,resizeHandle:G},S)}render(){const{className:S,style:b,isDroppable:O,innerRef:E}=this.props,R=(0,t.default)(x,S),N={height:this.containerHeight(),...b};return n.createElement("div",{ref:E,className:R,style:N,onDrop:O?this.onDrop:r.noop,onDragLeave:O?this.onDragLeave:r.noop,onDragEnter:O?this.onDragEnter:r.noop,onDragOver:O?this.onDragOver:r.noop},n.Children.map(this.props.children,T=>this.processGridItem(T)),O&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}};return Bs.default=C,h(C,"displayName","ReactGridLayout"),h(C,"propTypes",a.default),h(C,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:r.noop,onDragStart:r.noop,onDrag:r.noop,onDragStop:r.noop,onResizeStart:r.noop,onResize:r.noop,onResizeStop:r.noop,onDrop:r.noop,onDropDragOver:r.noop}),Bs}var Ks={},ji={},N0;function gx(){if(N0)return ji;N0=1,Object.defineProperty(ji,"__esModule",{value:!0}),ji.findOrGenerateResponsiveLayout=r,ji.getBreakpointFromWidth=e,ji.getColsFromBreakpoint=t,ji.sortBreakpoints=i;var n=Xo();function e(s,a){const u=i(s);let f=u[0];for(let p=1,h=u.length;p<h;p++){const g=u[p];a>s[g]&&(f=g)}return f}function t(s,a){if(!a[s])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+s+" is missing!");return a[s]}function r(s,a,u,f,p,h){if(s[u])return(0,n.cloneLayout)(s[u]);let g=s[f];const v=i(a),x=v.slice(v.indexOf(u));for(let k=0,C=x.length;k<C;k++){const w=x[k];if(s[w]){g=s[w];break}}return g=(0,n.cloneLayout)(g||[]),(0,n.compact)((0,n.correctBounds)(g,{cols:p}),h,p)}function i(s){return Object.keys(s).sort(function(u,f){return s[u]-s[f]})}return ji}var R0;function FD(){if(R0)return Ks;R0=1,Object.defineProperty(Ks,"__esModule",{value:!0}),Ks.default=void 0;var n=f(an()),e=a(vi()),t=Eh(),r=Xo(),i=gx(),s=a(mx());function a(w){return w&&w.__esModule?w:{default:w}}function u(w){if(typeof WeakMap!="function")return null;var S=new WeakMap,b=new WeakMap;return(u=function(O){return O?b:S})(w)}function f(w,S){if(w&&w.__esModule)return w;if(w===null||typeof w!="object"&&typeof w!="function")return{default:w};var b=u(S);if(b&&b.has(w))return b.get(w);var O={__proto__:null},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var R in w)if(R!=="default"&&Object.prototype.hasOwnProperty.call(w,R)){var N=E?Object.getOwnPropertyDescriptor(w,R):null;N&&(N.get||N.set)?Object.defineProperty(O,R,N):O[R]=w[R]}return O.default=w,b&&b.set(w,O),O}function p(){return p=Object.assign?Object.assign.bind():function(w){for(var S=1;S<arguments.length;S++){var b=arguments[S];for(var O in b)Object.prototype.hasOwnProperty.call(b,O)&&(w[O]=b[O])}return w},p.apply(this,arguments)}function h(w,S,b){return S=g(S),S in w?Object.defineProperty(w,S,{value:b,enumerable:!0,configurable:!0,writable:!0}):w[S]=b,w}function g(w){var S=v(w,"string");return typeof S=="symbol"?S:String(S)}function v(w,S){if(typeof w!="object"||w===null)return w;var b=w[Symbol.toPrimitive];if(b!==void 0){var O=b.call(w,S);if(typeof O!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(w)}const x=w=>Object.prototype.toString.call(w);function k(w,S){return w==null?null:Array.isArray(w)?w:w[S]}let C=class extends n.Component{constructor(){super(...arguments),h(this,"state",this.generateInitialState()),h(this,"onLayoutChange",S=>{this.props.onLayoutChange(S,{...this.props.layouts,[this.state.breakpoint]:S})})}generateInitialState(){const{width:S,breakpoints:b,layouts:O,cols:E}=this.props,R=(0,i.getBreakpointFromWidth)(b,S),N=(0,i.getColsFromBreakpoint)(R,E),T=this.props.verticalCompact===!1?null:this.props.compactType;return{layout:(0,i.findOrGenerateResponsiveLayout)(O,b,R,R,N,T),breakpoint:R,cols:N}}static getDerivedStateFromProps(S,b){if(!(0,t.deepEqual)(S.layouts,b.layouts)){const{breakpoint:O,cols:E}=b;return{layout:(0,i.findOrGenerateResponsiveLayout)(S.layouts,S.breakpoints,O,O,E,S.compactType),layouts:S.layouts}}return null}componentDidUpdate(S){(this.props.width!=S.width||this.props.breakpoint!==S.breakpoint||!(0,t.deepEqual)(this.props.breakpoints,S.breakpoints)||!(0,t.deepEqual)(this.props.cols,S.cols))&&this.onWidthChange(S)}onWidthChange(S){const{breakpoints:b,cols:O,layouts:E,compactType:R}=this.props,N=this.props.breakpoint||(0,i.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),T=this.state.breakpoint,D=(0,i.getColsFromBreakpoint)(N,O),B={...E};if(T!==N||S.breakpoints!==b||S.cols!==O){T in B||(B[T]=(0,r.cloneLayout)(this.state.layout));let K=(0,i.findOrGenerateResponsiveLayout)(B,b,N,T,D,R);K=(0,r.synchronizeLayoutWithChildren)(K,this.props.children,D,R,this.props.allowOverlap),B[N]=K,this.props.onBreakpointChange(N,D),this.props.onLayoutChange(K,B),this.setState({breakpoint:N,layout:K,cols:D})}const W=k(this.props.margin,N),te=k(this.props.containerPadding,N);this.props.onWidthChange(this.props.width,W,D,te)}render(){const{breakpoint:S,breakpoints:b,cols:O,layouts:E,margin:R,containerPadding:N,onBreakpointChange:T,onLayoutChange:D,onWidthChange:B,...W}=this.props;return n.createElement(s.default,p({},W,{margin:k(R,this.state.breakpoint),containerPadding:k(N,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}};return Ks.default=C,h(C,"propTypes",{breakpoint:e.default.string,breakpoints:e.default.object,allowOverlap:e.default.bool,cols:e.default.object,margin:e.default.oneOfType([e.default.array,e.default.object]),containerPadding:e.default.oneOfType([e.default.array,e.default.object]),layouts(w,S){if(x(w[S])!=="[object Object]")throw new Error("Layout property must be an object. Received: "+x(w[S]));Object.keys(w[S]).forEach(b=>{if(!(b in w.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,r.validateLayout)(w.layouts[b],"layouts."+b)})},width:e.default.number.isRequired,onBreakpointChange:e.default.func,onLayoutChange:e.default.func,onWidthChange:e.default.func}),h(C,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:r.noop,onLayoutChange:r.noop,onWidthChange:r.noop}),Ks}var lu={},yx=function(){if(typeof Map<"u")return Map;function n(e,t){var r=-1;return e.some(function(i,s){return i[0]===t?(r=s,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var r=n(this.__entries__,t),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(t,r){var i=n(this.__entries__,t);~i?this.__entries__[i][1]=r:this.__entries__.push([t,r])},e.prototype.delete=function(t){var r=this.__entries__,i=n(r,t);~i&&r.splice(i,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,r){r===void 0&&(r=null);for(var i=0,s=this.__entries__;i<s.length;i++){var a=s[i];t.call(r,a[1],a[0])}},e}()}(),Dp=typeof window<"u"&&typeof document<"u"&&window.document===document,rc=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),HD=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(rc):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),$D=2;function VD(n,e){var t=!1,r=!1,i=0;function s(){t&&(t=!1,n()),r&&u()}function a(){HD(s)}function u(){var f=Date.now();if(t){if(f-i<$D)return;r=!0}else t=!0,r=!1,setTimeout(a,e);i=f}return u}var WD=20,UD=["top","right","bottom","left","width","height","size","weight"],qD=typeof MutationObserver<"u",KD=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=VD(this.refresh.bind(this),WD)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!Dp||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),qD?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!Dp||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=t===void 0?"":t,i=UD.some(function(s){return!!~r.indexOf(s)});i&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),vx=function(n,e){for(var t=0,r=Object.keys(e);t<r.length;t++){var i=r[t];Object.defineProperty(n,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return n},Jo=function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||rc},wx=bc(0,0,0,0);function ic(n){return parseFloat(n)||0}function D0(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(r,i){var s=n["border-"+i+"-width"];return r+ic(s)},0)}function GD(n){for(var e=["top","right","bottom","left"],t={},r=0,i=e;r<i.length;r++){var s=i[r],a=n["padding-"+s];t[s]=ic(a)}return t}function JD(n){var e=n.getBBox();return bc(0,0,e.width,e.height)}function YD(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return wx;var r=Jo(n).getComputedStyle(n),i=GD(r),s=i.left+i.right,a=i.top+i.bottom,u=ic(r.width),f=ic(r.height);if(r.boxSizing==="border-box"&&(Math.round(u+s)!==e&&(u-=D0(r,"left","right")+s),Math.round(f+a)!==t&&(f-=D0(r,"top","bottom")+a)),!QD(n)){var p=Math.round(u+s)-e,h=Math.round(f+a)-t;Math.abs(p)!==1&&(u-=p),Math.abs(h)!==1&&(f-=h)}return bc(i.left,i.top,u,f)}var XD=function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof Jo(n).SVGGraphicsElement}:function(n){return n instanceof Jo(n).SVGElement&&typeof n.getBBox=="function"}}();function QD(n){return n===Jo(n).document.documentElement}function ZD(n){return Dp?XD(n)?JD(n):YD(n):wx}function eP(n){var e=n.x,t=n.y,r=n.width,i=n.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,a=Object.create(s.prototype);return vx(a,{x:e,y:t,width:r,height:i,top:t,right:e+r,bottom:i+t,left:e}),a}function bc(n,e,t,r){return{x:n,y:e,width:t,height:r}}var tP=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=bc(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=ZD(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),nP=function(){function n(e,t){var r=eP(t);vx(this,{target:e,contentRect:r})}return n}(),rP=function(){function n(e,t,r){if(this.activeObservations_=[],this.observations_=new yx,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Jo(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new tP(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Jo(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(r){return new nP(r.target,r.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),xx=typeof WeakMap<"u"?new WeakMap:new yx,Sx=function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=KD.getInstance(),r=new rP(e,t,this);xx.set(this,r)}return n}();["observe","unobserve","disconnect"].forEach(function(n){Sx.prototype[n]=function(){var e;return(e=xx.get(this))[n].apply(e,arguments)}});var iP=function(){return typeof rc.ResizeObserver<"u"?rc.ResizeObserver:Sx}();const oP=Object.freeze(Object.defineProperty({__proto__:null,default:iP},Symbol.toStringTag,{value:"Module"})),sP=I0(oP);var P0;function lP(){if(P0)return lu;P0=1,Object.defineProperty(lu,"__esModule",{value:!0}),lu.default=v;var n=a(an()),e=i(vi()),t=i(sP),r=i(Oh());function i(x){return x&&x.__esModule?x:{default:x}}function s(x){if(typeof WeakMap!="function")return null;var k=new WeakMap,C=new WeakMap;return(s=function(w){return w?C:k})(x)}function a(x,k){if(x&&x.__esModule)return x;if(x===null||typeof x!="object"&&typeof x!="function")return{default:x};var C=s(k);if(C&&C.has(x))return C.get(x);var w={__proto__:null},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in x)if(b!=="default"&&Object.prototype.hasOwnProperty.call(x,b)){var O=S?Object.getOwnPropertyDescriptor(x,b):null;O&&(O.get||O.set)?Object.defineProperty(w,b,O):w[b]=x[b]}return w.default=x,C&&C.set(x,w),w}function u(){return u=Object.assign?Object.assign.bind():function(x){for(var k=1;k<arguments.length;k++){var C=arguments[k];for(var w in C)Object.prototype.hasOwnProperty.call(C,w)&&(x[w]=C[w])}return x},u.apply(this,arguments)}function f(x,k,C){return k=p(k),k in x?Object.defineProperty(x,k,{value:C,enumerable:!0,configurable:!0,writable:!0}):x[k]=C,x}function p(x){var k=h(x,"string");return typeof k=="symbol"?k:String(k)}function h(x,k){if(typeof x!="object"||x===null)return x;var C=x[Symbol.toPrimitive];if(C!==void 0){var w=C.call(x,k);if(typeof w!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(k==="string"?String:Number)(x)}const g="react-grid-layout";function v(x){var k;return k=class extends n.Component{constructor(){super(...arguments),f(this,"state",{width:1280}),f(this,"elementRef",n.createRef()),f(this,"mounted",!1),f(this,"resizeObserver",void 0)}componentDidMount(){this.mounted=!0,this.resizeObserver=new t.default(S=>{if(this.elementRef.current instanceof HTMLElement){const O=S[0].contentRect.width;this.setState({width:O})}});const w=this.elementRef.current;w instanceof HTMLElement&&this.resizeObserver.observe(w)}componentWillUnmount(){this.mounted=!1;const w=this.elementRef.current;w instanceof HTMLElement&&this.resizeObserver.unobserve(w),this.resizeObserver.disconnect()}render(){const{measureBeforeMount:w,...S}=this.props;return w&&!this.mounted?n.createElement("div",{className:(0,r.default)(this.props.className,g),style:this.props.style,ref:this.elementRef}):n.createElement(x,u({innerRef:this.elementRef},S,this.state))}},f(k,"defaultProps",{measureBeforeMount:!1}),f(k,"propTypes",{measureBeforeMount:e.default.bool}),k}return lu}var A0;function aP(){return A0||(A0=1,function(n){n.exports=mx().default,n.exports.utils=Xo(),n.exports.calculateUtils=Mh(),n.exports.Responsive=FD().default,n.exports.Responsive.utils=gx(),n.exports.WidthProvider=lP().default}(qd)),qd.exports}var uP=aP();const cP=Ap(uP),fP=({node:n,updateAttributes:e})=>{const{layout:t,items:r}=n.attrs,[i,s]=Ae.useState(t),a=Ae.useRef(null),u=Ae.useRef(null);Ae.useCallback(p=>{u.current&&JSON.stringify(u.current)===JSON.stringify(p)||(a.current&&clearTimeout(a.current),a.current=setTimeout(()=>{u.current=p,e({layout:p})},300))},[e]),Ae.useEffect(()=>()=>{a.current&&clearTimeout(a.current)},[]);const f=p=>{s(p)};return!r||r.length===0?null:_.jsx(Ko,{className:"photo-grid-wrapper",children:_.jsx(cP,{layout:i,onLayoutChange:f,cols:12,rowHeight:30,width:1200,className:"photo-grid-layout",margin:[10,10],children:r.map(p=>_.jsx("div",{className:"grid-item",children:_.jsx("img",{src:p.src,alt:`grid item ${p.id}`})},p.id))})})},dP=xt.create({name:"photoGrid",group:"block",atom:!0,draggable:!0,addAttributes(){return{layout:{default:[]},items:{default:[]}}},parseHTML(){return[{tag:'div[data-type="photo-grid"]'}]},renderHTML({HTMLAttributes:n,node:e}){const{layout:t=[],items:r=[]}=e.attrs;return["div",nt(n,{"data-type":"photo-grid","data-layout":JSON.stringify(t),"data-items":JSON.stringify(r)})]},addNodeView(){return Al(fP)},addCommands(){return{setPhotoGrid:n=>({commands:e})=>e.insertContent({type:this.name,attrs:n})}}}),pP=({editor:n})=>{const e=()=>{if(!n)return"";const{selection:r}=n.state,{from:i,to:s,empty:a}=r;if(a)return"";let u="";return n.state.doc.nodesBetween(i,s,f=>{if(f.marks&&f.marks.length>0){const p=f.marks.find(h=>h.type.name==="textStyle");if(p&&p.attrs&&p.attrs.fontSize)return u=p.attrs.fontSize.replace("px",""),!1}}),u},t=Ae.useCallback(()=>{if(!n)return;const r=n.getAttributes("link").href,i=window.prompt("URL",r);if(i!==null){if(i===""){n.chain().focus().extendMarkRange("link").unsetLink().run();return}n.chain().focus().extendMarkRange("link").setLink({href:i}).run()}},[n]);return Ae.useCallback(r=>{const i=r.target.value;r.stopPropagation(),i&&!isNaN(parseInt(i))?n.chain().setMark("textStyle",{fontSize:`${i}px`}).run():i===""&&n.chain().unsetMark("textStyle").run()},[n]),n?_.jsxs(_.Fragment,{children:[_.jsxs(vN,{editor:n,tippyOptions:{duration:100},className:"bubble-menu",shouldShow:({editor:r,view:i,state:s,oldState:a,from:u,to:f})=>{const p=["image","video","iframe","audio","photoGrid"],{selection:h}=s,{$from:g,$to:v}=h;return p.some(k=>r.isActive(k)||h.node&&h.node.type.name===k||g.parent.type.name===k&&g.pos===v.pos)?!1:u!==f},children:[_.jsxs("div",{className:"bubble-menu-group",children:[_.jsxs("button",{onClick:()=>n.chain().focus().toggleBold().run(),className:n.isActive("bold")?"is-active":"",children:[" ",_.jsx(RR,{size:16})," "]}),_.jsxs("button",{onClick:()=>n.chain().focus().toggleItalic().run(),className:n.isActive("italic")?"is-active":"",children:[" ",_.jsx(LR,{size:16})," "]}),_.jsxs("button",{onClick:()=>n.chain().focus().toggleUnderline().run(),className:n.isActive("underline")?"is-active":"",children:[" ",_.jsx(VR,{size:16})," "]}),_.jsxs("button",{onClick:()=>n.chain().focus().toggleStrike().run(),className:n.isActive("strike")?"is-active":"",children:[" ",_.jsx(FR,{size:16})," "]}),_.jsxs("button",{onClick:t,className:n.isActive("link")?"is-active":"",children:[" ",_.jsx(zR,{size:16})," "]})]}),_.jsx("div",{className:"divider"}),_.jsxs("div",{className:"bubble-menu-group",children:[_.jsx("button",{onMouseDown:r=>{r.preventDefault();const i=parseInt(e()||"16"),s=Math.max(8,i-1);n.chain().focus().setFontSize(`${s}px`).run()},children:"-"}),_.jsx("span",{style:{color:"white",padding:"0 8px",minWidth:"30px",textAlign:"center"},children:e()||"16"}),_.jsx("button",{onMouseDown:r=>{r.preventDefault();const i=parseInt(e()||"16"),s=Math.min(120,i+1);n.chain().focus().setFontSize(`${s}px`).run()},children:"+"})]}),_.jsx("div",{className:"divider"}),_.jsxs("div",{className:"bubble-menu-group",children:[_.jsxs("button",{onClick:()=>n.chain().focus().setTextAlign("left").run(),className:n.isActive({textAlign:"left"})?"is-active":"",children:[" ",_.jsx(Qw,{size:16})," "]}),_.jsxs("button",{onClick:()=>n.chain().focus().setTextAlign("center").run(),className:n.isActive({textAlign:"center"})?"is-active":"",children:[" ",_.jsx(Xw,{size:16})," "]}),_.jsxs("button",{onClick:()=>n.chain().focus().setTextAlign("right").run(),className:n.isActive({textAlign:"right"})?"is-active":"",children:[" ",_.jsx(Zw,{size:16})," "]})]})]}),_.jsx(sN,{editor:n})]}):null},hP=({editor:n,onEmbed:e,onImageAdd:t,onStylesClick:r,onPhotoGridClick:i,onPreviewClick:s,onDebugClick:a,onSaveClick:u})=>{const f=Ae.useRef(null),p=Ae.useRef(null),h=()=>{const C=prompt("Paste the embed code from YouTube, Vimeo, etc. OR just the URL");if(C){const w=C.match(/src="([^"]+)"/);if(w&&w[1]){const b=w[1].replace(/&amp;/g,"&");e(b)}else C.startsWith("http")?e(C):alert("Could not find a valid URL or embed code.")}},g=(C,w)=>{var b;const S=(b=C.target.files)==null?void 0:b[0];if(S&&n){const O=URL.createObjectURL(S);w==="video"?n.chain().focus().setVideo({src:O}).run():w==="audio"&&n.chain().focus().setAudio({src:O}).run(),C.target.value=""}},v=()=>{var C;return(C=f.current)==null?void 0:C.click()},x=()=>{var C;return(C=p.current)==null?void 0:C.click()},k=()=>{n&&n.chain().focus().insertContent("<p>New paragraph</p>").run()};return _.jsxs("div",{className:"sidebar",children:[_.jsx("input",{type:"file",ref:f,onChange:C=>g(C,"video"),style:{display:"none"},accept:"video/*"}),_.jsx("input",{type:"file",ref:p,onChange:C=>g(C,"audio"),style:{display:"none"},accept:"audio/*"}),_.jsxs("div",{className:"sidebar-content",children:[_.jsxs("div",{className:"sidebar-section",children:[_.jsx("h4",{className:"sidebar-title",children:"ADD CONTENT"}),_.jsxs("div",{className:"button-grid",children:[_.jsxs("button",{className:"grid-button",onClick:h,children:[_.jsx(PR,{size:20}),_.jsx("span",{children:"Embed"})]}),_.jsxs("button",{className:"grid-button",onClick:t,children:[_.jsx(AR,{size:20}),_.jsx("span",{children:"Image"})]}),_.jsxs("button",{className:"grid-button",onClick:v,children:[_.jsx(WR,{size:20}),_.jsx("span",{children:"Video"})]}),_.jsxs("button",{className:"grid-button",onClick:x,children:[_.jsx(_R,{size:20}),_.jsx("span",{children:"Audio"})]}),_.jsxs("button",{className:"grid-button",onClick:k,children:[_.jsx($R,{size:20}),_.jsx("span",{children:"Text"})]}),_.jsxs("button",{className:"grid-button",onClick:i,children:[_.jsx(IR,{size:20}),_.jsx("span",{children:"Photo Grid"})]})]})]}),_.jsxs("div",{className:"sidebar-section",children:[_.jsx("h4",{className:"sidebar-title",children:"STYLES"}),_.jsxs("div",{className:"button-grid",children:[_.jsxs("button",{className:"grid-button",onClick:r,children:[_.jsx(jR,{size:20}),_.jsx("span",{children:"Styles"})]}),_.jsxs("button",{className:"grid-button",children:[_.jsx(BR,{size:20}),_.jsx("span",{children:"Settings"})]})]})]})]}),_.jsxs("div",{className:"sidebar-footer",children:[_.jsx("button",{className:"preview-button",onClick:s,children:" View a Preview"}),_.jsx("button",{className:"update-button",onClick:u,children:"Update Project"}),_.jsx("button",{className:"preview-button",onClick:a,style:{marginTop:"0.5rem",fontSize:"0.8rem"},children:" Debug JSON"})]})]})},mP=({onClose:n,onImageAdd:e})=>{const[t,r]=Ae.useState(""),[i,s]=Ae.useState(""),a=Ae.useRef(null),u=()=>{t&&e({src:t,alt:i})},f=h=>{var v;const g=(v=h.target.files)==null?void 0:v[0];if(g){const x=URL.createObjectURL(g);e({src:x,alt:g.name})}},p=()=>{var h;(h=a.current)==null||h.click()};return _.jsx("div",{className:"modal-overlay",onClick:n,children:_.jsxs("div",{className:"modal-content",onClick:h=>h.stopPropagation(),children:[_.jsx("h3",{children:"Add an Image"}),_.jsxs("div",{className:"modal-section",children:[_.jsx("label",{htmlFor:"image-url",children:"Embed from URL"}),_.jsxs("div",{className:"url-input-group",children:[_.jsx("input",{id:"image-url",type:"url",placeholder:"https://example.com/image.jpg",value:t,onChange:h=>r(h.target.value)}),_.jsx("button",{onClick:u,children:"Add"})]})]}),_.jsx("div",{className:"modal-divider",children:"OR"}),_.jsxs("div",{className:"modal-section",children:[_.jsx("button",{className:"upload-button",onClick:p,children:"Upload from Computer"}),_.jsx("input",{type:"file",ref:a,onChange:f,accept:"image/*",style:{display:"none"}})]}),_.jsx("button",{className:"close-button",onClick:n,children:"Close"})]})})},Qd=[{name:"Noto Sans KR",family:"'Noto Sans KR', sans-serif"},{name:"Nanum Gothic",family:"'Nanum Gothic', sans-serif"},{name:"Black Han Sans",family:"'Black Han Sans', sans-serif"},{name:"Roboto",family:"'Roboto', sans-serif"},{name:"Montserrat",family:"'Montserrat', sans-serif"},{name:"Playfair Display",family:"'Playfair Display', serif"},{name:"Source Code Pro",family:"'Source Code Pro', monospace"}],L0=n=>{const e=`google-font-${n.replace(/\s/g,"-")}`;if(document.getElementById(e))return;const t=document.createElement("link");t.id=e,t.href=`https://fonts.googleapis.com/css2?family=${n.replace(/\s/g,"+")}:wght@400;700&display=swap`,t.rel="stylesheet",document.head.appendChild(t)},gP=({onClose:n,currentStyles:e,onStyleChange:t})=>{const r=(i,s)=>{if(t({...e,[i]:s}),i==="fontFamily"){const a=Qd.find(u=>u.family===s);a&&L0(a.name)}};return Ae.useEffect(()=>{const i=Qd.find(s=>s.family===e.fontFamily);i&&L0(i.name)},[]),_.jsx("div",{className:"modal-overlay",onClick:n,children:_.jsxs("div",{className:"modal-content",onClick:i=>i.stopPropagation(),children:[_.jsx("h3",{children:"Editor Styles"}),_.jsxs("div",{className:"modal-section",children:[_.jsx("label",{htmlFor:"bg-color-picker",children:"Background Color"}),_.jsx("input",{id:"bg-color-picker",type:"color",value:e.backgroundColor||"#ffffff",onChange:i=>r("backgroundColor",i.target.value)})]}),_.jsxs("div",{className:"modal-section",children:[_.jsx("label",{htmlFor:"font-family-select",children:"Font"}),_.jsxs("select",{id:"font-family-select",value:e.fontFamily||"sans-serif",onChange:i=>r("fontFamily",i.target.value),children:[_.jsx("option",{value:"sans-serif",children:"System Sans-serif"}),_.jsx("option",{value:"serif",children:"System Serif"}),_.jsx("option",{value:"monospace",children:"System Monospace"}),_.jsx("optgroup",{label:"Google Fonts",children:Qd.map(i=>_.jsx("option",{value:i.family,style:{fontFamily:i.family},children:i.name},i.name))})]})]}),_.jsx("button",{className:"close-button",onClick:n,children:"Done"})]})})},Pp={"2-Column":n=>n.map((e,t)=>({i:t.toString(),x:t%2*6,y:Math.floor(t/2)*8,w:6,h:8})),"3-Column":n=>n.map((e,t)=>({i:t.toString(),x:t%3*4,y:Math.floor(t/3)*6,w:4,h:6})),"Collage-1":n=>{if(n.length<3)return Pp["2-Column"](n);const e=[{i:"0",x:0,y:0,w:8,h:12},{i:"1",x:8,y:0,w:4,h:6},{i:"2",x:8,y:6,w:4,h:6}];return n.slice(3).forEach((t,r)=>{e.push({i:(r+3).toString(),x:r%3*4,y:Math.floor(r/3)*6+12,w:4,h:6})}),e}},yP=({onClose:n,onGridCreate:e})=>{const[t,r]=Ae.useState("2-Column"),[i,s]=Ae.useState([]),a=p=>{if(p.target.files){const h=Array.from(p.target.files).map(g=>({id:URL.createObjectURL(g),src:URL.createObjectURL(g)}));s(g=>[...g,...h])}},u=p=>{s(i.filter(h=>h.id!==p))},f=()=>{if(i.length===0){alert("Please upload at least one image.");return}const p=Pp[t](i),h=i.map((g,v)=>({id:v.toString(),src:g.src}));e({layout:p,items:h})};return _.jsx("div",{className:"modal-overlay",children:_.jsxs("div",{className:"modal-content photo-grid-modal",children:[_.jsx("h3",{children:"Create Photo Grid"}),_.jsxs("div",{className:"layout-options",children:[_.jsx("label",{children:"Layout Style: "}),_.jsx("select",{value:t,onChange:p=>r(p.target.value),children:Object.keys(Pp).map(p=>_.jsx("option",{value:p,children:p},p))})]}),_.jsxs("div",{className:"image-upload-area",children:[_.jsx("input",{type:"file",id:"photo-grid-upload",multiple:!0,accept:"image/*",onChange:a,style:{display:"none"}}),_.jsxs("label",{htmlFor:"photo-grid-upload",className:"upload-box",children:[_.jsx(DR,{size:32}),_.jsx("span",{children:"Click or Drag to Upload Images"})]}),_.jsx("div",{className:"image-preview-list",children:i.map(p=>_.jsxs("div",{className:"preview-item",children:[_.jsx("img",{src:p.src,alt:"preview"}),_.jsx("button",{onClick:()=>u(p.id),children:""})]},p.id))})]}),_.jsxs("div",{className:"modal-actions",children:[_.jsx("button",{onClick:n,className:"cancel-button",children:"Cancel"}),_.jsx("button",{onClick:f,className:"create-button",children:"Create Grid"})]})]})})},vP=({isOpen:n,onClose:e,editorContent:t})=>{const r=Ae.useRef(null);if(Ae.useEffect(()=>{n&&r.current&&r.current.querySelectorAll('[data-type="photo-grid"]').forEach(u=>{try{const f=JSON.parse(u.getAttribute("data-layout")||"[]"),p=JSON.parse(u.getAttribute("data-items")||"[]");if(p.length>0){const h=Math.max(...f.map(v=>v.x+v.w),4),g=Math.max(...f.map(v=>v.y+v.h),4);u.style.position="relative",u.style.width=`${h*50}px`,u.style.height=`${g*50}px`,u.style.margin="1rem auto",u.innerHTML="",p.forEach((v,x)=>{const k=f.find(S=>S.i===v.id)||{x:0,y:0,w:2,h:2},C=document.createElement("div");C.className="preview-grid-item",C.style.cssText=`
                                position: absolute;
                                left: ${k.x*50}px;
                                top: ${k.y*50}px;
                                width: ${k.w*50}px;
                                height: ${k.h*50}px;
                                border-radius: 8px;
                                overflow: hidden;
                                box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12);
                            `;const w=document.createElement("img");w.src=v.src,w.alt=`Grid image ${x+1}`,w.style.cssText="width: 100%; height: 100%; object-fit: cover;",C.appendChild(w),u.appendChild(C)})}}catch(f){console.warn("Error rendering photo grid in preview:",f)}})},[n,t]),!n)return null;const i=a=>{a.target===a.currentTarget&&e()},s=a=>{a.stopPropagation()};return _.jsx("div",{className:"preview-modal-overlay",onClick:i,children:_.jsxs("div",{className:"preview-modal-content",onClick:s,children:[_.jsxs("div",{className:"preview-modal-header",children:[_.jsx("h2",{children:""}),_.jsx("button",{className:"preview-close-button",onClick:e,children:_.jsx(UR,{size:20})})]}),_.jsx("div",{className:"preview-modal-body",children:_.jsx("div",{ref:r,className:"preview-content",dangerouslySetInnerHTML:{__html:t}})}),_.jsx("div",{className:"preview-modal-footer",onClick:e,children:_.jsx("p",{children:" "})})]})})},wP=Nt.create({name:"fontSize",addGlobalAttributes(){return[{types:["textStyle"],attributes:{fontSize:{default:null,parseHTML:n=>n.style.fontSize,renderHTML:n=>n.fontSize?{style:`font-size: ${n.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:n=>({chain:e})=>e().setMark("textStyle",{fontSize:n}).run(),unsetFontSize:()=>({chain:n})=>n().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}});function xP(){const[n,e]=Ae.useState(!1),[t,r]=Ae.useState(!1),[i,s]=Ae.useState(!1),[a,u]=Ae.useState(!1),[f,p]=Ae.useState({backgroundColor:"#ffffff",fontFamily:"sans-serif"}),h=gN({extensions:[bR,KR,GR,yD.configure({openOnClick:!1}),vD.configure({types:["heading","paragraph","image","videoPlayer","iframe","audio"],addCssClasses:!0}),xD.configure({HTMLAttributes:{class:"custom-text-style"}}),wP,kD,bD,OD,dP],content:"<p>Start typing here...</p>",editorProps:{attributes:{class:"prose-mirror-editor"}}}),g=E=>{if(!E)return null;const R=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,N=E.match(R);return N&&N[2].length===11?N[2]:null},v=E=>{if(!E||!h)return;let R=E;if(E.trim().startsWith("<iframe")){const T=E.match(/src="([^"]+)"/);if(T&&T[1])R=T[1];else return}let N=R;if(R.includes("youtube.com/embed/"))N=N.split("?")[0];else{const T=g(R);T&&(N=`https://www.youtube.com/embed/${T}`)}N&&h.chain().focus().setIframe({src:N}).run()},x=E=>{h&&h.chain().focus().setPhotoGrid(E).run(),s(!1)},k=({src:E,alt:R})=>{E&&h&&h.chain().focus().setImage({src:E,alt:R}).run(),e(!1)},C=()=>{u(!0)},w=()=>h?h.getHTML():"",S=()=>{if(!h)return null;const E=h.getJSON(),R=h.getHTML(),N=[];let T=0;const D=B=>{B.forEach((W,te)=>{var K;switch(T++,W.type){case"paragraph":W.content&&W.content.length>0&&N.push({index:T,type:"text",preview:W.content.map(re=>re.text||"").join("").substring(0,100),data:W});break;case"image":N.push({index:T,type:"image",preview:W.attrs.alt||"Image",data:W.attrs});break;case"photoGrid":N.push({index:T,type:"photoGrid",preview:`Photo Grid (${((K=W.attrs.items)==null?void 0:K.length)||0} images)`,data:W.attrs});break;case"iframe":N.push({index:T,type:"video",preview:"Embedded Video",data:W.attrs});break;default:N.push({index:T,type:W.type,preview:JSON.stringify(W).substring(0,100),data:W})}})};return E.content&&D(E.content),{document:{tiptap_json:E,html_backup:R,title:" ",created_at:new Date().toISOString()},modules:N}},b=()=>{const E=S();console.log("===    ==="),console.log(" JSON:",E.document.tiptap_json),console.log(" :",E.modules),console.log("HTML :",E.document.html_backup)},O=async()=>{if(!h)return;const E=S(),R=prompt("  :"," ");if(!R)return;const N={title:R,tiptapJson:JSON.stringify(E.document.tiptap_json),htmlBackup:E.document.html_backup};try{const T=await fetch("/editor/api/documents",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)});if(T.ok){const D=await T.json();window.location.href=`/editor/result/${D}`}else alert(" .")}catch(T){console.error("  :",T),alert("   .")}};return _.jsxs("div",{className:"app-container",children:[t&&_.jsx(gP,{onClose:()=>r(!1),currentStyles:f,onStyleChange:p}),n&&_.jsx(mP,{onClose:()=>e(!1),onImageAdd:k}),i&&_.jsx(yP,{onClose:()=>s(!1),onGridCreate:x}),a&&_.jsx(vP,{isOpen:a,onClose:()=>u(!1),editorContent:w()}),_.jsxs("div",{className:"main-content",children:[_.jsx("div",{className:"editor-container",style:f,children:_.jsx(pP,{editor:h})}),_.jsx(hP,{editor:h,onEmbed:v,onImageAdd:()=>e(!0),onStylesClick:()=>r(!0),onPhotoGridClick:()=>s(!0),onPreviewClick:C,onDebugClick:b,onSaveClick:O})]})]})}Ck.createRoot(document.getElementById("root")).render(_.jsx(Ae.StrictMode,{children:_.jsx(xP,{})}));
